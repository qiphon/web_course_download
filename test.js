var __JS_RETRY__ = __JS_RETRY__ || {};
__JS_RETRY__["lib_fd2a4cb1.js"] = !0,
(window.webpackJsonp = window.webpackJsonp || []).push([[0], {
    "+1wN": function(e, t, n) {},
    "+aGj": function(e, t, n) {
        "use strict";
        var r, i, o, a, s, u, c, l;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.HLS_ERROR_MONITORID = t.codeMap = t.QCLOUD_VOD_EVENTS = t.PLAYBACK_EVENTS = t.FLV_EVENTS = t.HLS_EVENTS = t.LEB_EVENTS = t.QWEBRTC_EVENTS = t.TRTC_EVENTS = t.WEBRTC_EVENTS = void 0,
        t.WEBRTC_EVENTS = r,
        function(e) {
            e.SDKERROR = "sdkerror",
            e.SUPPORT_WEBRTC = "support_webrtc",
            e.NOT_SUPPORT_WEBRTC = "not_support_webrtc",
            e.CHANNEL_START = "channel_start",
            e.CHANNEL_FAIL = "channel_fail",
            e.CHANNEL_SUCC = "channel_succ",
            e.CHANNEL_NEED_RECONNECT = "channel_need_reconnnected",
            e.CHANNEL_RECONNECT = "channel_reconnnect",
            e.CHANNEL_RECONNECT_SUCC = "channel_reconnnect_succ",
            e.CHANNEL_RECONNECT_FAIL = "channel_reconnnect_fail",
            e.ENTERROOM_START = "enterroomstart",
            e.ENTERROOM_FAIL = "enterroomfail",
            e.ENTERROOM_SUCC = "enterroomsucc",
            e.CREATEPEER_SUCC = "createpeersucc",
            e.CREATEPEER_FAIL = "createpeerfail",
            e.LOCAL_SDP = "localsdp",
            e.REMOTE_SDP = "remotesdp",
            e.SDP_FAIL = "sdpfail",
            e.SDP_SUCC = "sdpsucc",
            e.STREAM_ADD = "stream_add",
            e.STREAM_REMOVE = "stream_remove",
            e.STREAM_UPDATE = "stream_update",
            e.LOCAL_CANDIDATE = "local_candidate",
            e.REMOTE_CANDIDATE = "remote_candidate",
            e.ICE_START = "icestart",
            e.ICE_SUCC = "icesucc",
            e.ICE_FAIL = "icefail",
            e.ICE_DISCONNECT = "icedisconnect",
            e.FIRST_VIDEO = "firstvideo",
            e.FIRST_AUDIO = "firstaudio",
            e.LOADED_VIDEO = "loadedvideo",
            e.LOADED_AUDIO = "loadedaudio",
            e.KICK_OUT = "kickout",
            e.RTC_FREEZE = "freeze",
            e.WAITING_RTC_FREEZE = "waiting_rtc_freeze"
        }(r || (t.WEBRTC_EVENTS = r = {})),
        t.TRTC_EVENTS = i,
        function(e) {
            e.SDKERROR = "sdkerror",
            e.SUPPORT_WEBRTC = "support_webrtc",
            e.NOT_SUPPORT_WEBRTC = "not_support_webrtc",
            e.CHANNEL_START = "channel_start",
            e.CHANNEL_FAIL = "channel_fail",
            e.CHANNEL_SUCC = "channel_succ",
            e.CHANNEL_NEED_RECONNECT = "channel_need_reconnnected",
            e.CHANNEL_RECONNECT = "channel_reconnnect",
            e.CHANNEL_RECONNECT_SUCC = "channel_reconnnect_succ",
            e.CHANNEL_RECONNECT_FAIL = "channel_reconnnect_fail",
            e.ENTERROOM_START = "enterroomstart",
            e.ENTERROOM_FAIL = "enterroomfail",
            e.ENTERROOM_SUCC = "enterroomsucc",
            e.ENTERROOM_ABORT = "enterroomabort",
            e.ICE_START = "icestart",
            e.ICE_SUCC = "icesucc",
            e.ICE_FAIL = "icefail",
            e.ICE_DISCONNECT = "icedisconnect",
            e.STREAM_ADD = "stream_add",
            e.STREAM_REMOVE = "stream_remove",
            e.STREAM_UPDATE = "stream_update",
            e.SUBSCRIBE_SUCC = "subscribe_succ",
            e.SUBSCRIBE_FAIL = "subscribe_fail",
            e.DISCONNECTED = "disconnect",
            e.CONNECTING = "connecting",
            e.RECONNECTING = "reconnecting",
            e.CONNECTED = "connected",
            e.KICK_OUT = "kickout",
            e.RTC_FREEZE = "freeze",
            e.RTC_QUALITY = "rtc_quality",
            e.DOWNLINK_CONNECTION_FAIL = "downlink_connection_fail",
            e.UPLINK_CONNECTION_FAIL = "uplink_connection_fail"
        }(i || (t.TRTC_EVENTS = i = {})),
        t.QWEBRTC_EVENTS = o,
        function(e) {
            e.SDKERROR = "sdkerror",
            e.SUPPORT_WEBRTC = "support_webrtc",
            e.NOT_SUPPORT_WEBRTC = "not_support_webrtc",
            e.SESSION = "session",
            e.CHANNEL_START = "channel_start",
            e.CHANNEL_FAIL = "channel_fail",
            e.CHANNEL_SUCC = "channel_succ",
            e.CHANNEL_NEED_RECONNECT = "channel_need_reconnnected",
            e.CHANNEL_RECONNECT = "channel_reconnnect",
            e.CHANNEL_RECONNECT_SUCC = "channel_reconnnect_succ",
            e.CHANNEL_RECONNECT_FAIL = "channel_reconnnect_fail",
            e.ENTERROOM_START = "enterroomstart",
            e.ENTERROOM_FAIL = "enterroomfail",
            e.ENTERROOM_SUCC = "enterroomsucc",
            e.CREATEPEER_SUCC = "createpeersucc",
            e.CREATEPEER_FAIL = "createpeerfail",
            e.LOCAL_SDP = "localsdp",
            e.REMOTE_SDP = "remotesdp",
            e.SDP_FAIL = "sdpfail",
            e.SDP_SUCC = "sdpsucc",
            e.STREAM_ADD = "stream_add",
            e.STREAM_REMOVE = "stream_remove",
            e.STREAM_UPDATE = "stream_update",
            e.LOCAL_CANDIDATE = "local_candidate",
            e.REMOTE_CANDIDATE = "remote_candidate",
            e.ICE_START = "icestart",
            e.ICE_SUCC = "icesucc",
            e.ICE_FAIL = "icefail",
            e.ICE_DISCONNECT = "icedisconnect",
            e.FIRST_VIDEO = "firstvideo",
            e.FIRST_AUDIO = "firstaudio",
            e.LOADED_VIDEO = "loadedvideo",
            e.LOADED_AUDIO = "loadedaudio",
            e.KICK_OUT = "kickout",
            e.RTC_FREEZE = "freeze",
            e.WAITING_RTC_FREEZE = "waiting_rtc_freeze",
            e.HTTP_SIGNAL_PULL_START = "http_signal_pull_start",
            e.HTTP_SIGNAL_PULL_SUCC = "http_signal_pull_succ",
            e.HTTP_SIGNAL_PULL_FAIL = "http_signal_pull_fail",
            e.HTTP_SIGNAL_STOP_START = "http_signal_stop_start",
            e.HTTP_SIGNAL_STOP_SUCC = "http_signal_stop_succ",
            e.HTTP_SIGNAL_STOP_FAIL = "http_signal_stop_fail"
        }(o || (t.QWEBRTC_EVENTS = o = {})),
        t.LEB_EVENTS = a,
        function(e) {
            e.SUPPORT_WEBRTC = "support_webrtc",
            e.NOT_SUPPORT_WEBRTC = "not_support_webrtc",
            e.CLIENT_READY = "client_ready",
            e.STREAM_ADD = "stream_add",
            e.STREAM_REMOVE = "stream_remove",
            e.STREAM_EMPTY_PACKAGE = "stream_empty_package",
            e.REQUEST_PULL_BEGIN = "request_pull_begin",
            e.REQUEST_FIRST_PULL_BEGIN = "request_first_pull_begin",
            e.REQUEST_PULL_SUCCESS = "request_pull_succ",
            e.REQUEST_PULL_FAIL = "request_pull_fail",
            e.REQUEST_PULL_RETRY = "request_pull_retry",
            e.REQUEST_PULL_RETRY_SUCCESS = "request_pull_retry_succ",
            e.REQUEST_PULL_RETRY_FAIL = "request_pull_retry_fail",
            e.FREEZE_START = "freeze_start",
            e.FREEZE_END = "freeze_end",
            e.STREAM_BEGIN = "stream_begin",
            e.SERVER_CONNECTED = "server_connected",
            e.SERVER_RECONNECT = "server_reconnected",
            e.SERVER_DISCONNECTED = "server_disconnected",
            e.PLAY_FAIL = "play_fail",
            e.PLAY_DECODE_ERROR = "play_decode_error",
            e.NO_FRAME_DECODED = "no_frame_decoded"
        }(a || (t.LEB_EVENTS = a = {})),
        t.HLS_EVENTS = s,
        function(e) {
            e.SRC_INVALID = "src_invalid",
            e.NATIVE_SUPPORT = "native_support_hls",
            e.HLSJS_SUPPORT = "hlsjs_support_hls",
            e.UNKNOWN_SUPOPORT = "unkonw_support_hls",
            e.DRM_NOT_SUPPORT_HARDWARE = "drm_not_support_hardware",
            e.DRM_MODE = "drm_mode",
            e.HLS_FREEZE = "hls_freeze",
            e.HLS_ERROR = "hls_error",
            e.HLSJS_ERROR = "hlsjs_error",
            e.HLSJS_WARN = "hlsjs_warn",
            e.MANIFEST_LOADING = "hlsManifestLoading",
            e.MANIFEST_LOADED = "hlsManifestLoaded",
            e.FRAG_LOADING = "hlsFragLoading",
            e.FRAG_LOADED = "hlsFragLoaded",
            e.KEY_LOADING = "hlsKeyLoading",
            e.KEY_LOADED = "hlsKeyLoaded"
        }(s || (t.HLS_EVENTS = s = {})),
        t.FLV_EVENTS = u,
        function(e) {
            e.FLV_FREEZE = "flv_freeze",
            e.FLV_QUALITY = "flv_quality",
            e.FLV_VIDEO_PACKET_LOST = "flv_video_packetlost",
            e.FLV_SDK_EVT = "flv_sdk_evt",
            e.FLV_NO_STREAM = "flv_no_stream",
            e.WAITING_FLV_FREEZE = "waiting_flv_freeze",
            e.FLV_SDK_ERROR = "sdk_error",
            e.NOT_SUPPORT = "not_support_flv",
            e.SDK_ERROR = "sdk_error"
        }(u || (t.FLV_EVENTS = u = {})),
        t.PLAYBACK_EVENTS = c,
        function(e) {
            e.FETCH_INFO_TRY = "fetch_info_try",
            e.FETCH_INFO_ERROR = "fetch_info_error",
            e.FETCH_INFO_RETURN_ERROR = "fetch_info_return_error",
            e.FETCH_INFO_FAIL_AFTER_RETRY = "fetch_info_fail_after_retry",
            e.FETCH_INFO_SUCC = "fetch_info_succ",
            e.ERROR_NO_PLAYLIST = "error_no_playlist",
            e.HLS_ERROR_NOSRC = "hls_error_nosrc",
            e.HLS_ERROR_SDK = "hls_error_sdk",
            e.PLAYBACK_FREEZE = "playback_freeze"
        }(c || (t.PLAYBACK_EVENTS = c = {})),
        t.QCLOUD_VOD_EVENTS = l,
        function(e) {
            e.FETCH_INFO_TRY = "fetch_info_try",
            e.FETCH_INFO_RETRY = "fetch_info_retry",
            e.FETCH_INFO_ERROR = "fetch_info_error",
            e.FETCH_INFO_RETURN_ERROR = "fetch_info_return_error",
            e.FETCH_INFO_FAIL_AFTER_RETRY = "fetch_info_fail_after_retry",
            e.FETCH_INFO_SUCC = "fetch_info_succ",
            e.ERROR_NO_PLAYLIST = "error_no_playlist",
            e.FETCH_DURATION = "fetch_duration"
        }(l || (t.QCLOUD_VOD_EVENTS = l = {}));
        t.codeMap = {
            200001: "视频加载播放被中断",
            200002: "由于网络问题造成加载视频失败",
            200003: "解码时发生错误",
            200004: "视频因格式不支持或者服务器或网络的问题无法加载",
            305001: "不支持hls.js",
            305002: "点播初始化无src",
            305003: "HLS SDk错误",
            315004: "防盗链请求失败",
            315005: "防盗链返回错误",
            315006: "防盗链重试后仍然请求失败"
        };
        t.HLS_ERROR_MONITORID = {
            manifestLoadError: 240001,
            levelLoadError: 240002,
            fragLoadError: 240003
        }
    },
    "/vKp": function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = p;
        var i = r(n("lSNA"))
          , o = r(n("lwsE"))
          , a = r(n("W8MJ"));
        n("iq6K");
        var s = r(n("vnpg"))
          , u = r(n("vgmO"))
          , c = n("eiuo")
          , l = n("3S2X");
        function f(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }
                ))),
                n.push.apply(n, r)
            }
            return n
        }
        function d(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? f(Object(n), !0).forEach((function(t) {
                    (0,
                    i.default)(e, t, n[t])
                }
                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : f(Object(n)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                }
                ))
            }
            return e
        }
        u.default.LokiPlayer && u.default.LokiPlayer.install("leb", p);
        var h = {
            showLog: !0
        };
        function p(e, t) {
            var n = e.message
              , r = e.modeHandlers
              , i = t.Constants.ENS
              , u = t.log;
            i.LEB = "LEB";
            var f = function() {
                function t(e) {
                    var n = this;
                    if ((0,
                    o.default)(this, t),
                    this.player = void 0,
                    this.lib = s.default,
                    this.main = null,
                    this.vice = null,
                    this.others = {},
                    this.mainClient = void 0,
                    this.viceClient = void 0,
                    this.clients = void 0,
                    this.mainStream = null,
                    this.viiceStream = null,
                    this.otherStreams = null,
                    this.prestateMainStopCall = void 0,
                    this.prestateViceStopCall = void 0,
                    this.temporary = new Map,
                    this.videoStatsCheck = {},
                    t.instance && !e.isDisposed)
                        return t.instance.updateStreamMap(),
                        t.instance;
                    t.instance = this,
                    this.player = e,
                    this.createClient(),
                    s.default.checkSupport((function(e) {
                        !e.h264Support && e.support && (u("warn", "不支持 webrtc"),
                        n.pub(c.SubEventName.NOT_SUPPORT_WEBRTC, e))
                    }
                    ))
                }
                return (0,
                a.default)(t, [{
                    key: "createClient",
                    value: function() {
                        this.player.options.leb ? (this.mainClient = new s.default,
                        this.viceClient = new s.default,
                        this.mainClient.setConfig(h),
                        this.viceClient.setConfig(d(d({}, h), {}, {
                            receiveAudio: !1
                        })),
                        this.mainClient.setPlayerView(this.player.mainVideo.el),
                        this.viceClient.setPlayerView(this.player.viceVideo.el),
                        this.initClientEvents(this.mainClient, "main"),
                        this.initClientEvents(this.viceClient, "vice"),
                        this.updateStreamMap(),
                        this.pub(c.SubEventName.CLIENT_READY)) : u("warn", "player need leb options")
                    }
                }, {
                    key: "dispose",
                    value: function(e) {
                        var n = this;
                        if ("leb" !== e) {
                            u("info", "dispose leb newmode is ".concat(e)),
                            this.mainClient.stopPlay(),
                            this.viceClient.stopPlay(),
                            this.main = null,
                            this.vice = null,
                            this.videoStatsCheck = {},
                            Object.keys(this.others).forEach((function(e) {
                                var t;
                                null === (t = n.others[e]) || void 0 === t || t.client.destroy(),
                                n.others[e] = null,
                                delete n.others[e]
                            }
                            ));
                            var r = this.player
                              , i = r.mainVideo
                              , o = r.viceVideo;
                            i.show(),
                            o.show(),
                            t.instance = null
                        }
                    }
                }, {
                    key: "initClientEvents",
                    value: function(t, n) {
                        var r = this
                          , i = this.player.options.leb
                          , o = i.retries
                          , a = void 0 === o ? 1 : o
                          , s = i.retryDelay
                          , f = void 0 === s ? 1e3 : s
                          , h = 1;
                        t.setPlayListener({
                            onPlayEvent: function(i, o) {
                                var s = (0,
                                l.getValidStreamId)(t.playUrl)
                                  , p = {
                                    type: n,
                                    streamId: s,
                                    data: o,
                                    client: t
                                };
                                switch (i) {
                                case c.LEBEvents.PLAY_EVT_REQUEST_PULL_BEGIN:
                                    u("info", "type: ".concat(n), "pull stream begin", "url: ".concat(t.playUrl), o),
                                    r.pub(c.SubEventName.REQUEST_PULL_BEGIN, p),
                                    1 === h && r.pub(c.SubEventName.REQUEST_FIRST_PULL_BEGIN, p);
                                    break;
                                case c.LEBEvents.PLAY_EVT_REQUEST_PULL_SUCCESS:
                                    u("info", "type: ".concat(n), "pull stream succ", "url: ".concat(t.playUrl), o),
                                    h > 1 ? r.pub(c.SubEventName.REQUEST_PULL_RETRY_SUCCESS, p) : r.pub(c.SubEventName.REQUEST_PULL_SUCCESS, p),
                                    h = 1;
                                    break;
                                case c.LEBErrorEvents.PLAY_ERR_REQUEST_PULL_FAIL:
                                    u("error", "type: ".concat(n), "pull stream fail", "url: ".concat(t.playUrl), o),
                                    r.pub(c.SubEventName.REQUEST_PULL_FAIL, d(d({}, p), {}, {
                                        errMsg: o
                                    })),
                                    a > 1 && h <= a && setTimeout((function() {
                                        t.startPlay(t.playUrl),
                                        r.pub(c.SubEventName.REQUEST_PULL_RETRY, p),
                                        h += 1
                                    }
                                    ), f),
                                    h > a && (h = 1,
                                    r.pub(c.SubEventName.REQUEST_PULL_RETRY_FAIL, d(d({}, p), {}, {
                                        errMsg: o
                                    })));
                                    break;
                                case c.LEBEvents.PLAY_EVT_STREAM_BEGIN:
                                    u("info", "type: ".concat(n), "stream begin", "url: ".concat(t.playUrl), o),
                                    r.pub(c.SubEventName.STREAM_ADD, p);
                                    break;
                                case c.LEBEvents.PLAY_EVT_SERVER_CONNECTED:
                                    u("info", "type: ".concat(n), "server_connnected", "url: ".concat(t.playUrl), o),
                                    r.pub(c.SubEventName.SERVER_CONNECTED, p),
                                    e.play(),
                                    e.hidePoster();
                                    break;
                                case c.LEBEvents.PLAY_EVT_SERVER_RECONNECT:
                                    r.pub(c.SubEventName.SERVER_RECONNECT, p);
                                    break;
                                case c.LEBErrorEvents.PLAY_ERR_SERVER_DISCONNECT:
                                    r.pub(c.SubEventName.SERVER_DISCONNECTED, p);
                                    break;
                                case c.LEBEvents.PLAY_EVT_STREAM_EMPTY:
                                    r.pub(c.SubEventName.STREAM_EMPTY_PACKAGE, p);
                                    break;
                                case c.LEBErrorEvents.PLAY_ERR_PLAY_FAIL:
                                    r.pub(c.SubEventName.PLAY_FAIL, p);
                                    break;
                                case c.LEBErrorEvents.PLAY_ERR_DECODE_FAIL:
                                    r.pub(c.SubEventName.PLAY_DECODE_ERROR, p)
                                }
                            },
                            onPlayStats: function(e) {
                                r.videoFrameDetect(n, e)
                            }
                        })
                    }
                }, {
                    key: "pullStreamToMap",
                    value: function(e, t) {
                        var n = this;
                        this[e] = {
                            type: e,
                            streamid: (0,
                            l.getValidStreamId)(t),
                            streamurl: t,
                            client: "main" === e ? this.mainClient : this.viceClient
                        },
                        "main" === e ? this.mainClient.playUrl ? this.mainClient.stopPlay().then((function() {
                            var t, r;
                            null !== (t = n[e]) && void 0 !== t && t.streamurl && n.mainClient.startPlay(null === (r = n[e]) || void 0 === r ? void 0 : r.streamurl)
                        }
                        )) : this.mainClient.startPlay(t) : "vice" === e && (this.viceClient.playUrl ? this.viceClient.stopPlay().then((function() {
                            var t, r;
                            null !== (t = n[e]) && void 0 !== t && t.streamurl && n.viceClient.startPlay(null === (r = n[e]) || void 0 === r ? void 0 : r.streamurl)
                        }
                        )) : this.viceClient.startPlay(t))
                    }
                }, {
                    key: "pullStreamToOthersMap",
                    value: function(e, t) {
                        var n = {
                            type: "other",
                            uid: e,
                            streamid: (0,
                            l.getValidStreamId)(t) || "",
                            streamurl: t,
                            client: new s.default
                        };
                        n.client.setConfig(h),
                        this.others[e] = n,
                        this.pub(c.SubEventName.STREAM_ADD, n)
                    }
                }, {
                    key: "updateStreamMap",
                    value: function() {
                        var e = this
                          , t = this.player.options.leb
                          , n = t.mainStreamUrl
                          , r = t.viceStreamUrl
                          , i = t.otherStreamUrls;
                        u("info", "updateStreamMap", n, r, i);
                        var o, a, s = (0,
                        l.getValidStreamId)(n), f = (0,
                        l.getValidStreamId)(r);
                        (u("info", "stream id", s, f),
                        s) ? s !== (null === (o = this.main) || void 0 === o ? void 0 : o.streamid) && (this.prestateMainStopCall ? this.prestateMainStopCall.then((function() {
                            e.pullStreamToMap("main", n)
                        }
                        )) : this.pullStreamToMap("main", n)) : (this.prestateMainStopCall = this.mainClient.stopPlay(),
                        this.prestateMainStopCall.then((function() {
                            e.prestateMainStopCall = null
                        }
                        )),
                        this.main = null,
                        delete this.videoStatsCheck.main);
                        f ? f !== (null === (a = this.vice) || void 0 === a ? void 0 : a.streamid) && (this.prestateViceStopCall ? this.prestateViceStopCall.then((function() {
                            e.pullStreamToMap("vice", r)
                        }
                        )) : this.pullStreamToMap("vice", r)) : (this.prestateViceStopCall = this.viceClient.stopPlay(),
                        this.prestateViceStopCall.then((function() {
                            e.prestateViceStopCall = null
                        }
                        )),
                        this.vice = null,
                        delete this.videoStatsCheck.vice);
                        Object.keys(this.others).forEach((function(t) {
                            var n = e.others[t];
                            n && e.temporary.set(n.streamid, n)
                        }
                        )),
                        i && Object.keys(i).forEach((function(t) {
                            var n = i[t]
                              , r = (0,
                            l.getValidStreamId)(n);
                            if (r) {
                                var o = e.temporary.get(r);
                                o ? (e.others[t] = o,
                                e.temporary.delete(r)) : r ? e.pullStreamToOthersMap(t, n) : u("warn", "stu.stream is null", i, t)
                            }
                        }
                        )),
                        this.temporary.size > 0 && (u("info", "remove other stream", this.temporary),
                        this.temporary.forEach((function(t) {
                            t.client.destroy(),
                            e.others[t.uid] = null,
                            delete e.others[t.uid],
                            e.pub(c.SubEventName.STREAM_REMOVE, t)
                        }
                        ))),
                        this.temporary.clear()
                    }
                }, {
                    key: "pub",
                    value: function(e, t) {
                        n.pub({
                            type: i.LEB,
                            src: this,
                            subType: e,
                            detail: t
                        }, this.player)
                    }
                }, {
                    key: "videoFrameDetect",
                    value: function(e, t) {
                        var n = t.timestamp;
                        0 === t.video.framesDecoded ? this.videoStatsCheck[e] ? n - this.videoStatsCheck[e].timestamp > 5e3 && (this[e] && this.pub(c.SubEventName.NO_FRAME_DECODED, this[e]),
                        delete this.videoStatsCheck[e]) : this.videoStatsCheck[e] = t : delete this.videoStatsCheck[e]
                    }
                }]),
                t
            }();
            f.isWebRTCSupported = void 0,
            f.instance = void 0,
            r.leb = f
        }
    },
    "/xNr": function(e, t, n) {
        "use strict";
        e.exports = function(e) {
            var t = [];
            return t.toString = function() {
                return this.map((function(t) {
                    var n = function(e, t) {
                        var n = e[1] || ""
                          , r = e[3];
                        if (!r)
                            return n;
                        if (t && "function" == typeof btoa) {
                            var i = (a = r,
                            s = btoa(unescape(encodeURIComponent(JSON.stringify(a)))),
                            u = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),
                            "/*# ".concat(u, " */"))
                              , o = r.sources.map((function(e) {
                                return "/*# sourceURL=".concat(r.sourceRoot || "").concat(e, " */")
                            }
                            ));
                            return [n].concat(o).concat([i]).join("\n")
                        }
                        var a, s, u;
                        return [n].join("\n")
                    }(t, e);
                    return t[2] ? "@media ".concat(t[2], " {").concat(n, "}") : n
                }
                )).join("")
            }
            ,
            t.i = function(e, n, r) {
                "string" == typeof e && (e = [[null, e, ""]]);
                var i = {};
                if (r)
                    for (var o = 0; o < this.length; o++) {
                        var a = this[o][0];
                        null != a && (i[a] = !0)
                    }
                for (var s = 0; s < e.length; s++) {
                    var u = [].concat(e[s]);
                    r && i[u[0]] || (n && (u[2] ? u[2] = "".concat(n, " and ").concat(u[2]) : u[2] = n),
                    t.push(u))
                }
            }
            ,
            t
        }
    },
    "09z+": function(e, t, n) {},
    "0Oef": function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        Object.defineProperty(t, "KeLoadingStone", {
            enumerable: !0,
            get: function() {
                return u.default
            }
        }),
        Object.defineProperty(t, "LoadedEmpty", {
            enumerable: !0,
            get: function() {
                return a.default
            }
        }),
        Object.defineProperty(t, "LoadedFail", {
            enumerable: !0,
            get: function() {
                return o.default
            }
        }),
        Object.defineProperty(t, "Loading", {
            enumerable: !0,
            get: function() {
                return i.default
            }
        }),
        Object.defineProperty(t, "LoadingStone", {
            enumerable: !0,
            get: function() {
                return s.default
            }
        });
        var i = r(n("U/K1"))
          , o = r(n("IZoY"))
          , a = r(n("iGo8"))
          , s = r(n("RrNe"))
          , u = r(n("Frsv"))
    },
    "0vTT": function(e, t, n) {
        var r, i, o, a = n("cDf5");
        o = function() {
            "use strict";
            var e = !1
              , t = !1
              , n = ".can-scroll"
              , r = new Set;
            if ("undefined" != typeof window) {
                var i = {
                    get passive() {
                        t = !0
                    }
                };
                try {
                    window.addEventListener("testPassive", null, i),
                    window.removeEventListener("testPassive", null, i)
                } catch (e) {}
            }
            return function() {
                function i(e) {
                    void 0 === e && (e = {
                        selector: ".can-scroll"
                    }),
                    e.selector && (n = e.selector)
                }
                return i.prototype.lock = function() {
                    r.add(this),
                    e || "undefined" != typeof window && window.document && (document.addEventListener("touchmove", i.preventDefault, t ? {
                        passive: !1
                    } : void 0),
                    e = !0,
                    this.lockScrollOverflow())
                }
                ,
                i.prototype.lockScrollOverflow = function() {
                    var e = document.querySelectorAll(n);
                    [].forEach.call(e, (function(e) {
                        var t = 0;
                        e.ontouchstart = function(e) {
                            1 === e.targetTouches.length && (t = e.targetTouches[0].clientY)
                        }
                        ,
                        e.ontouchmove = function(n) {
                            if (1 === n.targetTouches.length) {
                                var r = n.targetTouches[0].clientY - t;
                                if (e.scrollTop + e.clientHeight >= e.scrollHeight && r < 0)
                                    return n.preventDefault();
                                if (e.scrollTop <= 0 && r > 0)
                                    return n.preventDefault()
                            }
                        }
                    }
                    ))
                }
                ,
                i.prototype.unlock = function() {
                    r.delete(this),
                    r.size <= 0 && this.destroy()
                }
                ,
                i.prototype.destroy = function() {
                    "undefined" != typeof window && window.document && document.removeEventListener("touchmove", i.preventDefault, t ? {
                        passive: !1
                    } : void 0);
                    var r = document.querySelectorAll(n);
                    [].forEach.call(r, (function(e) {
                        e.ontouchstart = null,
                        e.ontouchmove = null
                    }
                    )),
                    e = !1
                }
                ,
                i.preventDefault = function(e) {
                    var t = document.querySelectorAll(n);
                    if ([].some.call(t, (function(t) {
                        return t.contains(e.target)
                    }
                    )))
                        return !0;
                    e.preventDefault()
                }
                ,
                i
            }()
        }
        ,
        "object" === a(t) && void 0 !== e ? e.exports = o() : void 0 === (i = "function" == typeof (r = o) ? r.call(t, n, t, e) : r) || (e.exports = i)
    },
    "126e": function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("SOkj"))
          , o = r(n("w6AT"))
          , a = "report_position_key_lastpage"
          , s = "report_position_key_lasturl"
          , u = ["ui.ptlogin2.qq.com/cgi-bin/login", "open.weixin.qq.com/connect/oauth2/authorize"]
          , c = document.referrer;
        var l = o.default.parseHref(c)
          , f = l.domain + l.pathname
          , d = {
            get: function() {
                var e;
                this.del();
                try {
                    e = i.default.get(a),
                    e = JSON.parse(e)
                } catch (e) {}
                return e
            },
            set: function(e) {
                var t = location.href;
                i.default.set(a, JSON.stringify(e)),
                i.default.set(s, encodeURIComponent(t))
            },
            del: function() {
                this.shouldClear() && i.default.del(a)
            },
            shouldClear: function() {
                var e, t, n = location.href, r = i.default.get(s);
                return e = n,
                t = r,
                !(o.default.delParam(e, "tuin") === o.default.delParam(t, "tuin") || u.indexOf(f) >= 0)
            }
        };
        t.default = d
    },
    "1wCm": function(e, t, n) {
        "use strict";
        var r = n("TqRt")
          , i = n("cDf5");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var o = r(n("1OyB"))
          , a = r(n("vuIU"))
          , s = r(n("JX7q"))
          , u = r(n("Ji7U"))
          , c = r(n("md7G"))
          , l = r(n("foSv"))
          , f = r(n("rePB"))
          , d = function(e, t) {
            if (!t && e && e.__esModule)
                return e;
            if (null === e || "object" !== i(e) && "function" != typeof e)
                return {
                    default: e
                };
            var n = v(t);
            if (n && n.has(e))
                return n.get(e);
            var r = {}
              , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var a in e)
                if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                    var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                    s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                }
            r.default = e,
            n && n.set(e, r);
            return r
        }(n("q1tI"))
          , h = r(n("TSYQ"))
          , p = r(n("EGJm"));
        function v(e) {
            if ("function" != typeof WeakMap)
                return null;
            var t = new WeakMap
              , n = new WeakMap;
            return (v = function(e) {
                return e ? n : t
            }
            )(e)
        }
        function m(e) {
            var t = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                    ))),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var n, r = (0,
                l.default)(e);
                if (t) {
                    var i = (0,
                    l.default)(this).constructor;
                    n = Reflect.construct(r, arguments, i)
                } else
                    n = r.apply(this, arguments);
                return (0,
                c.default)(this, n)
            }
        }
        n("09z+");
        var g = function(e) {
            (0,
            u.default)(n, e);
            var t = m(n);
            function n(e) {
                var r;
                return (0,
                o.default)(this, n),
                r = t.call(this, e),
                (0,
                f.default)((0,
                s.default)(r), "clickHandler", (function(e, t) {
                    if (!r.props.readOnly) {
                        var n = r.props
                          , i = n.type
                          , o = n.name
                          , a = n.size
                          , s = r.state.checked
                          , u = !1;
                        if ("radio" === i && (e !== s[0] ? s = [e] : (s = [],
                        u = !0)),
                        "checkbox" === i) {
                            var c = s.indexOf(e);
                            c > -1 ? (s.splice(c, 1),
                            u = !0) : (!a || a && s.length < a) && s.push(e)
                        }
                        r.setState({
                            checked: s
                        });
                        var l = r.props.onChange
                          , f = {
                            checked: s,
                            type: i,
                            isCancal: u,
                            data: t,
                            value: s
                        };
                        o && (f.name = o),
                        l && l(f)
                    }
                }
                )),
                r.state = {
                    checked: e.value
                },
                r
            }
            return (0,
            a.default)(n, [{
                key: "render",
                value: function() {
                    var e = this
                      , t = this.props
                      , n = t.className
                      , r = t.type
                      , i = t.list
                      , o = t.inline
                      , a = t.prefixIcon
                      , s = (0,
                    h.default)("s-f-rc-list", n, {
                        "list--block": !o,
                        "list--inline": o,
                        "list--letter": "letter" === a
                    });
                    return d.default.createElement("div", {
                        className: s
                    }, i.length > 0 ? i.map((function(t, n) {
                        var i = e.state.checked
                          , o = !1;
                        return o = t.value ? i.indexOf(t.value) > -1 : i.indexOf(n) > -1,
                        d.default.createElement(p.default, {
                            key: t.value || n.toString(),
                            isChecked: o,
                            type: r,
                            prefixIcon: a,
                            label: t.label || t,
                            data: t.data,
                            value: t.value || n,
                            index: n,
                            disabled: t.disabled,
                            onChange: e.clickHandler
                        })
                    }
                    )) : null)
                }
            }]),
            n
        }(d.Component);
        g.defaultProps = {
            type: "radio",
            prefixIcon: "icon",
            value: []
        };
        var y = g;
        t.default = y
    },
    "2UBB": function(e, t, n) {},
    "2qLn": function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = function(e, t) {
            i = t,
            a.default.addListener(u);
            var n = o.default.getPositionData() || {};
            return ["url_page", "url_module", "url_position"].forEach((function(t) {
                e[t] = n[t] || ""
            }
            )),
            e
        }
        ;
        var i, o = r(n("KBg1")), a = r(n("3HpZ")), s = r(n("Wl3z")), u = function(e) {
            var t = s.default.closest(e, "[data-report-position]")
              , n = s.default.closest(e, "[data-report-module]")
              , r = encodeURIComponent(t && t.getAttribute("data-report-position") || "")
              , a = encodeURIComponent(n && n.getAttribute("data-report-module") || "");
            o.default.setPositionData({
                url_position: r,
                url_module: a,
                url_page: encodeURIComponent(i && i.getReportData("page") || "")
            })
        }
    },
    "3DwS": function(e, t, n) {},
    "3HpZ": function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("Wl3z"));
        var o = [];
        function a(e) {
            var t = e.target
              , n = i.default.closest(t, "a")
              , r = i.default.closest(t, ".js-report-link");
            if (n || r) {
                var a = n || r;
                o.forEach((function(t) {
                    t.apply(null, [a, e])
                }
                ))
            }
        }
        var s = {
            injectHref: function() {
                document.removeEventListener("click", a),
                document.addEventListener("click", a)
            },
            addListener: function(e) {
                i.default.isFunction(e) && o.push(e)
            },
            removeListener: function(e) {
                i.default.isFunction(e) && o.forEach((function(t, n) {
                    t === e && o.splice(n, 1)
                }
                ))
            }
        };
        t.default = s
    },
    "3S2X": function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.getValidStreamId = function(e) {
            var t = /^(?:webrtc:\/\/)(?:[0-9.\-A-Za-z_]+)(?:\/)(?:[0-9.\-A-Za-z_]+)(?:\/)([^?#]*)(?:\?*)(?:[^?#]*)/.exec(e);
            if (t)
                return t[1];
            return null
        }
        ,
        t.x = function() {}
    },
    "3fNJ": function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("Ff2n"))
          , o = r(n("q1tI"))
          , a = r(n("TSYQ"));
        n("3DwS");
        var s = ["name", "url", "className", "children", "extLink"];
        var u = function(e) {
            var t = e.name
              , n = e.url
              , r = e.className
              , u = e.children
              , c = e.extLink
              , l = (0,
            i.default)(e, s)
              , f = (0,
            a.default)("icon-svg", r);
            return u ? o.default.createElement("svg", Object.assign({
                viewBox: e.viewBox || "0 0 32 32",
                className: "".concat(f, " svg--").concat(t)
            }, l), o.default.createElement("title", null, t), u) : n ? o.default.createElement("svg", Object.assign({
                className: "".concat(f, " svg--").concat(t)
            }, l), o.default.createElement("use", {
                xlinkHref: "".concat(n, "#icon-").concat(t)
            })) : o.default.createElement("svg", Object.assign({
                className: "".concat(f, " svg--").concat(t.id),
                viewBox: t.viewBox
            }, l), o.default.createElement("use", {
                xlinkHref: c ? t.url : "#".concat(t.id)
            }))
        };
        t.default = u
    },
    "3l9H": function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("U8pU"));
        function o(e) {
            if (!e)
                return "";
            var t = [];
            for (var n in e)
                e.hasOwnProperty(n) && t.push(n + "=" + encodeURIComponent(e[n]));
            return t.join("&")
        }
        var a = {
            loadJSONP: function(e, t, n, r) {
                "object" === (0,
                i.default)(t) ? e = [e, o(t)].join("?") : (r = n,
                n = t);
                var a = "_jsonp_" + function(e) {
                    for (var t = "", n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", r = 0; r < e; r++)
                        t += n.charAt(Math.floor(Math.random() * n.length));
                    return t
                }(5);
                e.match(/\?/) ? e += "&callback=" + a : e += "?callback=" + a;
                var s = document.createElement("script");
                s.type = "text/javascript",
                s.src = e,
                window[a] = function(e) {
                    n.call(r || window, e),
                    document.getElementsByTagName("head")[0].removeChild(s),
                    s = null,
                    delete window[a]
                }
                ,
                document.getElementsByTagName("head")[0].appendChild(s)
            }
        };
        t.default = a
    },
    "49vy": function(e, t, n) {
        var r, i, o, a = n("cDf5");
        o = function() {
            "use strict";
            /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
    See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */
            var e, t, n = function(e, t) {
                return (n = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(e, t) {
                    e.__proto__ = t
                }
                || function(e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
                )(e, t)
            };
            !function(e) {
                e.TIMEOUT = "TIMEOUT",
                e.REQUEST_ERROR = "REQUEST_ERROR",
                e.RESPONSE_ERROR = "RESPONSE_ERROR"
            }(e || (e = {})),
            function(e) {
                e.GET_UPLINK_URL_SUCCESS = "GET_UPLINK_URL_SUCCESS",
                e.GET_UPLINK_URL_ERROR = "GET_UPLINK_URL_ERROR",
                e.GET_UPLINK_URL_CALLBACK_DATA_SUCCESS = "GET_UPLINK_URL_CALLBACK_DATA_SUCCESS",
                e.GET_UPLINK_URL_CALLBACK_DATA_ERROR = "GET_UPLINK_URL_CALLBACK_DATA_ERROR",
                e.LOGIN_ERROR = "LOGIN_ERROR",
                e.ERROR = "ERROR",
                e.SUCCESS = "SUCCESS"
            }(t || (t = {}));
            var r = function() {
                return "jsonp_" + Date.now() + "_" + Math.ceil(1e5 * Math.random())
            }
              , i = function(e) {
                try {
                    delete window[e]
                } catch (t) {
                    window[e] = void 0
                }
            }
              , o = function(e) {
                var t = document.getElementById(e);
                t && t.parentNode.removeChild(t)
            };
            function a(t, n) {
                var a = n.timeout
                  , s = void 0 === a ? 5e3 : a
                  , u = n.jsonpCallback
                  , c = void 0 === u ? "callback" : u
                  , l = n.jsonpCallbackFunction
                  , f = n.success
                  , d = n.error
                  , h = n.charset
                  , p = i
                  , v = o
                  , m = l || r()
                  , g = c ? c + "_" + m : "" + m
                  , y = null
                  , E = function() {
                    y && (clearTimeout(y),
                    y = null),
                    p(m),
                    v(g)
                };
                window[m] = function(e) {
                    E(),
                    f && f(e, m)
                }
                ;
                var T = document.createElement("script");
                if (T.id = g,
                h && T.setAttribute("charset", h),
                c) {
                    var b = t.indexOf("?") >= 0 ? "&" : "?";
                    T.setAttribute("src", "" + t + b + c + "=" + encodeURIComponent(m))
                } else
                    T.setAttribute("src", t);
                document.getElementsByTagName("head")[0].appendChild(T),
                y = setTimeout((function() {
                    E(),
                    d && d({
                        type: e.TIMEOUT
                    }),
                    window[m] = function() {
                        return p(m)
                    }
                }
                ), s),
                T.onerror = function() {
                    d && d({
                        type: e.REQUEST_ERROR
                    }),
                    E()
                }
            }
            function s() {
                var e = window.location.href;
                return /^https:/.test(e)
            }
            var u = Object.freeze({
                inWechat: function() {
                    var e = window.navigator.userAgent.match(/MicroMessenger\/([\d\.]+)/);
                    return Boolean(e)
                },
                isHttpsPage: s
            });
            function c(t, n, r) {
                var i = t.channel
                  , o = t.callback_data
                  , u = void 0 === o ? "" : o
                  , c = t.device_id
                  , l = void 0 === c ? "" : c
                  , f = t.device_id_type
                  , d = void 0 === f ? "" : f
                  , h = t.business_id
                  , p = t.additional
                  , v = void 0 === p ? "" : p
                  , m = t.msg_id
                  , g = t.url
                  , y = [];
                y.push("channel=" + i),
                y.push("callback_data=" + u),
                y.push("device_id=" + l),
                y.push("device_id_type=" + d),
                y.push("business_id=" + h),
                y.push("additional=" + v),
                y.push("msg_id=" + m),
                y.push("https_page=" + (s ? 1 : 0)),
                a((g || "https://fudao.qq.com/cgi-proxy/common_phone/get_login_token") + "?" + y.join("&"), {
                    success: function(t) {
                        t && 0 === t.retcode && t.result ? n(t.result) : r && r({
                            type: e.RESPONSE_ERROR,
                            response: t
                        })
                    },
                    error: function(e) {
                        r && r(e)
                    }
                })
            }
            function l(t, n, r) {
                a((r || "https://fudao.qq.com/cgi-proxy/common_phone/get_uplink_url?device_type=h5&format=jsonp") + "&https_page=" + (s() ? 1 : 0), {
                    success: function(r, i) {
                        r && 0 === r.retcode && r.result ? t(r.result, i) : n && n({
                            type: e.RESPONSE_ERROR,
                            response: r.result
                        })
                    },
                    error: function(e) {
                        n && n(e)
                    }
                })
            }
            function f(t, n, r, i) {
                var o = document.createElement("a");
                if (o.href = t,
                o.protocol !== window.location.protocol) {
                    var s = new Image;
                    s.src = t,
                    s.onload = function(e) {
                        r && r("")
                    }
                    ,
                    s.onerror = function(e) {
                        i && i(e)
                    }
                } else
                    a(t, {
                        jsonpCallback: "",
                        jsonpCallbackFunction: n,
                        success: function(t) {
                            if (t && 1e4 === parseInt(t.result, 10))
                                try {
                                    var n = JSON.stringify(t);
                                    n = btoa(n),
                                    r && r(n)
                                } catch (e) {}
                            i && i({
                                type: e.RESPONSE_ERROR,
                                response: t
                            })
                        },
                        error: function(e) {
                            i && i(e)
                        }
                    })
            }
            var d = function() {
                return "jsonp_" + Date.now() + "_" + Math.ceil(1e5 * Math.random())
            }
              , h = function(e) {
                try {
                    delete window[e]
                } catch (t) {
                    window[e] = void 0
                }
            }
              , p = function(e) {
                var t = document.getElementById(e);
                t && t.parentNode.removeChild(t)
            };
            function v(t, n) {
                var r = n.timeout
                  , i = void 0 === r ? 5e3 : r
                  , o = n.jsonpCallback
                  , a = void 0 === o ? "callback" : o
                  , s = n.jsonpCallbackFunction
                  , u = n.success
                  , c = n.error
                  , l = n.charset
                  , f = h
                  , v = p
                  , m = s || d()
                  , g = a ? a + "_" + m : "" + m
                  , y = null
                  , E = function() {
                    y && (clearTimeout(y),
                    y = null),
                    f(m),
                    v(g)
                };
                window[m] = function(e) {
                    E(),
                    u && u(e, m)
                }
                ;
                var T = document.createElement("script");
                if (T.id = g,
                l && T.setAttribute("charset", l),
                a) {
                    var b = t.indexOf("?") >= 0 ? "&" : "?";
                    T.setAttribute("src", "" + t + b + a + "=" + encodeURIComponent(m))
                } else
                    T.setAttribute("src", t);
                document.getElementsByTagName("head")[0].appendChild(T),
                y = setTimeout((function() {
                    E(),
                    c && c({
                        type: e.TIMEOUT
                    }),
                    window[m] = function() {
                        return f(m)
                    }
                }
                ), i),
                T.onerror = function() {
                    c && c({
                        type: e.REQUEST_ERROR
                    }),
                    E()
                }
            }
            return function(r) {
                function i(e) {
                    var t = e.business_id
                      , n = void 0 === t ? 300001 : t
                      , o = e.device_id
                      , a = e.device_id_type
                      , s = e.additional
                      , u = e.auto
                      , c = void 0 === u || u
                      , l = e.uplinkCgiUrl
                      , f = e.loginTokenUrl
                      , d = r.call(this) || this;
                    return d.business_id = n,
                    d.device_id = o,
                    d.device_id_type = a,
                    d.additional = s,
                    d.auto = c,
                    d.uplinkCgiUrl = l,
                    d.loginTokenUrl = f,
                    d._bindEvent(),
                    c && i.in4G((function() {
                        return d.getUplinkInfo()
                    }
                    )),
                    d
                }
                return function(e, t) {
                    function r() {
                        this.constructor = e
                    }
                    n(e, t),
                    e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype,
                    new r)
                }(i, r),
                i.prototype._bindEvent = function() {
                    var e = this;
                    this.on(t.GET_UPLINK_URL_SUCCESS, (function(t, n) {
                        e.uplink = t
                    }
                    )),
                    this.on(t.GET_UPLINK_URL_CALLBACK_DATA_SUCCESS, (function(t) {
                        e.callback_data = t
                    }
                    )),
                    this.on(t.GET_UPLINK_URL_ERROR, (function(n) {
                        n.event = t.GET_UPLINK_URL_ERROR,
                        e.trigger(t.ERROR, n)
                    }
                    )),
                    this.on(t.GET_UPLINK_URL_CALLBACK_DATA_ERROR, (function(n) {
                        n.event = t.GET_UPLINK_URL_CALLBACK_DATA_ERROR,
                        e.trigger(t.ERROR, n)
                    }
                    )),
                    this.on(t.LOGIN_ERROR, (function(n) {
                        n.event = t.LOGIN_ERROR,
                        e.trigger(t.ERROR, n)
                    }
                    ))
                }
                ,
                i.prototype.getUplinkInfo = function() {
                    var e = this;
                    l((function(n, r) {
                        e.trigger(t.GET_UPLINK_URL_SUCCESS, n, r),
                        f(n.url, r, (function(n) {
                            return e.trigger(t.GET_UPLINK_URL_CALLBACK_DATA_SUCCESS, n)
                        }
                        ), (function(n) {
                            return e.trigger(t.GET_UPLINK_URL_CALLBACK_DATA_ERROR, n)
                        }
                        ))
                    }
                    ), (function(n) {
                        return e.trigger(t.GET_UPLINK_URL_ERROR, n)
                    }
                    ), this.uplinkCgiUrl)
                }
                ,
                i.prototype.loginToken = function() {
                    var e = this
                      , n = this
                      , r = n.uplink
                      , i = r.channel
                      , o = r.msg_id;
                    c({
                        channel: i,
                        callback_data: n.callback_data,
                        business_id: n.business_id,
                        device_id: n.device_id,
                        device_id_type: n.device_id_type,
                        additional: n.additional,
                        msg_id: o,
                        url: n.loginTokenUrl
                    }, (function(n) {
                        return e.trigger(t.SUCCESS, n)
                    }
                    ), (function(n) {
                        return e.trigger(t.LOGIN_ERROR, n)
                    }
                    ))
                }
                ,
                i.getUplinkUrl = l,
                i.getUplinkCallbackData = f,
                i.getLoginToken = c,
                i.jsonp = v,
                i.util = u,
                i.EventEnum = t,
                i.ErrorEnum = e,
                i.in4G = function(e) {}
                ,
                i
            }(function() {
                function e() {
                    this.events = []
                }
                return e.prototype.on = function(e, t) {
                    if (!t)
                        return this;
                    var n = e.split(/\s+/)
                      , r = this.events;
                    return n.forEach((function(e) {
                        r.push({
                            callback: t,
                            name: e,
                            index: r.length
                        })
                    }
                    )),
                    this
                }
                ,
                e.prototype.trigger = function(e) {
                    for (var t, n = [], r = 1; r < arguments.length; r++)
                        n[r - 1] = arguments[r];
                    var i = this.events;
                    if (!e || 0 === i.length)
                        return this;
                    for (var o = this.findEvents(e), a = 0, s = o.length; a < s && !1 !== (t = o[a]).callback.apply(t, n); a++)
                        ;
                    return this
                }
                ,
                e.prototype.off = function(e, t) {
                    var n = this
                      , r = this.events;
                    if (!r.length)
                        return this;
                    if (!e && !t)
                        return this;
                    var i = e.split(/\s+/);
                    try {
                        i.forEach((function(e) {
                            n.findEvents(e, t).forEach((function(e) {
                                delete r[e.index]
                            }
                            ))
                        }
                        ))
                    } catch (e) {}
                }
                ,
                e.prototype.findEvents = function(e, t) {
                    var n = this.events
                      , r = [];
                    return n.forEach((function(n) {
                        !n || e && n.name !== e || t && n.callback !== t || r.push(n)
                    }
                    )),
                    r
                }
                ,
                e
            }())
        }
        ,
        "object" === a(t) && void 0 !== e ? e.exports = o() : void 0 === (i = "function" == typeof (r = o) ? r.call(t, n, t, e) : r) || (e.exports = i)
    },
    "5EQH": function(e, t, n) {},
    "5hiR": function(e, t) {
        var n, r = {
            iframeId: "cross-domain-iframe",
            iframeUrl: void 0,
            initCallback: function() {}
        }, i = -1, o = {}, a = !1, s = !0;
        function u(e) {
            var t = e.origin;
            if (/(\.|^)qq\.com$/.test(t)) {
                var n;
                try {
                    n = JSON.parse(e.data)
                } catch (e) {}
                n && "cross-domain-local-message" === n.namespace && ("iframe-ready" === n.id ? (s = !0,
                r.initCallback()) : function(e) {
                    o[e.id] && (o[e.id](e),
                    delete o[e.id])
                }(n))
            }
        }
        function c(e, t, r, a) {
            i++,
            o[i] = a;
            var s = {
                namespace: "cross-domain-local-message",
                id: i,
                action: e,
                key: t,
                value: r
            };
            n.contentWindow.postMessage(JSON.stringify(s), "*")
        }
        function l(e) {
            r = function(e, t) {
                var n, r = t || {};
                for (n in e)
                    e.hasOwnProperty(n) && (r[n] = e[n]);
                return r
            }(e, r);
            var t = document.createElement("div");
            window.addEventListener ? window.addEventListener("message", u, !1) : window.attachEvent("onmessage", u),
            t.innerHTML = '<iframe id="' + r.iframeId + '" src=' + r.iframeUrl + ' style="display: none;"></iframe>',
            document.body.appendChild(t),
            n = document.getElementById(r.iframeId)
        }
        function f() {
            return !!a && !!s
        }
        e.exports = {
            init: function(e) {
                if (!e.iframeUrl)
                    throw "必须指定iframe的url";
                a || (a = !0,
                "complete" === document.readyState ? l(e) : window.onload = function() {
                    l(e)
                }
                )
            },
            set: function(e, t, n) {
                f() && c("set", e, t, n)
            },
            get: function(e, t) {
                f() && c("get", e, null, t)
            },
            remove: function(e, t) {
                f() && c("remove", e, null, t)
            },
            clear: function(e) {
                f() && c("clear", null, null, e)
            },
            filter: function(e, t) {
                f() && c("filter", e.toString().replace(/(^\/)|(\/$)/g, ""), null, t)
            },
            wasInit: function() {
                return a
            }
        }
    },
    "5mxc": function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.SubEventName = t.ENS = void 0;
        var r;
        t.ENS = "QWEBRTC",
        t.SubEventName = r,
        function(e) {
            e.SDKERROR = "sdkerror",
            e.SUPPORT_WEBRTC = "support_webrtc",
            e.NOT_SUPPORT_WEBRTC = "not_support_webrtc",
            e.SESSION = "session",
            e.CHANNEL_START = "channel_start",
            e.CHANNEL_FAIL = "channel_fail",
            e.CHANNEL_SUCC = "channel_succ",
            e.CHANNEL_NEED_RECONNECT = "channel_need_reconnnected",
            e.CHANNEL_RECONNECT = "channel_reconnnect",
            e.CHANNEL_RECONNECT_SUCC = "channel_reconnnect_succ",
            e.CHANNEL_RECONNECT_FAIL = "channel_reconnnect_fail",
            e.HTTP_SIGNAL_MODE = "use_http_signal_mode",
            e.HTTP_SIGNAL_PULL_START = "http_signal_pull_start",
            e.HTTP_SIGNAL_PULL_SUCC = "http_signal_pull_succ",
            e.HTTP_SIGNAL_PULL_FAIL = "http_signal_pull_fail",
            e.HTTP_SIGNAL_STOP_START = "http_signal_stop_start",
            e.HTTP_SIGNAL_STOP_SUCC = "http_signal_stop_succ",
            e.HTTP_SIGNAL_STOP_FAIL = "http_signal_stop_fail",
            e.ENTERROOM_START = "enterroomstart",
            e.ENTERROOM_FAIL = "enterroomfail",
            e.ENTERROOM_SUCC = "enterroomsucc",
            e.CREATEPEER_SUCC = "createpeersucc",
            e.CREATEPEER_FAIL = "createpeerfail",
            e.LOCAL_SDP = "localsdp",
            e.REMOTE_SDP = "remotesdp",
            e.SDP_FAIL = "sdpfail",
            e.SDP_SUCC = "sdpsucc",
            e.STREAM_ADD = "stream_add",
            e.STREAM_REMOVE = "stream_remove",
            e.STREAM_UPDATE = "stream_update",
            e.LOCAL_CANDIDATE = "local_candidate",
            e.REMOTE_CANDIDATE = "remote_candidate",
            e.ICE_START = "icestart",
            e.ICE_SUCC = "icesucc",
            e.ICE_FAIL = "icefail",
            e.ICE_DISCONNECT = "icedisconnect",
            e.FIRST_VIDEO = "firstvideo",
            e.FIRST_AUDIO = "firstaudio",
            e.LOADED_VIDEO = "loadedvideo",
            e.LOADED_AUDIO = "loadedaudio",
            e.KICK_OUT = "kickout",
            e.RTC_FREEZE = "freeze",
            e.RTC_QUALITY = "rtc_quality"
        }(r || (t.SubEventName = r = {}))
    },
    "6bHo": function(e, t) {
        var n, r = function() {
            var e, t, n = document.getElementsByTagName("head")[0], r = window.location.hostname || "edu_database", i = new Date;
            if (n.addBehavior) {
                try {
                    (t = new ActiveXObject("htmlfile")).open(),
                    t.write('<script>document.w=window;<\/script><iframe src="/favicon.ico"></frame>'),
                    t.close(),
                    e = t.w.frames[0].document
                } catch (t) {
                    e = document
                }
                n = e.createElement("head"),
                e.appendChild(n),
                i.setDate(i.getDate() + 30),
                n.addBehavior("#default#userData"),
                n.expires = i.toUTCString(),
                n.load(r);
                var o = n.XMLDocument.documentElement
                  , a = o.attributes
                  , s = /^[-\d]/
                  , u = new RegExp("^prefix_____hack__")
                  , c = function(e) {
                    return s.test(e) ? "prefix_____hack__" + e : e
                };
                return {
                    length: a.length,
                    notNativeCode: !0,
                    getItem: function(e) {
                        return (a.getNamedItem(c(e)) || {
                            nodeValue: null
                        }).nodeValue || o.getAttribute(c(e))
                    },
                    setItem: function(e, t) {
                        o.setAttribute(c(e), t),
                        n.save(r),
                        this.length = a.length
                    },
                    removeItem: function(e) {
                        o.removeAttribute(c(e)),
                        n.save(r),
                        this.length = a.length
                    },
                    clear: function() {
                        for (; a.length; )
                            this.removeItem(a[0].nodeName);
                        this.length = 0
                    },
                    key: function(e) {
                        return a[e] ? function(e) {
                            return e.replace(u, "")
                        }(a[e].nodeName) : void 0
                    }
                }
            }
        };
        try {
            (n = window.localStorage) || (n = r())
        } catch (e) {
            n = r()
        }
        var i = function(e) {
            var t = function() {
                return null
            };
            return e ? {
                set: function(t, n) {
                    void 0 !== this.get(t) && this.remove(t);
                    try {
                        e.setItem(t, n)
                    } catch (e) {
                        this.clear()
                    }
                },
                get: function(t) {
                    var n = e.getItem(t);
                    return null === n ? void 0 : n
                },
                remove: function(t) {
                    e.removeItem(t)
                },
                clear: function() {
                    e.clear()
                },
                each: function(e) {
                    var t, n = this.obj(), r = e || function() {}
                    ;
                    for (t in n)
                        if (!1 === r.call(this, t, this.get(t)))
                            break
                },
                obj: function() {
                    var t, n, r = {}, i = 0;
                    if (e.isVirtualObject)
                        r = e.key(-1);
                    else
                        for (t = e.length; i < t; i++)
                            r[n = e.key(i)] = this.get(n);
                    return r
                },
                filter: function(t) {
                    var n, r, i = [], o = 0;
                    if (e.isVirtualObject)
                        i = [];
                    else
                        for (n = e.length; o < n; o++)
                            r = e.key(o),
                            t.test(r) && i.push({
                                key: r,
                                value: this.get(r)
                            });
                    return i
                }
            } : {
                set: t,
                get: t,
                remove: t,
                clear: t,
                each: t,
                obj: t,
                filter: t
            }
        }(n);
        e.exports = i
    },
    "7UZi": function(e, t, n) {
        var r = n("cDf5")
          , i = !("object" === ("undefined" == typeof window ? "undefined" : r(window)) && window && "undefined" != typeof document);
        function o(e) {
            if (i)
                return "";
            var t = document.cookie.match(new RegExp("(^| )" + e + "=([^;]*)(;|$)"));
            return t ? decodeURIComponent(t[2]) : ""
        }
        var a = ["p_lskey", "p_skey", "uid_a2", "skey", "token"];
        e.exports = function() {
            return function(e) {
                if (!e)
                    return "";
                for (var t = 5381, n = 0, r = e.length; n < r; ++n)
                    t += (t << 5) + e.charAt(n).charCodeAt();
                return 2147483647 & t
            }(function() {
                for (var e in a) {
                    var t = o(a[e]);
                    if (t)
                        return t
                }
                return ""
            }())
        }
    },
    "7xkJ": function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.setLogger = function(e) {
            T = e
        }
        ,
        t.setReportConfig = _,
        t.default = S;
        var i = r(n("lSNA"))
          , o = r(n("3/DG"))
          , a = r(n("zMkY"))
          , s = n("+aGj")
          , u = r(n("lhmy"))
          , c = r(n("t/8C"))
          , l = n("FsGU")
          , f = n("sed+")
          , d = r(n("OPyl"))
          , h = r(n("qHXt"))
          , p = r(n("EHa4"))
          , v = r(n("x8SP"))
          , m = r(n("nUVo"));
        function g(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }
                ))),
                n.push.apply(n, r)
            }
            return n
        }
        function y(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? g(Object(n), !0).forEach((function(t) {
                    (0,
                    i.default)(e, t, n[t])
                }
                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : g(Object(n)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                }
                ))
            }
            return e
        }
        var E, T = u.default.createReportor("lokiplayerV3"), b = new c.default(T);
        function _(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
              , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
              , r = "0";
            "function" == typeof e.getUin && (r = (e.getUin() || "0").toString());
            var i = y(y(y({}, e.tdw || {}), t), {}, {
                filter: (0,
                l.getEduClientVersion)()
            });
            b.config({
                uin: r,
                reporterConfig: e,
                tdwArgs: i,
                versionCode: n
            })
        }
        function S(e, t) {
            var n = t.Constants
              , r = n.PlayerEvents
              , i = n.STAGES
              , u = t.Constants.ENS
              , c = t.Utils
              , g = c.Browser
              , E = c.Url
              , S = e.getOptions()
              , R = S.reportConfig;
            if (R) {
                var w = R.getUin ? (R.getUin() || "").toString() : (0,
                l.getUin)()
                  , C = t.logger;
                C && (C.openLog((function(e) {
                    for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                        n[r - 1] = arguments[r];
                    l.consolelog.apply(void 0, [e].concat(n)),
                    T[e](n.map((function(e) {
                        try {
                            return JSON.stringify(e)
                        } catch (n) {
                            var t;
                            return null === (t = e.toString) || void 0 === t ? void 0 : t.call(e)
                        }
                    }
                    )).join(" "))
                }
                )),
                C.setCopyMethod((function() {
                    return "\nuin:".concat(w, "\n")
                }
                )),
                C.setUploadMethod((function() {
                    T._logger.read(void 0, Date.now(), null).then((function(e) {
                        return T._logger.uploader.logText = e.map((function(e) {
                            return (0,
                            o.default)(e)
                        }
                        )).join("\n"),
                        T._logger.uploader.tip = function() {}
                        ,
                        T._logger.uploader.close = function() {}
                        ,
                        T._logger.uploader.upload()
                    }
                    )).catch((function(e) {}
                    ))
                }
                )),
                t.oedReporter = b);
                var O, L = Date.now(), A = "", P = !1, I = E.getUrlParam("course_id") || E.getUrlParam("cid"), D = E.getUrlParam("term_id") || E.getUrlParam("tid"), k = y(y({}, R.tdw || {}), {}, {
                    ver1: I,
                    ver2: D,
                    ver3: navigator.platform,
                    filter: (0,
                    l.getEduClientVersion)(),
                    ver8: g.browser.browserType + g.browser.browserVersion
                });
                _(R, k, t.version),
                S.qcloudVod && (0,
                m.default)(e, b),
                e.on(i.BEFORE_LOADMODE, (function() {
                    var t;
                    if (null != e && null !== (t = e.options) && void 0 !== t && t.hls) {
                        var n = 0;
                        e.once((0,
                        l.playerEventName)("HLS", s.HLS_EVENTS.MANIFEST_LOADING), (function() {
                            n = Date.now()
                        }
                        )),
                        e.once((0,
                        l.playerEventName)("HLS", s.HLS_EVENTS.MANIFEST_LOADED), (function(e) {
                            var t;
                            if (0 === n)
                                return (0,
                                l.consolelog)("HLSJS_LOADM3U8 测速异常");
                            b.speed("HLSJS_LOADM3U8", Date.now() - n, {
                                addition: null === (t = e.detail) || void 0 === t ? void 0 : t.url
                            })
                        }
                        ))
                    }
                }
                )),
                e.on(i.LOAD_MODE, (function(t) {
                    switch (A = t.detail,
                    b.setCurrMode(A),
                    A) {
                    case "hls":
                        (0,
                        p.default)(e, b, L, t.ts);
                        break;
                    case "flv":
                        (0,
                        v.default)(e, b, L, t.ts);
                        break;
                    case "webrtc":
                        (0,
                        f.initWebrtcReporterEvent)(e, b, L, t.ts);
                        break;
                    case "trtc":
                        (0,
                        d.default)(e, b, L, t.ts);
                        break;
                    case "qwebrtc":
                        (0,
                        f.initQWebrtcReporterEvent)(e, b, L, t.ts);
                        break;
                    case "leb":
                        (0,
                        h.default)(e, b, L, t.ts)
                    }
                    b.exec("PLAYER", "loadmode", A, 0, "loadmode-ts:".concat(t.ts))
                }
                )),
                e.on(r.ERROR, (function(e) {
                    var t = e.code
                      , n = e.msg;
                    b.exec("PLAYER", r.ERROR, t, 0, n),
                    b.exec("PLAYER", "".concat(r.ERROR, "-").concat(t), t, 0, n)
                }
                )),
                e.on(i.READY, (function() {
                    var t = {
                        isWebRTCSupported: !1,
                        isFlvSupported: !1,
                        isHlsjsSupported: !1,
                        isNativeSupported: !1,
                        shouldUseHlsWay: "unknown"
                    };
                    try {
                        Object.values(e.modeHandlers).forEach((function(e) {
                            Object.keys(t).forEach((function(n) {
                                void 0 !== e[n] && (t[n] = e[n])
                            }
                            ))
                        }
                        )),
                        T.info("[PLAYER] detected result: ".concat(JSON.stringify(t)));
                        var n = y({
                            action: "DetectSupport",
                            obj3: t.shouldUseHlsWay,
                            ver4: t.isWebRTCSupported,
                            ver5: t.isHlsjsSupported,
                            ver6: t.isNativeSupported,
                            ver7: t.isFlvSupported
                        }, k);
                        b.tdw(n)
                    } catch (e) {
                        T.info("[PLAYER] detected error: ".concat(e))
                    }
                }
                ));
                var N = R.monitor
                  , x = {
                    webrtc: {
                        type: u.WEBRTC,
                        subType: s.WEBRTC_EVENTS.WAITING_RTC_FREEZE
                    },
                    qwebrtc: {
                        type: u.QWEBRTC,
                        subType: s.QWEBRTC_EVENTS.WAITING_RTC_FREEZE
                    },
                    flv: {
                        type: u.FLV,
                        subType: s.FLV_EVENTS.WAITING_FLV_FREEZE
                    },
                    hls: {
                        type: u.HLS,
                        subType: s.HLS_EVENTS.HLS_FREEZE
                    },
                    trtc: {
                        type: u.TRTC,
                        subType: s.TRTC_EVENTS.RTC_FREEZE
                    }
                }
                  , M = {
                    lagging: !1,
                    lagStart: 0,
                    lagEnd: 0,
                    lagInterval: 500,
                    lagDuration: 0,
                    skip: !1
                }
                  , F = !1;
                e.on("seeking", (function() {
                    F = !0
                }
                )),
                e.on("seeked", (function() {
                    F = !1
                }
                )),
                e.on("playing", (function() {
                    if (M.lagging && P) {
                        var e = B();
                        e > M.lagInterval && U(e)
                    }
                }
                )),
                e.on("waiting", (function() {
                    M.lagging || F || M.skip || !P || (M.lagging = !0,
                    M.lagStart = Date.now())
                }
                )),
                e.on("ended", (function() {
                    var e;
                    M.lagging && P && (e = (e = B()) > M.lagInterval ? e : 0),
                    U(e)
                }
                )),
                e.on("loadeddata", (function() {
                    P = !0,
                    O = Date.now()
                }
                )),
                e.on("play", (function() {
                    0,
                    0
                }
                ))
            }
            function U(e) {
                var t, n, r, i = Date.now(), o = i - O, s = e;
                if ((s < 0 || s > 6e4) && (s = 0),
                O = i,
                !(o < s) && x[A]) {
                    var u = x[A]
                      , c = u.type
                      , l = u.subType
                      , f = y(y({
                        action: l,
                        obj1: s,
                        obj2: (new Date).getTime() + Math.random().toString().replace(".", "")
                    }, k), {}, {
                        ver5: o,
                        ver12: A
                    });
                    b.tdw(f),
                    T.info("[".concat(A, "]卡顿-ts:").concat(i, "，卡顿时间").concat(s, "，播放时间").concat(o), {
                        monitorId: (null == N || null === (t = N[c]) || void 0 === t ? void 0 : t[l]) || 0
                    }),
                    null === (n = a.default.LokiPlayer) || void 0 === n || null === (r = n.reportVodBlock) || void 0 === r || r.call(n, s, o)
                }
            }
            function B() {
                M.lagEnd = Date.now(),
                M.lagging = !1;
                var e = M.lagEnd - M.lagStart;
                return M.lagDuration += e,
                M.lagEnd = 0,
                M.lagStart = 0,
                e
            }
        }
        void 0 !== a.default && a.default.LokiPlayer && (a.default.LokiPlayer.install("report", S),
        a.default.LokiPlayer.imlogger = T,
        a.default.LokiPlayer.report = b,
        a.default.imlogger = T,
        E = !1,
        a.default.LokiPlayer.videoPVReport = function(e, t) {
            E || (E = !0,
            b.exec("player", "videopv", "", 1, "video pv report", {
                ver4: e,
                ver9: t ? 1 : 0
            }))
        }
        )
    },
    "8Dsa": function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.copyStream = t.getTrack = void 0;
        var r = function(e, t) {
            return "audio" === t ? e.getAudioTracks()[0] : e.getVideoTracks()[0]
        };
        t.getTrack = r;
        t.copyStream = function(e, t) {
            if (!e)
                return null;
            var n = r(e, t)
              , i = new MediaStream;
            if (n)
                i.addTrack(n);
            else
                var o = setInterval((function() {
                    var n = r(e, t);
                    n && (i.addTrack(n),
                    clearInterval(o))
                }
                ), 200);
            return i
        }
    },
    "8H4/": function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("q1tI")).default.createContext({
            values: {},
            checkMsg: {},
            onChange: function() {}
        });
        t.default = i
    },
    "8sqx": function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = S;
        var i = r(n("lSNA"))
          , o = r(n("vgmO"))
          , a = n("zPDh")
          , s = n("mgYB")
          , u = n("P0H5")
          , c = n("fyvy")
          , l = r(n("BZI8"))
          , f = n("AMcO")
          , d = n("e6Hx");
        function h(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }
                ))),
                n.push.apply(n, r)
            }
            return n
        }
        function p(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? h(Object(n), !0).forEach((function(t) {
                    (0,
                    i.default)(e, t, n[t])
                }
                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : h(Object(n)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                }
                ))
            }
            return e
        }
        var v = (0,
        f.initVodPlayFields)()
          , m = (0,
        f.initVodStop)()
          , g = (0,
        f.initLivePlay)()
          , y = (0,
        f.initLiveDisconnect)()
          , E = (0,
        f.initVodBlock)()
          , T = (0,
        f.initVodSeek)()
          , b = !1
          , _ = !0;
        function S(e, t) {
            var n, r, i = t.Constants, h = (i.PlayerEvents,
            i.STAGES), p = {
                streamAddTime: 0
            };
            e.on("loadedmetadata", (function() {
                var r, i, a, s = Date.now() - n, u = (null === (r = JSON.stringify(null === (i = e.options) || void 0 === i ? void 0 : i.pattern)) || void 0 === r ? void 0 : r.indexOf("live")) > -1, c = performance ? Math.round(performance.now()) : Date.now() - (null === o.default || void 0 === o.default || null === (a = o.default.T) || void 0 === a ? void 0 : a.page_start);
                if (u) {
                    var l, d, h, v = Date.now() - p.streamAddTime;
                    if (p.streamAddTime)
                        null === (h = t.updateLivePlayMetrics) || void 0 === h || h.call(t, (0,
                        f.getMetricItem)("StreamAddCost", v));
                    null === (l = t.updateLivePlayMetrics) || void 0 === l || l.call(t, (0,
                    f.getMetricItem)("LoadMetadataFromLoadMode", s)),
                    null === (d = t.updateLivePlayMetrics) || void 0 === d || d.call(t, (0,
                    f.getMetricItem)("TotalCost", c))
                } else {
                    var m, g;
                    null === (m = t.updateVodPlayMetrics) || void 0 === m || m.call(t, (0,
                    f.getMetricItem)("LoadMetadataFromLoadMode", s)),
                    null === (g = t.updateVodPlayMetrics) || void 0 === g || g.call(t, (0,
                    f.getMetricItem)("TotalCost", c))
                }
            }
            )),
            e.on("loadeddata", (function() {
                var n, r;
                p.playStart = Date.now(),
                (null === (n = JSON.stringify(null === (r = e.options) || void 0 === r ? void 0 : r.pattern)) || void 0 === n ? void 0 : n.indexOf("live")) > -1 ? (0,
                f.newReport)("live_play", d.ReportLevel.live_play, g).then((function() {
                    t.resetFields()
                }
                )) : b && _ ? (0,
                f.newReport)("vod_continue", d.ReportLevel.vod_play, v).then((function() {
                    t.resetFields()
                }
                )) : _ ? (0,
                f.newReport)("vod_play", d.ReportLevel.vod_play, v).then((function() {
                    t.resetFields()
                }
                )) : t.resetFields()
            }
            )),
            e.on(h.BEFORE_LOADMODE, (function() {
                var n, r = 0;
                null != e && null !== (n = e.options) && void 0 !== n && n.hls && (e.once((0,
                f.playerEventName)("HLS", d.HLS_EVENTS.MANIFEST_LOADING), (function() {
                    r = Date.now()
                }
                )),
                e.once((0,
                f.playerEventName)("HLS", d.HLS_EVENTS.MANIFEST_LOADED), (function(e) {
                    var n, i;
                    if (0 === r)
                        return (0,
                        f.consolelog)("HLSJS_LOADM3U8 测速异常");
                    var o = Date.now() - r;
                    (0,
                    f.consolelog)("HLSJS_LOADM3U8, url: ".concat(null === (n = e.detail) || void 0 === n ? void 0 : n.url), o),
                    null === (i = t.updateVodPlayMetrics) || void 0 === i || i.call(t, (0,
                    f.getMetricItem)("GetM3U8", o))
                }
                )))
            }
            )),
            e.on(h.LOAD_MODE, (function(r) {
                var i = r.detail;
                switch (n = r.ts,
                i) {
                case "hls":
                    (0,
                    a.initHLSReport)(e, t);
                    break;
                case "flv":
                    (0,
                    u.initFLVReport)(e, t);
                    break;
                case "webrtc":
                    (0,
                    c.initWebrtcReporterEvent)(e, t, p);
                    break;
                case "trtc":
                    (0,
                    s.initTrtcReporterEvent)(e, t, p);
                    break;
                case "qwebrtc":
                    (0,
                    c.initQWebrtcReporterEvent)(e, t, p);
                    break;
                case "leb":
                    (0,
                    l.default)(e, t, p)
                }
            }
            )),
            e.on("seeking", (function() {
                r = Date.now()
            }
            )),
            e.on("seeked", (function() {
                T.metrics[0].event_data.item[0] = {
                    start_time: r.toString(),
                    stage_name: "SeekCost",
                    stage_cost: Date.now() - r,
                    succ: "1",
                    cache: "0"
                },
                (0,
                f.newReport)("vod_seek", d.ReportLevel.vod_seek, T)
            }
            ))
        }
        void 0 !== o.default && o.default.LokiPlayer && (o.default.LokiPlayer.install("newreport", S),
        o.default.LokiPlayer.updateVodPlayMetrics = function(e) {
            var t;
            null === (t = v.metrics[0].event_data) || void 0 === t || t.item.push((0,
            f.formatPlayMetricItem)(e))
        }
        ,
        o.default.LokiPlayer.updateVodPlayToContinue = function() {
            v.metrics[0].event = "vod_continue",
            b = !0
        }
        ,
        o.default.LokiPlayer.setFirstPlay = function(e) {
            _ = e
        }
        ,
        o.default.LokiPlayer.updateLivePlayMetrics = function(e) {
            var t;
            null === (t = g.metrics[0].event_data) || void 0 === t || t.item.push((0,
            f.formatPlayMetricItem)(e))
        }
        ,
        o.default.LokiPlayer.reportStartPlayFail = function(e) {
            if ("vod_play" === e) {
                var t;
                v.metrics[0].event_data.succ = "0",
                null === (t = v.metrics[0].event_data.item) || void 0 === t || t.push({
                    start_time: Date.now().toString(),
                    stage_cost: 0,
                    stage_name: "vod_fail",
                    succ: "0",
                    cache: "0"
                });
                var n = JSON.parse(JSON.stringify(v));
                (0,
                f.newReport)(e, d.ReportLevel.vod_play, n),
                o.default.LokiPlayer.resetFields()
            } else {
                var r;
                g.metrics[0].event_data.succ = "0",
                null === (r = v.metrics[0].event_data.item) || void 0 === r || r.push({
                    start_time: Date.now().toString(),
                    stage_cost: 0,
                    stage_name: "live_fail",
                    succ: "0",
                    cache: "0"
                });
                var i = JSON.parse(JSON.stringify(g));
                (0,
                f.newReport)(e, d.ReportLevel.live_play, i),
                o.default.LokiPlayer.resetFields()
            }
        }
        ,
        o.default.LokiPlayer.updateReportPublicFields = function(e) {
            "weblive" === e.page ? (g = p(p({}, g), e),
            y = p(p({}, y), e)) : (v = p(p({}, v), e),
            m = p(p({}, m), e),
            E = p(p({}, E), e),
            T = p(p({}, T), e))
        }
        ,
        o.default.LokiPlayer.reportVodStopReason = function(e, t) {
            var n, r = {
                event: "vod_stop",
                event_data: {
                    reason: e,
                    detail: t
                }
            };
            null === (n = m.metrics) || void 0 === n || n.push(r),
            (0,
            f.newReport)("vod_stop", d.ReportLevel.vod_stop, m)
        }
        ,
        o.default.LokiPlayer.reportVodBlock = function(e, t) {
            E.metrics[0].event_data.item[0] = (0,
            f.getMetricItem)("VodBlock", e),
            E.metrics[0].event_data.item[1] = (0,
            f.getMetricItem)("VodPlayTime", t),
            t && (0,
            f.newReport)("vod_block", d.ReportLevel.vod_block, E).then((function() {
                E.uuid = (0,
                f.guid)()
            }
            ))
        }
        ,
        o.default.LokiPlayer.reportLiveDisconnectReason = function(e) {
            var t, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", r = {
                event: "live_disconnect",
                event_data: {
                    reason: e,
                    detail: n
                }
            };
            null === (t = y.metrics) || void 0 === t || t.push(r),
            (0,
            f.newReport)("live_disconnect", d.ReportLevel.live_disconnect, y)
        }
        ,
        o.default.LokiPlayer.resetFields = function() {
            var e = Date.now().toString();
            v.metrics = [{
                event: "vod_play",
                event_data: {
                    succ: "1",
                    item: []
                }
            }],
            v.uuid = (0,
            f.guid)(),
            v.timestamp = e,
            b = !1,
            m.metrics = [],
            m.timestamp = e,
            m.uuid = (0,
            f.guid)(),
            g.metrics = [{
                event: "live_play",
                event_data: {
                    succ: "1",
                    item: []
                }
            }],
            g.uuid = (0,
            f.guid)(),
            g.timestamp = e,
            y.metrics = [],
            y.timestamp = e
        }
        ,
        o.default.LokiPlayer.getVodPlay = function() {
            return v
        }
        ,
        o.default.LokiPlayer.getLivePlay = function() {
            return g
        }
        ,
        o.default.LokiPlayer.getVodStop = function() {
            return m
        }
        ,
        o.default.LokiPlayer.getLiveDisconnect = function() {
            return y
        }
        ,
        o.default.LokiPlayer.setKeAVQField = function(e) {
            var t = e.cid
              , n = e.tid
              , r = e.uin;
            v.uin = r,
            m.uin = r,
            g.uin = r,
            y.uin = r,
            E.uin = r,
            T.uin = r,
            v.cid = t,
            m.cid = t,
            g.cid = t,
            y.cid = t,
            E.cid = t,
            T.cid = t,
            v.tid = n,
            m.tid = n,
            g.tid = n,
            y.tid = n,
            E.tid = n,
            T.tid = n
        }
        ,
        o.default.LokiPlayer.getMetricItem = f.getMetricItem,
        o.default.LokiPlayer.avmReport = f.report)
    },
    AGpV: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = function(e) {
            e = e || {};
            var t = function() {
                for (var e = ["saleToken", "flowToken", "tuin", "from"], t = 0, n = e.length; t < n; t++) {
                    var i = e[t]
                      , o = (0,
                    r.query)(i);
                    if (o)
                        return {
                            sourcetype: i,
                            sourcefrom: o
                        }
                }
                return {}
            }()
              , n = +("0x" + ((0,
            r.query)("tuin") || (0,
            r.getHash)("tuin"))).toString(10);
            return e.auin = e.auin || n || "-",
            e.sourcetype = e.sourcetype || t.sourcetype || "",
            e.sourcefrom = e.sourcefrom || t.sourcefrom || "",
            e
        }
        ;
        var r = n("zpTf")
    },
    ALLf: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("wG9f"))
          , o = n("pzY9")
          , a = r(n("AGpV"))
          , s = r(n("inNd"))
          , u = r(n("UdNI"))
          , c = r(n("OLEe"))
          , l = r(n("w6AT"))
          , f = n("zpTf")
          , d = n("bKDu")
          , h = n("XeFI")
          , p = location.pathname
          , v = window.location
          , m = {}
          , g = window.isReportorInit
          , y = !1;
        function E(e) {
            e.config({
                opername: "edu",
                platform: l.default.getPlatform(),
                url: v.href,
                refer: document.referrer
            }, {
                table: "dc03514",
                pr_ip: "clientip",
                pr_t: "reporttime",
                slicer: 4
            })
        }
        m.config = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
              , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            i.default.config(Object.assign({}, e), t),
            !0 === e.closeLocal || y || (y = !0,
            i.default.initLocal && i.default.initLocal({
                whiteDomain: ["ke.qq.com"],
                crossProxy: "//ke.qq.com/storage_proxy.html",
                crossDomain: !0
            }))
        }
        ,
        m.tdw = function(e, t) {
            i.default[t ? "reportSync" : "report"](e)
        }
        ,
        m.tdwAsync = function(e, t) {
            i.default.reportSync(e, t)
        }
        ,
        m.getReportData = i.default.getCommonData,
        m.reportPageView = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            ~p.indexOf("/storage_proxy.html") || m.tdw(Object.assign({
                action: "pageview",
                url_testid: (0,
                d.getTestid)(),
                url_session_flowid: (0,
                h.getSessionFlowid)(),
                pushid: (0,
                f.query)("push_id")
            }, e))
        }
        ,
        function() {
            if (g)
                E(m = window.reportorHandler);
            else {
                window.isReportorInit = !0,
                window.reportorHandler = m,
                E(i.default),
                c.default.injectHref();
                var e = (0,
                o.getCookieData)();
                (0,
                a.default)(e),
                (0,
                s.default)(e),
                (0,
                u.default)(e, m),
                i.default.config(e),
                (0,
                o.setCookieData)(e)
            }
        }();
        var T = m;
        t.default = T
    },
    AMcO: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.playerEventName = function(e, t) {
            return "".concat(e, ".").concat(t)
        }
        ,
        t.getUin = c,
        t.guid = b,
        t.initLiveDisconnect = t.initLivePlay = t.formatPlayMetricItem = t.getMetricItem = t.initVodSeek = t.initVodBlock = t.initVodStop = t.initVodPlayFields = t.initPublicFields = t.newReport = t.report = t.consolelog = t.getEduClientVersion = void 0;
        var i = r(n("lSNA"))
          , o = r(n("o0o1"))
          , a = r(n("yXPU"));
        function s(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }
                ))),
                n.push.apply(n, r)
            }
            return n
        }
        function u(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? s(Object(n), !0).forEach((function(t) {
                    (0,
                    i.default)(e, t, n[t])
                }
                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : s(Object(n)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                }
                ))
            }
            return e
        }
        function c() {
            return "2" === (document.cookie.match(/\buid_type=(\d+)/) || [])[1] ? (document.cookie.match(/\buid_uin=(\d+)/) || [])[1] : (document.cookie.match(/\buin=\D+(\d+)|\bp_luin=\D+(\d+)/) || [])[1] || (document.cookie.match(/\buin=\D+(\d+)|\bp_luin=\D+(\d+)/) || [])[2] || "0"
        }
        var l = function() {
            try {
                if ("undefined" != typeof window) {
                    var e = window.navigator.userAgent;
                    return e ? e.toLowerCase() : ""
                }
                return ""
            } catch (e) {
                return ""
            }
        };
        t.getEduClientVersion = l;
        var f = "undefined" != typeof window && localStorage.getItem("oed-report-flag")
          , d = console.log;
        t.consolelog = function() {
            if (f) {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                    t[n] = arguments[n];
                d.call.apply(d, [console].concat(t))
            }
        }
        ;
        var h = Number.MAX_VALUE
          , p = 0
          , v = function() {
            var e = (0,
            a.default)(o.default.mark((function e(t, n, r) {
                var i, a;
                return o.default.wrap((function(e) {
                    for (; ; )
                        switch (e.prev = e.next) {
                        case 0:
                            return "ke_sf",
                            i = "ke_sf" === r.bs_type,
                            e.prev = 2,
                            e.next = 5,
                            fetch("https://report.edu.qq.com/cdr/v1/".concat("avm", "?type=").concat(t, "&level=").concat(n, "&bs_type=").concat(i ? "ke_sf" : ""), {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json"
                                },
                                body: JSON.stringify(r)
                            });
                        case 5:
                            return a = e.sent,
                            e.abrupt("return", a.json());
                        case 9:
                            e.prev = 9,
                            e.t0 = e.catch(2);
                        case 12:
                        case 13:
                        case "end":
                            return e.stop()
                        }
                }
                ), e, null, [[2, 9]])
            }
            )));
            return function(t, n, r) {
                return e.apply(this, arguments)
            }
        }();
        t.report = v;
        var m = function(e, t) {
            var n = !1;
            return (0,
            a.default)(o.default.mark((function r() {
                var i = arguments;
                return o.default.wrap((function(r) {
                    for (; ; )
                        switch (r.prev = r.next) {
                        case 0:
                            if (!n) {
                                r.next = 2;
                                break
                            }
                            return r.abrupt("return");
                        case 2:
                            return n = !0,
                            setTimeout((function() {
                                n = !1
                            }
                            ), t),
                            r.next = 6,
                            e.apply(void 0, i);
                        case 6:
                            return r.abrupt("return", r.sent);
                        case 7:
                        case "end":
                            return r.stop()
                        }
                }
                ), r)
            }
            )))
        }
          , g = m(v, p)
          , y = function() {
            var e = (0,
            a.default)(o.default.mark((function e(t, n, r) {
                return o.default.wrap((function(e) {
                    for (; ; )
                        switch (e.prev = e.next) {
                        case 0:
                            return e.abrupt("return", new Promise((function(e, i) {
                                n < h && v(t, n, r).then((function(t) {
                                    var n = (null == t ? void 0 : t.interval) || 5e3
                                      , r = (null == t ? void 0 : t.level) || 2;
                                    n !== p && (g = m(v, p = n)),
                                    h = r,
                                    e(t)
                                }
                                )).catch((function(e) {
                                    i(e)
                                }
                                )),
                                n === h && g(t, n, r).then((function(t) {
                                    var n = (null == t ? void 0 : t.interval) || 5e3
                                      , r = (null == t ? void 0 : t.level) || 2;
                                    n !== p && (g = m(v, p = n)),
                                    h = r,
                                    e(t)
                                }
                                ))
                            }
                            )));
                        case 1:
                        case "end":
                            return e.stop()
                        }
                }
                ), e)
            }
            )));
            return function(t, n, r) {
                return e.apply(this, arguments)
            }
        }();
        t.newReport = y;
        var E = function() {
            return {
                platform: "",
                net_type: "",
                version: l() || navigator.userAgent,
                uin: c(),
                timestamp: Date.now().toString(),
                uuid: b(),
                bs_type: "",
                page: "",
                cid: "",
                tid: ""
            }
        };
        t.initPublicFields = E;
        t.initVodPlayFields = function() {
            return u(u({}, E()), {}, {
                file_id: "",
                template_id: "",
                play_type: "",
                metrics: [{
                    event: "vod_play",
                    event_data: {
                        succ: "1",
                        item: []
                    }
                }]
            })
        }
        ;
        t.initVodStop = function() {
            return u(u({}, E()), {}, {
                file_id: "",
                template_id: "",
                play_type: "",
                metrics: []
            })
        }
        ;
        t.initVodBlock = function() {
            return u(u({}, E()), {}, {
                file_id: "",
                template_id: "",
                play_type: "",
                metrics: [{
                    event: "vod_block",
                    event_data: {
                        succ: "1",
                        item: []
                    }
                }]
            })
        }
        ;
        t.initVodSeek = function() {
            return u(u({}, E()), {}, {
                file_id: "",
                template_id: "",
                play_type: "",
                metrics: [{
                    event: "vod_seek",
                    event_data: {
                        succ: "1",
                        item: []
                    }
                }]
            })
        }
        ;
        t.getMetricItem = function(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "1"
              , r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "0"
              , i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : Date.now();
            return {
                start_time: i.toString(),
                stage_name: e,
                stage_cost: t,
                succ: n,
                cache: r
            }
        }
        ;
        t.formatPlayMetricItem = function(e) {
            return u(u({
                cache: "0"
            }, e), {}, {
                start_time: (e.start_time || Date.now()).toString()
            })
        }
        ;
        t.initLivePlay = function() {
            return u(u({}, E()), {}, {
                stream_type: "",
                room_id: "",
                metrics: [{
                    event: "live_play",
                    event_data: {
                        succ: "1",
                        item: []
                    }
                }]
            })
        }
        ;
        function T() {
            return (65536 * (1 + Math.random()) | 0).toString(16).substring(1)
        }
        function b() {
            return "".concat(T() + T(), "-").concat(T(), "-").concat(T(), "-").concat(T(), "-").concat(T()).concat(T()).concat(T())
        }
        t.initLiveDisconnect = function() {
            return u(u({}, E()), {}, {
                stream_type: "",
                room_id: "",
                metrics: []
            })
        }
    },
    AlOd: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("q1tI"))
          , o = r(n("8H4/"));
        var a = function(e) {
            return function(t) {
                var n = t.name;
                return i.default.createElement(o.default.Consumer, null, (function(r) {
                    var o = r.values
                      , a = r.checkMsg
                      , s = r.onChange;
                    return i.default.createElement(e, Object.assign({
                        value: o[n],
                        checkMsg: a[n],
                        onChange: s
                    }, t))
                }
                ))
            }
        };
        t.default = a
    },
    BDIu: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("w6AT"))
          , o = {
            url: "//tmapp.qq.com/cgi-bin/activity_platform/tdw/report",
            timer: 300,
            beforeRequest: function() {},
            success: function() {},
            error: function() {},
            fail: function() {},
            slicer: 5,
            table: "",
            pr_ip: "",
            pr_t: ""
        }
          , a = {}
          , s = {}
          , u = []
          , c = 0
          , l = console || {}
          , f = ["url", "refer", "courseid", "ver1", "ver3"]
          , d = {
            pool: [],
            write: function(e) {
                i.default.isPlainObject(e) ? this.pool.push(e) : Array.isArray(e) && Array.prototype.push.apply(this.pool, e)
            },
            read: function() {
                var e = this.pool;
                return this.pool = [],
                e
            }
        }
          , h = {
            config: function(e, t) {
                Object.assign(a, e),
                Object.assign(o, t),
                v(a)
            },
            report: function(e) {
                d.write(e),
                c || (c = setTimeout((function() {
                    !function() {
                        var e = []
                          , t = d.read();
                        t.length <= o.slicer ? m(p(t)) : (i.default.each(t, (function(t, n) {
                            e.push(n),
                            t > 0 && t % o.slicer == o.slicer - 1 && (m(p(e)),
                            e = [])
                        }
                        )),
                        e.length && m(p(e)))
                    }(),
                    c = 0
                }
                ), o.timer))
            },
            reportSync: function(e, t) {
                t = Object.assign({}, o, t),
                m(p(e), t)
            },
            composer: p,
            request: m,
            getCommonData: function(e) {
                return e ? a[e] : a
            },
            getConfigData: function(e) {
                return e ? o[e] : o
            }
        };
        function p(e) {
            var t;
            return v(e),
            t = function(e) {
                var t, n = [];
                if (!e)
                    return;
                i.default.isPlainObject(e) && (e = [e]);
                if (!Array.isArray(e))
                    return;
                return i.default.each(e, (function(e, r) {
                    t = [],
                    r = Object.assign({}, a, r),
                    i.default.each(u, (function(e, n) {
                        var i = r[n];
                        i = void 0 === i ? "" : i,
                        t.push(i)
                    }
                    )),
                    n.push(t)
                }
                )),
                n
            }(e),
            {
                fields: u,
                datas: t
            }
        }
        function v(e) {
            e && (i.default.isPlainObject(e) && (e = [e]),
            Array.isArray(e) && i.default.each(e, (function(e, t) {
                i.default.each(t, (function(e) {
                    s[e] || (s[e] = 1,
                    u.push(e))
                }
                ))
            }
            )))
        }
        function m(e, t) {
            var n, r, a = {};
            t = t || o,
            i.default.each(["table", "pr_ip", "pr_t"], (function(e, n) {
                a[n] = t[n] || ""
            }
            )),
            e.datas = (n = e.fields,
            (r = (r = e.datas) || []).forEach((function(e) {
                e.forEach((function(t, r) {
                    "string" == typeof t ? ~f.indexOf(n[r]) ? e[r] = t.substring(0, 450) : e[r] = t.substring(0, 50) : e[r] = t
                }
                ))
            }
            )),
            r),
            a.fields = JSON.stringify(e.fields),
            a.datas = JSON.stringify(e.datas),
            a.retype = 2,
            !1 !== o.beforeRequest(e) && t.url && (i.default.loadJSONP(t.url, a, (function(t) {
                o[0 === t.ret ? "success" : "error"](t, e)
            }
            )),
            function(e, t) {
                if (!l.table || !window.localStorage)
                    return;
                try {
                    if (1 === parseInt(window.localStorage.getItem("tdwFlag"), 10) || 1 === parseInt(window.localStorage.getItem("tdwFlag2"), 10))
                        for (var n = 0, r = t.length; n < r; n++) {
                            for (var i = {}, o = 0, a = e.length; o < a; o++)
                                "" !== t[n][o] && (i[e[o]] = t[n][o]);
                            l.table([i])
                        }
                } catch (e) {}
            }(e.fields, e.datas))
        }
        t.default = h
    },
    BZI8: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var r = n("e6Hx")
          , i = n("AMcO")
          , o = !1
          , a = function(e, t, n) {
            if (!o) {
                o = !0;
                var a = {}
                  , s = {};
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.SUPPORT_WEBRTC), (function(e) {
                    var n;
                    null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                    i.getMetricItem)("SupportWebRTC", 0))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.NOT_SUPPORT_WEBRTC), (function(e) {
                    var n, r;
                    null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                    i.getMetricItem)("NotSupportWebRTC", 0)),
                    null === (r = t.reportStartPlayFail) || void 0 === r || r.call(t, "live_play")
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.REQUEST_PULL_BEGIN), (function(e) {
                    var n, r = e.ts, o = e.detail;
                    a[o.streamId] = r,
                    null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                    i.getMetricItem)("PullStreamStart", 0))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.REQUEST_FIRST_PULL_BEGIN), (function(e) {
                    var n, r = e.ts, o = e.detail;
                    a[o.streamId] = r,
                    null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                    i.getMetricItem)("PullStreamFistStart", 0))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.REQUEST_PULL_SUCCESS), (function(e) {
                    var n, r = e.ts, o = e.detail, s = r - a[o.streamId];
                    null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                    i.getMetricItem)("PullStreamSucc", s))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.REQUEST_PULL_FAIL), (function(e) {
                    var n, r = e.detail, o = function() {
                        try {
                            return JSON.stringify(r.errMsg)
                        } catch (n) {
                            var e, t;
                            return null === (e = r.errMsg) || void 0 === e || null === (t = e.toString) || void 0 === t ? void 0 : t.call(e)
                        }
                    }();
                    null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                    i.getMetricItem)("PullStreamFail", 0, "http pull stream信令失败:err-".concat(o, ",streamurl-").concat(null == r ? void 0 : r.streamId)))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.REQUEST_PULL_RETRY), (function(e) {
                    var n, r = e.ts, o = e.detail;
                    a[o.streamId] = r,
                    null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                    i.getMetricItem)("PullStreamRetryStart", 0))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.REQUEST_PULL_RETRY_SUCCESS), (function(e) {
                    var n, r = e.ts, o = e.detail, s = r - a[o.streamId];
                    null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                    i.getMetricItem)("PullStreamRetrySucc", s))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.REQUEST_PULL_RETRY_FAIL), (function(e) {
                    e.subType,
                    e.ts;
                    var n, r = e.detail, o = function() {
                        try {
                            return JSON.stringify(r.errMsg)
                        } catch (n) {
                            var e, t;
                            return null === (e = r.errMsg) || void 0 === e || null === (t = e.toString) || void 0 === t ? void 0 : t.call(e)
                        }
                    }();
                    null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                    i.getMetricItem)("PullStreamRetryFail", 0, "http pull stream信令失败:err-".concat(o, ",streamurl-").concat(null == r ? void 0 : r.streamId)))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.FREEZE_START), (function(e) {
                    var t = e.ts
                      , n = e.detail;
                    s[n.streamId] = t
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.SERVER_CONNECTED), (function(e) {
                    e.subType;
                    var t = e.ts;
                    n.streamAddTime = t
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.SERVER_DISCONNECTED), (function(e) {
                    var n;
                    null === (n = t.reportStartPlayFail) || void 0 === n || n.call(t, "live_play")
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.PLAY_FAIL), (function(e) {
                    var n;
                    null === (n = t.reportStartPlayFail) || void 0 === n || n.call(t, "live_play")
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.PLAY_DECODE_ERROR), (function(e) {}
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.NO_FRAME_DECODED), (function(e) {
                    var n;
                    null === (n = t.reportStartPlayFail) || void 0 === n || n.call(t, "live_play")
                }
                ))
            }
        };
        t.default = a
    },
    CRiC: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("q1tI"))
          , o = r(n("i8i4"));
        var a = function(e, t) {
            var n = null
              , r = document.createElement("div");
            document.body.appendChild(r);
            var a = function() {
                o.default.unmountComponentAtNode(r) && r.parentNode && r.parentNode.removeChild(r)
            };
            return o.default.render(i.default.createElement(t, Object.assign({
                visible: !0
            }, e)), r),
            n = setTimeout((function() {
                a(),
                clearTimeout(n)
            }
            ), e.time || 3e3),
            {
                destroy: a
            }
        };
        t.default = a
    },
    D0Bn: function(e, t) {
        var n, r = function() {
            var e, t, n = document.getElementsByTagName("head")[0], r = window.location.hostname || "edu_database", i = new Date;
            if (n.addBehavior) {
                try {
                    (t = new ActiveXObject("htmlfile")).open(),
                    t.write('<script>document.w=window;<\/script><iframe src="/favicon.ico"></frame>'),
                    t.close(),
                    e = t.w.frames[0].document
                } catch (t) {
                    e = document
                }
                n = e.createElement("head"),
                e.appendChild(n),
                i.setDate(i.getDate() + 30),
                n.addBehavior("#default#userData"),
                n.expires = i.toUTCString(),
                n.load(r);
                var o = n.XMLDocument.documentElement
                  , a = o.attributes
                  , s = /^[-\d]/
                  , u = new RegExp("^prefix_____hack__")
                  , c = function(e) {
                    return s.test(e) ? "prefix_____hack__" + e : e
                };
                return {
                    length: a.length,
                    notNativeCode: !0,
                    getItem: function(e) {
                        return (a.getNamedItem(c(e)) || {
                            nodeValue: null
                        }).nodeValue || o.getAttribute(c(e))
                    },
                    setItem: function(e, t) {
                        o.setAttribute(c(e), t),
                        n.save(r),
                        this.length = a.length
                    },
                    removeItem: function(e) {
                        o.removeAttribute(c(e)),
                        n.save(r),
                        this.length = a.length
                    },
                    clear: function() {
                        for (; a.length; )
                            this.removeItem(a[0].nodeName);
                        this.length = 0
                    },
                    key: function(e) {
                        return a[e] ? function(e) {
                            return e.replace(u, "")
                        }(a[e].nodeName) : void 0
                    }
                }
            }
        };
        try {
            (n = window.localStorage) || (n = r())
        } catch (e) {
            n = r()
        }
        var i = function(e) {
            var t = function() {
                return null
            };
            return e ? {
                set: function(t, n) {
                    void 0 !== this.get(t) && this.remove(t);
                    try {
                        e.setItem(t, n)
                    } catch (e) {
                        this.clear()
                    }
                },
                get: function(t) {
                    var n = e.getItem(t);
                    return null === n ? void 0 : n
                },
                remove: function(t) {
                    e.removeItem(t)
                },
                clear: function() {
                    e.clear()
                },
                each: function(e) {
                    var t, n = this.obj(), r = e || function() {}
                    ;
                    for (t in n)
                        if (!1 === r.call(this, t, this.get(t)))
                            break
                },
                obj: function() {
                    var t, n, r = {}, i = 0;
                    if (e.isVirtualObject)
                        r = e.key(-1);
                    else
                        for (t = e.length; i < t; i++)
                            r[n = e.key(i)] = this.get(n);
                    return r
                },
                filter: function(t) {
                    var n, r, i = [], o = 0;
                    if (e.isVirtualObject)
                        i = [];
                    else
                        for (n = e.length; o < n; o++)
                            r = e.key(o),
                            t.test(r) && i.push({
                                key: r,
                                value: this.get(r)
                            });
                    return i
                }
            } : {
                set: t,
                get: t,
                remove: t,
                clear: t,
                each: t,
                obj: t,
                filter: t
            }
        }(n);
        e.exports = i
    },
    DYvd: function(e, t, n) {
        "use strict";
        var r = n("TqRt")
          , i = n("cDf5");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var o = r(n("U8pU"))
          , a = r(n("1OyB"))
          , s = r(n("vuIU"))
          , u = r(n("JX7q"))
          , c = r(n("Ji7U"))
          , l = r(n("md7G"))
          , f = r(n("foSv"))
          , d = r(n("rePB"))
          , h = function(e, t) {
            if (!t && e && e.__esModule)
                return e;
            if (null === e || "object" !== i(e) && "function" != typeof e)
                return {
                    default: e
                };
            var n = p(t);
            if (n && n.has(e))
                return n.get(e);
            var r = {}
              , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var a in e)
                if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                    var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                    s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                }
            r.default = e,
            n && n.set(e, r);
            return r
        }(n("q1tI"));
        function p(e) {
            if ("function" != typeof WeakMap)
                return null;
            var t = new WeakMap
              , n = new WeakMap;
            return (p = function(e) {
                return e ? n : t
            }
            )(e)
        }
        function v(e) {
            var t = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                    ))),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var n, r = (0,
                f.default)(e);
                if (t) {
                    var i = (0,
                    f.default)(this).constructor;
                    n = Reflect.construct(r, arguments, i)
                } else
                    n = r.apply(this, arguments);
                return (0,
                l.default)(this, n)
            }
        }
        var m = function(e) {
            (0,
            c.default)(n, e);
            var t = v(n);
            function n(e) {
                var r;
                (0,
                a.default)(this, n),
                r = t.call(this, e),
                (0,
                d.default)((0,
                u.default)(r), "toggleTiming", (function() {
                    r.state.isPaused ? r.startTimer() : r.stopTimer()
                }
                ));
                var i = e.isPaused
                  , s = e.initialTime
                  , c = e.endTime;
                return r.state = {
                    isPaused: i,
                    time: s
                },
                r.tempTime = s,
                c && "object" === (0,
                o.default)(c) && (r.endTime = new Date(c).getTime()),
                r
            }
            return (0,
            s.default)(n, [{
                key: "componentDidMount",
                value: function() {
                    this.state.isPaused || (this.recordStart = Date.now(),
                    this.startTimer())
                }
            }, {
                key: "componentWillUnmount",
                value: function() {
                    this.stopTimer()
                }
            }, {
                key: "startTimer",
                value: function() {
                    this.timer || (this.recordStart = Date.now(),
                    this.setState({
                        isPaused: !1
                    }),
                    this.timer = setInterval(this.tick.bind(this), 1e3))
                }
            }, {
                key: "tick",
                value: function() {
                    var e = this.props.endTime
                      , t = this.tempTime + Math.round(this.calculateOffset() / 1e3);
                    this.setState({
                        time: t
                    }),
                    e && this.whenToStop(t)
                }
            }, {
                key: "whenToStop",
                value: function(e) {
                    var t = this.props.endTime;
                    ("number" == typeof t && e >= t || this.endTime && this.remainTime <= 0) && (this.remainTime = 0,
                    this.stopTimer())
                }
            }, {
                key: "calculateOffset",
                value: function() {
                    var e = Date.now();
                    return this.endTime && (this.remainTime = Math.round((this.endTime - e) / 1e3)),
                    e - this.recordStart
                }
            }, {
                key: "stopTimer",
                value: function() {
                    this.timer && (clearInterval(this.timer),
                    this.timer = null),
                    this.tempTime = this.state.time,
                    this.setState({
                        isPaused: !0
                    })
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.endTime
                      , n = e.children
                      , r = this.state
                      , i = r.time
                      , o = r.isPaused
                      , a = h.default.Children.only(n);
                    return t ? this.endTime || (this.remainTime = t - i) : this.remainTime = i,
                    h.default.cloneElement(a, {
                        time: this.remainTime,
                        isPaused: o,
                        statusChange: this.toggleTiming
                    })
                }
            }]),
            n
        }(h.Component);
        m.defaultProps = {
            isPaused: !1,
            initialTime: 0
        };
        var g = m;
        t.default = g
    },
    DfAp: function(e, t, n) {},
    EGJm: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("q1tI"))
          , o = r(n("TSYQ"))
          , a = r(n("ul5O"));
        n("O++Z");
        var s = function(e) {
            var t = e.className
              , n = e.type
              , r = e.label
              , s = e.index
              , u = e.isChecked
              , c = e.onChange
              , l = e.disabled
              , f = e.prefixIcon
              , d = e.data
              , h = (0,
            o.default)("s-f-rc-item", t, {
                checked: u,
                disabled: l
            })
              , p = (0,
            o.default)("item-icon", {
                active: u,
                disabled: l
            });
            return i.default.createElement("div", {
                className: h,
                onClick: function() {
                    if (!l && c) {
                        var t = e.value || s;
                        c(t, d)
                    }
                }
            }, "icon" === f && i.default.createElement(a.default, {
                type: n,
                className: p
            }), "letter" === f && i.default.createElement("span", {
                className: p
            }, String.fromCharCode(65 + s)), r)
        };
        t.default = s
    },
    EHa4: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var r = n("FsGU")
          , i = n("+aGj")
          , o = function(e, t, n, o) {
            var a = e.options.hls
              , s = a.src.indexOf("/live/") > -1
              , u = s ? "HLS-Live" : "HLS-Playback"
              , c = !0
              , l = !0
              , f = !0
              , d = !1
              , h = function(e, n, r, i, o, a, u) {
                var c, l, f, d, h, p, v, m, g = i;
                s ? g = null === (c = t.rConfig.monitor) || void 0 === c || null === (l = c.HLS) || void 0 === l || null === (f = l.LIVE) || void 0 === f ? void 0 : f[n] : g = null === (d = t.rConfig.monitor) || void 0 === d || null === (h = d.HLS) || void 0 === h || null === (p = h.PLAYBACK) || void 0 === p ? void 0 : p[n];
                g || (g = null === (v = t.rConfig.monitor) || void 0 === v || null === (m = v.HLS) || void 0 === m ? void 0 : m[n]);
                t.exec(e, n, r, g, o, a, u)
            }
              , p = function(t) {
                return d || ((d = function(e) {
                    var t, n, i, o, a, s = null === (t = e.player.handler) || void 0 === t || null === (n = t.client) || void 0 === n || null === (i = n.abrController) || void 0 === i || null === (o = i.fragCurrent) || void 0 === o || null === (a = o.levelkey) || void 0 === a ? void 0 : a.key;
                    if (!s)
                        return !1;
                    var u = (0,
                    r.utf8ArrayToStr)(s);
                    try {
                        return JSON.parse(u),
                        u
                    } catch (e) {
                        return !1
                    }
                }(e)) && h(u, "hls_keyerror", t, 0, "[".concat(u, "] HLSKeyError keyresult:").concat(d), {
                    ver11: c,
                    ver6: d
                }, {
                    monitor_id: c ? t : 0
                }),
                d)
            };
            a.isReload || h(u, "enter_hls", u, 0, "enter ".concat(u, " ts:").concat(Date.now()));
            var v = function() {
                var e = Date.now()
                  , t = e - n
                  , r = e - o;
                h(u, "first_video_init", t, 0, "[".concat(u, "]首帧:播放器初始化-ts:").concat(e, ",耗时").concat(t)),
                h(u, "first_video_loadmode", r, 0, "[".concat(u, "]首帧:播放器加载mode-ts:").concat(e, ",耗时").concat(r)),
                h(u, "firstloadeddata", t, 0, "[".concat(u, "]首帧:").concat(e))
            };
            e.on("loadeddata", v);
            var m = function(e) {
                e.type;
                var t = e.subType
                  , n = e.ts
                  , r = e.detail;
                h(u, t, n, 0, "[".concat(u, "]m3u8地址格式不正确:").concat(JSON.stringify(r)))
            };
            e.on((0,
            r.playerEventName)("HLS", i.HLS_EVENTS.SRC_INVALID), m);
            var g = function(e) {
                e.type;
                var t = e.subType
                  , n = e.ts;
                h(u, t, n, 0, "[".concat(u, "]浏览器原生支持\bHLS播放"))
            };
            e.on((0,
            r.playerEventName)("HLS", i.HLS_EVENTS.NATIVE_SUPPORT), g);
            var y = function(e) {
                e.type;
                var t = e.subType
                  , n = e.ts;
                h(u, t, n, 0, "[".concat(u, "]浏览器支持MSE"))
            };
            e.on((0,
            r.playerEventName)("HLS", i.HLS_EVENTS.HLSJS_SUPPORT), y);
            var E = function(e) {
                e.type;
                var t = e.subType
                  , n = e.ts;
                h(u, t, n, 0, "[".concat(u, "]HLS 支持不明"))
            };
            e.on((0,
            r.playerEventName)("HLS", i.HLS_EVENTS.UNKNOWN_SUPOPORT), E);
            var T = function(e) {
                e.type;
                var t = e.subType
                  , n = e.ts
                  , r = e.detail
                  , o = (null == r ? void 0 : r.fatal) || !1
                  , a = JSON.stringify({
                    fatal: o,
                    type: null == r ? void 0 : r.type,
                    details: null == r ? void 0 : r.details,
                    url: null == r ? void 0 : r.url,
                    response: null == r ? void 0 : r.response
                })
                  , s = p(0)
                  , c = t;
                a.indexOf("networkError") > -1 && f && (c = "".concat(t, "_networkError"),
                f = !1),
                h(u, c, n, 0, "[".concat(u, "]HLSjsSDK错误:").concat(a, ",keyresult:").concat(s), {
                    ver5: o,
                    ver11: l,
                    ver6: s
                }, {
                    monitor_id: l && i.HLS_ERROR_MONITORID[null == r ? void 0 : r.details] ? i.HLS_ERROR_MONITORID[r.details] : 0
                }),
                o && (l = !1)
            };
            e.on((0,
            r.playerEventName)("HLS", i.HLS_EVENTS.HLSJS_ERROR), T),
            e.on((0,
            r.playerEventName)("HLS", i.HLS_EVENTS.HLSJS_WARN), (0,
            r.throttle)(T, 1e3));
            var b = function(t) {
                var n, r, i, o = t.code, a = t.detail, s = (null == a ? void 0 : a.fatal) || !1, l = JSON.stringify({
                    fatal: s,
                    type: null == a ? void 0 : a.type,
                    url: null == a ? void 0 : a.url,
                    response: null == a ? void 0 : a.response
                }), f = p(o), d = [];
                if (null != e && null !== (n = e.player) && void 0 !== n && null !== (r = n.vod) && void 0 !== r && null !== (i = r.qcloudVodInfo) && void 0 !== i && i.videoInfo) {
                    var v = e.player.vod.qcloudVodInfo.videoInfo;
                    d.push(v.masterPlayList ? "1" : "0"),
                    d.push(v.transcodeList ? "1" : "0"),
                    d.push(v.sourceVideo ? "1" : "0")
                }
                h(u, "hls_playererror", o, 0, "[".concat(u, "]HLS播放器Error错误:").concat(l, ",keyresult:").concat(f), {
                    ver5: s,
                    ver11: c,
                    ver6: f,
                    ver7: d.join("")
                }),
                c = !1
            };
            e.on("playererror", b),
            e.once((0,
            r.playerEventName)("HLS", i.HLS_EVENTS.DRM_MODE), (function(e) {
                var t = e.subType
                  , n = e.ts;
                h(u, t, n, 0, "[".concat(u, "]进入 DRM 模式"))
            }
            )),
            e.once((0,
            r.playerEventName)("HLS", i.HLS_EVENTS.DRM_NOT_SUPPORT_HARDWARE), (function(e) {
                var t = e.subType
                  , n = e.detail
                  , r = e.ts;
                h(u, t, r, 0, "[".concat(u, "]").concat(n))
            }
            ));
            e.once("unloadMode", (function t() {
                e.off("loadeddata", v),
                e.off((0,
                r.playerEventName)("HLS", i.HLS_EVENTS.SRC_INVALID), m),
                e.off((0,
                r.playerEventName)("HLS", i.HLS_EVENTS.NATIVE_SUPPORT), g),
                e.off((0,
                r.playerEventName)("HLS", i.HLS_EVENTS.HLSJS_SUPPORT), y),
                e.off((0,
                r.playerEventName)("HLS", i.HLS_EVENTS.UNKNOWN_SUPOPORT), E),
                e.off((0,
                r.playerEventName)("HLS", i.HLS_EVENTS.HLSJS_ERROR), T),
                e.off("playererror", b),
                e.off("unloadMode", t)
            }
            ));
            var _ = 0;
            e.once((0,
            r.playerEventName)("HLS", i.HLS_EVENTS.KEY_LOADING), (function() {
                _ = Date.now()
            }
            )),
            e.once((0,
            r.playerEventName)("HLS", i.HLS_EVENTS.KEY_LOADED), (function() {
                if (0 === _)
                    return (0,
                    r.consolelog)("HLSJS_LOADKEY 测速异常");
                t.speed("HLSJS_LOADKEY", Date.now() - _)
            }
            ));
            var S = 0;
            e.once((0,
            r.playerEventName)("HLS", i.HLS_EVENTS.FRAG_LOADING), (function() {
                S = Date.now()
            }
            )),
            e.once((0,
            r.playerEventName)("HLS", i.HLS_EVENTS.FRAG_LOADED), (function() {
                if (0 === S)
                    return (0,
                    r.consolelog)("HLSJS_LOADTS 测速异常");
                t.speed("HLSJS_LOADTS", Date.now() - S)
            }
            ))
        };
        t.default = o
    },
    "F+Mp": function(e, t, n) {
        var r = n("cDf5")
          , i = window.report || {}
          , o = {
            TABLE: "dc00149",
            TIMER: 300,
            DELAY_REPORT: !1,
            DATA: {}
        }
          , a = []
          , s = [];
        "object" !== ("undefined" == typeof JSON ? "undefined" : r(JSON)) && (JSON = {}),
        "function" != typeof JSON.stringify && (JSON.stringify = function(e, t, n) {}
        );
        var u = "//tmapp.qq.com/cgi-bin/activity_platform/tdw/report?"
          , c = null
          , l = console || {};
        function f(e, t) {
            if (e) {
                var n = [];
                if (t)
                    for (var r in t)
                        t[r] && n.push(r + "=" + t[r]);
                e = e + n.join("&");
                return function() {
                    if (c)
                        return c;
                    var e = []
                      , t = 0;
                    return c = function() {
                        var n = t++ % 10;
                        return e[n] || (e[n] = new Image)
                    }
                }()().src = e
            }
        }
        var d = function(e, t, n, r, i) {
            if (e && t && n) {
                var a = {
                    table: e || o.TABLE,
                    fields: encodeURIComponent(JSON.stringify(t)),
                    datas: encodeURIComponent(JSON.stringify(n)),
                    pr_ip: r || "obj3",
                    pr_t: i || "ts",
                    t: +new Date
                };
                f(u, a)
            }
        }
          , h = Object.prototype.toString
          , p = {}
          , v = []
          , m = []
          , g = o.TABLE
          , y = null
          , E = function() {
            for (var e in a = [],
            s = [],
            o.DATA) {
                a.push(e);
                var t = o.DATA[e];
                s.push(t || 0 === t ? t : "")
            }
        };
        E();
        var T = function(e, t) {
            for (var n = [], r = 0; r < t.length; r++) {
                for (var i = !1, o = 0; o < e.length; o++)
                    e[o] === t[r] && (i = !0);
                i || n.push(t[r])
            }
            return e.concat(n)
        }
          , b = function(e, t, n, r) {
            for (var i = {}, o = 0; o < r.length; o++)
                i[r[o]] = t[o];
            for (var a = 0; a < e.length; a++)
                for (var s = e[a], u = 0; u < n.length; u++)
                    s[u] || 0 === s[u] || (s[u] = i[n[u]] || "");
            return e
        }
          , _ = 0;
        i.toreport = function() {
            if (m.length) {
                var e = T(v, a)
                  , t = b(m, s, e, a)
                  , n = e.indexOf("module")
                  , r = !0;
                if (n || 0 === n)
                    for (var i = 0; i < t.length; i++) {
                        if (!t[i][n]) {
                            r = !1;
                            break
                        }
                    }
                else
                    r = !1;
                if (!1 === r && y && o.TIMER && _ < 33) {
                    var u = this;
                    return _++,
                    window.clearTimeout(y),
                    void (y = window.setTimeout((function() {
                        u.toreport()
                    }
                    ), o.TIMER))
                }
                _ = 0,
                function(e, t) {
                    if (l.table)
                        try {
                            if (window.localStorage && 1 == window.localStorage.tdwFlag)
                                for (var n = 0, r = t.length; n < r; n++) {
                                    for (var i = {}, o = 0, a = e.length; o < a; o++)
                                        "" != t[n][o] && (i[e[o]] = t[n][o]);
                                    l.table([i])
                                }
                        } catch (e) {}
                }(e, t),
                d(g, e, t),
                p = {},
                v.length = m.length = 0,
                g = o.TABLE,
                window.clearTimeout(y),
                y = null
            }
        }
        ,
        i.config = function(e, t, n) {
            var r = (i.cookie && i.cookie.getConfig ? i.cookie.getConfig : {}).DATA || {}
              , a = r.from || {};
            r._BASE && r._BASE.ver7 && (e.ver7 = r._BASE.ver7),
            r._BASE && r._BASE.ver8 && (e.ver8 = r._BASE.ver8),
            r._BASE && r._BASE.ver5 && (e.ver5 = r._BASE.ver5),
            r._BASE && r._BASE.refer && (e.refer = r._BASE.refer);
            var s = {};
            for (var u in a) {
                s = a[u];
                break
            }
            if (e.ver4 = s.ver4 || e.ver4,
            e.ver6 = s.ver6 || e.ver4,
            e)
                for (var c in e)
                    o.DATA[c] = e[c];
            o.DELAY_REPORT = !!t,
            n && (o.TABLE = n),
            E()
        }
        ,
        i.getReportData = function(e) {
            return o.DATA[e]
        }
        ,
        i.tdw = function(e, t, n) {
            if (!e)
                throw "params can not be null";
            var r;
            switch (t = t || o.DELAY_REPORT,
            g = n || g,
            h.call(e)) {
            case "[object Array]":
                r = e;
                break;
            case "[object Object]":
                if (t) {
                    var i = []
                      , u = [];
                    for (var c in e)
                        "obj3" !== c && "ts" !== c && (i.push(c),
                        u.push(e[c]));
                    return i = T(i, a),
                    u = b([u], s, i, a),
                    d(g, i, u, e.obj3, e.ts)
                }
                r = [e]
            }
            c = 0;
            for (var l = r.length; c < l; c++) {
                var f = r[c]
                  , E = [];
                for (var _ in m.push(E),
                f) {
                    var S;
                    _ in p ? (S = p[_],
                    v[S] = _) : (v.push(_),
                    p[_] = S = v.length - 1),
                    E[S] = f[_] || ""
                }
            }
            if (t)
                this.toreport();
            else {
                var R = this;
                !y && o.TIMER && (y = window.setTimeout((function() {
                    R.toreport()
                }
                ), o.TIMER))
            }
        }
        ,
        e.exports = i
    },
    FqUj: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        Object.defineProperty(t, "CheckboxSingle", {
            enumerable: !0,
            get: function() {
                return a.default
            }
        }),
        Object.defineProperty(t, "IconRadioCheckbox", {
            enumerable: !0,
            get: function() {
                return i.default
            }
        }),
        Object.defineProperty(t, "RadioCheckboxList", {
            enumerable: !0,
            get: function() {
                return o.default
            }
        });
        var i = r(n("ul5O"))
          , o = r(n("1wCm"))
          , a = r(n("eLoO"))
    },
    Frsv: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("q1tI"))
          , o = r(n("U/K1"))
          , a = r(n("IZoY"))
          , s = r(n("iGo8"));
        n("S59c");
        var u = function(e) {
            var t = e.status
              , n = e.isEmpty
              , r = e.children
              , u = e.textLoading
              , c = e.textEmpty
              , l = e.textFail
              , f = e.textRetry
              , d = e.faiAgainHandler;
            return "loading" === t ? i.default.createElement(o.default, {
                text: u
            }) : "success" === t ? n ? i.default.createElement(s.default, {
                text: c
            }) : i.default.Children.only(r) : i.default.createElement(a.default, {
                againHandler: d,
                text: l,
                textRetry: f
            })
        };
        t.default = u
    },
    FsGU: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.getUin = function() {
            var e = "0";
            e = "2" === (document.cookie.match(/\buid_type=(\d+)/) || [])[1] ? (document.cookie.match(/\buid_uin=(\d+)/) || [])[1] : (document.cookie.match(/\buin=\D+(\d+)|\bp_luin=\D+(\d+)/) || [])[1] || (document.cookie.match(/\buin=\D+(\d+)|\bp_luin=\D+(\d+)/) || [])[2] || "0";
            return e
        }
        ,
        t.getParamFromPath = function() {
            return location.pathname.split("/")
        }
        ,
        t.playerEventName = function(e, t) {
            return "".concat(e, ".").concat(t)
        }
        ,
        t.getRandomString = function() {
            return Date.now() + String(Math.random()).replace(".", "")
        }
        ,
        t.utf8ArrayToStr = function(e) {
            var t, n, r, i, o;
            t = "";
            var a = e.length;
            n = 0;
            for (; n < a; )
                switch ((r = e[n++]) >> 4) {
                case 0:
                case 1:
                case 2:
                case 3:
                case 4:
                case 5:
                case 6:
                case 7:
                    t += String.fromCharCode(r);
                    break;
                case 12:
                case 13:
                    i = e[n++],
                    t += String.fromCharCode((31 & r) << 6 | 63 & i);
                    break;
                case 14:
                    i = e[n++],
                    o = e[n++],
                    t += String.fromCharCode((15 & r) << 12 | (63 & i) << 6 | (63 & o) << 0)
                }
            return t
        }
        ,
        t.throttle = t.getEduClientVersion = t.consolelog = void 0;
        var r = "undefined" != typeof window && localStorage.getItem("oed-report-flag")
          , i = console.log;
        t.consolelog = function() {
            if (r) {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                    t[n] = arguments[n];
                i.call.apply(i, [console].concat(t))
            }
        }
        ;
        t.getEduClientVersion = function() {
            try {
                if ("undefined" != typeof window) {
                    var e = window.navigator.userAgent.match(/(TXEdu|QTXK12|TXK12|K12)(\S*)/);
                    return e ? e[0] : ""
                }
                return ""
            } catch (e) {
                return ""
            }
        }
        ;
        t.throttle = function(e, t) {
            var n, r = window.performance.now();
            return function() {
                for (var i = arguments.length, o = new Array(i), a = 0; a < i; a++)
                    o[a] = arguments[a];
                var s = window.performance.now();
                clearTimeout(n),
                s - r >= t ? (e.apply(void 0, o),
                r = s) : n = setTimeout((function() {
                    e.apply(void 0, o)
                }
                ), t)
            }
        }
    },
    FsUY: function(e, t) {
        e.exports = {
            set: function(e, t) {
                this.del(e);
                var n = e + "=" + t;
                window.name = window.name ? window.name + "&" + n : n
            },
            get: function(e) {
                var t = window.name && window.name.match(new RegExp("(^|&)" + e + "=([^&]*)(&|$)"));
                return t ? decodeURIComponent(t[2]) : ""
            },
            del: function(e) {
                this.get(e) && (window.name = window.name.replace(new RegExp("(^|&)" + e + "=([^&]*)(&|$)"), "$3"))
            }
        }
    },
    HzbS: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("q1tI"))
          , o = r(n("i8i4"));
        var a = function(e, t) {
            var n = e.type
              , r = void 0 === n ? "confirm" : n
              , a = e.className
              , s = e.title
              , u = e.bd
              , c = e.btnsText
              , l = e.onBtnClick
              , f = ["取消", "确认"];
            "alert" === r && (f = "确认");
            var d = {
                title: s,
                bd: u,
                hasBtn: "close" !== r,
                btnsText: c || f
            }
              , h = document.createElement("div");
            document.body.appendChild(h);
            var p = function() {
                o.default.unmountComponentAtNode(h) && h.parentNode && h.parentNode.removeChild(h)
            }
              , v = function(e) {
                var t = !0;
                "function" == typeof l && (t = l(e)),
                !1 !== t && p()
            };
            return o.default.render(i.default.createElement(t, Object.assign({
                className: a,
                visible: !0,
                onBtnClick: v,
                portal: !1
            }, d)), h),
            {
                destroy: p
            }
        };
        t.default = a
    },
    IZoY: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("q1tI"));
        function o(e) {
            var t = e.text
              , n = e.textRetry
              , r = e.className
              , o = r ? "s-loaded-fail ".concat(r) : "s-loaded-fail";
            return i.default.isValidElement(t) ? i.default.createElement("div", {
                className: o
            }, t) : i.default.createElement("div", {
                className: o
            }, i.default.createElement("i", {
                className: "icon-fail"
            }), i.default.createElement("p", {
                className: "fail-msg"
            }, t, "，", i.default.createElement("span", {
                className: "fail-retry",
                onClick: function() {
                    (0,
                    e.againHandler)()
                }
            }, n)))
        }
        o.defaultProps = {
            text: "加载失败",
            textRetry: "请点击重试",
            againHandler: function() {
                window.location.reload()
            }
        };
        var a = o;
        t.default = a
    },
    Jt4Q: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("kNBA"))
          , o = n("zpTf")
          , a = r(n("SOkj"))
          , s = r(n("w6AT"))
          , u = r(n("126e"))
          , c = document.referrer
          , l = s.default.parseHref(c)
          , f = "report_position_key"
          , d = "ke.qq.com"
          , h = "/"
          , p = /\/course\/\d+$/i
          , v = /\/course\/package\/\d+$/i;
        var m = {
            getPositionData: function() {
                if (!s.default.isInIframe()) {
                    var e = u.default.get();
                    if (e)
                        return e;
                    var t = function() {
                        var e = (0,
                        o.query)("page") || (0,
                        o.query)("url_page")
                          , t = (0,
                        o.query)("module") || (0,
                        o.query)("url_module")
                          , n = (0,
                        o.query)("position") || (0,
                        o.query)("url_position");
                        if (e)
                            return {
                                url_page: e,
                                url_module: t,
                                url_position: n
                            };
                        return null
                    }() || function() {
                        var e;
                        try {
                            (e = a.default.get(f)) && (e = JSON.parse(e))
                        } catch (t) {
                            e = {}
                        }
                        return a.default.del(f),
                        e
                    }() || function() {
                        var e;
                        try {
                            (e = i.default.get(f)) && (e = JSON.parse(e))
                        } catch (t) {
                            e = {}
                        }
                        return i.default.del(f, d, h),
                        e || {}
                    }() || function() {
                        var e = l.pathname;
                        if (p.test(e) || "/m-core/course.html" === e)
                            return {
                                url_page: "course"
                            };
                        if (v.test(e))
                            return {
                                url_page: "coursegroup"
                            };
                        return
                    }();
                    return u.default.set(t),
                    t && t.url_module && (t.url_module = decodeURIComponent(t.url_module)),
                    t
                }
            },
            setPositionData: function(e) {
                s.default.isInIframe() || i.default.setSession(f, JSON.stringify(e), d, h)
            }
        };
        t.default = m
    },
    KBg1: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = n("Y5mo")
          , o = r(n("FsUY"))
          , a = r(n("Wl3z"))
          , s = r(n("cCHk"))
          , u = n("kNBA")
          , c = document.referrer
          , l = a.default.parseHref(c)
          , f = "report_position_key"
          , d = "ke.qq.com"
          , h = "/"
          , p = /\/course\/\d+$/i
          , v = /\/course\/package\/\d+$/i;
        var m = {
            getPositionData: function() {
                if (!a.default.isInIframe()) {
                    var e = s.default.get();
                    if (e)
                        return e;
                    var t = function() {
                        var e = (0,
                        i.query)("page") || (0,
                        i.query)("url_page")
                          , t = (0,
                        i.query)("module") || (0,
                        i.query)("url_module")
                          , n = (0,
                        i.query)("position") || (0,
                        i.query)("url_position");
                        if (e)
                            return {
                                url_page: e,
                                url_module: t,
                                url_position: n
                            };
                        return null
                    }() || function() {
                        var e;
                        try {
                            (e = o.default.get(f)) && (e = JSON.parse(e))
                        } catch (t) {
                            e = {}
                        }
                        return o.default.del(f),
                        e
                    }() || function() {
                        var e;
                        try {
                            (e = u.get(f)) && (e = JSON.parse(e))
                        } catch (t) {
                            e = {}
                        }
                        return u.del(f, d, h),
                        e || {}
                    }() || function() {
                        var e = l.pathname;
                        if (p.test(e) || "/m-core/course.html" === e)
                            return {
                                url_page: "course"
                            };
                        if (v.test(e))
                            return {
                                url_page: "coursegroup"
                            };
                        return
                    }();
                    return s.default.set(t),
                    t && t.url_module && (t.url_module = decodeURIComponent(t.url_module)),
                    t
                }
            },
            setPositionData: function(e) {
                a.default.isInIframe() || u.setSession(f, JSON.stringify(e), d, h)
            }
        };
        t.default = m
    },
    KIxU: function(e, t) {
        !function(e) {
            var t = {};
            function n(r) {
                if (t[r])
                    return t[r].exports;
                var i = t[r] = {
                    i: r,
                    l: !1,
                    exports: {}
                };
                return e[r].call(i.exports, i, i.exports, n),
                i.l = !0,
                i.exports
            }
            n.m = e,
            n.c = t,
            n.d = function(e, t, r) {
                n.o(e, t) || Object.defineProperty(e, t, {
                    enumerable: !0,
                    get: r
                })
            }
            ,
            n.r = function(e) {
                "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                    value: "Module"
                }),
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
            }
            ,
            n.t = function(e, t) {
                if (1 & t && (e = n(e)),
                8 & t)
                    return e;
                if (4 & t && "object" == typeof e && e && e.__esModule)
                    return e;
                var r = Object.create(null);
                if (n.r(r),
                Object.defineProperty(r, "default", {
                    enumerable: !0,
                    value: e
                }),
                2 & t && "string" != typeof e)
                    for (var i in e)
                        n.d(r, i, function(t) {
                            return e[t]
                        }
                        .bind(null, i));
                return r
            }
            ,
            n.n = function(e) {
                var t = e && e.__esModule ? function() {
                    return e.default
                }
                : function() {
                    return e
                }
                ;
                return n.d(t, "a", t),
                t
            }
            ,
            n.o = function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
            }
            ,
            n.p = "",
            n(n.s = 86)
        }([function(e, t, n) {
            "undefined" != typeof window && (e.exports = function(e) {
                var t = {};
                function n(r) {
                    if (t[r])
                        return t[r].exports;
                    var i = t[r] = {
                        i: r,
                        l: !1,
                        exports: {}
                    };
                    return e[r].call(i.exports, i, i.exports, n),
                    i.l = !0,
                    i.exports
                }
                return n.m = e,
                n.c = t,
                n.d = function(e, t, r) {
                    n.o(e, t) || Object.defineProperty(e, t, {
                        enumerable: !0,
                        get: r
                    })
                }
                ,
                n.r = function(e) {
                    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                        value: "Module"
                    }),
                    Object.defineProperty(e, "__esModule", {
                        value: !0
                    })
                }
                ,
                n.t = function(e, t) {
                    if (1 & t && (e = n(e)),
                    8 & t)
                        return e;
                    if (4 & t && "object" == typeof e && e && e.__esModule)
                        return e;
                    var r = Object.create(null);
                    if (n.r(r),
                    Object.defineProperty(r, "default", {
                        enumerable: !0,
                        value: e
                    }),
                    2 & t && "string" != typeof e)
                        for (var i in e)
                            n.d(r, i, function(t) {
                                return e[t]
                            }
                            .bind(null, i));
                    return r
                }
                ,
                n.n = function(e) {
                    var t = e && e.__esModule ? function() {
                        return e.default
                    }
                    : function() {
                        return e
                    }
                    ;
                    return n.d(t, "a", t),
                    t
                }
                ,
                n.o = function(e, t) {
                    return Object.prototype.hasOwnProperty.call(e, t)
                }
                ,
                n.p = "/dist/",
                n(n.s = 20)
            }([function(e, t, n) {
                "use strict";
                var r;
                n.d(t, "a", (function() {
                    return r
                }
                )),
                function(e) {
                    e.MEDIA_ATTACHING = "hlsMediaAttaching",
                    e.MEDIA_ATTACHED = "hlsMediaAttached",
                    e.MEDIA_DETACHING = "hlsMediaDetaching",
                    e.MEDIA_DETACHED = "hlsMediaDetached",
                    e.BUFFER_RESET = "hlsBufferReset",
                    e.BUFFER_CODECS = "hlsBufferCodecs",
                    e.BUFFER_CREATED = "hlsBufferCreated",
                    e.BUFFER_APPENDING = "hlsBufferAppending",
                    e.BUFFER_APPENDED = "hlsBufferAppended",
                    e.BUFFER_EOS = "hlsBufferEos",
                    e.BUFFER_FLUSHING = "hlsBufferFlushing",
                    e.BUFFER_FLUSHED = "hlsBufferFlushed",
                    e.MANIFEST_LOADING = "hlsManifestLoading",
                    e.MANIFEST_LOADED = "hlsManifestLoaded",
                    e.MANIFEST_PARSED = "hlsManifestParsed",
                    e.LEVEL_SWITCHING = "hlsLevelSwitching",
                    e.LEVEL_SWITCHED = "hlsLevelSwitched",
                    e.LEVEL_LOADING = "hlsLevelLoading",
                    e.LEVEL_LOADED = "hlsLevelLoaded",
                    e.LEVEL_UPDATED = "hlsLevelUpdated",
                    e.LEVEL_PTS_UPDATED = "hlsLevelPtsUpdated",
                    e.LEVELS_UPDATED = "hlsLevelsUpdated",
                    e.AUDIO_TRACKS_UPDATED = "hlsAudioTracksUpdated",
                    e.AUDIO_TRACK_SWITCHING = "hlsAudioTrackSwitching",
                    e.AUDIO_TRACK_SWITCHED = "hlsAudioTrackSwitched",
                    e.AUDIO_TRACK_LOADING = "hlsAudioTrackLoading",
                    e.AUDIO_TRACK_LOADED = "hlsAudioTrackLoaded",
                    e.SUBTITLE_TRACKS_UPDATED = "hlsSubtitleTracksUpdated",
                    e.SUBTITLE_TRACKS_CLEARED = "hlsSubtitleTracksCleared",
                    e.SUBTITLE_TRACK_SWITCH = "hlsSubtitleTrackSwitch",
                    e.SUBTITLE_TRACK_LOADING = "hlsSubtitleTrackLoading",
                    e.SUBTITLE_TRACK_LOADED = "hlsSubtitleTrackLoaded",
                    e.SUBTITLE_FRAG_PROCESSED = "hlsSubtitleFragProcessed",
                    e.CUES_PARSED = "hlsCuesParsed",
                    e.NON_NATIVE_TEXT_TRACKS_FOUND = "hlsNonNativeTextTracksFound",
                    e.INIT_PTS_FOUND = "hlsInitPtsFound",
                    e.FRAG_LOADING = "hlsFragLoading",
                    e.FRAG_LOAD_EMERGENCY_ABORTED = "hlsFragLoadEmergencyAborted",
                    e.FRAG_LOADED = "hlsFragLoaded",
                    e.FRAG_DECRYPTED = "hlsFragDecrypted",
                    e.FRAG_PARSING_INIT_SEGMENT = "hlsFragParsingInitSegment",
                    e.FRAG_PARSING_USERDATA = "hlsFragParsingUserdata",
                    e.FRAG_PARSING_METADATA = "hlsFragParsingMetadata",
                    e.FRAG_PARSED = "hlsFragParsed",
                    e.FRAG_BUFFERED = "hlsFragBuffered",
                    e.FRAG_CHANGED = "hlsFragChanged",
                    e.FPS_DROP = "hlsFpsDrop",
                    e.FPS_DROP_LEVEL_CAPPING = "hlsFpsDropLevelCapping",
                    e.ERROR = "hlsError",
                    e.DESTROYING = "hlsDestroying",
                    e.KEY_LOADING = "hlsKeyLoading",
                    e.KEY_LOADED = "hlsKeyLoaded",
                    e.LIVE_BACK_BUFFER_REACHED = "hlsLiveBackBufferReached",
                    e.BACK_BUFFER_REACHED = "hlsBackBufferReached"
                }(r || (r = {}))
            }
            , function(e, t, n) {
                "use strict";
                n.d(t, "a", (function() {
                    return s
                }
                )),
                n.d(t, "b", (function() {
                    return u
                }
                ));
                var r = function() {}
                  , i = {
                    trace: r,
                    debug: r,
                    log: r,
                    warn: r,
                    info: r,
                    error: r
                }
                  , o = i;
                function a(e) {
                    var t = self.console[e];
                    return t ? t.bind(self.console, "[" + e + "] >") : r
                }
                function s(e) {
                    if (self.console && !0 === e || "object" == typeof e) {
                        !function(e) {
                            for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                                n[r - 1] = arguments[r];
                            n.forEach((function(t) {
                                o[t] = e[t] ? e[t].bind(e) : a(t)
                            }
                            ))
                        }(e, "debug", "log", "info", "warn", "error");
                        try {
                            o.log()
                        } catch (e) {
                            o = i
                        }
                    } else
                        o = i
                }
                var u = i
            }
            , function(e, t, n) {
                "use strict";
                var r, i;
                n.d(t, "b", (function() {
                    return r
                }
                )),
                n.d(t, "a", (function() {
                    return i
                }
                )),
                function(e) {
                    e.NETWORK_ERROR = "networkError",
                    e.MEDIA_ERROR = "mediaError",
                    e.KEY_SYSTEM_ERROR = "keySystemError",
                    e.MUX_ERROR = "muxError",
                    e.OTHER_ERROR = "otherError"
                }(r || (r = {})),
                function(e) {
                    e.KEY_SYSTEM_NO_KEYS = "keySystemNoKeys",
                    e.KEY_SYSTEM_NO_ACCESS = "keySystemNoAccess",
                    e.KEY_SYSTEM_NO_SESSION = "keySystemNoSession",
                    e.KEY_SYSTEM_LICENSE_REQUEST_FAILED = "keySystemLicenseRequestFailed",
                    e.KEY_SYSTEM_NO_INIT_DATA = "keySystemNoInitData",
                    e.MANIFEST_LOAD_ERROR = "manifestLoadError",
                    e.MANIFEST_LOAD_TIMEOUT = "manifestLoadTimeOut",
                    e.MANIFEST_PARSING_ERROR = "manifestParsingError",
                    e.MANIFEST_INCOMPATIBLE_CODECS_ERROR = "manifestIncompatibleCodecsError",
                    e.LEVEL_EMPTY_ERROR = "levelEmptyError",
                    e.LEVEL_LOAD_ERROR = "levelLoadError",
                    e.LEVEL_LOAD_TIMEOUT = "levelLoadTimeOut",
                    e.LEVEL_SWITCH_ERROR = "levelSwitchError",
                    e.AUDIO_TRACK_LOAD_ERROR = "audioTrackLoadError",
                    e.AUDIO_TRACK_LOAD_TIMEOUT = "audioTrackLoadTimeOut",
                    e.SUBTITLE_LOAD_ERROR = "subtitleTrackLoadError",
                    e.SUBTITLE_TRACK_LOAD_TIMEOUT = "subtitleTrackLoadTimeOut",
                    e.FRAG_LOAD_ERROR = "fragLoadError",
                    e.FRAG_LOAD_TIMEOUT = "fragLoadTimeOut",
                    e.FRAG_DECRYPT_ERROR = "fragDecryptError",
                    e.FRAG_PARSING_ERROR = "fragParsingError",
                    e.REMUX_ALLOC_ERROR = "remuxAllocError",
                    e.KEY_LOAD_ERROR = "keyLoadError",
                    e.KEY_LOAD_TIMEOUT = "keyLoadTimeOut",
                    e.BUFFER_ADD_CODEC_ERROR = "bufferAddCodecError",
                    e.BUFFER_INCOMPATIBLE_CODECS_ERROR = "bufferIncompatibleCodecsError",
                    e.BUFFER_APPEND_ERROR = "bufferAppendError",
                    e.BUFFER_APPENDING_ERROR = "bufferAppendingError",
                    e.BUFFER_STALLED_ERROR = "bufferStalledError",
                    e.BUFFER_FULL_ERROR = "bufferFullError",
                    e.BUFFER_SEEK_OVER_HOLE = "bufferSeekOverHole",
                    e.BUFFER_NUDGE_ON_STALL = "bufferNudgeOnStall",
                    e.INTERNAL_EXCEPTION = "internalException",
                    e.INTERNAL_ABORTED = "aborted",
                    e.UNKNOWN = "unknown"
                }(i || (i = {}))
            }
            , function(e, t, n) {
                "use strict";
                n.d(t, "a", (function() {
                    return r
                }
                ));
                var r = Number.isFinite || function(e) {
                    return "number" == typeof e && isFinite(e)
                }
                ;
                Number.MAX_SAFE_INTEGER
            }
            , function(e, t, n) {
                "use strict";
                var r, i;
                n.d(t, "a", (function() {
                    return r
                }
                )),
                n.d(t, "b", (function() {
                    return i
                }
                )),
                function(e) {
                    e.MANIFEST = "manifest",
                    e.LEVEL = "level",
                    e.AUDIO_TRACK = "audioTrack",
                    e.SUBTITLE_TRACK = "subtitleTrack"
                }(r || (r = {})),
                function(e) {
                    e.MAIN = "main",
                    e.AUDIO = "audio",
                    e.SUBTITLE = "subtitle"
                }(i || (i = {}))
            }
            , function(e, t, n) {
                "use strict";
                n.d(t, "a", (function() {
                    return u
                }
                )),
                n.d(t, "c", (function() {
                    return p
                }
                )),
                n.d(t, "k", (function() {
                    return v
                }
                )),
                n.d(t, "h", (function() {
                    return m
                }
                )),
                n.d(t, "e", (function() {
                    return g
                }
                )),
                n.d(t, "d", (function() {
                    return y
                }
                )),
                n.d(t, "f", (function() {
                    return T
                }
                )),
                n.d(t, "l", (function() {
                    return b
                }
                )),
                n.d(t, "b", (function() {
                    return _
                }
                )),
                n.d(t, "j", (function() {
                    return S
                }
                )),
                n.d(t, "i", (function() {
                    return w
                }
                )),
                n.d(t, "g", (function() {
                    return C
                }
                ));
                var r = n(9)
                  , i = n(6)
                  , o = n(7)
                  , a = Math.pow(2, 32) - 1
                  , s = [].push
                  , u = {
                    video: 1,
                    audio: 2,
                    id3: 3,
                    text: 4
                };
                function c(e) {
                    return String.fromCharCode.apply(null, e)
                }
                function l(e, t) {
                    var n = e[t] << 8 | e[t + 1];
                    return n < 0 ? 65536 + n : n
                }
                function f(e, t) {
                    var n = d(e, t);
                    return n < 0 ? 4294967296 + n : n
                }
                function d(e, t) {
                    return e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3]
                }
                function h(e, t, n) {
                    e[t] = n >> 24,
                    e[t + 1] = n >> 16 & 255,
                    e[t + 2] = n >> 8 & 255,
                    e[t + 3] = 255 & n
                }
                function p(e, t) {
                    var n = [];
                    if (!t.length)
                        return n;
                    for (var r = e.byteLength, i = 0; i < r; ) {
                        var o = f(e, i)
                          , a = o > 1 ? i + o : r;
                        if (c(e.subarray(i + 4, i + 8)) === t[0])
                            if (1 === t.length)
                                n.push(e.subarray(i + 8, a));
                            else {
                                var u = p(e.subarray(i + 8, a), t.slice(1));
                                u.length && s.apply(n, u)
                            }
                        i = a
                    }
                    return n
                }
                function v(e) {
                    var t = []
                      , n = e[0]
                      , r = 8
                      , i = f(e, r);
                    r += 4,
                    r += 0 === n ? 8 : 16,
                    r += 2;
                    var o = e.length + 0
                      , a = l(e, r);
                    r += 2;
                    for (var s = 0; s < a; s++) {
                        var u = r
                          , c = f(e, u)
                          , d = 2147483647 & c;
                        if (1 == (2147483648 & c) >>> 31)
                            return null;
                        var h = f(e, u += 4);
                        u += 4,
                        t.push({
                            referenceSize: d,
                            subsegmentDuration: h,
                            info: {
                                duration: h / i,
                                start: o,
                                end: o + d - 1
                            }
                        }),
                        o += d,
                        r = u += 4
                    }
                    return {
                        earliestPresentationTime: 0,
                        timescale: i,
                        version: n,
                        referencesCount: a,
                        references: t
                    }
                }
                function m(e) {
                    for (var t = [], n = p(e, ["moov", "trak"]), r = 0; r < n.length; r++) {
                        var o = n[r]
                          , a = p(o, ["tkhd"])[0];
                        if (a) {
                            var s = a[0]
                              , u = 0 === s ? 12 : 20
                              , l = f(a, u)
                              , d = p(o, ["mdia", "mdhd"])[0];
                            if (d) {
                                var h = f(d, u = 0 === (s = d[0]) ? 12 : 20)
                                  , v = p(o, ["mdia", "hdlr"])[0];
                                if (v) {
                                    var m = c(v.subarray(8, 12))
                                      , g = {
                                        soun: i.a.AUDIO,
                                        vide: i.a.VIDEO
                                    }[m];
                                    if (g) {
                                        var y = p(o, ["mdia", "minf", "stbl", "stsd"])[0]
                                          , E = void 0;
                                        y && (E = c(y.subarray(12, 16))),
                                        t[l] = {
                                            timescale: h,
                                            type: g
                                        },
                                        t[g] = {
                                            timescale: h,
                                            id: l,
                                            codec: E
                                        }
                                    }
                                }
                            }
                        }
                    }
                    return p(e, ["moov", "mvex", "trex"]).forEach((function(e) {
                        var n = f(e, 4)
                          , r = t[n];
                        r && (r.default = {
                            duration: f(e, 12),
                            flags: f(e, 20)
                        })
                    }
                    )),
                    t
                }
                function g(e, t) {
                    return p(t, ["moof", "traf"]).reduce((function(t, n) {
                        var r = p(n, ["tfdt"])[0]
                          , i = r[0]
                          , o = p(n, ["tfhd"]).reduce((function(t, n) {
                            var o = f(n, 4)
                              , a = e[o];
                            if (a) {
                                var s = f(r, 4);
                                1 === i && (s *= Math.pow(2, 32),
                                s += f(r, 8));
                                var u = s / (a.timescale || 9e4);
                                if (isFinite(u) && (null === t || u < t))
                                    return u
                            }
                            return t
                        }
                        ), null);
                        return null !== o && isFinite(o) && (null === t || o < t) ? o : t
                    }
                    ), null) || 0
                }
                function y(e, t) {
                    for (var n = 0, r = 0, o = 0, a = p(e, ["moof", "traf"]), s = 0; s < a.length; s++) {
                        var u = a[s]
                          , c = p(u, ["tfhd"])[0]
                          , l = t[f(c, 4)];
                        if (l) {
                            var d = l.default
                              , h = f(c, 0) | (null == d ? void 0 : d.flags)
                              , m = null == d ? void 0 : d.duration;
                            8 & h && (m = f(c, 2 & h ? 12 : 8));
                            for (var g = l.timescale || 9e4, y = p(u, ["trun"]), T = 0; T < y.length; T++)
                                !(n = E(y[T])) && m && (n = m * f(y[T], 4)),
                                l.type === i.a.VIDEO ? r += n / g : l.type === i.a.AUDIO && (o += n / g)
                        }
                    }
                    if (0 === r && 0 === o) {
                        for (var b = 0, _ = p(e, ["sidx"]), S = 0; S < _.length; S++) {
                            var R = v(_[S]);
                            null != R && R.references && (b += R.references.reduce((function(e, t) {
                                return e + t.info.duration || 0
                            }
                            ), 0))
                        }
                        return b
                    }
                    return r || o
                }
                function E(e) {
                    var t = f(e, 0)
                      , n = 8;
                    1 & t && (n += 4),
                    4 & t && (n += 4);
                    for (var r = 0, i = f(e, 4), o = 0; o < i; o++)
                        256 & t && (r += f(e, n),
                        n += 4),
                        512 & t && (n += 4),
                        1024 & t && (n += 4),
                        2048 & t && (n += 4);
                    return r
                }
                function T(e, t, n) {
                    p(t, ["moof", "traf"]).forEach((function(t) {
                        p(t, ["tfhd"]).forEach((function(r) {
                            var i = f(r, 4)
                              , o = e[i];
                            if (o) {
                                var s = o.timescale || 9e4;
                                p(t, ["tfdt"]).forEach((function(e) {
                                    var t = e[0]
                                      , r = f(e, 4);
                                    if (0 === t)
                                        r -= n * s,
                                        h(e, 4, r = Math.max(r, 0));
                                    else {
                                        r *= Math.pow(2, 32),
                                        r += f(e, 8),
                                        r -= n * s,
                                        r = Math.max(r, 0);
                                        var i = Math.floor(r / (a + 1))
                                          , o = Math.floor(r % (a + 1));
                                        h(e, 4, i),
                                        h(e, 8, o)
                                    }
                                }
                                ))
                            }
                        }
                        ))
                    }
                    ))
                }
                function b(e) {
                    var t = {
                        valid: null,
                        remainder: null
                    }
                      , n = p(e, ["moof"]);
                    if (!n)
                        return t;
                    if (n.length < 2)
                        return t.remainder = e,
                        t;
                    var i = n[n.length - 1];
                    return t.valid = Object(r.a)(e, 0, i.byteOffset - 8),
                    t.remainder = Object(r.a)(e, i.byteOffset - 8),
                    t
                }
                function _(e, t) {
                    var n = new Uint8Array(e.length + t.length);
                    return n.set(e),
                    n.set(t, e.length),
                    n
                }
                function S(e, t) {
                    var n = []
                      , r = t.samples
                      , o = t.timescale
                      , a = t.id
                      , s = !1;
                    return p(r, ["moof"]).map((function(u) {
                        var c = u.byteOffset - 8;
                        p(u, ["traf"]).map((function(u) {
                            var l = p(u, ["tfdt"]).map((function(e) {
                                var t = e[0]
                                  , n = f(e, 4);
                                return 1 === t && (n *= Math.pow(2, 32),
                                n += f(e, 8)),
                                n / o
                            }
                            ))[0];
                            return void 0 !== l && (e = l),
                            p(u, ["tfhd"]).map((function(l) {
                                var h = f(l, 4)
                                  , v = 16777215 & f(l, 0)
                                  , m = 0
                                  , g = 0 != (16 & v)
                                  , y = 0
                                  , E = 0 != (32 & v)
                                  , T = 8;
                                h === a && (0 != (1 & v) && (T += 8),
                                0 != (2 & v) && (T += 4),
                                0 != (8 & v) && (m = f(l, T),
                                T += 4),
                                g && (y = f(l, T),
                                T += 4),
                                E && (T += 4),
                                "video" === t.type && (s = function(e) {
                                    if (!e)
                                        return !1;
                                    var t = e.indexOf(".")
                                      , n = t < 0 ? e : e.substring(0, t);
                                    return "hvc1" === n || "hev1" === n || "dvh1" === n || "dvhe" === n
                                }(t.codec)),
                                p(u, ["trun"]).map((function(a) {
                                    var u = a[0]
                                      , l = 16777215 & f(a, 0)
                                      , h = 0 != (1 & l)
                                      , p = 0
                                      , v = 0 != (4 & l)
                                      , g = 0 != (256 & l)
                                      , E = 0
                                      , T = 0 != (512 & l)
                                      , b = 0
                                      , _ = 0 != (1024 & l)
                                      , S = 0 != (2048 & l)
                                      , C = 0
                                      , O = f(a, 4)
                                      , L = 8;
                                    h && (p = f(a, L),
                                    L += 4),
                                    v && (L += 4);
                                    for (var A = p + c, P = 0; P < O; P++) {
                                        if (g ? (E = f(a, L),
                                        L += 4) : E = m,
                                        T ? (b = f(a, L),
                                        L += 4) : b = y,
                                        _ && (L += 4),
                                        S && (C = 0 === u ? f(a, L) : d(a, L),
                                        L += 4),
                                        t.type === i.a.VIDEO)
                                            for (var I = 0; I < b; ) {
                                                var D = f(r, A)
                                                  , k = 31 & r[A += 4];
                                                R(s, k) && w(r.subarray(A, A + D), e + C / o, n),
                                                A += D,
                                                I += D + 4
                                            }
                                        e += E / o
                                    }
                                }
                                )))
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    n
                }
                function R(e, t) {
                    return e ? 39 === t || 40 === t : 6 === t
                }
                function w(e, t, n) {
                    var r = function(e) {
                        for (var t = e.byteLength, n = [], r = 1; r < t - 2; )
                            0 === e[r] && 0 === e[r + 1] && 3 === e[r + 2] ? (n.push(r + 2),
                            r += 2) : r++;
                        if (0 === n.length)
                            return e;
                        var i = t - n.length
                          , o = new Uint8Array(i)
                          , a = 0;
                        for (r = 0; r < i; a++,
                        r++)
                            a === n[0] && (a++,
                            n.shift()),
                            o[r] = e[a];
                        return o
                    }(e)
                      , i = 0;
                    i++;
                    for (var a = 0, s = 0, u = !1, c = 0; i < r.length; ) {
                        a = 0;
                        do {
                            if (i >= r.length)
                                break;
                            a += c = r[i++]
                        } while (255 === c);
                        s = 0;
                        do {
                            if (i >= r.length)
                                break;
                            s += c = r[i++]
                        } while (255 === c);
                        var d = r.length - i;
                        if (!u && 4 === a && i < r.length) {
                            if (u = !0,
                            181 === r[i++]) {
                                var h = l(r, i);
                                if (i += 2,
                                49 === h) {
                                    var p = f(r, i);
                                    if (i += 4,
                                    1195456820 === p) {
                                        var v = r[i++];
                                        if (3 === v) {
                                            var m = r[i++]
                                              , g = 64 & m
                                              , y = g ? 2 + 3 * (31 & m) : 0
                                              , E = new Uint8Array(y);
                                            if (g) {
                                                E[0] = m;
                                                for (var T = 1; T < y; T++)
                                                    E[T] = r[i++]
                                            }
                                            n.push({
                                                type: v,
                                                payloadType: a,
                                                pts: t,
                                                bytes: E
                                            })
                                        }
                                    }
                                }
                            }
                        } else if (5 === a && s < d) {
                            if (u = !0,
                            s > 16) {
                                for (var b = [], _ = 0; _ < 16; _++) {
                                    var S = r[i++].toString(16);
                                    b.push(1 == S.length ? "0" + S : S),
                                    3 !== _ && 5 !== _ && 7 !== _ && 9 !== _ || b.push("-")
                                }
                                for (var R = s - 16, w = new Uint8Array(R), C = 0; C < R; C++)
                                    w[C] = r[i++];
                                n.push({
                                    payloadType: a,
                                    pts: t,
                                    uuid: b.join(""),
                                    userData: Object(o.f)(w),
                                    userDataBytes: w
                                })
                            }
                        } else if (s < d)
                            i += s;
                        else if (s > d)
                            break
                    }
                }
                function C(e) {
                    var t = e[0]
                      , n = ""
                      , r = ""
                      , i = 0
                      , o = 0
                      , a = 0
                      , s = 0
                      , u = 0
                      , l = 0;
                    if (0 === t) {
                        for (; "\0" !== c(e.subarray(l, l + 1)); )
                            n += c(e.subarray(l, l + 1)),
                            l += 1;
                        for (n += c(e.subarray(l, l + 1)),
                        l += 1; "\0" !== c(e.subarray(l, l + 1)); )
                            r += c(e.subarray(l, l + 1)),
                            l += 1;
                        r += c(e.subarray(l, l + 1)),
                        l += 1,
                        i = f(e, 12),
                        o = f(e, 16),
                        s = f(e, 20),
                        u = f(e, 24),
                        l = 28
                    } else if (1 === t) {
                        i = f(e, l += 4);
                        var d = f(e, l += 4)
                          , h = f(e, l += 4);
                        for (l += 4,
                        a = Math.pow(2, 32) * d + h,
                        Number.isSafeInteger(a) || (a = Number.MAX_SAFE_INTEGER),
                        s = f(e, l),
                        u = f(e, l += 4),
                        l += 4; "\0" !== c(e.subarray(l, l + 1)); )
                            n += c(e.subarray(l, l + 1)),
                            l += 1;
                        for (n += c(e.subarray(l, l + 1)),
                        l += 1; "\0" !== c(e.subarray(l, l + 1)); )
                            r += c(e.subarray(l, l + 1)),
                            l += 1;
                        r += c(e.subarray(l, l + 1)),
                        l += 1
                    }
                    return {
                        schemeIdUri: n,
                        value: r,
                        timeScale: i,
                        presentationTime: a,
                        presentationTimeDelta: o,
                        eventDuration: s,
                        id: u,
                        payload: e.subarray(l, e.byteLength)
                    }
                }
            }
            , function(e, t, n) {
                "use strict";
                n.d(t, "a", (function() {
                    return r
                }
                )),
                n.d(t, "b", (function() {
                    return h
                }
                )),
                n.d(t, "c", (function() {
                    return p
                }
                ));
                var r, i = n(3), o = n(12), a = n(1), s = n(17), u = n(14);
                function c(e, t) {
                    e.prototype = Object.create(t.prototype),
                    e.prototype.constructor = e,
                    function(e, t) {
                        (Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                            return e.__proto__ = t,
                            e
                        }
                        )(e, t)
                    }(e, t)
                }
                function l(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                        "value"in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                    }
                }
                function f(e, t, n) {
                    return t && l(e.prototype, t),
                    n && l(e, n),
                    Object.defineProperty(e, "prototype", {
                        writable: !1
                    }),
                    e
                }
                !function(e) {
                    e.AUDIO = "audio",
                    e.VIDEO = "video",
                    e.AUDIOVIDEO = "audiovideo"
                }(r || (r = {}));
                var d = function() {
                    function e(e) {
                        var t;
                        this._byteRange = null,
                        this._url = null,
                        this.baseurl = void 0,
                        this.relurl = void 0,
                        this.elementaryStreams = ((t = {})[r.AUDIO] = null,
                        t[r.VIDEO] = null,
                        t[r.AUDIOVIDEO] = null,
                        t),
                        this.baseurl = e
                    }
                    return e.prototype.setByteRange = function(e, t) {
                        var n = e.split("@", 2)
                          , r = [];
                        1 === n.length ? r[0] = t ? t.byteRangeEndOffset : 0 : r[0] = parseInt(n[1]),
                        r[1] = parseInt(n[0]) + r[0],
                        this._byteRange = r
                    }
                    ,
                    f(e, [{
                        key: "byteRange",
                        get: function() {
                            return this._byteRange ? this._byteRange : []
                        }
                    }, {
                        key: "byteRangeStartOffset",
                        get: function() {
                            return this.byteRange[0]
                        }
                    }, {
                        key: "byteRangeEndOffset",
                        get: function() {
                            return this.byteRange[1]
                        }
                    }, {
                        key: "url",
                        get: function() {
                            return !this._url && this.baseurl && this.relurl && (this._url = Object(o.buildAbsoluteURL)(this.baseurl, this.relurl, {
                                alwaysNormalize: !0
                            })),
                            this._url || ""
                        },
                        set: function(e) {
                            this._url = e
                        }
                    }]),
                    e
                }()
                  , h = function(e) {
                    function t(t, n) {
                        var r;
                        return (r = e.call(this, n) || this)._decryptdata = null,
                        r.rawProgramDateTime = null,
                        r.programDateTime = null,
                        r.tagList = [],
                        r.duration = 0,
                        r.sn = 0,
                        r.levelkey = void 0,
                        r.type = void 0,
                        r.loader = null,
                        r.level = -1,
                        r.cc = 0,
                        r.startPTS = void 0,
                        r.endPTS = void 0,
                        r.appendedPTS = void 0,
                        r.startDTS = void 0,
                        r.endDTS = void 0,
                        r.start = 0,
                        r.deltaPTS = void 0,
                        r.maxStartPTS = void 0,
                        r.minEndPTS = void 0,
                        r.stats = new u.a,
                        r.urlId = 0,
                        r.data = void 0,
                        r.bitrateTest = !1,
                        r.title = null,
                        r.initSegment = null,
                        r.type = t,
                        r
                    }
                    c(t, e);
                    var n = t.prototype;
                    return n.createInitializationVector = function(e) {
                        for (var t = new Uint8Array(16), n = 12; n < 16; n++)
                            t[n] = e >> 8 * (15 - n) & 255;
                        return t
                    }
                    ,
                    n.setDecryptDataFromLevelKey = function(e, t) {
                        var n = e;
                        return "AES-128" === (null == e ? void 0 : e.method) && e.uri && !e.iv && ((n = s.a.fromURI(e.uri)).method = e.method,
                        n.iv = this.createInitializationVector(t),
                        n.keyFormat = "identity"),
                        n
                    }
                    ,
                    n.setElementaryStreamInfo = function(e, t, n, r, i, o) {
                        void 0 === o && (o = !1);
                        var a = this.elementaryStreams
                          , s = a[e];
                        s ? (s.startPTS = Math.min(s.startPTS, t),
                        s.endPTS = Math.max(s.endPTS, n),
                        s.startDTS = Math.min(s.startDTS, r),
                        s.endDTS = Math.max(s.endDTS, i)) : a[e] = {
                            startPTS: t,
                            endPTS: n,
                            startDTS: r,
                            endDTS: i,
                            partial: o
                        }
                    }
                    ,
                    n.clearElementaryStreamInfo = function() {
                        var e = this.elementaryStreams;
                        e[r.AUDIO] = null,
                        e[r.VIDEO] = null,
                        e[r.AUDIOVIDEO] = null
                    }
                    ,
                    f(t, [{
                        key: "decryptdata",
                        get: function() {
                            if (!this.levelkey && !this._decryptdata)
                                return null;
                            if (!this._decryptdata && this.levelkey) {
                                var e = this.sn;
                                "number" != typeof e && (this.levelkey && "AES-128" === this.levelkey.method && !this.levelkey.iv && a.b.warn('missing IV for initialization segment with method="' + this.levelkey.method + '" - compliance issue'),
                                e = 0),
                                this._decryptdata = this.setDecryptDataFromLevelKey(this.levelkey, e)
                            }
                            return this._decryptdata
                        }
                    }, {
                        key: "end",
                        get: function() {
                            return this.start + this.duration
                        }
                    }, {
                        key: "endProgramDateTime",
                        get: function() {
                            if (null === this.programDateTime)
                                return null;
                            if (!Object(i.a)(this.programDateTime))
                                return null;
                            var e = Object(i.a)(this.duration) ? this.duration : 0;
                            return this.programDateTime + 1e3 * e
                        }
                    }, {
                        key: "encrypted",
                        get: function() {
                            var e;
                            return !(null === (e = this.decryptdata) || void 0 === e || !e.keyFormat || !this.decryptdata.uri)
                        }
                    }]),
                    t
                }(d)
                  , p = function(e) {
                    function t(t, n, r, i, o) {
                        var a;
                        (a = e.call(this, r) || this).fragOffset = 0,
                        a.duration = 0,
                        a.gap = !1,
                        a.independent = !1,
                        a.relurl = void 0,
                        a.fragment = void 0,
                        a.index = void 0,
                        a.stats = new u.a,
                        a.duration = t.decimalFloatingPoint("DURATION"),
                        a.gap = t.bool("GAP"),
                        a.independent = t.bool("INDEPENDENT"),
                        a.relurl = t.enumeratedString("URI"),
                        a.fragment = n,
                        a.index = i;
                        var s = t.enumeratedString("BYTERANGE");
                        return s && a.setByteRange(s, o),
                        o && (a.fragOffset = o.fragOffset + o.duration),
                        a
                    }
                    return c(t, e),
                    f(t, [{
                        key: "start",
                        get: function() {
                            return this.fragment.start + this.fragOffset
                        }
                    }, {
                        key: "end",
                        get: function() {
                            return this.start + this.duration
                        }
                    }, {
                        key: "loaded",
                        get: function() {
                            var e = this.elementaryStreams;
                            return !!(e.audio || e.video || e.audiovideo)
                        }
                    }]),
                    t
                }(d)
            }
            , function(e, t, n) {
                "use strict";
                n.d(t, "b", (function() {
                    return a
                }
                )),
                n.d(t, "a", (function() {
                    return u
                }
                )),
                n.d(t, "d", (function() {
                    return c
                }
                )),
                n.d(t, "e", (function() {
                    return l
                }
                )),
                n.d(t, "c", (function() {
                    return d
                }
                )),
                n.d(t, "f", (function() {
                    return y
                }
                ));
                var r, i = function(e, t) {
                    return t + 10 <= e.length && 73 === e[t] && 68 === e[t + 1] && 51 === e[t + 2] && e[t + 3] < 255 && e[t + 4] < 255 && e[t + 6] < 128 && e[t + 7] < 128 && e[t + 8] < 128 && e[t + 9] < 128
                }, o = function(e, t) {
                    return t + 10 <= e.length && 51 === e[t] && 68 === e[t + 1] && 73 === e[t + 2] && e[t + 3] < 255 && e[t + 4] < 255 && e[t + 6] < 128 && e[t + 7] < 128 && e[t + 8] < 128 && e[t + 9] < 128
                }, a = function(e, t) {
                    for (var n = t, r = 0; i(e, t); )
                        r += 10,
                        r += s(e, t + 6),
                        o(e, t + 10) && (r += 10),
                        t += r;
                    if (r > 0)
                        return e.subarray(n, n + r)
                }, s = function(e, t) {
                    var n = 0;
                    return n = (127 & e[t]) << 21,
                    n |= (127 & e[t + 1]) << 14,
                    (n |= (127 & e[t + 2]) << 7) | 127 & e[t + 3]
                }, u = function(e, t) {
                    return i(e, t) && s(e, t + 6) + 10 <= e.length - t
                }, c = function(e) {
                    for (var t = d(e), n = 0; n < t.length; n++) {
                        var r = t[n];
                        if (l(r))
                            return g(r)
                    }
                }, l = function(e) {
                    return e && "PRIV" === e.key && "com.apple.streaming.transportStreamTimestamp" === e.info
                }, f = function(e) {
                    var t = String.fromCharCode(e[0], e[1], e[2], e[3])
                      , n = s(e, 4);
                    return {
                        type: t,
                        size: n,
                        data: e.subarray(10, 10 + n)
                    }
                }, d = function(e) {
                    for (var t = 0, n = []; i(e, t); ) {
                        for (var r = s(e, t + 6), a = (t += 10) + r; t + 8 < a; ) {
                            var u = f(e.subarray(t))
                              , c = h(u);
                            c && n.push(c),
                            t += u.size + 10
                        }
                        o(e, t) && (t += 10)
                    }
                    return n
                }, h = function(e) {
                    return "PRIV" === e.type ? p(e) : "W" === e.type[0] ? m(e) : v(e)
                }, p = function(e) {
                    if (!(e.size < 2)) {
                        var t = y(e.data, !0)
                          , n = new Uint8Array(e.data.subarray(t.length + 1));
                        return {
                            key: e.type,
                            info: t,
                            data: n.buffer
                        }
                    }
                }, v = function(e) {
                    if (!(e.size < 2)) {
                        if ("TXXX" === e.type) {
                            var t = 1
                              , n = y(e.data.subarray(t), !0);
                            t += n.length + 1;
                            var r = y(e.data.subarray(t));
                            return {
                                key: e.type,
                                info: n,
                                data: r
                            }
                        }
                        var i = y(e.data.subarray(1));
                        return {
                            key: e.type,
                            data: i
                        }
                    }
                }, m = function(e) {
                    if ("WXXX" === e.type) {
                        if (e.size < 2)
                            return;
                        var t = 1
                          , n = y(e.data.subarray(t), !0);
                        t += n.length + 1;
                        var r = y(e.data.subarray(t));
                        return {
                            key: e.type,
                            info: n,
                            data: r
                        }
                    }
                    var i = y(e.data);
                    return {
                        key: e.type,
                        data: i
                    }
                }, g = function(e) {
                    if (8 === e.data.byteLength) {
                        var t = new Uint8Array(e.data)
                          , n = 1 & t[3]
                          , r = (t[4] << 23) + (t[5] << 15) + (t[6] << 7) + t[7];
                        return r /= 45,
                        n && (r += 47721858.84),
                        Math.round(r)
                    }
                }, y = function(e, t) {
                    void 0 === t && (t = !1);
                    var n = E();
                    if (n) {
                        var r = n.decode(e);
                        if (t) {
                            var i = r.indexOf("\0");
                            return -1 !== i ? r.substring(0, i) : r
                        }
                        return r.replace(/\0/g, "")
                    }
                    for (var o, a, s, u = e.length, c = "", l = 0; l < u; ) {
                        if (0 === (o = e[l++]) && t)
                            return c;
                        if (0 !== o && 3 !== o)
                            switch (o >> 4) {
                            case 0:
                            case 1:
                            case 2:
                            case 3:
                            case 4:
                            case 5:
                            case 6:
                            case 7:
                                c += String.fromCharCode(o);
                                break;
                            case 12:
                            case 13:
                                a = e[l++],
                                c += String.fromCharCode((31 & o) << 6 | 63 & a);
                                break;
                            case 14:
                                a = e[l++],
                                s = e[l++],
                                c += String.fromCharCode((15 & o) << 12 | (63 & a) << 6 | (63 & s) << 0)
                            }
                    }
                    return c
                };
                function E() {
                    return r || void 0 === self.TextDecoder || (r = new self.TextDecoder("utf-8")),
                    r
                }
            }
            , function(e, t, n) {
                "use strict";
                var r;
                n.d(t, "a", (function() {
                    return r
                }
                )),
                function(e) {
                    e.audioId3 = "org.id3",
                    e.dateRange = "com.apple.quicktime.HLS",
                    e.emsg = "https://aomedia.org/emsg/ID3"
                }(r || (r = {}))
            }
            , function(e, t, n) {
                "use strict";
                function r(e, t, n) {
                    return Uint8Array.prototype.slice ? e.slice(t, n) : new Uint8Array(Array.prototype.slice.call(e, t, n))
                }
                n.d(t, "a", (function() {
                    return r
                }
                ))
            }
            , function(e, t, n) {
                "use strict";
                n.d(t, "c", (function() {
                    return ne
                }
                )),
                n.d(t, "d", (function() {
                    return ie
                }
                )),
                n.d(t, "a", (function() {
                    return oe
                }
                )),
                n.d(t, "b", (function() {
                    return ae
                }
                ));
                var r = n(0)
                  , i = n(2)
                  , o = n(16)
                  , a = n(3)
                  , s = n(7)
                  , u = n(8);
                function c(e, t) {
                    return void 0 === e && (e = ""),
                    void 0 === t && (t = 9e4),
                    {
                        type: e,
                        id: -1,
                        pid: -1,
                        inputTimeScale: t,
                        sequenceNumber: -1,
                        samples: [],
                        dropped: 0
                    }
                }
                var l = n(5)
                  , f = n(9)
                  , d = function() {
                    function e() {
                        this._audioTrack = void 0,
                        this._id3Track = void 0,
                        this.frameIndex = 0,
                        this.cachedData = null,
                        this.basePTS = null,
                        this.initPTS = null
                    }
                    var t = e.prototype;
                    return t.resetInitSegment = function(e, t, n, r) {
                        this._id3Track = {
                            type: "id3",
                            id: 3,
                            pid: -1,
                            inputTimeScale: 9e4,
                            sequenceNumber: 0,
                            samples: [],
                            dropped: 0
                        }
                    }
                    ,
                    t.resetTimeStamp = function(e) {
                        this.initPTS = e,
                        this.resetContiguity()
                    }
                    ,
                    t.resetContiguity = function() {
                        this.basePTS = null,
                        this.frameIndex = 0
                    }
                    ,
                    t.canParse = function(e, t) {
                        return !1
                    }
                    ,
                    t.appendFrame = function(e, t, n) {}
                    ,
                    t.demux = function(e, t) {
                        this.cachedData && (e = Object(l.b)(this.cachedData, e),
                        this.cachedData = null);
                        var n, r, i = s.b(e, 0), o = i ? i.length : 0, d = this._audioTrack, p = this._id3Track, v = i ? s.d(i) : void 0, m = e.length;
                        for ((null === this.basePTS || 0 === this.frameIndex && Object(a.a)(v)) && (this.basePTS = h(v, t, this.initPTS)),
                        i && i.length > 0 && p.samples.push({
                            pts: this.basePTS,
                            dts: this.basePTS,
                            data: i,
                            type: u.a.audioId3
                        }),
                        r = this.basePTS; o < m; ) {
                            if (this.canParse(e, o)) {
                                var g = this.appendFrame(d, e, o);
                                g ? (this.frameIndex++,
                                r = g.sample.pts,
                                n = o += g.length) : o = m
                            } else
                                s.a(e, o) ? (i = s.b(e, o),
                                p.samples.push({
                                    pts: r,
                                    dts: r,
                                    data: i,
                                    type: u.a.audioId3
                                }),
                                n = o += i.length) : o++;
                            if (o === m && n !== m) {
                                var y = Object(f.a)(e, n);
                                this.cachedData ? this.cachedData = Object(l.b)(this.cachedData, y) : this.cachedData = y
                            }
                        }
                        return {
                            audioTrack: d,
                            videoTrack: c(),
                            id3Track: p,
                            textTrack: c()
                        }
                    }
                    ,
                    t.demuxSampleAes = function(e, t, n) {
                        return Promise.reject(new Error("[" + this + "] This demuxer does not support Sample-AES decryption"))
                    }
                    ,
                    t.flush = function(e) {
                        var t = this.cachedData;
                        return t && (this.cachedData = null,
                        this.demux(t, 0)),
                        {
                            audioTrack: this._audioTrack,
                            videoTrack: c(),
                            id3Track: this._id3Track,
                            textTrack: c()
                        }
                    }
                    ,
                    t.destroy = function() {}
                    ,
                    e
                }()
                  , h = function(e, t, n) {
                    return Object(a.a)(e) ? 90 * e : 9e4 * t + (n || 0)
                }
                  , p = d
                  , v = n(1);
                function m(e, t) {
                    return 255 === e[t] && 240 == (246 & e[t + 1])
                }
                function g(e, t) {
                    return 1 & e[t + 1] ? 7 : 9
                }
                function y(e, t) {
                    return (3 & e[t + 3]) << 11 | e[t + 4] << 3 | (224 & e[t + 5]) >>> 5
                }
                function E(e, t) {
                    return t + 1 < e.length && m(e, t)
                }
                function T(e, t) {
                    if (E(e, t)) {
                        var n = g(e, t);
                        if (t + n >= e.length)
                            return !1;
                        var r = y(e, t);
                        if (r <= n)
                            return !1;
                        var i = t + r;
                        return i === e.length || E(e, i)
                    }
                    return !1
                }
                function b(e, t, n, o, a) {
                    if (!e.samplerate) {
                        var s = function(e, t, n, o) {
                            var a, s, u, c, l = navigator.userAgent.toLowerCase(), f = o, d = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350];
                            a = 1 + ((192 & t[n + 2]) >>> 6);
                            var h = (60 & t[n + 2]) >>> 2;
                            if (!(h > d.length - 1))
                                return u = (1 & t[n + 2]) << 2,
                                u |= (192 & t[n + 3]) >>> 6,
                                v.b.log("manifest codec:" + o + ", ADTS type:" + a + ", samplingIndex:" + h),
                                /firefox/i.test(l) ? h >= 6 ? (a = 5,
                                c = new Array(4),
                                s = h - 3) : (a = 2,
                                c = new Array(2),
                                s = h) : -1 !== l.indexOf("android") ? (a = 2,
                                c = new Array(2),
                                s = h) : (a = 5,
                                c = new Array(4),
                                o && (-1 !== o.indexOf("mp4a.40.29") || -1 !== o.indexOf("mp4a.40.5")) || !o && h >= 6 ? s = h - 3 : ((o && -1 !== o.indexOf("mp4a.40.2") && (h >= 6 && 1 === u || /vivaldi/i.test(l)) || !o && 1 === u) && (a = 2,
                                c = new Array(2)),
                                s = h)),
                                c[0] = a << 3,
                                c[0] |= (14 & h) >> 1,
                                c[1] |= (1 & h) << 7,
                                c[1] |= u << 3,
                                5 === a && (c[1] |= (14 & s) >> 1,
                                c[2] = (1 & s) << 7,
                                c[2] |= 8,
                                c[3] = 0),
                                {
                                    config: c,
                                    samplerate: d[h],
                                    channelCount: u,
                                    codec: "mp4a.40." + a,
                                    manifestCodec: f
                                };
                            e.trigger(r.a.ERROR, {
                                type: i.b.MEDIA_ERROR,
                                details: i.a.FRAG_PARSING_ERROR,
                                fatal: !0,
                                reason: "invalid ADTS sampling index:" + h
                            })
                        }(t, n, o, a);
                        if (!s)
                            return;
                        e.config = s.config,
                        e.samplerate = s.samplerate,
                        e.channelCount = s.channelCount,
                        e.codec = s.codec,
                        e.manifestCodec = s.manifestCodec,
                        v.b.log("parsed codec:" + e.codec + ", rate:" + s.samplerate + ", channels:" + s.channelCount)
                    }
                }
                function _(e) {
                    return 9216e4 / e
                }
                function S(e, t, n, r, i) {
                    var o, a = r + i * _(e.samplerate), s = function(e, t) {
                        var n = g(e, t);
                        if (t + n <= e.length) {
                            var r = y(e, t) - n;
                            if (r > 0)
                                return {
                                    headerLength: n,
                                    frameLength: r
                                }
                        }
                    }(t, n);
                    if (s) {
                        var u = s.frameLength
                          , c = s.headerLength
                          , l = c + u
                          , f = Math.max(0, n + l - t.length);
                        f ? (o = new Uint8Array(l - c)).set(t.subarray(n + c, t.length), 0) : o = t.subarray(n + c, n + l);
                        var d = {
                            unit: o,
                            pts: a
                        };
                        return f || e.samples.push(d),
                        {
                            sample: d,
                            length: l,
                            missing: f
                        }
                    }
                    var h = t.length - n;
                    return (o = new Uint8Array(h)).set(t.subarray(n, t.length), 0),
                    {
                        sample: {
                            unit: o,
                            pts: a
                        },
                        length: h,
                        missing: -1
                    }
                }
                function R(e, t) {
                    return (R = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                        return e.__proto__ = t,
                        e
                    }
                    )(e, t)
                }
                var w = function(e) {
                    var t, n;
                    function r(t, n) {
                        var r;
                        return (r = e.call(this) || this).observer = void 0,
                        r.config = void 0,
                        r.observer = t,
                        r.config = n,
                        r
                    }
                    n = e,
                    (t = r).prototype = Object.create(n.prototype),
                    t.prototype.constructor = t,
                    R(t, n);
                    var i = r.prototype;
                    return i.resetInitSegment = function(t, n, r, i) {
                        e.prototype.resetInitSegment.call(this, t, n, r, i),
                        this._audioTrack = {
                            container: "audio/adts",
                            type: "audio",
                            id: 2,
                            pid: -1,
                            sequenceNumber: 0,
                            segmentCodec: "aac",
                            samples: [],
                            manifestCodec: n,
                            duration: i,
                            inputTimeScale: 9e4,
                            dropped: 0
                        }
                    }
                    ,
                    r.probe = function(e) {
                        if (!e)
                            return !1;
                        for (var t = (s.b(e, 0) || []).length, n = e.length; t < n; t++)
                            if (T(e, t))
                                return v.b.log("ADTS sync word found !"),
                                !0;
                        return !1
                    }
                    ,
                    i.canParse = function(e, t) {
                        return function(e, t) {
                            return function(e, t) {
                                return t + 5 < e.length
                            }(e, t) && m(e, t) && y(e, t) <= e.length - t
                        }(e, t)
                    }
                    ,
                    i.appendFrame = function(e, t, n) {
                        b(e, this.observer, t, n, e.manifestCodec);
                        var r = S(e, t, n, this.basePTS, this.frameIndex);
                        if (r && 0 === r.missing)
                            return r
                    }
                    ,
                    r
                }(p)
                  , C = /\/emsg[-/]ID3/i
                  , O = function() {
                    function e(e, t) {
                        this.remainderData = null,
                        this.timeOffset = 0,
                        this.config = void 0,
                        this.videoTrack = void 0,
                        this.audioTrack = void 0,
                        this.id3Track = void 0,
                        this.txtTrack = void 0,
                        this.config = t
                    }
                    var t = e.prototype;
                    return t.resetTimeStamp = function() {}
                    ,
                    t.resetInitSegment = function(e, t, n, r) {
                        var i = Object(l.h)(e)
                          , o = this.videoTrack = c("video", 1)
                          , a = this.audioTrack = c("audio", 1)
                          , s = this.txtTrack = c("text", 1);
                        if (this.id3Track = c("id3", 1),
                        this.timeOffset = 0,
                        i.video) {
                            var u = i.video
                              , f = u.id
                              , d = u.timescale
                              , h = u.codec;
                            o.id = f,
                            o.timescale = s.timescale = d,
                            o.codec = h
                        }
                        if (i.audio) {
                            var p = i.audio
                              , v = p.id
                              , m = p.timescale
                              , g = p.codec;
                            a.id = v,
                            a.timescale = m,
                            a.codec = g
                        }
                        s.id = l.a.text,
                        o.sampleDuration = 0,
                        o.duration = a.duration = r
                    }
                    ,
                    t.resetContiguity = function() {}
                    ,
                    e.probe = function(e) {
                        return e = e.length > 16384 ? e.subarray(0, 16384) : e,
                        Object(l.c)(e, ["moof"]).length > 0
                    }
                    ,
                    t.demux = function(e, t) {
                        this.timeOffset = t;
                        var n = e
                          , r = this.videoTrack
                          , i = this.txtTrack;
                        if (this.config.progressive) {
                            this.remainderData && (n = Object(l.b)(this.remainderData, e));
                            var o = Object(l.l)(n);
                            this.remainderData = o.remainder,
                            r.samples = o.valid || new Uint8Array
                        } else
                            r.samples = n;
                        var a = this.extractID3Track(r, t);
                        return i.samples = Object(l.j)(t, r),
                        {
                            videoTrack: r,
                            audioTrack: this.audioTrack,
                            id3Track: a,
                            textTrack: this.txtTrack
                        }
                    }
                    ,
                    t.flush = function() {
                        var e = this.timeOffset
                          , t = this.videoTrack
                          , n = this.txtTrack;
                        t.samples = this.remainderData || new Uint8Array,
                        this.remainderData = null;
                        var r = this.extractID3Track(t, this.timeOffset);
                        return n.samples = Object(l.j)(e, t),
                        {
                            videoTrack: t,
                            audioTrack: c(),
                            id3Track: r,
                            textTrack: c()
                        }
                    }
                    ,
                    t.extractID3Track = function(e, t) {
                        var n = this.id3Track;
                        if (e.samples.length) {
                            var r = Object(l.c)(e.samples, ["emsg"]);
                            r && r.forEach((function(e) {
                                var r = Object(l.g)(e);
                                if (C.test(r.schemeIdUri)) {
                                    var i = Object(a.a)(r.presentationTime) ? r.presentationTime / r.timeScale : t + r.presentationTimeDelta / r.timeScale
                                      , o = r.payload;
                                    n.samples.push({
                                        data: o,
                                        len: o.byteLength,
                                        dts: i,
                                        pts: i,
                                        type: u.a.emsg
                                    })
                                }
                            }
                            ))
                        }
                        return n
                    }
                    ,
                    t.demuxSampleAes = function(e, t, n) {
                        return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))
                    }
                    ,
                    t.destroy = function() {}
                    ,
                    e
                }()
                  , L = null
                  , A = [32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160]
                  , P = [44100, 48e3, 32e3, 22050, 24e3, 16e3, 11025, 12e3, 8e3]
                  , I = [[0, 72, 144, 12], [0, 0, 0, 0], [0, 72, 144, 12], [0, 144, 144, 12]]
                  , D = [0, 1, 1, 4];
                function k(e, t, n, r, i) {
                    if (!(n + 24 > t.length)) {
                        var o = N(t, n);
                        if (o && n + o.frameLength <= t.length) {
                            var a = r + i * (9e4 * o.samplesPerFrame / o.sampleRate)
                              , s = {
                                unit: t.subarray(n, n + o.frameLength),
                                pts: a,
                                dts: a
                            };
                            return e.config = [],
                            e.channelCount = o.channelCount,
                            e.samplerate = o.sampleRate,
                            e.samples.push(s),
                            {
                                sample: s,
                                length: o.frameLength,
                                missing: 0
                            }
                        }
                    }
                }
                function N(e, t) {
                    var n = e[t + 1] >> 3 & 3
                      , r = e[t + 1] >> 1 & 3
                      , i = e[t + 2] >> 4 & 15
                      , o = e[t + 2] >> 2 & 3;
                    if (1 !== n && 0 !== i && 15 !== i && 3 !== o) {
                        var a = e[t + 2] >> 1 & 1
                          , s = e[t + 3] >> 6
                          , u = 1e3 * A[14 * (3 === n ? 3 - r : 3 === r ? 3 : 4) + i - 1]
                          , c = P[3 * (3 === n ? 0 : 2 === n ? 1 : 2) + o]
                          , l = 3 === s ? 1 : 2
                          , f = I[n][r]
                          , d = D[r]
                          , h = 8 * f * d
                          , p = Math.floor(f * u / c + a) * d;
                        if (null === L) {
                            var v = (navigator.userAgent || "").match(/Chrome\/(\d+)/i);
                            L = v ? parseInt(v[1]) : 0
                        }
                        return !!L && L <= 87 && 2 === r && u >= 224e3 && 0 === s && (e[t + 3] = 128 | e[t + 3]),
                        {
                            sampleRate: c,
                            channelCount: l,
                            frameLength: p,
                            samplesPerFrame: h
                        }
                    }
                }
                function x(e, t) {
                    return 255 === e[t] && 224 == (224 & e[t + 1]) && 0 != (6 & e[t + 1])
                }
                function M(e, t) {
                    return t + 1 < e.length && x(e, t)
                }
                function F(e, t) {
                    if (t + 1 < e.length && x(e, t)) {
                        var n = N(e, t)
                          , r = 4;
                        null != n && n.frameLength && (r = n.frameLength);
                        var i = t + r;
                        return i === e.length || M(e, i)
                    }
                    return !1
                }
                var U = function() {
                    function e(e) {
                        this.data = void 0,
                        this.bytesAvailable = void 0,
                        this.word = void 0,
                        this.bitsAvailable = void 0,
                        this.data = e,
                        this.bytesAvailable = e.byteLength,
                        this.word = 0,
                        this.bitsAvailable = 0
                    }
                    var t = e.prototype;
                    return t.loadWord = function() {
                        var e = this.data
                          , t = this.bytesAvailable
                          , n = e.byteLength - t
                          , r = new Uint8Array(4)
                          , i = Math.min(4, t);
                        if (0 === i)
                            throw new Error("no bytes available");
                        r.set(e.subarray(n, n + i)),
                        this.word = new DataView(r.buffer).getUint32(0),
                        this.bitsAvailable = 8 * i,
                        this.bytesAvailable -= i
                    }
                    ,
                    t.skipBits = function(e) {
                        var t;
                        this.bitsAvailable > e ? (this.word <<= e,
                        this.bitsAvailable -= e) : (e -= this.bitsAvailable,
                        e -= (t = e >> 3) >> 3,
                        this.bytesAvailable -= t,
                        this.loadWord(),
                        this.word <<= e,
                        this.bitsAvailable -= e)
                    }
                    ,
                    t.readBits = function(e) {
                        var t = Math.min(this.bitsAvailable, e)
                          , n = this.word >>> 32 - t;
                        return e > 32 && v.b.error("Cannot read more than 32 bits at a time"),
                        this.bitsAvailable -= t,
                        this.bitsAvailable > 0 ? this.word <<= t : this.bytesAvailable > 0 && this.loadWord(),
                        (t = e - t) > 0 && this.bitsAvailable ? n << t | this.readBits(t) : n
                    }
                    ,
                    t.skipLZ = function() {
                        var e;
                        for (e = 0; e < this.bitsAvailable; ++e)
                            if (0 != (this.word & 2147483648 >>> e))
                                return this.word <<= e,
                                this.bitsAvailable -= e,
                                e;
                        return this.loadWord(),
                        e + this.skipLZ()
                    }
                    ,
                    t.skipUEG = function() {
                        this.skipBits(1 + this.skipLZ())
                    }
                    ,
                    t.skipEG = function() {
                        this.skipBits(1 + this.skipLZ())
                    }
                    ,
                    t.readUEG = function() {
                        var e = this.skipLZ();
                        return this.readBits(e + 1) - 1
                    }
                    ,
                    t.readEG = function() {
                        var e = this.readUEG();
                        return 1 & e ? 1 + e >>> 1 : -1 * (e >>> 1)
                    }
                    ,
                    t.readBoolean = function() {
                        return 1 === this.readBits(1)
                    }
                    ,
                    t.readUByte = function() {
                        return this.readBits(8)
                    }
                    ,
                    t.readUShort = function() {
                        return this.readBits(16)
                    }
                    ,
                    t.readUInt = function() {
                        return this.readBits(32)
                    }
                    ,
                    t.skipScalingList = function(e) {
                        for (var t = 8, n = 8, r = 0; r < e; r++)
                            0 !== n && (n = (t + this.readEG() + 256) % 256),
                            t = 0 === n ? t : n
                    }
                    ,
                    t.readSPS = function() {
                        var e, t, n, r = 0, i = 0, o = 0, a = 0, s = this.readUByte.bind(this), u = this.readBits.bind(this), c = this.readUEG.bind(this), l = this.readBoolean.bind(this), f = this.skipBits.bind(this), d = this.skipEG.bind(this), h = this.skipUEG.bind(this), p = this.skipScalingList.bind(this);
                        s();
                        var v = s();
                        if (u(5),
                        f(3),
                        s(),
                        h(),
                        100 === v || 110 === v || 122 === v || 244 === v || 44 === v || 83 === v || 86 === v || 118 === v || 128 === v) {
                            var m = c();
                            if (3 === m && f(1),
                            h(),
                            h(),
                            f(1),
                            l())
                                for (t = 3 !== m ? 8 : 12,
                                n = 0; n < t; n++)
                                    l() && p(n < 6 ? 16 : 64)
                        }
                        h();
                        var g = c();
                        if (0 === g)
                            c();
                        else if (1 === g)
                            for (f(1),
                            d(),
                            d(),
                            e = c(),
                            n = 0; n < e; n++)
                                d();
                        h(),
                        f(1);
                        var y = c()
                          , E = c()
                          , T = u(1);
                        0 === T && f(1),
                        f(1),
                        l() && (r = c(),
                        i = c(),
                        o = c(),
                        a = c());
                        var b = [1, 1];
                        if (l() && l())
                            switch (s()) {
                            case 1:
                                b = [1, 1];
                                break;
                            case 2:
                                b = [12, 11];
                                break;
                            case 3:
                                b = [10, 11];
                                break;
                            case 4:
                                b = [16, 11];
                                break;
                            case 5:
                                b = [40, 33];
                                break;
                            case 6:
                                b = [24, 11];
                                break;
                            case 7:
                                b = [20, 11];
                                break;
                            case 8:
                                b = [32, 11];
                                break;
                            case 9:
                                b = [80, 33];
                                break;
                            case 10:
                                b = [18, 11];
                                break;
                            case 11:
                                b = [15, 11];
                                break;
                            case 12:
                                b = [64, 33];
                                break;
                            case 13:
                                b = [160, 99];
                                break;
                            case 14:
                                b = [4, 3];
                                break;
                            case 15:
                                b = [3, 2];
                                break;
                            case 16:
                                b = [2, 1];
                                break;
                            case 255:
                                b = [s() << 8 | s(), s() << 8 | s()]
                            }
                        return {
                            width: Math.ceil(16 * (y + 1) - 2 * r - 2 * i),
                            height: (2 - T) * (E + 1) * 16 - (T ? 2 : 4) * (o + a),
                            pixelRatio: b
                        }
                    }
                    ,
                    t.readSliceType = function() {
                        return this.readUByte(),
                        this.readUEG(),
                        this.readUEG()
                    }
                    ,
                    e
                }()
                  , B = function() {
                    function e(e, t, n) {
                        this.keyData = void 0,
                        this.decrypter = void 0,
                        this.keyData = n,
                        this.decrypter = new o.a(e,t,{
                            removePKCS7Padding: !1
                        })
                    }
                    var t = e.prototype;
                    return t.decryptBuffer = function(e, t) {
                        this.decrypter.decrypt(e, this.keyData.key.buffer, this.keyData.iv.buffer, t)
                    }
                    ,
                    t.decryptAacSample = function(e, t, n, r) {
                        var i = e[t].unit;
                        if (!(i.length <= 16)) {
                            var o = i.subarray(16, i.length - i.length % 16)
                              , a = o.buffer.slice(o.byteOffset, o.byteOffset + o.length)
                              , s = this;
                            this.decryptBuffer(a, (function(o) {
                                var a = new Uint8Array(o);
                                i.set(a, 16),
                                r || s.decryptAacSamples(e, t + 1, n)
                            }
                            ))
                        }
                    }
                    ,
                    t.decryptAacSamples = function(e, t, n) {
                        for (; ; t++) {
                            if (t >= e.length)
                                return void n();
                            if (!(e[t].unit.length < 32)) {
                                var r = this.decrypter.isSync();
                                if (this.decryptAacSample(e, t, n, r),
                                !r)
                                    return
                            }
                        }
                    }
                    ,
                    t.getAvcEncryptedData = function(e) {
                        for (var t = 16 * Math.floor((e.length - 48) / 160) + 16, n = new Int8Array(t), r = 0, i = 32; i < e.length - 16; i += 160,
                        r += 16)
                            n.set(e.subarray(i, i + 16), r);
                        return n
                    }
                    ,
                    t.getAvcDecryptedUnit = function(e, t) {
                        for (var n = new Uint8Array(t), r = 0, i = 32; i < e.length - 16; i += 160,
                        r += 16)
                            e.set(n.subarray(r, r + 16), i);
                        return e
                    }
                    ,
                    t.decryptAvcSample = function(e, t, n, r, i, o) {
                        var a = Y(i.data)
                          , s = this.getAvcEncryptedData(a)
                          , u = this;
                        this.decryptBuffer(s.buffer, (function(s) {
                            i.data = u.getAvcDecryptedUnit(a, s),
                            o || u.decryptAvcSamples(e, t, n + 1, r)
                        }
                        ))
                    }
                    ,
                    t.decryptAvcSamples = function(e, t, n, r) {
                        if (e instanceof Uint8Array)
                            throw new Error("Cannot decrypt samples of type Uint8Array");
                        for (; ; t++,
                        n = 0) {
                            if (t >= e.length)
                                return void r();
                            for (var i = e[t].units; !(n >= i.length); n++) {
                                var o = i[n];
                                if (!(o.data.length <= 48 || 1 !== o.type && 5 !== o.type)) {
                                    var a = this.decrypter.isSync();
                                    if (this.decryptAvcSample(e, t, n, r, o, a),
                                    !a)
                                        return
                                }
                            }
                        }
                    }
                    ,
                    e
                }();
                function j() {
                    return (j = Object.assign ? Object.assign.bind() : function(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = arguments[t];
                            for (var r in n)
                                Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                        }
                        return e
                    }
                    ).apply(this, arguments)
                }
                function V(e, t, n, r) {
                    return {
                        key: e,
                        frame: !1,
                        pts: t,
                        dts: n,
                        units: [],
                        debug: r,
                        length: 0
                    }
                }
                function H(e, t) {
                    return (31 & e[t + 10]) << 8 | e[t + 11]
                }
                function q(e, t, n, r) {
                    var i = {
                        audio: -1,
                        avc: -1,
                        id3: -1,
                        segmentCodec: "aac"
                    }
                      , o = t + 3 + ((15 & e[t + 1]) << 8 | e[t + 2]) - 4;
                    for (t += 12 + ((15 & e[t + 10]) << 8 | e[t + 11]); t < o; ) {
                        var a = (31 & e[t + 1]) << 8 | e[t + 2];
                        switch (e[t]) {
                        case 207:
                            if (!r) {
                                v.b.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");
                                break
                            }
                        case 15:
                            -1 === i.audio && (i.audio = a);
                            break;
                        case 21:
                            -1 === i.id3 && (i.id3 = a);
                            break;
                        case 219:
                            if (!r) {
                                v.b.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");
                                break
                            }
                        case 27:
                            -1 === i.avc && (i.avc = a);
                            break;
                        case 3:
                        case 4:
                            !0 !== n.mpeg && !0 !== n.mp3 ? v.b.log("MPEG audio found, not supported in this browser") : -1 === i.audio && (i.audio = a,
                            i.segmentCodec = "mp3");
                            break;
                        case 36:
                            v.b.warn("Unsupported HEVC stream type found")
                        }
                        t += 5 + ((15 & e[t + 3]) << 8 | e[t + 4])
                    }
                    return i
                }
                function W(e) {
                    var t, n, r, i, o, a = 0, s = e.data;
                    if (!e || 0 === e.size)
                        return null;
                    for (; s[0].length < 19 && s.length > 1; ) {
                        var u = new Uint8Array(s[0].length + s[1].length);
                        u.set(s[0]),
                        u.set(s[1], s[0].length),
                        s[0] = u,
                        s.splice(1, 1)
                    }
                    if (1 === ((t = s[0])[0] << 16) + (t[1] << 8) + t[2]) {
                        if ((n = (t[4] << 8) + t[5]) && n > e.size - 6)
                            return null;
                        var c = t[7];
                        192 & c && (i = 536870912 * (14 & t[9]) + 4194304 * (255 & t[10]) + 16384 * (254 & t[11]) + 128 * (255 & t[12]) + (254 & t[13]) / 2,
                        64 & c ? i - (o = 536870912 * (14 & t[14]) + 4194304 * (255 & t[15]) + 16384 * (254 & t[16]) + 128 * (255 & t[17]) + (254 & t[18]) / 2) > 54e5 && (v.b.warn(Math.round((i - o) / 9e4) + "s delta between PTS and DTS, align them"),
                        i = o) : o = i);
                        var l = (r = t[8]) + 9;
                        if (e.size <= l)
                            return null;
                        e.size -= l;
                        for (var f = new Uint8Array(e.size), d = 0, h = s.length; d < h; d++) {
                            var p = (t = s[d]).byteLength;
                            if (l) {
                                if (l > p) {
                                    l -= p;
                                    continue
                                }
                                t = t.subarray(l),
                                p -= l,
                                l = 0
                            }
                            f.set(t, a),
                            a += p
                        }
                        return n && (n -= r + 3),
                        {
                            data: f,
                            pts: i,
                            dts: o,
                            len: n
                        }
                    }
                    return null
                }
                function G(e, t) {
                    if (e.units.length && e.frame) {
                        if (void 0 === e.pts) {
                            var n = t.samples
                              , r = n.length;
                            if (!r)
                                return void t.dropped++;
                            var i = n[r - 1];
                            e.pts = i.pts,
                            e.dts = i.dts
                        }
                        t.samples.push(e)
                    }
                    e.debug.length && v.b.log(e.pts + "/" + e.dts + ":" + e.debug)
                }
                function Y(e) {
                    for (var t = e.byteLength, n = [], r = 1; r < t - 2; )
                        0 === e[r] && 0 === e[r + 1] && 3 === e[r + 2] ? (n.push(r + 2),
                        r += 2) : r++;
                    if (0 === n.length)
                        return e;
                    var i = t - n.length
                      , o = new Uint8Array(i)
                      , a = 0;
                    for (r = 0; r < i; a++,
                    r++)
                        a === n[0] && (a++,
                        n.shift()),
                        o[r] = e[a];
                    return o
                }
                var K = function() {
                    function e(e, t, n) {
                        this.observer = void 0,
                        this.config = void 0,
                        this.typeSupported = void 0,
                        this.sampleAes = null,
                        this.pmtParsed = !1,
                        this.audioCodec = void 0,
                        this.videoCodec = void 0,
                        this._duration = 0,
                        this._pmtId = -1,
                        this._avcTrack = void 0,
                        this._audioTrack = void 0,
                        this._id3Track = void 0,
                        this._txtTrack = void 0,
                        this.aacOverFlow = null,
                        this.avcSample = null,
                        this.remainderData = null,
                        this.observer = e,
                        this.config = t,
                        this.typeSupported = n
                    }
                    e.probe = function(e) {
                        return 71 === e[0] && 71 === e[188]
                    }
                    ,
                    e.createTrack = function(e, t) {
                        return {
                            container: "video" === e || "audio" === e ? "video/mp2t" : void 0,
                            type: e,
                            id: l.a[e],
                            pid: -1,
                            inputTimeScale: 9e4,
                            sequenceNumber: 0,
                            samples: [],
                            dropped: 0,
                            duration: "audio" === e ? t : void 0
                        }
                    }
                    ;
                    var t = e.prototype;
                    return t.resetInitSegment = function(t, n, r, i) {
                        this.pmtParsed = !1,
                        this._pmtId = -1,
                        this._avcTrack = e.createTrack("video"),
                        this._audioTrack = e.createTrack("audio", i),
                        this._id3Track = e.createTrack("id3"),
                        this._txtTrack = e.createTrack("text"),
                        this._audioTrack.segmentCodec = "aac",
                        this.aacOverFlow = null,
                        this.avcSample = null,
                        this.remainderData = null,
                        this.audioCodec = n,
                        this.videoCodec = r,
                        this._duration = i
                    }
                    ,
                    t.resetTimeStamp = function() {}
                    ,
                    t.resetContiguity = function() {
                        var e = this._audioTrack
                          , t = this._avcTrack
                          , n = this._id3Track;
                        e && (e.pesData = null),
                        t && (t.pesData = null),
                        n && (n.pesData = null),
                        this.aacOverFlow = null
                    }
                    ,
                    t.demux = function(e, t, n, o) {
                        var a;
                        void 0 === n && (n = !1),
                        void 0 === o && (o = !1),
                        n || (this.sampleAes = null);
                        var s = this._avcTrack
                          , u = this._audioTrack
                          , c = this._id3Track
                          , f = this._txtTrack
                          , d = s.pid
                          , h = s.pesData
                          , p = u.pid
                          , m = c.pid
                          , g = u.pesData
                          , y = c.pesData
                          , E = null
                          , T = this.pmtParsed
                          , b = this._pmtId
                          , _ = e.length;
                        if (this.remainderData && (_ = (e = Object(l.b)(this.remainderData, e)).length,
                        this.remainderData = null),
                        _ < 188 && !o)
                            return this.remainderData = e,
                            {
                                audioTrack: u,
                                videoTrack: s,
                                id3Track: c,
                                textTrack: f
                            };
                        (_ -= _ % 188) < e.byteLength && !o && (this.remainderData = new Uint8Array(e.buffer,_,e.buffer.byteLength - _));
                        for (var S = 0, R = 0; R < _; R += 188)
                            if (71 === e[R]) {
                                var w = !!(64 & e[R + 1])
                                  , C = ((31 & e[R + 1]) << 8) + e[R + 2]
                                  , O = void 0;
                                if ((48 & e[R + 3]) >> 4 > 1) {
                                    if ((O = R + 5 + e[R + 4]) === R + 188)
                                        continue
                                } else
                                    O = R + 4;
                                switch (C) {
                                case d:
                                    w && (h && (a = W(h)) && this.parseAVCPES(s, f, a, !1),
                                    h = {
                                        data: [],
                                        size: 0
                                    }),
                                    h && (h.data.push(e.subarray(O, R + 188)),
                                    h.size += R + 188 - O);
                                    break;
                                case p:
                                    if (w) {
                                        if (g && (a = W(g)))
                                            switch (u.segmentCodec) {
                                            case "aac":
                                                this.parseAACPES(u, a);
                                                break;
                                            case "mp3":
                                                this.parseMPEGPES(u, a)
                                            }
                                        g = {
                                            data: [],
                                            size: 0
                                        }
                                    }
                                    g && (g.data.push(e.subarray(O, R + 188)),
                                    g.size += R + 188 - O);
                                    break;
                                case m:
                                    w && (y && (a = W(y)) && this.parseID3PES(c, a),
                                    y = {
                                        data: [],
                                        size: 0
                                    }),
                                    y && (y.data.push(e.subarray(O, R + 188)),
                                    y.size += R + 188 - O);
                                    break;
                                case 0:
                                    w && (O += e[O] + 1),
                                    b = this._pmtId = H(e, O);
                                    break;
                                case b:
                                    w && (O += e[O] + 1);
                                    var L = q(e, O, this.typeSupported, n);
                                    (d = L.avc) > 0 && (s.pid = d),
                                    (p = L.audio) > 0 && (u.pid = p,
                                    u.segmentCodec = L.segmentCodec),
                                    (m = L.id3) > 0 && (c.pid = m),
                                    null === E || T || (v.b.log("unknown PID '" + E + "' in TS found"),
                                    E = null),
                                    T = this.pmtParsed = !0;
                                    break;
                                case 17:
                                case 8191:
                                    break;
                                default:
                                    E = C
                                }
                            } else
                                S++;
                        S > 0 && this.observer.emit(r.a.ERROR, r.a.ERROR, {
                            type: i.b.MEDIA_ERROR,
                            details: i.a.FRAG_PARSING_ERROR,
                            fatal: !1,
                            reason: "Found " + S + " TS packet/s that do not start with 0x47"
                        }),
                        s.pesData = h,
                        u.pesData = g,
                        c.pesData = y;
                        var A = {
                            audioTrack: u,
                            videoTrack: s,
                            id3Track: c,
                            textTrack: f
                        };
                        return o && this.extractRemainingSamples(A),
                        A
                    }
                    ,
                    t.flush = function() {
                        var e, t = this.remainderData;
                        return this.remainderData = null,
                        e = t ? this.demux(t, -1, !1, !0) : {
                            videoTrack: this._avcTrack,
                            audioTrack: this._audioTrack,
                            id3Track: this._id3Track,
                            textTrack: this._txtTrack
                        },
                        this.extractRemainingSamples(e),
                        this.sampleAes ? this.decrypt(e, this.sampleAes) : e
                    }
                    ,
                    t.extractRemainingSamples = function(e) {
                        var t, n = e.audioTrack, r = e.videoTrack, i = e.id3Track, o = e.textTrack, a = r.pesData, s = n.pesData, u = i.pesData;
                        if (a && (t = W(a)) ? (this.parseAVCPES(r, o, t, !0),
                        r.pesData = null) : r.pesData = a,
                        s && (t = W(s))) {
                            switch (n.segmentCodec) {
                            case "aac":
                                this.parseAACPES(n, t);
                                break;
                            case "mp3":
                                this.parseMPEGPES(n, t)
                            }
                            n.pesData = null
                        } else
                            null != s && s.size && v.b.log("last AAC PES packet truncated,might overlap between fragments"),
                            n.pesData = s;
                        u && (t = W(u)) ? (this.parseID3PES(i, t),
                        i.pesData = null) : i.pesData = u
                    }
                    ,
                    t.demuxSampleAes = function(e, t, n) {
                        var r = this.demux(e, n, !0, !this.config.progressive)
                          , i = this.sampleAes = new B(this.observer,this.config,t);
                        return this.decrypt(r, i)
                    }
                    ,
                    t.decrypt = function(e, t) {
                        return new Promise((function(n) {
                            var r = e.audioTrack
                              , i = e.videoTrack;
                            r.samples && "aac" === r.segmentCodec ? t.decryptAacSamples(r.samples, 0, (function() {
                                i.samples ? t.decryptAvcSamples(i.samples, 0, 0, (function() {
                                    n(e)
                                }
                                )) : n(e)
                            }
                            )) : i.samples && t.decryptAvcSamples(i.samples, 0, 0, (function() {
                                n(e)
                            }
                            ))
                        }
                        ))
                    }
                    ,
                    t.destroy = function() {
                        this._duration = 0
                    }
                    ,
                    t.parseAVCPES = function(e, t, n, r) {
                        var i, o = this, a = this.parseAVCNALu(e, n.data), s = this.avcSample, u = !1;
                        n.data = null,
                        s && a.length && !e.audFound && (G(s, e),
                        s = this.avcSample = V(!1, n.pts, n.dts, "")),
                        a.forEach((function(r) {
                            switch (r.type) {
                            case 1:
                                i = !0,
                                s || (s = o.avcSample = V(!0, n.pts, n.dts, "")),
                                s.frame = !0;
                                var a = r.data;
                                if (u && a.length > 4) {
                                    var c = new U(a).readSliceType();
                                    2 !== c && 4 !== c && 7 !== c && 9 !== c || (s.key = !0)
                                }
                                break;
                            case 5:
                                i = !0,
                                s || (s = o.avcSample = V(!0, n.pts, n.dts, "")),
                                s.key = !0,
                                s.frame = !0;
                                break;
                            case 6:
                                i = !0,
                                Object(l.i)(Y(r.data), n.pts, t.samples);
                                break;
                            case 7:
                                if (i = !0,
                                u = !0,
                                !e.sps) {
                                    var f = new U(r.data).readSPS();
                                    e.width = f.width,
                                    e.height = f.height,
                                    e.pixelRatio = f.pixelRatio,
                                    e.sps = [r.data],
                                    e.duration = o._duration;
                                    for (var d = r.data.subarray(1, 4), h = "avc1.", p = 0; p < 3; p++) {
                                        var v = d[p].toString(16);
                                        v.length < 2 && (v = "0" + v),
                                        h += v
                                    }
                                    e.codec = h
                                }
                                break;
                            case 8:
                                i = !0,
                                e.pps || (e.pps = [r.data]);
                                break;
                            case 9:
                                i = !1,
                                e.audFound = !0,
                                s && G(s, e),
                                s = o.avcSample = V(!1, n.pts, n.dts, "");
                                break;
                            case 12:
                                i = !0;
                                break;
                            default:
                                i = !1,
                                s && (s.debug += "unknown NAL " + r.type + " ")
                            }
                            s && i && s.units.push(r)
                        }
                        )),
                        r && s && (G(s, e),
                        this.avcSample = null)
                    }
                    ,
                    t.getLastNalUnit = function(e) {
                        var t, n, r = this.avcSample;
                        if (r && 0 !== r.units.length || (r = e[e.length - 1]),
                        null !== (t = r) && void 0 !== t && t.units) {
                            var i = r.units;
                            n = i[i.length - 1]
                        }
                        return n
                    }
                    ,
                    t.parseAVCNALu = function(e, t) {
                        var n, r, i = t.byteLength, o = e.naluState || 0, a = o, s = [], u = 0, c = -1, l = 0;
                        for (-1 === o && (c = 0,
                        l = 31 & t[0],
                        o = 0,
                        u = 1); u < i; )
                            if (n = t[u++],
                            o)
                                if (1 !== o)
                                    if (n)
                                        if (1 === n) {
                                            if (c >= 0) {
                                                var f = {
                                                    data: t.subarray(c, u - o - 1),
                                                    type: l
                                                };
                                                s.push(f)
                                            } else {
                                                var d = this.getLastNalUnit(e.samples);
                                                if (d && (a && u <= 4 - a && d.state && (d.data = d.data.subarray(0, d.data.byteLength - a)),
                                                (r = u - o - 1) > 0)) {
                                                    var h = new Uint8Array(d.data.byteLength + r);
                                                    h.set(d.data, 0),
                                                    h.set(t.subarray(0, r), d.data.byteLength),
                                                    d.data = h,
                                                    d.state = 0
                                                }
                                            }
                                            u < i ? (c = u,
                                            l = 31 & t[u],
                                            o = 0) : o = -1
                                        } else
                                            o = 0;
                                    else
                                        o = 3;
                                else
                                    o = n ? 0 : 2;
                            else
                                o = n ? 0 : 1;
                        if (c >= 0 && o >= 0) {
                            var p = {
                                data: t.subarray(c, i),
                                type: l,
                                state: o
                            };
                            s.push(p)
                        }
                        if (0 === s.length) {
                            var v = this.getLastNalUnit(e.samples);
                            if (v) {
                                var m = new Uint8Array(v.data.byteLength + t.byteLength);
                                m.set(v.data, 0),
                                m.set(t, v.data.byteLength),
                                v.data = m
                            }
                        }
                        return e.naluState = o,
                        s
                    }
                    ,
                    t.parseAACPES = function(e, t) {
                        var n, o, a, s, u, c = 0, l = this.aacOverFlow, f = t.data;
                        if (l) {
                            this.aacOverFlow = null;
                            var d = l.missing
                              , h = l.sample.unit.byteLength;
                            if (-1 === d) {
                                var p = new Uint8Array(h + f.byteLength);
                                p.set(l.sample.unit, 0),
                                p.set(f, h),
                                f = p
                            } else {
                                var m = h - d;
                                l.sample.unit.set(f.subarray(0, d), m),
                                e.samples.push(l.sample),
                                c = l.missing
                            }
                        }
                        for (n = c,
                        o = f.length; n < o - 1 && !E(f, n); n++)
                            ;
                        if (n === c || (n < o - 1 ? (a = "AAC PES did not start with ADTS header,offset:" + n,
                        s = !1) : (a = "no ADTS header found in AAC PES",
                        s = !0),
                        v.b.warn("parsing error:" + a),
                        this.observer.emit(r.a.ERROR, r.a.ERROR, {
                            type: i.b.MEDIA_ERROR,
                            details: i.a.FRAG_PARSING_ERROR,
                            fatal: s,
                            reason: a
                        }),
                        !s)) {
                            if (b(e, this.observer, f, n, this.audioCodec),
                            void 0 !== t.pts)
                                u = t.pts;
                            else {
                                if (!l)
                                    return void v.b.warn("[tsdemuxer]: AAC PES unknown PTS");
                                var g = _(e.samplerate);
                                u = l.sample.pts + g
                            }
                            for (var y, T = 0; n < o; ) {
                                if (n += (y = S(e, f, n, u, T)).length,
                                y.missing) {
                                    this.aacOverFlow = y;
                                    break
                                }
                                for (T++; n < o - 1 && !E(f, n); n++)
                                    ;
                            }
                        }
                    }
                    ,
                    t.parseMPEGPES = function(e, t) {
                        var n = t.data
                          , r = n.length
                          , i = 0
                          , o = 0
                          , a = t.pts;
                        if (void 0 !== a)
                            for (; o < r; )
                                if (M(n, o)) {
                                    var s = k(e, n, o, a, i);
                                    if (!s)
                                        break;
                                    o += s.length,
                                    i++
                                } else
                                    o++;
                        else
                            v.b.warn("[tsdemuxer]: MPEG PES unknown PTS")
                    }
                    ,
                    t.parseID3PES = function(e, t) {
                        if (void 0 !== t.pts) {
                            var n = j({}, t, {
                                type: this._avcTrack ? u.a.emsg : u.a.audioId3
                            });
                            e.samples.push(n)
                        } else
                            v.b.warn("[tsdemuxer]: ID3 PES unknown PTS")
                    }
                    ,
                    e
                }();
                function z(e, t) {
                    return (z = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                        return e.__proto__ = t,
                        e
                    }
                    )(e, t)
                }
                var Q = function(e) {
                    var t, n;
                    function r() {
                        return e.apply(this, arguments) || this
                    }
                    n = e,
                    (t = r).prototype = Object.create(n.prototype),
                    t.prototype.constructor = t,
                    z(t, n);
                    var i = r.prototype;
                    return i.resetInitSegment = function(t, n, r, i) {
                        e.prototype.resetInitSegment.call(this, t, n, r, i),
                        this._audioTrack = {
                            container: "audio/mpeg",
                            type: "audio",
                            id: 2,
                            pid: -1,
                            sequenceNumber: 0,
                            segmentCodec: "mp3",
                            samples: [],
                            manifestCodec: n,
                            duration: i,
                            inputTimeScale: 9e4,
                            dropped: 0
                        }
                    }
                    ,
                    r.probe = function(e) {
                        if (!e)
                            return !1;
                        for (var t = (s.b(e, 0) || []).length, n = e.length; t < n; t++)
                            if (F(e, t))
                                return v.b.log("MPEG Audio sync word found !"),
                                !0;
                        return !1
                    }
                    ,
                    i.canParse = function(e, t) {
                        return function(e, t) {
                            return x(e, t) && 4 <= e.length - t
                        }(e, t)
                    }
                    ,
                    i.appendFrame = function(e, t, n) {
                        if (null !== this.basePTS)
                            return k(e, t, n, this.basePTS, this.frameIndex)
                    }
                    ,
                    r
                }(p)
                  , J = n(13)
                  , X = n(6);
                function Z(e, t) {
                    var n = null == e ? void 0 : e.codec;
                    return n && n.length > 4 ? n : "hvc1" === n || "hev1" === n ? "hvc1.1.c.L120.90" : "av01" === n ? "av01.0.04M.08" : "avc1" === n || t === X.a.VIDEO ? "avc1.42e01e" : "mp4a.40.5"
                }
                var $, ee = function() {
                    function e() {
                        this.emitInitSegment = !1,
                        this.audioCodec = void 0,
                        this.videoCodec = void 0,
                        this.initData = void 0,
                        this.initPTS = void 0,
                        this.initTracks = void 0,
                        this.lastEndTime = null
                    }
                    var t = e.prototype;
                    return t.destroy = function() {}
                    ,
                    t.resetTimeStamp = function(e) {
                        this.initPTS = e,
                        this.lastEndTime = null
                    }
                    ,
                    t.resetNextTimestamp = function() {
                        this.lastEndTime = null
                    }
                    ,
                    t.resetInitSegment = function(e, t, n) {
                        this.audioCodec = t,
                        this.videoCodec = n,
                        this.generateInitSegment(e),
                        this.emitInitSegment = !0
                    }
                    ,
                    t.generateInitSegment = function(e) {
                        var t = this.audioCodec
                          , n = this.videoCodec;
                        if (!e || !e.byteLength)
                            return this.initTracks = void 0,
                            void (this.initData = void 0);
                        var r = this.initData = Object(l.h)(e);
                        t || (t = Z(r.audio, X.a.AUDIO)),
                        n || (n = Z(r.video, X.a.VIDEO));
                        var i = {};
                        r.audio && r.video ? i.audiovideo = {
                            container: "video/mp4",
                            codec: t + "," + n,
                            initSegment: e,
                            id: "main"
                        } : r.audio ? i.audio = {
                            container: "audio/mp4",
                            codec: t,
                            initSegment: e,
                            id: "audio"
                        } : r.video ? i.video = {
                            container: "video/mp4",
                            codec: n,
                            initSegment: e,
                            id: "main"
                        } : v.b.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),
                        this.initTracks = i
                    }
                    ,
                    t.remux = function(e, t, n, r, i) {
                        var o, s = this.initPTS, u = this.lastEndTime, c = {
                            audio: void 0,
                            video: void 0,
                            text: r,
                            id3: n,
                            initSegment: void 0
                        };
                        Object(a.a)(u) || (u = this.lastEndTime = i || 0);
                        var f = t.samples;
                        if (!f || !f.length)
                            return c;
                        var d = {
                            initPTS: void 0,
                            timescale: 1
                        }
                          , h = this.initData;
                        if (h && h.length || (this.generateInitSegment(f),
                        h = this.initData),
                        !h || !h.length)
                            return v.b.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),
                            c;
                        this.emitInitSegment && (d.tracks = this.initTracks,
                        this.emitInitSegment = !1);
                        var p = Object(l.e)(h, f);
                        Object(a.a)(s) || (this.initPTS = d.initPTS = s = p - i);
                        var m = Object(l.d)(f, h)
                          , g = e ? p - s : u
                          , y = g + m;
                        Object(l.f)(h, f, s),
                        m > 0 ? this.lastEndTime = y : (v.b.warn("Duration parsed from mp4 should be greater than zero"),
                        this.resetNextTimestamp());
                        var E = !!h.audio
                          , T = !!h.video
                          , b = "";
                        E && (b += "audio"),
                        T && (b += "video");
                        var _ = {
                            data1: f,
                            startPTS: g,
                            startDTS: g,
                            endPTS: y,
                            endDTS: y,
                            type: b,
                            hasAudio: E,
                            hasVideo: T,
                            nb: 1,
                            dropped: 0
                        };
                        c.audio = "audio" === _.type ? _ : void 0,
                        c.video = "audio" !== _.type ? _ : void 0,
                        c.initSegment = d;
                        var S = null != (o = this.initPTS) ? o : 0;
                        return c.id3 = Object(J.b)(n, i, S, S),
                        r.samples.length && (c.text = Object(J.c)(r, i, S)),
                        c
                    }
                    ,
                    e
                }();
                try {
                    $ = self.performance.now.bind(self.performance)
                } catch (e) {
                    v.b.debug("Unable to use Performance API on this environment"),
                    $ = self.Date.now
                }
                var te = [{
                    demux: K,
                    remux: J.a
                }, {
                    demux: O,
                    remux: ee
                }, {
                    demux: w,
                    remux: J.a
                }, {
                    demux: Q,
                    remux: J.a
                }]
                  , ne = function() {
                    function e(e, t, n, r, i) {
                        this.observer = void 0,
                        this.typeSupported = void 0,
                        this.config = void 0,
                        this.vendor = void 0,
                        this.id = void 0,
                        this.demuxer = void 0,
                        this.remuxer = void 0,
                        this.decrypter = void 0,
                        this.probe = void 0,
                        this.decryptionPromise = null,
                        this.transmuxConfig = void 0,
                        this.currentTransmuxState = void 0,
                        this.observer = e,
                        this.typeSupported = t,
                        this.config = n,
                        this.vendor = r,
                        this.id = i
                    }
                    var t = e.prototype;
                    return t.configure = function(e) {
                        this.transmuxConfig = e,
                        this.decrypter && this.decrypter.reset()
                    }
                    ,
                    t.push = function(e, t, n, r) {
                        var i = this
                          , o = n.transmuxing;
                        o.executeStart = $();
                        var a = new Uint8Array(e)
                          , s = this.config
                          , u = this.currentTransmuxState
                          , c = this.transmuxConfig;
                        r && (this.currentTransmuxState = r);
                        var l = r || u
                          , f = l.contiguous
                          , d = l.discontinuity
                          , h = l.trackSwitch
                          , p = l.accurateTimeOffset
                          , v = l.timeOffset
                          , m = l.initSegmentChange
                          , g = c.audioCodec
                          , y = c.videoCodec
                          , E = c.defaultInitPts
                          , T = c.duration
                          , b = c.initSegmentData;
                        (d || h || m) && this.resetInitSegment(b, g, y, T),
                        (d || m) && this.resetInitialTimestamp(E),
                        f || this.resetContiguity();
                        var _ = function(e, t) {
                            var n = null;
                            return e.byteLength > 0 && null != t && null != t.key && null !== t.iv && null != t.method && (n = t),
                            n
                        }(a, t);
                        if (_ && "AES-128" === _.method) {
                            var S = this.getDecrypter();
                            if (!s.enableSoftwareAES)
                                return this.decryptionPromise = S.webCryptoDecrypt(a, _.key.buffer, _.iv.buffer).then((function(e) {
                                    var t = i.push(e, null, n);
                                    return i.decryptionPromise = null,
                                    t
                                }
                                )),
                                this.decryptionPromise;
                            var R = S.softwareDecrypt(a, _.key.buffer, _.iv.buffer);
                            if (!R)
                                return o.executeEnd = $(),
                                re(n);
                            a = new Uint8Array(R)
                        }
                        this.needsProbing(a, d, h) && this.configureTransmuxer(a, c);
                        var w = this.transmux(a, _, v, p, n)
                          , C = this.currentTransmuxState;
                        return C.contiguous = !0,
                        C.discontinuity = !1,
                        C.trackSwitch = !1,
                        o.executeEnd = $(),
                        w
                    }
                    ,
                    t.flush = function(e) {
                        var t = this
                          , n = e.transmuxing;
                        n.executeStart = $();
                        var o = this.decrypter
                          , a = this.currentTransmuxState
                          , s = this.decryptionPromise;
                        if (s)
                            return s.then((function() {
                                return t.flush(e)
                            }
                            ));
                        var u = []
                          , c = a.timeOffset;
                        if (o) {
                            var l = o.flush();
                            l && u.push(this.push(l, null, e))
                        }
                        var f = this.demuxer
                          , d = this.remuxer;
                        if (!f || !d)
                            return this.observer.emit(r.a.ERROR, r.a.ERROR, {
                                type: i.b.MEDIA_ERROR,
                                details: i.a.FRAG_PARSING_ERROR,
                                fatal: !0,
                                reason: "no demux matching with content found"
                            }),
                            n.executeEnd = $(),
                            [re(e)];
                        var h = f.flush(c);
                        return ie(h) ? h.then((function(n) {
                            return t.flushRemux(u, n, e),
                            u
                        }
                        )) : (this.flushRemux(u, h, e),
                        u)
                    }
                    ,
                    t.flushRemux = function(e, t, n) {
                        var r = t.audioTrack
                          , i = t.videoTrack
                          , o = t.id3Track
                          , a = t.textTrack
                          , s = this.currentTransmuxState
                          , u = s.accurateTimeOffset
                          , c = s.timeOffset;
                        v.b.log("[transmuxer.ts]: Flushed fragment " + n.sn + (n.part > -1 ? " p: " + n.part : "") + " of level " + n.level);
                        var l = this.remuxer.remux(r, i, o, a, c, u, !0, this.id);
                        e.push({
                            remuxResult: l,
                            chunkMeta: n
                        }),
                        n.transmuxing.executeEnd = $()
                    }
                    ,
                    t.resetInitialTimestamp = function(e) {
                        var t = this.demuxer
                          , n = this.remuxer;
                        t && n && (t.resetTimeStamp(e),
                        n.resetTimeStamp(e))
                    }
                    ,
                    t.resetContiguity = function() {
                        var e = this.demuxer
                          , t = this.remuxer;
                        e && t && (e.resetContiguity(),
                        t.resetNextTimestamp())
                    }
                    ,
                    t.resetInitSegment = function(e, t, n, r) {
                        var i = this.demuxer
                          , o = this.remuxer;
                        i && o && (i.resetInitSegment(e, t, n, r),
                        o.resetInitSegment(e, t, n))
                    }
                    ,
                    t.destroy = function() {
                        this.demuxer && (this.demuxer.destroy(),
                        this.demuxer = void 0),
                        this.remuxer && (this.remuxer.destroy(),
                        this.remuxer = void 0)
                    }
                    ,
                    t.transmux = function(e, t, n, r, i) {
                        return t && "SAMPLE-AES" === t.method ? this.transmuxSampleAes(e, t, n, r, i) : this.transmuxUnencrypted(e, n, r, i)
                    }
                    ,
                    t.transmuxUnencrypted = function(e, t, n, r) {
                        var i = this.demuxer.demux(e, t, !1, !this.config.progressive)
                          , o = i.audioTrack
                          , a = i.videoTrack
                          , s = i.id3Track
                          , u = i.textTrack;
                        return {
                            remuxResult: this.remuxer.remux(o, a, s, u, t, n, !1, this.id),
                            chunkMeta: r
                        }
                    }
                    ,
                    t.transmuxSampleAes = function(e, t, n, r, i) {
                        var o = this;
                        return this.demuxer.demuxSampleAes(e, t, n).then((function(e) {
                            return {
                                remuxResult: o.remuxer.remux(e.audioTrack, e.videoTrack, e.id3Track, e.textTrack, n, r, !1, o.id),
                                chunkMeta: i
                            }
                        }
                        ))
                    }
                    ,
                    t.configureTransmuxer = function(e, t) {
                        for (var n, r = this.config, i = this.observer, o = this.typeSupported, a = this.vendor, s = t.audioCodec, u = t.defaultInitPts, c = t.duration, l = t.initSegmentData, f = t.videoCodec, d = 0, h = te.length; d < h; d++)
                            if (te[d].demux.probe(e)) {
                                n = te[d];
                                break
                            }
                        n || (v.b.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),
                        n = {
                            demux: O,
                            remux: ee
                        });
                        var p = this.demuxer
                          , m = this.remuxer
                          , g = n.remux
                          , y = n.demux;
                        m && m instanceof g || (this.remuxer = new g(i,r,o,a)),
                        p && p instanceof y || (this.demuxer = new y(i,r,o),
                        this.probe = y.probe),
                        this.resetInitSegment(l, s, f, c),
                        this.resetInitialTimestamp(u)
                    }
                    ,
                    t.needsProbing = function(e, t, n) {
                        return !this.demuxer || !this.remuxer || t || n
                    }
                    ,
                    t.getDecrypter = function() {
                        var e = this.decrypter;
                        return e || (e = this.decrypter = new o.a(this.observer,this.config)),
                        e
                    }
                    ,
                    e
                }()
                  , re = function(e) {
                    return {
                        remuxResult: {},
                        chunkMeta: e
                    }
                };
                function ie(e) {
                    return "then"in e && e.then instanceof Function
                }
                var oe = function(e, t, n, r, i) {
                    this.audioCodec = void 0,
                    this.videoCodec = void 0,
                    this.initSegmentData = void 0,
                    this.duration = void 0,
                    this.defaultInitPts = void 0,
                    this.audioCodec = e,
                    this.videoCodec = t,
                    this.initSegmentData = n,
                    this.duration = r,
                    this.defaultInitPts = i
                }
                  , ae = function(e, t, n, r, i, o) {
                    this.discontinuity = void 0,
                    this.contiguous = void 0,
                    this.accurateTimeOffset = void 0,
                    this.trackSwitch = void 0,
                    this.timeOffset = void 0,
                    this.initSegmentChange = void 0,
                    this.discontinuity = e,
                    this.contiguous = t,
                    this.accurateTimeOffset = n,
                    this.trackSwitch = r,
                    this.timeOffset = i,
                    this.initSegmentChange = o
                }
            }
            , function(e, t, n) {
                "use strict";
                function r(e, t, n, r) {
                    void 0 === n && (n = 1),
                    void 0 === r && (r = !1);
                    var i = e * t * n;
                    return r ? Math.round(i) : i
                }
                function i(e, t, n, i) {
                    return void 0 === n && (n = 1),
                    void 0 === i && (i = !1),
                    r(e, t, 1 / n, i)
                }
                function o(e, t) {
                    return void 0 === t && (t = !1),
                    r(e, 1e3, 1 / 9e4, t)
                }
                function a(e, t) {
                    return void 0 === t && (t = 1),
                    r(e, 9e4, 1 / t)
                }
                n.d(t, "c", (function() {
                    return i
                }
                )),
                n.d(t, "b", (function() {
                    return o
                }
                )),
                n.d(t, "a", (function() {
                    return a
                }
                ))
            }
            , function(e, t, n) {
                var r, i, o, a, s;
                r = /^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,
                i = /^(?=([^\/?#]*))\1([^]*)$/,
                o = /(?:\/|^)\.(?=\/)/g,
                a = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,
                s = {
                    buildAbsoluteURL: function(e, t, n) {
                        if (n = n || {},
                        e = e.trim(),
                        !(t = t.trim())) {
                            if (!n.alwaysNormalize)
                                return e;
                            var r = s.parseURL(e);
                            if (!r)
                                throw new Error("Error trying to parse base URL.");
                            return r.path = s.normalizePath(r.path),
                            s.buildURLFromParts(r)
                        }
                        var o = s.parseURL(t);
                        if (!o)
                            throw new Error("Error trying to parse relative URL.");
                        if (o.scheme)
                            return n.alwaysNormalize ? (o.path = s.normalizePath(o.path),
                            s.buildURLFromParts(o)) : t;
                        var a = s.parseURL(e);
                        if (!a)
                            throw new Error("Error trying to parse base URL.");
                        if (!a.netLoc && a.path && "/" !== a.path[0]) {
                            var u = i.exec(a.path);
                            a.netLoc = u[1],
                            a.path = u[2]
                        }
                        a.netLoc && !a.path && (a.path = "/");
                        var c = {
                            scheme: a.scheme,
                            netLoc: o.netLoc,
                            path: null,
                            params: o.params,
                            query: o.query,
                            fragment: o.fragment
                        };
                        if (!o.netLoc && (c.netLoc = a.netLoc,
                        "/" !== o.path[0]))
                            if (o.path) {
                                var l = a.path
                                  , f = l.substring(0, l.lastIndexOf("/") + 1) + o.path;
                                c.path = s.normalizePath(f)
                            } else
                                c.path = a.path,
                                o.params || (c.params = a.params,
                                o.query || (c.query = a.query));
                        return null === c.path && (c.path = n.alwaysNormalize ? s.normalizePath(o.path) : o.path),
                        s.buildURLFromParts(c)
                    },
                    parseURL: function(e) {
                        var t = r.exec(e);
                        return t ? {
                            scheme: t[1] || "",
                            netLoc: t[2] || "",
                            path: t[3] || "",
                            params: t[4] || "",
                            query: t[5] || "",
                            fragment: t[6] || ""
                        } : null
                    },
                    normalizePath: function(e) {
                        for (e = e.split("").reverse().join("").replace(o, ""); e.length !== (e = e.replace(a, "")).length; )
                            ;
                        return e.split("").reverse().join("")
                    },
                    buildURLFromParts: function(e) {
                        return e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment
                    }
                },
                e.exports = s
            }
            , function(e, t, n) {
                "use strict";
                n.d(t, "a", (function() {
                    return m
                }
                )),
                n.d(t, "d", (function() {
                    return g
                }
                )),
                n.d(t, "b", (function() {
                    return y
                }
                )),
                n.d(t, "c", (function() {
                    return E
                }
                ));
                var r = n(3)
                  , i = function() {
                    function e() {}
                    return e.getSilentFrame = function(e, t) {
                        switch (e) {
                        case "mp4a.40.2":
                            if (1 === t)
                                return new Uint8Array([0, 200, 0, 128, 35, 128]);
                            if (2 === t)
                                return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);
                            if (3 === t)
                                return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);
                            if (4 === t)
                                return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);
                            if (5 === t)
                                return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);
                            if (6 === t)
                                return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);
                            break;
                        default:
                            if (1 === t)
                                return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);
                            if (2 === t)
                                return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);
                            if (3 === t)
                                return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94])
                        }
                    }
                    ,
                    e
                }()
                  , o = Math.pow(2, 32) - 1
                  , a = function() {
                    function e() {}
                    return e.init = function() {
                        var t;
                        for (t in e.types = {
                            avc1: [],
                            avcC: [],
                            btrt: [],
                            dinf: [],
                            dref: [],
                            esds: [],
                            ftyp: [],
                            hdlr: [],
                            mdat: [],
                            mdhd: [],
                            mdia: [],
                            mfhd: [],
                            minf: [],
                            moof: [],
                            moov: [],
                            mp4a: [],
                            ".mp3": [],
                            mvex: [],
                            mvhd: [],
                            pasp: [],
                            sdtp: [],
                            stbl: [],
                            stco: [],
                            stsc: [],
                            stsd: [],
                            stsz: [],
                            stts: [],
                            tfdt: [],
                            tfhd: [],
                            traf: [],
                            trak: [],
                            trun: [],
                            trex: [],
                            tkhd: [],
                            vmhd: [],
                            smhd: []
                        },
                        e.types)
                            e.types.hasOwnProperty(t) && (e.types[t] = [t.charCodeAt(0), t.charCodeAt(1), t.charCodeAt(2), t.charCodeAt(3)]);
                        var n = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0])
                          , r = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]);
                        e.HDLR_TYPES = {
                            video: n,
                            audio: r
                        };
                        var i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1])
                          , o = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]);
                        e.STTS = e.STSC = e.STCO = o,
                        e.STSZ = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),
                        e.VMHD = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]),
                        e.SMHD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]),
                        e.STSD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]);
                        var a = new Uint8Array([105, 115, 111, 109])
                          , s = new Uint8Array([97, 118, 99, 49])
                          , u = new Uint8Array([0, 0, 0, 1]);
                        e.FTYP = e.box(e.types.ftyp, a, u, a, s),
                        e.DINF = e.box(e.types.dinf, e.box(e.types.dref, i))
                    }
                    ,
                    e.box = function(e) {
                        for (var t = 8, n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++)
                            r[i - 1] = arguments[i];
                        for (var o = r.length, a = o; o--; )
                            t += r[o].byteLength;
                        var s = new Uint8Array(t);
                        for (s[0] = t >> 24 & 255,
                        s[1] = t >> 16 & 255,
                        s[2] = t >> 8 & 255,
                        s[3] = 255 & t,
                        s.set(e, 4),
                        o = 0,
                        t = 8; o < a; o++)
                            s.set(r[o], t),
                            t += r[o].byteLength;
                        return s
                    }
                    ,
                    e.hdlr = function(t) {
                        return e.box(e.types.hdlr, e.HDLR_TYPES[t])
                    }
                    ,
                    e.mdat = function(t) {
                        return e.box(e.types.mdat, t)
                    }
                    ,
                    e.mdhd = function(t, n) {
                        n *= t;
                        var r = Math.floor(n / (o + 1))
                          , i = Math.floor(n % (o + 1));
                        return e.box(e.types.mdhd, new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, 255 & t, r >> 24, r >> 16 & 255, r >> 8 & 255, 255 & r, i >> 24, i >> 16 & 255, i >> 8 & 255, 255 & i, 85, 196, 0, 0]))
                    }
                    ,
                    e.mdia = function(t) {
                        return e.box(e.types.mdia, e.mdhd(t.timescale, t.duration), e.hdlr(t.type), e.minf(t))
                    }
                    ,
                    e.mfhd = function(t) {
                        return e.box(e.types.mfhd, new Uint8Array([0, 0, 0, 0, t >> 24, t >> 16 & 255, t >> 8 & 255, 255 & t]))
                    }
                    ,
                    e.minf = function(t) {
                        return "audio" === t.type ? e.box(e.types.minf, e.box(e.types.smhd, e.SMHD), e.DINF, e.stbl(t)) : e.box(e.types.minf, e.box(e.types.vmhd, e.VMHD), e.DINF, e.stbl(t))
                    }
                    ,
                    e.moof = function(t, n, r) {
                        return e.box(e.types.moof, e.mfhd(t), e.traf(r, n))
                    }
                    ,
                    e.moov = function(t) {
                        for (var n = t.length, r = []; n--; )
                            r[n] = e.trak(t[n]);
                        return e.box.apply(null, [e.types.moov, e.mvhd(t[0].timescale, t[0].duration)].concat(r).concat(e.mvex(t)))
                    }
                    ,
                    e.mvex = function(t) {
                        for (var n = t.length, r = []; n--; )
                            r[n] = e.trex(t[n]);
                        return e.box.apply(null, [e.types.mvex].concat(r))
                    }
                    ,
                    e.mvhd = function(t, n) {
                        n *= t;
                        var r = Math.floor(n / (o + 1))
                          , i = Math.floor(n % (o + 1))
                          , a = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, 255 & t, r >> 24, r >> 16 & 255, r >> 8 & 255, 255 & r, i >> 24, i >> 16 & 255, i >> 8 & 255, 255 & i, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]);
                        return e.box(e.types.mvhd, a)
                    }
                    ,
                    e.sdtp = function(t) {
                        var n, r, i = t.samples || [], o = new Uint8Array(4 + i.length);
                        for (n = 0; n < i.length; n++)
                            r = i[n].flags,
                            o[n + 4] = r.dependsOn << 4 | r.isDependedOn << 2 | r.hasRedundancy;
                        return e.box(e.types.sdtp, o)
                    }
                    ,
                    e.stbl = function(t) {
                        return e.box(e.types.stbl, e.stsd(t), e.box(e.types.stts, e.STTS), e.box(e.types.stsc, e.STSC), e.box(e.types.stsz, e.STSZ), e.box(e.types.stco, e.STCO))
                    }
                    ,
                    e.avc1 = function(t) {
                        var n, r, i, o = [], a = [];
                        for (n = 0; n < t.sps.length; n++)
                            i = (r = t.sps[n]).byteLength,
                            o.push(i >>> 8 & 255),
                            o.push(255 & i),
                            o = o.concat(Array.prototype.slice.call(r));
                        for (n = 0; n < t.pps.length; n++)
                            i = (r = t.pps[n]).byteLength,
                            a.push(i >>> 8 & 255),
                            a.push(255 & i),
                            a = a.concat(Array.prototype.slice.call(r));
                        var s = e.box(e.types.avcC, new Uint8Array([1, o[3], o[4], o[5], 255, 224 | t.sps.length].concat(o).concat([t.pps.length]).concat(a)))
                          , u = t.width
                          , c = t.height
                          , l = t.pixelRatio[0]
                          , f = t.pixelRatio[1];
                        return e.box(e.types.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, u >> 8 & 255, 255 & u, c >> 8 & 255, 255 & c, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 18, 100, 97, 105, 108, 121, 109, 111, 116, 105, 111, 110, 47, 104, 108, 115, 46, 106, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), s, e.box(e.types.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])), e.box(e.types.pasp, new Uint8Array([l >> 24, l >> 16 & 255, l >> 8 & 255, 255 & l, f >> 24, f >> 16 & 255, f >> 8 & 255, 255 & f])))
                    }
                    ,
                    e.esds = function(e) {
                        var t = e.config.length;
                        return new Uint8Array([0, 0, 0, 0, 3, 23 + t, 0, 1, 0, 4, 15 + t, 64, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5].concat([t]).concat(e.config).concat([6, 1, 2]))
                    }
                    ,
                    e.mp4a = function(t) {
                        var n = t.samplerate;
                        return e.box(e.types.mp4a, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, t.channelCount, 0, 16, 0, 0, 0, 0, n >> 8 & 255, 255 & n, 0, 0]), e.box(e.types.esds, e.esds(t)))
                    }
                    ,
                    e.mp3 = function(t) {
                        var n = t.samplerate;
                        return e.box(e.types[".mp3"], new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, t.channelCount, 0, 16, 0, 0, 0, 0, n >> 8 & 255, 255 & n, 0, 0]))
                    }
                    ,
                    e.stsd = function(t) {
                        return "audio" === t.type ? "mp3" === t.segmentCodec && "mp3" === t.codec ? e.box(e.types.stsd, e.STSD, e.mp3(t)) : e.box(e.types.stsd, e.STSD, e.mp4a(t)) : e.box(e.types.stsd, e.STSD, e.avc1(t))
                    }
                    ,
                    e.tkhd = function(t) {
                        var n = t.id
                          , r = t.duration * t.timescale
                          , i = t.width
                          , a = t.height
                          , s = Math.floor(r / (o + 1))
                          , u = Math.floor(r % (o + 1));
                        return e.box(e.types.tkhd, new Uint8Array([1, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, n >> 24 & 255, n >> 16 & 255, n >> 8 & 255, 255 & n, 0, 0, 0, 0, s >> 24, s >> 16 & 255, s >> 8 & 255, 255 & s, u >> 24, u >> 16 & 255, u >> 8 & 255, 255 & u, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, i >> 8 & 255, 255 & i, 0, 0, a >> 8 & 255, 255 & a, 0, 0]))
                    }
                    ,
                    e.traf = function(t, n) {
                        var r = e.sdtp(t)
                          , i = t.id
                          , a = Math.floor(n / (o + 1))
                          , s = Math.floor(n % (o + 1));
                        return e.box(e.types.traf, e.box(e.types.tfhd, new Uint8Array([0, 0, 0, 0, i >> 24, i >> 16 & 255, i >> 8 & 255, 255 & i])), e.box(e.types.tfdt, new Uint8Array([1, 0, 0, 0, a >> 24, a >> 16 & 255, a >> 8 & 255, 255 & a, s >> 24, s >> 16 & 255, s >> 8 & 255, 255 & s])), e.trun(t, r.length + 16 + 20 + 8 + 16 + 8 + 8), r)
                    }
                    ,
                    e.trak = function(t) {
                        return t.duration = t.duration || 4294967295,
                        e.box(e.types.trak, e.tkhd(t), e.mdia(t))
                    }
                    ,
                    e.trex = function(t) {
                        var n = t.id;
                        return e.box(e.types.trex, new Uint8Array([0, 0, 0, 0, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]))
                    }
                    ,
                    e.trun = function(t, n) {
                        var r, i, o, a, s, u, c = t.samples || [], l = c.length, f = 12 + 16 * l, d = new Uint8Array(f);
                        for (n += 8 + f,
                        d.set(["video" === t.type ? 1 : 0, 0, 15, 1, l >>> 24 & 255, l >>> 16 & 255, l >>> 8 & 255, 255 & l, n >>> 24 & 255, n >>> 16 & 255, n >>> 8 & 255, 255 & n], 0),
                        r = 0; r < l; r++)
                            o = (i = c[r]).duration,
                            a = i.size,
                            s = i.flags,
                            u = i.cts,
                            d.set([o >>> 24 & 255, o >>> 16 & 255, o >>> 8 & 255, 255 & o, a >>> 24 & 255, a >>> 16 & 255, a >>> 8 & 255, 255 & a, s.isLeading << 2 | s.dependsOn, s.isDependedOn << 6 | s.hasRedundancy << 4 | s.paddingValue << 1 | s.isNonSync, 61440 & s.degradPrio, 15 & s.degradPrio, u >>> 24 & 255, u >>> 16 & 255, u >>> 8 & 255, 255 & u], 12 + 16 * r);
                        return e.box(e.types.trun, d)
                    }
                    ,
                    e.initSegment = function(t) {
                        e.types || e.init();
                        var n = e.moov(t)
                          , r = new Uint8Array(e.FTYP.byteLength + n.byteLength);
                        return r.set(e.FTYP),
                        r.set(n, e.FTYP.byteLength),
                        r
                    }
                    ,
                    e
                }();
                a.types = void 0,
                a.HDLR_TYPES = void 0,
                a.STTS = void 0,
                a.STSC = void 0,
                a.STCO = void 0,
                a.STSZ = void 0,
                a.VMHD = void 0,
                a.SMHD = void 0,
                a.STSD = void 0,
                a.FTYP = void 0,
                a.DINF = void 0;
                var s = a
                  , u = n(0)
                  , c = n(2)
                  , l = n(1)
                  , f = n(4)
                  , d = n(11);
                function h() {
                    return (h = Object.assign ? Object.assign.bind() : function(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = arguments[t];
                            for (var r in n)
                                Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                        }
                        return e
                    }
                    ).apply(this, arguments)
                }
                var p = null
                  , v = null
                  , m = function() {
                    function e(e, t, n, r) {
                        if (void 0 === r && (r = ""),
                        this.observer = void 0,
                        this.config = void 0,
                        this.typeSupported = void 0,
                        this.ISGenerated = !1,
                        this._initPTS = void 0,
                        this._initDTS = void 0,
                        this.nextAvcDts = null,
                        this.nextAudioPts = null,
                        this.videoSampleDuration = null,
                        this.isAudioContiguous = !1,
                        this.isVideoContiguous = !1,
                        this.observer = e,
                        this.config = t,
                        this.typeSupported = n,
                        this.ISGenerated = !1,
                        null === p) {
                            var i = (navigator.userAgent || "").match(/Chrome\/(\d+)/i);
                            p = i ? parseInt(i[1]) : 0
                        }
                        if (null === v) {
                            var o = navigator.userAgent.match(/Safari\/(\d+)/i);
                            v = o ? parseInt(o[1]) : 0
                        }
                    }
                    var t = e.prototype;
                    return t.destroy = function() {}
                    ,
                    t.resetTimeStamp = function(e) {
                        l.b.log("[mp4-remuxer]: initPTS & initDTS reset"),
                        this._initPTS = this._initDTS = e
                    }
                    ,
                    t.resetNextTimestamp = function() {
                        l.b.log("[mp4-remuxer]: reset next timestamp"),
                        this.isVideoContiguous = !1,
                        this.isAudioContiguous = !1
                    }
                    ,
                    t.resetInitSegment = function() {
                        l.b.log("[mp4-remuxer]: ISGenerated flag reset"),
                        this.ISGenerated = !1
                    }
                    ,
                    t.getVideoStartPts = function(e) {
                        var t = !1
                          , n = e.reduce((function(e, n) {
                            var r = n.pts - e;
                            return r < -4294967296 ? (t = !0,
                            g(e, n.pts)) : r > 0 ? e : n.pts
                        }
                        ), e[0].pts);
                        return t && l.b.debug("PTS rollover detected"),
                        n
                    }
                    ,
                    t.remux = function(e, t, n, r, i, o, a, s) {
                        var u, c, d, h, p, v, m = i, T = i, b = e.pid > -1, _ = t.pid > -1, S = t.samples.length, R = e.samples.length > 0, w = a && S > 0 || S > 1;
                        if ((!b || R) && (!_ || w) || this.ISGenerated || a) {
                            this.ISGenerated || (d = this.generateIS(e, t, i));
                            var C, O = this.isVideoContiguous, L = -1;
                            if (w && (L = function(e) {
                                for (var t = 0; t < e.length; t++)
                                    if (e[t].key)
                                        return t;
                                return -1
                            }(t.samples),
                            !O && this.config.forceKeyFrameOnDiscontinuity))
                                if (v = !0,
                                L > 0) {
                                    l.b.warn("[mp4-remuxer]: Dropped " + L + " out of " + S + " video samples due to a missing keyframe");
                                    var A = this.getVideoStartPts(t.samples);
                                    t.samples = t.samples.slice(L),
                                    t.dropped += L,
                                    C = T += (t.samples[0].pts - A) / t.inputTimeScale
                                } else
                                    -1 === L && (l.b.warn("[mp4-remuxer]: No keyframe found out of " + S + " video samples"),
                                    v = !1);
                            if (this.ISGenerated) {
                                if (R && w) {
                                    var P = this.getVideoStartPts(t.samples)
                                      , I = (g(e.samples[0].pts, P) - P) / t.inputTimeScale;
                                    m += Math.max(0, I),
                                    T += Math.max(0, -I)
                                }
                                if (R) {
                                    if (e.samplerate || (l.b.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),
                                    d = this.generateIS(e, t, i)),
                                    c = this.remuxAudio(e, m, this.isAudioContiguous, o, _ || w || s === f.b.AUDIO ? T : void 0),
                                    w) {
                                        var D = c ? c.endPTS - c.startPTS : 0;
                                        t.inputTimeScale || (l.b.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),
                                        d = this.generateIS(e, t, i)),
                                        u = this.remuxVideo(t, T, O, D)
                                    }
                                } else
                                    w && (u = this.remuxVideo(t, T, O, 0));
                                u && (u.firstKeyFrame = L,
                                u.independent = -1 !== L,
                                u.firstKeyFramePTS = C)
                            }
                        }
                        return this.ISGenerated && (n.samples.length && (p = y(n, i, this._initPTS, this._initDTS)),
                        r.samples.length && (h = E(r, i, this._initPTS))),
                        {
                            audio: c,
                            video: u,
                            initSegment: d,
                            independent: v,
                            text: h,
                            id3: p
                        }
                    }
                    ,
                    t.generateIS = function(e, t, n) {
                        var i, o, a, u = e.samples, c = t.samples, l = this.typeSupported, f = {}, d = !Object(r.a)(this._initPTS), h = "audio/mp4";
                        if (d && (i = o = 1 / 0),
                        e.config && u.length) {
                            switch (e.timescale = e.samplerate,
                            e.segmentCodec) {
                            case "mp3":
                                l.mpeg ? (h = "audio/mpeg",
                                e.codec = "") : l.mp3 && (e.codec = "mp3")
                            }
                            f.audio = {
                                id: "audio",
                                container: h,
                                codec: e.codec,
                                initSegment: "mp3" === e.segmentCodec && l.mpeg ? new Uint8Array(0) : s.initSegment([e]),
                                metadata: {
                                    channelCount: e.channelCount
                                }
                            },
                            d && (a = e.inputTimeScale,
                            i = o = u[0].pts - Math.round(a * n))
                        }
                        if (t.sps && t.pps && c.length && (t.timescale = t.inputTimeScale,
                        f.video = {
                            id: "main",
                            container: "video/mp4",
                            codec: t.codec,
                            initSegment: s.initSegment([t]),
                            metadata: {
                                width: t.width,
                                height: t.height
                            }
                        },
                        d)) {
                            a = t.inputTimeScale;
                            var p = this.getVideoStartPts(c)
                              , v = Math.round(a * n);
                            o = Math.min(o, g(c[0].dts, p) - v),
                            i = Math.min(i, p - v)
                        }
                        if (Object.keys(f).length)
                            return this.ISGenerated = !0,
                            d && (this._initPTS = i,
                            this._initDTS = o),
                            {
                                tracks: f,
                                initPTS: i,
                                timescale: a
                            }
                    }
                    ,
                    t.remuxVideo = function(e, t, n, r) {
                        var i, o, a = e.inputTimeScale, f = e.samples, m = [], y = f.length, E = this._initPTS, b = this.nextAvcDts, _ = 8, S = this.videoSampleDuration, R = Number.POSITIVE_INFINITY, w = Number.NEGATIVE_INFINITY, C = !1;
                        n && null !== b || (b = t * a - (f[0].pts - g(f[0].dts, f[0].pts)));
                        for (var O = 0; O < y; O++) {
                            var L = f[O];
                            L.pts = g(L.pts - E, b),
                            L.dts = g(L.dts - E, b),
                            L.dts < f[O > 0 ? O - 1 : O].dts && (C = !0)
                        }
                        C && f.sort((function(e, t) {
                            var n = e.dts - t.dts
                              , r = e.pts - t.pts;
                            return n || r
                        }
                        )),
                        i = f[0].dts;
                        var A = f[f.length - 1].dts - i
                          , P = A ? Math.round(A / (y - 1)) : S || e.inputTimeScale / 30;
                        if (n) {
                            var I = i - b
                              , D = I > P;
                            if (D || I < -1) {
                                D ? l.b.warn("AVC: " + Object(d.b)(I, !0) + " ms (" + I + "dts) hole between fragments detected, filling it") : l.b.warn("AVC: " + Object(d.b)(-I, !0) + " ms (" + I + "dts) overlapping between fragments detected"),
                                i = b;
                                var k = f[0].pts - I;
                                f[0].dts = i,
                                f[0].pts = k,
                                l.b.log("Video: First PTS/DTS adjusted: " + Object(d.b)(k, !0) + "/" + Object(d.b)(i, !0) + ", delta: " + Object(d.b)(I, !0) + " ms")
                            }
                        }
                        i = Math.max(0, i);
                        for (var N = 0, x = 0, M = 0; M < y; M++) {
                            for (var F = f[M], U = F.units, B = U.length, j = 0, V = 0; V < B; V++)
                                j += U[V].data.length;
                            x += j,
                            N += B,
                            F.length = j,
                            F.dts = Math.max(F.dts, i),
                            R = Math.min(F.pts, R),
                            w = Math.max(F.pts, w)
                        }
                        o = f[y - 1].dts;
                        var H, q = x + 4 * N + 8;
                        try {
                            H = new Uint8Array(q)
                        } catch (e) {
                            return void this.observer.emit(u.a.ERROR, u.a.ERROR, {
                                type: c.b.MUX_ERROR,
                                details: c.a.REMUX_ALLOC_ERROR,
                                fatal: !1,
                                bytes: q,
                                reason: "fail allocating video mdat " + q
                            })
                        }
                        var W = new DataView(H.buffer);
                        W.setUint32(0, q),
                        H.set(s.types.mdat, 4);
                        for (var G = !1, Y = Number.POSITIVE_INFINITY, K = Number.POSITIVE_INFINITY, z = Number.NEGATIVE_INFINITY, Q = Number.NEGATIVE_INFINITY, J = 0; J < y; J++) {
                            for (var X = f[J], Z = X.units, $ = 0, ee = 0, te = Z.length; ee < te; ee++) {
                                var ne = Z[ee]
                                  , re = ne.data
                                  , ie = ne.data.byteLength;
                                W.setUint32(_, ie),
                                _ += 4,
                                H.set(re, _),
                                _ += ie,
                                $ += 4 + ie
                            }
                            var oe = void 0;
                            if (J < y - 1)
                                S = f[J + 1].dts - X.dts,
                                oe = f[J + 1].pts - X.pts;
                            else {
                                var ae = this.config
                                  , se = J > 0 ? X.dts - f[J - 1].dts : P;
                                if (oe = J > 0 ? X.pts - f[J - 1].pts : P,
                                ae.stretchShortVideoTrack && null !== this.nextAudioPts) {
                                    var ue = Math.floor(ae.maxBufferHole * a)
                                      , ce = (r ? R + r * a : this.nextAudioPts) - X.pts;
                                    ce > ue ? ((S = ce - se) < 0 ? S = se : G = !0,
                                    l.b.log("[mp4-remuxer]: It is approximately " + ce / 90 + " ms to the next segment; using duration " + S / 90 + " ms for the last video frame.")) : S = se
                                } else
                                    S = se
                            }
                            var le = Math.round(X.pts - X.dts);
                            Y = Math.min(Y, S),
                            z = Math.max(z, S),
                            K = Math.min(K, oe),
                            Q = Math.max(Q, oe),
                            m.push(new T(X.key,S,$,le))
                        }
                        if (m.length)
                            if (p) {
                                if (p < 70) {
                                    var fe = m[0].flags;
                                    fe.dependsOn = 2,
                                    fe.isNonSync = 0
                                }
                            } else if (v && Q - K < z - Y && P / z < .025 && 0 === m[0].cts) {
                                l.b.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");
                                for (var de = i, he = 0, pe = m.length; he < pe; he++) {
                                    var ve = de + m[he].duration
                                      , me = de + m[he].cts;
                                    if (he < pe - 1) {
                                        var ge = ve + m[he + 1].cts;
                                        m[he].duration = ge - me
                                    } else
                                        m[he].duration = he ? m[he - 1].duration : P;
                                    m[he].cts = 0,
                                    de = ve
                                }
                            }
                        S = G || !S ? P : S,
                        this.nextAvcDts = b = o + S,
                        this.videoSampleDuration = S,
                        this.isVideoContiguous = !0;
                        var ye = {
                            data1: s.moof(e.sequenceNumber++, i, h({}, e, {
                                samples: m
                            })),
                            data2: H,
                            startPTS: R / a,
                            endPTS: (w + S) / a,
                            startDTS: i / a,
                            endDTS: b / a,
                            type: "video",
                            hasAudio: !1,
                            hasVideo: !0,
                            nb: m.length,
                            dropped: e.dropped
                        };
                        return e.samples = [],
                        e.dropped = 0,
                        ye
                    }
                    ,
                    t.remuxAudio = function(e, t, n, r, o) {
                        var a = e.inputTimeScale
                          , f = a / (e.samplerate ? e.samplerate : a)
                          , d = "aac" === e.segmentCodec ? 1024 : 1152
                          , p = d * f
                          , v = this._initPTS
                          , m = "mp3" === e.segmentCodec && this.typeSupported.mpeg
                          , y = []
                          , E = void 0 !== o
                          , b = e.samples
                          , _ = m ? 0 : 8
                          , S = this.nextAudioPts || -1
                          , R = t * a;
                        if (this.isAudioContiguous = n = n || b.length && S > 0 && (r && Math.abs(R - S) < 9e3 || Math.abs(g(b[0].pts - v, R) - S) < 20 * p),
                        b.forEach((function(e) {
                            e.pts = g(e.pts - v, R)
                        }
                        )),
                        !n || S < 0) {
                            if (!(b = b.filter((function(e) {
                                return e.pts >= 0
                            }
                            ))).length)
                                return;
                            S = 0 === o ? 0 : r && !E ? Math.max(0, R) : b[0].pts
                        }
                        if ("aac" === e.segmentCodec)
                            for (var w = this.config.maxAudioFramesDrift, C = 0, O = S; C < b.length; C++) {
                                var L = b[C]
                                  , A = L.pts
                                  , P = A - O
                                  , I = Math.abs(1e3 * P / a);
                                if (P <= -w * p && E)
                                    0 === C && (l.b.warn("Audio frame @ " + (A / a).toFixed(3) + "s overlaps nextAudioPts by " + Math.round(1e3 * P / a) + " ms."),
                                    this.nextAudioPts = S = O = A);
                                else if (P >= w * p && I < 1e4 && E) {
                                    var D = Math.round(P / p);
                                    (O = A - D * p) < 0 && (D--,
                                    O += p),
                                    0 === C && (this.nextAudioPts = S = O),
                                    l.b.warn("[mp4-remuxer]: Injecting " + D + " audio frame @ " + (O / a).toFixed(3) + "s due to " + Math.round(1e3 * P / a) + " ms gap.");
                                    for (var k = 0; k < D; k++) {
                                        var N = Math.max(O, 0)
                                          , x = i.getSilentFrame(e.manifestCodec || e.codec, e.channelCount);
                                        x || (l.b.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),
                                        x = L.unit.subarray()),
                                        b.splice(C, 0, {
                                            unit: x,
                                            pts: N
                                        }),
                                        O += p,
                                        C++
                                    }
                                }
                                L.pts = O,
                                O += p
                            }
                        for (var M, F = null, U = null, B = 0, j = b.length; j--; )
                            B += b[j].unit.byteLength;
                        for (var V = 0, H = b.length; V < H; V++) {
                            var q = b[V]
                              , W = q.unit
                              , G = q.pts;
                            if (null !== U)
                                y[V - 1].duration = Math.round((G - U) / f);
                            else {
                                if (n && "aac" === e.segmentCodec && (G = S),
                                F = G,
                                !(B > 0))
                                    return;
                                B += _;
                                try {
                                    M = new Uint8Array(B)
                                } catch (e) {
                                    return void this.observer.emit(u.a.ERROR, u.a.ERROR, {
                                        type: c.b.MUX_ERROR,
                                        details: c.a.REMUX_ALLOC_ERROR,
                                        fatal: !1,
                                        bytes: B,
                                        reason: "fail allocating audio mdat " + B
                                    })
                                }
                                m || (new DataView(M.buffer).setUint32(0, B),
                                M.set(s.types.mdat, 4))
                            }
                            M.set(W, _);
                            var Y = W.byteLength;
                            _ += Y,
                            y.push(new T(!0,d,Y,0)),
                            U = G
                        }
                        var K = y.length;
                        if (K) {
                            var z = y[y.length - 1];
                            this.nextAudioPts = S = U + f * z.duration;
                            var Q = m ? new Uint8Array(0) : s.moof(e.sequenceNumber++, F / f, h({}, e, {
                                samples: y
                            }));
                            e.samples = [];
                            var J = F / a
                              , X = S / a
                              , Z = {
                                data1: Q,
                                data2: M,
                                startPTS: J,
                                endPTS: X,
                                startDTS: J,
                                endDTS: X,
                                type: "audio",
                                hasAudio: !0,
                                hasVideo: !1,
                                nb: K
                            };
                            return this.isAudioContiguous = !0,
                            Z
                        }
                    }
                    ,
                    t.remuxEmptyAudio = function(e, t, n, r) {
                        var o = e.inputTimeScale
                          , a = o / (e.samplerate ? e.samplerate : o)
                          , s = this.nextAudioPts
                          , u = (null !== s ? s : r.startDTS * o) + this._initDTS
                          , c = r.endDTS * o + this._initDTS
                          , f = 1024 * a
                          , d = Math.ceil((c - u) / f)
                          , h = i.getSilentFrame(e.manifestCodec || e.codec, e.channelCount);
                        if (l.b.warn("[mp4-remuxer]: remux empty Audio"),
                        h) {
                            for (var p = [], v = 0; v < d; v++) {
                                var m = u + v * f;
                                p.push({
                                    unit: h,
                                    pts: m,
                                    dts: m
                                })
                            }
                            return e.samples = p,
                            this.remuxAudio(e, t, n, !1)
                        }
                        l.b.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")
                    }
                    ,
                    e
                }();
                function g(e, t) {
                    var n;
                    if (null === t)
                        return e;
                    for (n = t < e ? -8589934592 : 8589934592; Math.abs(e - t) > 4294967296; )
                        e += n;
                    return e
                }
                function y(e, t, n, r) {
                    var i = e.samples.length;
                    if (i) {
                        for (var o = e.inputTimeScale, a = 0; a < i; a++) {
                            var s = e.samples[a];
                            s.pts = g(s.pts - n, t * o) / o,
                            s.dts = g(s.dts - r, t * o) / o
                        }
                        var u = e.samples;
                        return e.samples = [],
                        {
                            samples: u
                        }
                    }
                }
                function E(e, t, n) {
                    var r = e.samples.length;
                    if (r) {
                        for (var i = e.inputTimeScale, o = 0; o < r; o++) {
                            var a = e.samples[o];
                            a.pts = g(a.pts - n, t * i) / i
                        }
                        e.samples.sort((function(e, t) {
                            return e.pts - t.pts
                        }
                        ));
                        var s = e.samples;
                        return e.samples = [],
                        {
                            samples: s
                        }
                    }
                }
                var T = function(e, t, n, r) {
                    this.size = void 0,
                    this.duration = void 0,
                    this.cts = void 0,
                    this.flags = void 0,
                    this.duration = t,
                    this.size = n,
                    this.cts = r,
                    this.flags = new b(e)
                }
                  , b = function(e) {
                    this.isLeading = 0,
                    this.isDependedOn = 0,
                    this.hasRedundancy = 0,
                    this.degradPrio = 0,
                    this.dependsOn = 1,
                    this.isNonSync = 1,
                    this.dependsOn = e ? 2 : 1,
                    this.isNonSync = e ? 0 : 1
                }
            }
            , function(e, t, n) {
                "use strict";
                n.d(t, "a", (function() {
                    return r
                }
                ));
                var r = function() {
                    this.aborted = !1,
                    this.loaded = 0,
                    this.retry = 0,
                    this.total = 0,
                    this.chunkCount = 0,
                    this.bwEstimate = 0,
                    this.loading = {
                        start: 0,
                        first: 0,
                        end: 0
                    },
                    this.parsing = {
                        start: 0,
                        end: 0
                    },
                    this.buffering = {
                        start: 0,
                        first: 0,
                        end: 0
                    }
                }
            }
            , function(e, t, n) {
                "use strict";
                var r = Object.prototype.hasOwnProperty
                  , i = "~";
                function o() {}
                function a(e, t, n) {
                    this.fn = e,
                    this.context = t,
                    this.once = n || !1
                }
                function s(e, t, n, r, o) {
                    if ("function" != typeof n)
                        throw new TypeError("The listener must be a function");
                    var s = new a(n,r || e,o)
                      , u = i ? i + t : t;
                    return e._events[u] ? e._events[u].fn ? e._events[u] = [e._events[u], s] : e._events[u].push(s) : (e._events[u] = s,
                    e._eventsCount++),
                    e
                }
                function u(e, t) {
                    0 == --e._eventsCount ? e._events = new o : delete e._events[t]
                }
                function c() {
                    this._events = new o,
                    this._eventsCount = 0
                }
                Object.create && (o.prototype = Object.create(null),
                (new o).__proto__ || (i = !1)),
                c.prototype.eventNames = function() {
                    var e, t, n = [];
                    if (0 === this._eventsCount)
                        return n;
                    for (t in e = this._events)
                        r.call(e, t) && n.push(i ? t.slice(1) : t);
                    return Object.getOwnPropertySymbols ? n.concat(Object.getOwnPropertySymbols(e)) : n
                }
                ,
                c.prototype.listeners = function(e) {
                    var t = i ? i + e : e
                      , n = this._events[t];
                    if (!n)
                        return [];
                    if (n.fn)
                        return [n.fn];
                    for (var r = 0, o = n.length, a = new Array(o); r < o; r++)
                        a[r] = n[r].fn;
                    return a
                }
                ,
                c.prototype.listenerCount = function(e) {
                    var t = i ? i + e : e
                      , n = this._events[t];
                    return n ? n.fn ? 1 : n.length : 0
                }
                ,
                c.prototype.emit = function(e, t, n, r, o, a) {
                    var s = i ? i + e : e;
                    if (!this._events[s])
                        return !1;
                    var u, c, l = this._events[s], f = arguments.length;
                    if (l.fn) {
                        switch (l.once && this.removeListener(e, l.fn, void 0, !0),
                        f) {
                        case 1:
                            return l.fn.call(l.context),
                            !0;
                        case 2:
                            return l.fn.call(l.context, t),
                            !0;
                        case 3:
                            return l.fn.call(l.context, t, n),
                            !0;
                        case 4:
                            return l.fn.call(l.context, t, n, r),
                            !0;
                        case 5:
                            return l.fn.call(l.context, t, n, r, o),
                            !0;
                        case 6:
                            return l.fn.call(l.context, t, n, r, o, a),
                            !0
                        }
                        for (c = 1,
                        u = new Array(f - 1); c < f; c++)
                            u[c - 1] = arguments[c];
                        l.fn.apply(l.context, u)
                    } else {
                        var d, h = l.length;
                        for (c = 0; c < h; c++)
                            switch (l[c].once && this.removeListener(e, l[c].fn, void 0, !0),
                            f) {
                            case 1:
                                l[c].fn.call(l[c].context);
                                break;
                            case 2:
                                l[c].fn.call(l[c].context, t);
                                break;
                            case 3:
                                l[c].fn.call(l[c].context, t, n);
                                break;
                            case 4:
                                l[c].fn.call(l[c].context, t, n, r);
                                break;
                            default:
                                if (!u)
                                    for (d = 1,
                                    u = new Array(f - 1); d < f; d++)
                                        u[d - 1] = arguments[d];
                                l[c].fn.apply(l[c].context, u)
                            }
                    }
                    return !0
                }
                ,
                c.prototype.on = function(e, t, n) {
                    return s(this, e, t, n, !1)
                }
                ,
                c.prototype.once = function(e, t, n) {
                    return s(this, e, t, n, !0)
                }
                ,
                c.prototype.removeListener = function(e, t, n, r) {
                    var o = i ? i + e : e;
                    if (!this._events[o])
                        return this;
                    if (!t)
                        return u(this, o),
                        this;
                    var a = this._events[o];
                    if (a.fn)
                        a.fn !== t || r && !a.once || n && a.context !== n || u(this, o);
                    else {
                        for (var s = 0, c = [], l = a.length; s < l; s++)
                            (a[s].fn !== t || r && !a[s].once || n && a[s].context !== n) && c.push(a[s]);
                        c.length ? this._events[o] = 1 === c.length ? c[0] : c : u(this, o)
                    }
                    return this
                }
                ,
                c.prototype.removeAllListeners = function(e) {
                    var t;
                    return e ? (t = i ? i + e : e,
                    this._events[t] && u(this, t)) : (this._events = new o,
                    this._eventsCount = 0),
                    this
                }
                ,
                c.prototype.off = c.prototype.removeListener,
                c.prototype.addListener = c.prototype.on,
                c.prefixed = i,
                c.EventEmitter = c,
                e.exports = c
            }
            , function(e, t, n) {
                "use strict";
                n.d(t, "a", (function() {
                    return c
                }
                ));
                var r = function() {
                    function e(e, t) {
                        this.subtle = void 0,
                        this.aesIV = void 0,
                        this.subtle = e,
                        this.aesIV = t
                    }
                    return e.prototype.decrypt = function(e, t) {
                        return this.subtle.decrypt({
                            name: "AES-CBC",
                            iv: this.aesIV
                        }, t, e)
                    }
                    ,
                    e
                }()
                  , i = function() {
                    function e(e, t) {
                        this.subtle = void 0,
                        this.key = void 0,
                        this.subtle = e,
                        this.key = t
                    }
                    return e.prototype.expandKey = function() {
                        return this.subtle.importKey("raw", this.key, {
                            name: "AES-CBC"
                        }, !1, ["encrypt", "decrypt"])
                    }
                    ,
                    e
                }()
                  , o = n(9)
                  , a = function() {
                    function e() {
                        this.rcon = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54],
                        this.subMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)],
                        this.invSubMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)],
                        this.sBox = new Uint32Array(256),
                        this.invSBox = new Uint32Array(256),
                        this.key = new Uint32Array(0),
                        this.ksRows = 0,
                        this.keySize = 0,
                        this.keySchedule = void 0,
                        this.invKeySchedule = void 0,
                        this.initTable()
                    }
                    var t = e.prototype;
                    return t.uint8ArrayToUint32Array_ = function(e) {
                        for (var t = new DataView(e), n = new Uint32Array(4), r = 0; r < 4; r++)
                            n[r] = t.getUint32(4 * r);
                        return n
                    }
                    ,
                    t.initTable = function() {
                        var e = this.sBox
                          , t = this.invSBox
                          , n = this.subMix
                          , r = n[0]
                          , i = n[1]
                          , o = n[2]
                          , a = n[3]
                          , s = this.invSubMix
                          , u = s[0]
                          , c = s[1]
                          , l = s[2]
                          , f = s[3]
                          , d = new Uint32Array(256)
                          , h = 0
                          , p = 0
                          , v = 0;
                        for (v = 0; v < 256; v++)
                            d[v] = v < 128 ? v << 1 : v << 1 ^ 283;
                        for (v = 0; v < 256; v++) {
                            var m = p ^ p << 1 ^ p << 2 ^ p << 3 ^ p << 4;
                            m = m >>> 8 ^ 255 & m ^ 99,
                            e[h] = m,
                            t[m] = h;
                            var g = d[h]
                              , y = d[g]
                              , E = d[y]
                              , T = 257 * d[m] ^ 16843008 * m;
                            r[h] = T << 24 | T >>> 8,
                            i[h] = T << 16 | T >>> 16,
                            o[h] = T << 8 | T >>> 24,
                            a[h] = T,
                            T = 16843009 * E ^ 65537 * y ^ 257 * g ^ 16843008 * h,
                            u[m] = T << 24 | T >>> 8,
                            c[m] = T << 16 | T >>> 16,
                            l[m] = T << 8 | T >>> 24,
                            f[m] = T,
                            h ? (h = g ^ d[d[d[E ^ g]]],
                            p ^= d[d[p]]) : h = p = 1
                        }
                    }
                    ,
                    t.expandKey = function(e) {
                        for (var t = this.uint8ArrayToUint32Array_(e), n = !0, r = 0; r < t.length && n; )
                            n = t[r] === this.key[r],
                            r++;
                        if (!n) {
                            this.key = t;
                            var i = this.keySize = t.length;
                            if (4 !== i && 6 !== i && 8 !== i)
                                throw new Error("Invalid aes key size=" + i);
                            var o, a, s, u, c = this.ksRows = 4 * (i + 6 + 1), l = this.keySchedule = new Uint32Array(c), f = this.invKeySchedule = new Uint32Array(c), d = this.sBox, h = this.rcon, p = this.invSubMix, v = p[0], m = p[1], g = p[2], y = p[3];
                            for (o = 0; o < c; o++)
                                o < i ? s = l[o] = t[o] : (u = s,
                                o % i == 0 ? (u = d[(u = u << 8 | u >>> 24) >>> 24] << 24 | d[u >>> 16 & 255] << 16 | d[u >>> 8 & 255] << 8 | d[255 & u],
                                u ^= h[o / i | 0] << 24) : i > 6 && o % i == 4 && (u = d[u >>> 24] << 24 | d[u >>> 16 & 255] << 16 | d[u >>> 8 & 255] << 8 | d[255 & u]),
                                l[o] = s = (l[o - i] ^ u) >>> 0);
                            for (a = 0; a < c; a++)
                                o = c - a,
                                u = 3 & a ? l[o] : l[o - 4],
                                f[a] = a < 4 || o <= 4 ? u : v[d[u >>> 24]] ^ m[d[u >>> 16 & 255]] ^ g[d[u >>> 8 & 255]] ^ y[d[255 & u]],
                                f[a] = f[a] >>> 0
                        }
                    }
                    ,
                    t.networkToHostOrderSwap = function(e) {
                        return e << 24 | (65280 & e) << 8 | (16711680 & e) >> 8 | e >>> 24
                    }
                    ,
                    t.decrypt = function(e, t, n) {
                        for (var r, i, o, a, s, u, c, l, f, d, h, p, v, m, g = this.keySize + 6, y = this.invKeySchedule, E = this.invSBox, T = this.invSubMix, b = T[0], _ = T[1], S = T[2], R = T[3], w = this.uint8ArrayToUint32Array_(n), C = w[0], O = w[1], L = w[2], A = w[3], P = new Int32Array(e), I = new Int32Array(P.length), D = this.networkToHostOrderSwap; t < P.length; ) {
                            for (f = D(P[t]),
                            d = D(P[t + 1]),
                            h = D(P[t + 2]),
                            p = D(P[t + 3]),
                            s = f ^ y[0],
                            u = p ^ y[1],
                            c = h ^ y[2],
                            l = d ^ y[3],
                            v = 4,
                            m = 1; m < g; m++)
                                r = b[s >>> 24] ^ _[u >> 16 & 255] ^ S[c >> 8 & 255] ^ R[255 & l] ^ y[v],
                                i = b[u >>> 24] ^ _[c >> 16 & 255] ^ S[l >> 8 & 255] ^ R[255 & s] ^ y[v + 1],
                                o = b[c >>> 24] ^ _[l >> 16 & 255] ^ S[s >> 8 & 255] ^ R[255 & u] ^ y[v + 2],
                                a = b[l >>> 24] ^ _[s >> 16 & 255] ^ S[u >> 8 & 255] ^ R[255 & c] ^ y[v + 3],
                                s = r,
                                u = i,
                                c = o,
                                l = a,
                                v += 4;
                            r = E[s >>> 24] << 24 ^ E[u >> 16 & 255] << 16 ^ E[c >> 8 & 255] << 8 ^ E[255 & l] ^ y[v],
                            i = E[u >>> 24] << 24 ^ E[c >> 16 & 255] << 16 ^ E[l >> 8 & 255] << 8 ^ E[255 & s] ^ y[v + 1],
                            o = E[c >>> 24] << 24 ^ E[l >> 16 & 255] << 16 ^ E[s >> 8 & 255] << 8 ^ E[255 & u] ^ y[v + 2],
                            a = E[l >>> 24] << 24 ^ E[s >> 16 & 255] << 16 ^ E[u >> 8 & 255] << 8 ^ E[255 & c] ^ y[v + 3],
                            I[t] = D(r ^ C),
                            I[t + 1] = D(a ^ O),
                            I[t + 2] = D(o ^ L),
                            I[t + 3] = D(i ^ A),
                            C = f,
                            O = d,
                            L = h,
                            A = p,
                            t += 4
                        }
                        return I.buffer
                    }
                    ,
                    e
                }()
                  , s = n(1)
                  , u = n(5)
                  , c = function() {
                    function e(e, t, n) {
                        var r = (void 0 === n ? {} : n).removePKCS7Padding
                          , i = void 0 === r || r;
                        if (this.logEnabled = !0,
                        this.observer = void 0,
                        this.config = void 0,
                        this.removePKCS7Padding = void 0,
                        this.subtle = null,
                        this.softwareDecrypter = null,
                        this.key = null,
                        this.fastAesKey = null,
                        this.remainderData = null,
                        this.currentIV = null,
                        this.currentResult = null,
                        this.observer = e,
                        this.config = t,
                        this.removePKCS7Padding = i,
                        i)
                            try {
                                var o = self.crypto;
                                o && (this.subtle = o.subtle || o.webkitSubtle)
                            } catch (e) {}
                        null === this.subtle && (this.config.enableSoftwareAES = !0)
                    }
                    var t = e.prototype;
                    return t.destroy = function() {
                        this.observer = null
                    }
                    ,
                    t.isSync = function() {
                        return this.config.enableSoftwareAES
                    }
                    ,
                    t.flush = function() {
                        var e = this.currentResult;
                        if (e) {
                            var t, n, r, i = new Uint8Array(e);
                            return this.reset(),
                            this.removePKCS7Padding ? (r = (n = (t = i).byteLength) && new DataView(t.buffer).getUint8(n - 1)) ? Object(o.a)(t, 0, n - r) : t : i
                        }
                        this.reset()
                    }
                    ,
                    t.reset = function() {
                        this.currentResult = null,
                        this.currentIV = null,
                        this.remainderData = null,
                        this.softwareDecrypter && (this.softwareDecrypter = null)
                    }
                    ,
                    t.decrypt = function(e, t, n, r) {
                        if (this.config.enableSoftwareAES) {
                            this.softwareDecrypt(new Uint8Array(e), t, n);
                            var i = this.flush();
                            i && r(i.buffer)
                        } else
                            this.webCryptoDecrypt(new Uint8Array(e), t, n).then(r)
                    }
                    ,
                    t.softwareDecrypt = function(e, t, n) {
                        var r = this.currentIV
                          , i = this.currentResult
                          , s = this.remainderData;
                        this.logOnce("JS AES decrypt"),
                        s && (e = Object(u.b)(s, e),
                        this.remainderData = null);
                        var c = this.getValidChunk(e);
                        if (!c.length)
                            return null;
                        r && (n = r);
                        var l = this.softwareDecrypter;
                        l || (l = this.softwareDecrypter = new a),
                        l.expandKey(t);
                        var f = i;
                        return this.currentResult = l.decrypt(c.buffer, 0, n),
                        this.currentIV = Object(o.a)(c, -16).buffer,
                        f || null
                    }
                    ,
                    t.webCryptoDecrypt = function(e, t, n) {
                        var o = this
                          , a = this.subtle;
                        return this.key === t && this.fastAesKey || (this.key = t,
                        this.fastAesKey = new i(a,t)),
                        this.fastAesKey.expandKey().then((function(t) {
                            return a ? new r(a,n).decrypt(e.buffer, t) : Promise.reject(new Error("web crypto not initialized"))
                        }
                        )).catch((function(r) {
                            return o.onWebCryptoError(r, e, t, n)
                        }
                        ))
                    }
                    ,
                    t.onWebCryptoError = function(e, t, n, r) {
                        return s.b.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:", e),
                        this.config.enableSoftwareAES = !0,
                        this.logEnabled = !0,
                        this.softwareDecrypt(t, n, r)
                    }
                    ,
                    t.getValidChunk = function(e) {
                        var t = e
                          , n = e.length - e.length % 16;
                        return n !== e.length && (t = Object(o.a)(e, 0, n),
                        this.remainderData = Object(o.a)(e, n)),
                        t
                    }
                    ,
                    t.logOnce = function(e) {
                        this.logEnabled && (s.b.log("[decrypter.ts]: " + e),
                        this.logEnabled = !1)
                    }
                    ,
                    e
                }()
            }
            , function(e, t, n) {
                "use strict";
                n.d(t, "a", (function() {
                    return i
                }
                ));
                var r = n(12);
                var i = function() {
                    function e(e, t) {
                        this._uri = null,
                        this.method = null,
                        this.keyFormat = null,
                        this.keyFormatVersions = null,
                        this.keyID = null,
                        this.key = null,
                        this.iv = null,
                        this._uri = t ? Object(r.buildAbsoluteURL)(e, t, {
                            alwaysNormalize: !0
                        }) : e
                    }
                    var t, n;
                    return e.fromURL = function(t, n) {
                        return new e(t,n)
                    }
                    ,
                    e.fromURI = function(t) {
                        return new e(t)
                    }
                    ,
                    t = e,
                    (n = [{
                        key: "uri",
                        get: function() {
                            return this._uri
                        }
                    }]) && function(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }(t.prototype, n),
                    Object.defineProperty(t, "prototype", {
                        writable: !1
                    }),
                    e
                }()
            }
            , function(e, t, n) {
                function r(e) {
                    var t = {};
                    function n(r) {
                        if (t[r])
                            return t[r].exports;
                        var i = t[r] = {
                            i: r,
                            l: !1,
                            exports: {}
                        };
                        return e[r].call(i.exports, i, i.exports, n),
                        i.l = !0,
                        i.exports
                    }
                    n.m = e,
                    n.c = t,
                    n.i = function(e) {
                        return e
                    }
                    ,
                    n.d = function(e, t, r) {
                        n.o(e, t) || Object.defineProperty(e, t, {
                            configurable: !1,
                            enumerable: !0,
                            get: r
                        })
                    }
                    ,
                    n.r = function(e) {
                        Object.defineProperty(e, "__esModule", {
                            value: !0
                        })
                    }
                    ,
                    n.n = function(e) {
                        var t = e && e.__esModule ? function() {
                            return e.default
                        }
                        : function() {
                            return e
                        }
                        ;
                        return n.d(t, "a", t),
                        t
                    }
                    ,
                    n.o = function(e, t) {
                        return Object.prototype.hasOwnProperty.call(e, t)
                    }
                    ,
                    n.p = "/",
                    n.oe = function(e) {
                        throw e
                    }
                    ;
                    var r = n(n.s = ENTRY_MODULE);
                    return r.default || r
                }
                function i(e) {
                    return (e + "").replace(/[.?*+^$[\]\\(){}|-]/g, "\\$&")
                }
                function o(e, t, r) {
                    var o = {};
                    o[r] = [];
                    var a = t.toString()
                      , s = a.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);
                    if (!s)
                        return o;
                    for (var u, c = s[1], l = new RegExp("(\\\\n|\\W)" + i(c) + "\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g"); u = l.exec(a); )
                        "dll-reference" !== u[3] && o[r].push(u[3]);
                    for (l = new RegExp("\\(" + i(c) + '\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g"); u = l.exec(a); )
                        e[u[2]] || (o[r].push(u[1]),
                        e[u[2]] = n(u[1]).m),
                        o[u[2]] = o[u[2]] || [],
                        o[u[2]].push(u[4]);
                    for (var f, d = Object.keys(o), h = 0; h < d.length; h++)
                        for (var p = 0; p < o[d[h]].length; p++)
                            f = o[d[h]][p],
                            isNaN(1 * f) || (o[d[h]][p] = 1 * o[d[h]][p]);
                    return o
                }
                function a(e) {
                    return Object.keys(e).reduce((function(t, n) {
                        return t || e[n].length > 0
                    }
                    ), !1)
                }
                e.exports = function(e, t) {
                    t = t || {};
                    var i = {
                        main: n.m
                    }
                      , s = t.all ? {
                        main: Object.keys(i.main)
                    } : function(e, t) {
                        for (var n = {
                            main: [t]
                        }, r = {
                            main: []
                        }, i = {
                            main: {}
                        }; a(n); )
                            for (var s = Object.keys(n), u = 0; u < s.length; u++) {
                                var c = s[u]
                                  , l = n[c].pop();
                                if (i[c] = i[c] || {},
                                !i[c][l] && e[c][l]) {
                                    i[c][l] = !0,
                                    r[c] = r[c] || [],
                                    r[c].push(l);
                                    for (var f = o(e, e[c][l], c), d = Object.keys(f), h = 0; h < d.length; h++)
                                        n[d[h]] = n[d[h]] || [],
                                        n[d[h]] = n[d[h]].concat(f[d[h]])
                                }
                            }
                        return r
                    }(i, e)
                      , u = "";
                    Object.keys(s).filter((function(e) {
                        return "main" !== e
                    }
                    )).forEach((function(e) {
                        for (var t = 0; s[e][t]; )
                            t++;
                        s[e].push(t),
                        i[e][t] = "(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",
                        u = u + "var " + e + " = (" + r.toString().replace("ENTRY_MODULE", JSON.stringify(t)) + ")({" + s[e].map((function(t) {
                            return JSON.stringify(t) + ": " + i[e][t].toString()
                        }
                        )).join(",") + "});\n"
                    }
                    )),
                    u = u + "new ((" + r.toString().replace("ENTRY_MODULE", JSON.stringify(e)) + ")({" + s.main.map((function(e) {
                        return JSON.stringify(e) + ": " + i.main[e].toString()
                    }
                    )).join(",") + "}))(self);";
                    var c = new window.Blob([u],{
                        type: "text/javascript"
                    });
                    if (t.bare)
                        return c;
                    var l = (window.URL || window.webkitURL || window.mozURL || window.msURL).createObjectURL(c)
                      , f = new window.Worker(l);
                    return f.objectURL = l,
                    f
                }
            }
            , function(e, t, n) {
                "use strict";
                n.r(t),
                n.d(t, "default", (function() {
                    return s
                }
                ));
                var r = n(10)
                  , i = n(0)
                  , o = n(1)
                  , a = n(15);
                function s(e) {
                    var t = new a.EventEmitter
                      , n = function(t, n) {
                        e.postMessage({
                            event: t,
                            data: n
                        })
                    };
                    t.on(i.a.FRAG_DECRYPTED, n),
                    t.on(i.a.ERROR, n),
                    e.addEventListener("message", (function(i) {
                        var a = i.data;
                        switch (a.cmd) {
                        case "init":
                            var s = JSON.parse(a.config);
                            e.transmuxer = new r.c(t,a.typeSupported,s,a.vendor,a.id),
                            Object(o.a)(s.debug),
                            function() {
                                var e = function(e) {
                                    o.b[e] = function(t) {
                                        n("workerLog", {
                                            logType: e,
                                            message: t
                                        })
                                    }
                                };
                                for (var t in o.b)
                                    e(t)
                            }(),
                            n("init", null);
                            break;
                        case "configure":
                            e.transmuxer.configure(a.config);
                            break;
                        case "demux":
                            var c = e.transmuxer.push(a.data, a.decryptdata, a.chunkMeta, a.state);
                            Object(r.d)(c) ? c.then((function(t) {
                                u(e, t)
                            }
                            )) : u(e, c);
                            break;
                        case "flush":
                            var f = a.chunkMeta
                              , d = e.transmuxer.flush(f);
                            Object(r.d)(d) ? d.then((function(t) {
                                l(e, t, f)
                            }
                            )) : l(e, d, f)
                        }
                    }
                    ))
                }
                function u(e, t) {
                    if (!((n = t.remuxResult).audio || n.video || n.text || n.id3 || n.initSegment))
                        return !1;
                    var n, r = [], i = t.remuxResult, o = i.audio, a = i.video;
                    return o && c(r, o),
                    a && c(r, a),
                    e.postMessage({
                        event: "transmuxComplete",
                        data: t
                    }, r),
                    !0
                }
                function c(e, t) {
                    t.data1 && e.push(t.data1.buffer),
                    t.data2 && e.push(t.data2.buffer)
                }
                function l(e, t, n) {
                    t.reduce((function(t, n) {
                        return u(e, n) || t
                    }
                    ), !1) || e.postMessage({
                        event: "transmuxComplete",
                        data: t[0]
                    }),
                    e.postMessage({
                        event: "flush",
                        data: n
                    })
                }
            }
            , function(e, t, n) {
                "use strict";
                n.r(t),
                n.d(t, "default", (function() {
                    return Zn
                }
                ));
                var r, i = n(12), o = n(3), a = n(0), s = n(2), u = n(1), c = n(5), l = /^(\d+)x(\d+)$/, f = /\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g, d = function() {
                    function e(t) {
                        for (var n in "string" == typeof t && (t = e.parseAttrList(t)),
                        t)
                            t.hasOwnProperty(n) && (this[n] = t[n])
                    }
                    var t = e.prototype;
                    return t.decimalInteger = function(e) {
                        var t = parseInt(this[e], 10);
                        return t > Number.MAX_SAFE_INTEGER ? 1 / 0 : t
                    }
                    ,
                    t.hexadecimalInteger = function(e) {
                        if (this[e]) {
                            var t = (this[e] || "0x").slice(2);
                            t = (1 & t.length ? "0" : "") + t;
                            for (var n = new Uint8Array(t.length / 2), r = 0; r < t.length / 2; r++)
                                n[r] = parseInt(t.slice(2 * r, 2 * r + 2), 16);
                            return n
                        }
                        return null
                    }
                    ,
                    t.hexadecimalIntegerAsNumber = function(e) {
                        var t = parseInt(this[e], 16);
                        return t > Number.MAX_SAFE_INTEGER ? 1 / 0 : t
                    }
                    ,
                    t.decimalFloatingPoint = function(e) {
                        return parseFloat(this[e])
                    }
                    ,
                    t.optionalFloat = function(e, t) {
                        var n = this[e];
                        return n ? parseFloat(n) : t
                    }
                    ,
                    t.enumeratedString = function(e) {
                        return this[e]
                    }
                    ,
                    t.bool = function(e) {
                        return "YES" === this[e]
                    }
                    ,
                    t.decimalResolution = function(e) {
                        var t = l.exec(this[e]);
                        if (null !== t)
                            return {
                                width: parseInt(t[1], 10),
                                height: parseInt(t[2], 10)
                            }
                    }
                    ,
                    e.parseAttrList = function(e) {
                        var t, n = {};
                        for (f.lastIndex = 0; null !== (t = f.exec(e)); ) {
                            var r = t[2];
                            0 === r.indexOf('"') && r.lastIndexOf('"') === r.length - 1 && (r = r.slice(1, -1)),
                            n[t[1]] = r
                        }
                        return n
                    }
                    ,
                    e
                }();
                function h() {
                    return (h = Object.assign ? Object.assign.bind() : function(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = arguments[t];
                            for (var r in n)
                                Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                        }
                        return e
                    }
                    ).apply(this, arguments)
                }
                !function(e) {
                    e.ID = "ID",
                    e.CLASS = "CLASS",
                    e.START_DATE = "START-DATE",
                    e.DURATION = "DURATION",
                    e.END_DATE = "END-DATE",
                    e.END_ON_NEXT = "END-ON-NEXT",
                    e.PLANNED_DURATION = "PLANNED-DURATION",
                    e.SCTE35_OUT = "SCTE35-OUT",
                    e.SCTE35_IN = "SCTE35-IN"
                }(r || (r = {}));
                var p = function() {
                    function e(e, t) {
                        if (this.attr = void 0,
                        this._startDate = void 0,
                        this._endDate = void 0,
                        this._badValueForSameId = void 0,
                        t) {
                            var n = t.attr;
                            for (var i in n)
                                if (Object.prototype.hasOwnProperty.call(e, i) && e[i] !== n[i]) {
                                    u.b.warn('DATERANGE tag attribute: "' + i + '" does not match for tags with ID: "' + e.ID + '"'),
                                    this._badValueForSameId = i;
                                    break
                                }
                            e = h(new d({}), n, e)
                        }
                        if (this.attr = e,
                        this._startDate = new Date(e[r.START_DATE]),
                        r.END_DATE in this.attr) {
                            var a = new Date(this.attr[r.END_DATE]);
                            Object(o.a)(a.getTime()) && (this._endDate = a)
                        }
                    }
                    var t, n;
                    return t = e,
                    (n = [{
                        key: "id",
                        get: function() {
                            return this.attr.ID
                        }
                    }, {
                        key: "class",
                        get: function() {
                            return this.attr.CLASS
                        }
                    }, {
                        key: "startDate",
                        get: function() {
                            return this._startDate
                        }
                    }, {
                        key: "endDate",
                        get: function() {
                            if (this._endDate)
                                return this._endDate;
                            var e = this.duration;
                            return null !== e ? new Date(this._startDate.getTime() + 1e3 * e) : null
                        }
                    }, {
                        key: "duration",
                        get: function() {
                            if (r.DURATION in this.attr) {
                                var e = this.attr.decimalFloatingPoint(r.DURATION);
                                if (Object(o.a)(e))
                                    return e
                            } else if (this._endDate)
                                return (this._endDate.getTime() - this._startDate.getTime()) / 1e3;
                            return null
                        }
                    }, {
                        key: "plannedDuration",
                        get: function() {
                            return r.PLANNED_DURATION in this.attr ? this.attr.decimalFloatingPoint(r.PLANNED_DURATION) : null
                        }
                    }, {
                        key: "endOnNext",
                        get: function() {
                            return this.attr.bool(r.END_ON_NEXT)
                        }
                    }, {
                        key: "isValid",
                        get: function() {
                            return !!this.id && !this._badValueForSameId && Object(o.a)(this.startDate.getTime()) && (null === this.duration || this.duration >= 0) && (!this.endOnNext || !!this.class)
                        }
                    }]) && function(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }(t.prototype, n),
                    Object.defineProperty(t, "prototype", {
                        writable: !1
                    }),
                    e
                }()
                  , v = n(6);
                var m = function() {
                    function e(e) {
                        this.PTSKnown = !1,
                        this.alignedSliding = !1,
                        this.averagetargetduration = void 0,
                        this.endCC = 0,
                        this.endSN = 0,
                        this.fragments = void 0,
                        this.fragmentHint = void 0,
                        this.partList = null,
                        this.dateRanges = void 0,
                        this.live = !0,
                        this.ageHeader = 0,
                        this.advancedDateTime = void 0,
                        this.updated = !0,
                        this.advanced = !0,
                        this.availabilityDelay = void 0,
                        this.misses = 0,
                        this.needSidxRanges = !1,
                        this.startCC = 0,
                        this.startSN = 0,
                        this.startTimeOffset = null,
                        this.targetduration = 0,
                        this.totalduration = 0,
                        this.type = null,
                        this.url = void 0,
                        this.m3u8 = "",
                        this.version = null,
                        this.canBlockReload = !1,
                        this.canSkipUntil = 0,
                        this.canSkipDateRanges = !1,
                        this.skippedSegments = 0,
                        this.recentlyRemovedDateranges = void 0,
                        this.partHoldBack = 0,
                        this.holdBack = 0,
                        this.partTarget = 0,
                        this.preloadHint = void 0,
                        this.renditionReports = void 0,
                        this.tuneInGoal = 0,
                        this.deltaUpdateFailed = void 0,
                        this.driftStartTime = 0,
                        this.driftEndTime = 0,
                        this.driftStart = 0,
                        this.driftEnd = 0,
                        this.fragments = [],
                        this.dateRanges = {},
                        this.url = e
                    }
                    var t, n;
                    return e.prototype.reloaded = function(e) {
                        if (!e)
                            return this.advanced = !0,
                            void (this.updated = !0);
                        var t = this.lastPartSn - e.lastPartSn
                          , n = this.lastPartIndex - e.lastPartIndex;
                        this.updated = this.endSN !== e.endSN || !!n || !!t,
                        this.advanced = this.endSN > e.endSN || t > 0 || 0 === t && n > 0,
                        this.updated || this.advanced ? this.misses = Math.floor(.6 * e.misses) : this.misses = e.misses + 1,
                        this.availabilityDelay = e.availabilityDelay
                    }
                    ,
                    t = e,
                    (n = [{
                        key: "hasProgramDateTime",
                        get: function() {
                            return !!this.fragments.length && Object(o.a)(this.fragments[this.fragments.length - 1].programDateTime)
                        }
                    }, {
                        key: "levelTargetDuration",
                        get: function() {
                            return this.averagetargetduration || this.targetduration || 10
                        }
                    }, {
                        key: "drift",
                        get: function() {
                            var e = this.driftEndTime - this.driftStartTime;
                            return e > 0 ? 1e3 * (this.driftEnd - this.driftStart) / e : 1
                        }
                    }, {
                        key: "edge",
                        get: function() {
                            return this.partEnd || this.fragmentEnd
                        }
                    }, {
                        key: "partEnd",
                        get: function() {
                            var e;
                            return null !== (e = this.partList) && void 0 !== e && e.length ? this.partList[this.partList.length - 1].end : this.fragmentEnd
                        }
                    }, {
                        key: "fragmentEnd",
                        get: function() {
                            var e;
                            return null !== (e = this.fragments) && void 0 !== e && e.length ? this.fragments[this.fragments.length - 1].end : 0
                        }
                    }, {
                        key: "age",
                        get: function() {
                            return this.advancedDateTime ? Math.max(Date.now() - this.advancedDateTime, 0) / 1e3 : 0
                        }
                    }, {
                        key: "lastPartIndex",
                        get: function() {
                            var e;
                            return null !== (e = this.partList) && void 0 !== e && e.length ? this.partList[this.partList.length - 1].index : -1
                        }
                    }, {
                        key: "lastPartSn",
                        get: function() {
                            var e;
                            return null !== (e = this.partList) && void 0 !== e && e.length ? this.partList[this.partList.length - 1].fragment.sn : this.endSN
                        }
                    }]) && function(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }(t.prototype, n),
                    Object.defineProperty(t, "prototype", {
                        writable: !1
                    }),
                    e
                }()
                  , g = n(17)
                  , y = {
                    audio: {
                        a3ds: !0,
                        "ac-3": !0,
                        "ac-4": !0,
                        alac: !0,
                        alaw: !0,
                        dra1: !0,
                        "dts+": !0,
                        "dts-": !0,
                        dtsc: !0,
                        dtse: !0,
                        dtsh: !0,
                        "ec-3": !0,
                        enca: !0,
                        g719: !0,
                        g726: !0,
                        m4ae: !0,
                        mha1: !0,
                        mha2: !0,
                        mhm1: !0,
                        mhm2: !0,
                        mlpa: !0,
                        mp4a: !0,
                        "raw ": !0,
                        Opus: !0,
                        samr: !0,
                        sawb: !0,
                        sawp: !0,
                        sevc: !0,
                        sqcp: !0,
                        ssmv: !0,
                        twos: !0,
                        ulaw: !0
                    },
                    video: {
                        avc1: !0,
                        avc2: !0,
                        avc3: !0,
                        avc4: !0,
                        avcp: !0,
                        av01: !0,
                        drac: !0,
                        dva1: !0,
                        dvav: !0,
                        dvh1: !0,
                        dvhe: !0,
                        encv: !0,
                        hev1: !0,
                        hvc1: !0,
                        mjp2: !0,
                        mp4v: !0,
                        mvc1: !0,
                        mvc2: !0,
                        mvc3: !0,
                        mvc4: !0,
                        resv: !0,
                        rv60: !0,
                        s263: !0,
                        svc1: !0,
                        svc2: !0,
                        "vc-1": !0,
                        vp08: !0,
                        vp09: !0
                    },
                    text: {
                        stpp: !0,
                        wvtt: !0
                    }
                };
                function E(e, t) {
                    return MediaSource.isTypeSupported((t || "video") + '/mp4;codecs="' + e + '"')
                }
                var T = /#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g
                  , b = /#EXT-X-MEDIA:(.*)/g
                  , _ = new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source, /(?!#) *(\S[\S ]*)/.source, /#EXT-X-BYTERANGE:*(.+)/.source, /#EXT-X-PROGRAM-DATE-TIME:(.+)/.source, /#.*/.source].join("|"),"g")
                  , S = new RegExp([/#(EXTM3U)/.source, /#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source, /#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source, /#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source, /(#)([^:]*):(.*)/.source, /(#)(.*)(?:.*)\r?\n?/.source].join("|"))
                  , R = /\.(mp4|m4s|m4v|m4a)$/i
                  , w = function() {
                    function e() {}
                    return e.findGroup = function(e, t) {
                        for (var n = 0; n < e.length; n++) {
                            var r = e[n];
                            if (r.id === t)
                                return r
                        }
                    }
                    ,
                    e.convertAVC1ToAVCOTI = function(e) {
                        var t = e.split(".");
                        if (t.length > 2) {
                            var n = t.shift() + ".";
                            return (n += parseInt(t.shift()).toString(16)) + ("000" + parseInt(t.shift()).toString(16)).slice(-4)
                        }
                        return e
                    }
                    ,
                    e.resolve = function(e, t) {
                        return i.buildAbsoluteURL(t, e, {
                            alwaysNormalize: !0
                        })
                    }
                    ,
                    e.parseMasterPlaylist = function(t, n) {
                        var r, i = [], o = [], a = {}, s = !1;
                        for (T.lastIndex = 0; null != (r = T.exec(t)); )
                            if (r[1]) {
                                var u, c = new d(r[1]), l = {
                                    attrs: c,
                                    bitrate: c.decimalInteger("AVERAGE-BANDWIDTH") || c.decimalInteger("BANDWIDTH"),
                                    name: c.NAME,
                                    url: e.resolve(r[2], n)
                                }, f = c.decimalResolution("RESOLUTION");
                                f && (l.width = f.width,
                                l.height = f.height),
                                C((c.CODECS || "").split(/[ ,]+/).filter((function(e) {
                                    return e
                                }
                                )), l),
                                l.videoCodec && -1 !== l.videoCodec.indexOf("avc1") && (l.videoCodec = e.convertAVC1ToAVCOTI(l.videoCodec)),
                                null !== (u = l.unknownCodecs) && void 0 !== u && u.length || o.push(l),
                                i.push(l)
                            } else if (r[3]) {
                                var h = new d(r[3]);
                                h["DATA-ID"] && (s = !0,
                                a[h["DATA-ID"]] = h)
                            }
                        return {
                            levels: o.length > 0 && o.length < i.length ? o : i,
                            sessionData: s ? a : null
                        }
                    }
                    ,
                    e.parseMasterPlaylistMedia = function(t, n, r, i) {
                        var o;
                        void 0 === i && (i = []);
                        var a = []
                          , s = 0;
                        for (b.lastIndex = 0; null !== (o = b.exec(t)); ) {
                            var u = new d(o[1]);
                            if (u.TYPE === r) {
                                var c = {
                                    attrs: u,
                                    bitrate: 0,
                                    id: s++,
                                    groupId: u["GROUP-ID"],
                                    instreamId: u["INSTREAM-ID"],
                                    name: u.NAME || u.LANGUAGE || "",
                                    type: r,
                                    default: u.bool("DEFAULT"),
                                    autoselect: u.bool("AUTOSELECT"),
                                    forced: u.bool("FORCED"),
                                    lang: u.LANGUAGE,
                                    url: u.URI ? e.resolve(u.URI, n) : ""
                                };
                                if (i.length) {
                                    var l = e.findGroup(i, c.groupId) || i[0];
                                    O(c, l, "audioCodec"),
                                    O(c, l, "textCodec")
                                }
                                a.push(c)
                            }
                        }
                        return a
                    }
                    ,
                    e.parseLevelPlaylist = function(e, t, n, r, a) {
                        var s, c, l, f = new m(t), h = f.fragments, y = null, E = 0, T = 0, b = 0, w = 0, C = null, O = new v.b(r,t), P = -1, I = !1;
                        for (_.lastIndex = 0,
                        f.m3u8 = e; null !== (s = _.exec(e)); ) {
                            I && (I = !1,
                            (O = new v.b(r,t)).start = b,
                            O.sn = E,
                            O.cc = w,
                            O.level = n,
                            y && (O.initSegment = y,
                            O.rawProgramDateTime = y.rawProgramDateTime,
                            y.rawProgramDateTime = null));
                            var D = s[1];
                            if (D) {
                                O.duration = parseFloat(D);
                                var k = (" " + s[2]).slice(1);
                                O.title = k || null,
                                O.tagList.push(k ? ["INF", D, k] : ["INF", D])
                            } else if (s[3])
                                Object(o.a)(O.duration) && (O.start = b,
                                l && (O.levelkey = l),
                                O.sn = E,
                                O.level = n,
                                O.cc = w,
                                O.urlId = a,
                                h.push(O),
                                O.relurl = (" " + s[3]).slice(1),
                                L(O, C),
                                C = O,
                                b += O.duration,
                                E++,
                                T = 0,
                                I = !0);
                            else if (s[4]) {
                                var N = (" " + s[4]).slice(1);
                                C ? O.setByteRange(N, C) : O.setByteRange(N)
                            } else if (s[5])
                                O.rawProgramDateTime = (" " + s[5]).slice(1),
                                O.tagList.push(["PROGRAM-DATE-TIME", O.rawProgramDateTime]),
                                -1 === P && (P = h.length);
                            else {
                                if (!(s = s[0].match(S))) {
                                    u.b.warn("No matches on slow regex match for level playlist!");
                                    continue
                                }
                                for (c = 1; c < s.length && void 0 === s[c]; c++)
                                    ;
                                var x = (" " + s[c]).slice(1)
                                  , M = (" " + s[c + 1]).slice(1)
                                  , F = s[c + 2] ? (" " + s[c + 2]).slice(1) : "";
                                switch (x) {
                                case "PLAYLIST-TYPE":
                                    f.type = M.toUpperCase();
                                    break;
                                case "MEDIA-SEQUENCE":
                                    E = f.startSN = parseInt(M);
                                    break;
                                case "SKIP":
                                    var U = new d(M)
                                      , B = U.decimalInteger("SKIPPED-SEGMENTS");
                                    if (Object(o.a)(B)) {
                                        f.skippedSegments = B;
                                        for (var j = B; j--; )
                                            h.unshift(null);
                                        E += B
                                    }
                                    var V = U.enumeratedString("RECENTLY-REMOVED-DATERANGES");
                                    V && (f.recentlyRemovedDateranges = V.split("\t"));
                                    break;
                                case "TARGETDURATION":
                                    f.targetduration = parseFloat(M);
                                    break;
                                case "VERSION":
                                    f.version = parseInt(M);
                                    break;
                                case "EXTM3U":
                                    break;
                                case "ENDLIST":
                                    f.live = !1;
                                    break;
                                case "#":
                                    (M || F) && O.tagList.push(F ? [M, F] : [M]);
                                    break;
                                case "DISCONTINUITY":
                                    w++,
                                    O.tagList.push(["DIS"]);
                                    break;
                                case "GAP":
                                    O.tagList.push([x]);
                                    break;
                                case "BITRATE":
                                    O.tagList.push([x, M]);
                                    break;
                                case "DATERANGE":
                                    var H = new d(M)
                                      , q = new p(H,f.dateRanges[H.ID]);
                                    q.isValid || f.skippedSegments ? f.dateRanges[q.id] = q : u.b.warn('Ignoring invalid DATERANGE tag: "' + M + '"'),
                                    O.tagList.push(["EXT-X-DATERANGE", M]);
                                    break;
                                case "DISCONTINUITY-SEQUENCE":
                                    w = parseInt(M);
                                    break;
                                case "KEY":
                                    var W, G = new d(M), Y = G.enumeratedString("METHOD"), K = G.URI, z = G.hexadecimalInteger("IV"), Q = G.enumeratedString("KEYFORMATVERSIONS"), J = G.enumeratedString("KEYID"), X = null != (W = G.enumeratedString("KEYFORMAT")) ? W : "identity";
                                    if (["com.apple.streamingkeydelivery", "com.microsoft.playready", "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed", "com.widevine"].indexOf(X) > -1) {
                                        u.b.warn("Keyformat " + X + " is not supported from the manifest");
                                        continue
                                    }
                                    if ("identity" !== X)
                                        continue;
                                    Y && (l = g.a.fromURL(t, K),
                                    K && ["AES-128", "SAMPLE-AES", "SAMPLE-AES-CENC"].indexOf(Y) >= 0 && (l.method = Y,
                                    l.keyFormat = X,
                                    J && (l.keyID = J),
                                    Q && (l.keyFormatVersions = Q),
                                    l.iv = z));
                                    break;
                                case "START":
                                    var Z = new d(M).decimalFloatingPoint("TIME-OFFSET");
                                    Object(o.a)(Z) && (f.startTimeOffset = Z);
                                    break;
                                case "MAP":
                                    var $ = new d(M);
                                    if (O.duration) {
                                        var ee = new v.b(r,t);
                                        A(ee, $, n, l),
                                        y = ee,
                                        O.initSegment = y,
                                        y.rawProgramDateTime && !O.rawProgramDateTime && (O.rawProgramDateTime = y.rawProgramDateTime)
                                    } else
                                        A(O, $, n, l),
                                        y = O,
                                        I = !0;
                                    break;
                                case "SERVER-CONTROL":
                                    var te = new d(M);
                                    f.canBlockReload = te.bool("CAN-BLOCK-RELOAD"),
                                    f.canSkipUntil = te.optionalFloat("CAN-SKIP-UNTIL", 0),
                                    f.canSkipDateRanges = f.canSkipUntil > 0 && te.bool("CAN-SKIP-DATERANGES"),
                                    f.partHoldBack = te.optionalFloat("PART-HOLD-BACK", 0),
                                    f.holdBack = te.optionalFloat("HOLD-BACK", 0);
                                    break;
                                case "PART-INF":
                                    var ne = new d(M);
                                    f.partTarget = ne.decimalFloatingPoint("PART-TARGET");
                                    break;
                                case "PART":
                                    var re = f.partList;
                                    re || (re = f.partList = []);
                                    var ie = T > 0 ? re[re.length - 1] : void 0
                                      , oe = T++
                                      , ae = new v.c(new d(M),O,t,oe,ie);
                                    re.push(ae),
                                    O.duration += ae.duration;
                                    break;
                                case "PRELOAD-HINT":
                                    var se = new d(M);
                                    f.preloadHint = se;
                                    break;
                                case "RENDITION-REPORT":
                                    var ue = new d(M);
                                    f.renditionReports = f.renditionReports || [],
                                    f.renditionReports.push(ue);
                                    break;
                                default:
                                    u.b.warn("line parsed but not handled: " + s)
                                }
                            }
                        }
                        C && !C.relurl ? (h.pop(),
                        b -= C.duration,
                        f.partList && (f.fragmentHint = C)) : f.partList && (L(O, C),
                        O.cc = w,
                        f.fragmentHint = O);
                        var ce = h.length
                          , le = h[0]
                          , fe = h[ce - 1];
                        if ((b += f.skippedSegments * f.targetduration) > 0 && ce && fe) {
                            f.averagetargetduration = b / ce;
                            var de = fe.sn;
                            f.endSN = "initSegment" !== de ? de : 0,
                            le && (f.startCC = le.cc,
                            le.initSegment || f.fragments.every((function(e) {
                                return e.relurl && (t = e.relurl,
                                R.test(null != (n = null === (r = i.parseURL(t)) || void 0 === r ? void 0 : r.path) ? n : ""));
                                var t, n, r
                            }
                            )) && (u.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),
                            (O = new v.b(r,t)).relurl = fe.relurl,
                            O.level = n,
                            O.sn = "initSegment",
                            le.initSegment = O,
                            f.needSidxRanges = !0))
                        } else
                            f.endSN = 0,
                            f.startCC = 0;
                        return f.fragmentHint && (b += f.fragmentHint.duration),
                        f.totalduration = b,
                        f.endCC = w,
                        P > 0 && function(e, t) {
                            for (var n = e[t], r = t; r--; ) {
                                var i = e[r];
                                if (!i)
                                    return;
                                i.programDateTime = n.programDateTime - 1e3 * i.duration,
                                n = i
                            }
                        }(h, P),
                        f
                    }
                    ,
                    e
                }();
                function C(e, t) {
                    ["video", "audio", "text"].forEach((function(n) {
                        var r = e.filter((function(e) {
                            return function(e, t) {
                                var n = y[t];
                                return !!n && !0 === n[e.slice(0, 4)]
                            }(e, n)
                        }
                        ));
                        if (r.length) {
                            var i = r.filter((function(e) {
                                return 0 === e.lastIndexOf("avc1", 0) || 0 === e.lastIndexOf("mp4a", 0)
                            }
                            ));
                            t[n + "Codec"] = i.length > 0 ? i[0] : r[0],
                            e = e.filter((function(e) {
                                return -1 === r.indexOf(e)
                            }
                            ))
                        }
                    }
                    )),
                    t.unknownCodecs = e
                }
                function O(e, t, n) {
                    var r = t[n];
                    r && (e[n] = r)
                }
                function L(e, t) {
                    e.rawProgramDateTime ? e.programDateTime = Date.parse(e.rawProgramDateTime) : null != t && t.programDateTime && (e.programDateTime = t.endProgramDateTime),
                    Object(o.a)(e.programDateTime) || (e.programDateTime = null,
                    e.rawProgramDateTime = null)
                }
                function A(e, t, n, r) {
                    e.relurl = t.URI,
                    t.BYTERANGE && e.setByteRange(t.BYTERANGE),
                    e.level = n,
                    e.sn = "initSegment",
                    r && (e.levelkey = r),
                    e.initSegment = null
                }
                var P = n(4);
                function I(e, t) {
                    var n = e.url;
                    return void 0 !== n && 0 !== n.indexOf("data:") || (n = t.url),
                    n
                }
                var D = function() {
                    function e(e) {
                        this.hls = void 0,
                        this.loaders = Object.create(null),
                        this.hls = e,
                        this.registerListeners()
                    }
                    var t = e.prototype;
                    return t.startLoad = function(e) {}
                    ,
                    t.stopLoad = function() {
                        this.destroyInternalLoaders()
                    }
                    ,
                    t.registerListeners = function() {
                        var e = this.hls;
                        e.on(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.on(a.a.LEVEL_LOADING, this.onLevelLoading, this),
                        e.on(a.a.AUDIO_TRACK_LOADING, this.onAudioTrackLoading, this),
                        e.on(a.a.SUBTITLE_TRACK_LOADING, this.onSubtitleTrackLoading, this)
                    }
                    ,
                    t.unregisterListeners = function() {
                        var e = this.hls;
                        e.off(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.off(a.a.LEVEL_LOADING, this.onLevelLoading, this),
                        e.off(a.a.AUDIO_TRACK_LOADING, this.onAudioTrackLoading, this),
                        e.off(a.a.SUBTITLE_TRACK_LOADING, this.onSubtitleTrackLoading, this)
                    }
                    ,
                    t.createInternalLoader = function(e) {
                        var t = this.hls.config
                          , n = t.pLoader
                          , r = t.loader
                          , i = new (n || r)(t);
                        return e.loader = i,
                        this.loaders[e.type] = i,
                        i
                    }
                    ,
                    t.getInternalLoader = function(e) {
                        return this.loaders[e.type]
                    }
                    ,
                    t.resetInternalLoader = function(e) {
                        this.loaders[e] && delete this.loaders[e]
                    }
                    ,
                    t.destroyInternalLoaders = function() {
                        for (var e in this.loaders) {
                            var t = this.loaders[e];
                            t && t.destroy(),
                            this.resetInternalLoader(e)
                        }
                    }
                    ,
                    t.destroy = function() {
                        this.unregisterListeners(),
                        this.destroyInternalLoaders()
                    }
                    ,
                    t.onManifestLoading = function(e, t) {
                        var n = t.url;
                        this.load({
                            id: null,
                            groupId: null,
                            level: 0,
                            responseType: "text",
                            type: P.a.MANIFEST,
                            url: n,
                            deliveryDirectives: null
                        })
                    }
                    ,
                    t.onLevelLoading = function(e, t) {
                        var n = t.id
                          , r = t.level
                          , i = t.url
                          , o = t.deliveryDirectives;
                        this.load({
                            id: n,
                            groupId: null,
                            level: r,
                            responseType: "text",
                            type: P.a.LEVEL,
                            url: i,
                            deliveryDirectives: o
                        })
                    }
                    ,
                    t.onAudioTrackLoading = function(e, t) {
                        var n = t.id
                          , r = t.groupId
                          , i = t.url
                          , o = t.deliveryDirectives;
                        this.load({
                            id: n,
                            groupId: r,
                            level: null,
                            responseType: "text",
                            type: P.a.AUDIO_TRACK,
                            url: i,
                            deliveryDirectives: o
                        })
                    }
                    ,
                    t.onSubtitleTrackLoading = function(e, t) {
                        var n = t.id
                          , r = t.groupId
                          , i = t.url
                          , o = t.deliveryDirectives;
                        this.load({
                            id: n,
                            groupId: r,
                            level: null,
                            responseType: "text",
                            type: P.a.SUBTITLE_TRACK,
                            url: i,
                            deliveryDirectives: o
                        })
                    }
                    ,
                    t.load = function(e) {
                        var t, n, r, i, o, a, s = this.hls.config, c = this.getInternalLoader(e);
                        if (c) {
                            var l = c.context;
                            if (l && l.url === e.url)
                                return void u.b.trace("[playlist-loader]: playlist request ongoing");
                            u.b.log("[playlist-loader]: aborting previous loader for type: " + e.type),
                            c.abort()
                        }
                        switch (e.type) {
                        case P.a.MANIFEST:
                            n = s.manifestLoadingMaxRetry,
                            r = s.manifestLoadingTimeOut,
                            i = s.manifestLoadingRetryDelay,
                            o = s.manifestLoadingMaxRetryTimeout;
                            break;
                        case P.a.LEVEL:
                        case P.a.AUDIO_TRACK:
                        case P.a.SUBTITLE_TRACK:
                            n = 0,
                            r = s.levelLoadingTimeOut;
                            break;
                        default:
                            n = s.levelLoadingMaxRetry,
                            r = s.levelLoadingTimeOut,
                            i = s.levelLoadingRetryDelay,
                            o = s.levelLoadingMaxRetryTimeout
                        }
                        if (c = this.createInternalLoader(e),
                        null !== (t = e.deliveryDirectives) && void 0 !== t && t.part && (e.type === P.a.LEVEL && null !== e.level ? a = this.hls.levels[e.level].details : e.type === P.a.AUDIO_TRACK && null !== e.id ? a = this.hls.audioTracks[e.id].details : e.type === P.a.SUBTITLE_TRACK && null !== e.id && (a = this.hls.subtitleTracks[e.id].details),
                        a)) {
                            var f = a.partTarget
                              , d = a.targetduration;
                            f && d && (r = Math.min(1e3 * Math.max(3 * f, .8 * d), r))
                        }
                        var h = {
                            timeout: r,
                            maxRetry: n,
                            retryDelay: i,
                            maxRetryDelay: o,
                            highWaterMark: 0
                        }
                          , p = {
                            onSuccess: this.loadsuccess.bind(this),
                            onError: this.loaderror.bind(this),
                            onTimeout: this.loadtimeout.bind(this)
                        };
                        c.load(e, h, p)
                    }
                    ,
                    t.loadsuccess = function(e, t, n, r) {
                        if (void 0 === r && (r = null),
                        n.isSidxRequest)
                            return this.handleSidxRequest(e, n),
                            void this.handlePlaylistLoaded(e, t, n, r);
                        this.resetInternalLoader(n.type);
                        var i = e.data;
                        0 === i.indexOf("#EXTM3U") ? (t.parsing.start = performance.now(),
                        i.indexOf("#EXTINF:") > 0 || i.indexOf("#EXT-X-TARGETDURATION:") > 0 ? this.handleTrackOrLevelPlaylist(e, t, n, r) : this.handleMasterPlaylist(e, t, n, r)) : this.handleManifestParsingError(e, n, "no EXTM3U delimiter", r)
                    }
                    ,
                    t.loaderror = function(e, t, n) {
                        void 0 === n && (n = null),
                        this.handleNetworkError(t, n, !1, e)
                    }
                    ,
                    t.loadtimeout = function(e, t, n) {
                        void 0 === n && (n = null),
                        this.handleNetworkError(t, n, !0)
                    }
                    ,
                    t.handleMasterPlaylist = function(e, t, n, r) {
                        var i = this.hls
                          , o = e.data
                          , s = I(e, n)
                          , c = w.parseMasterPlaylist(o, s)
                          , l = c.levels
                          , f = c.sessionData;
                        if (l.length) {
                            var h = l.map((function(e) {
                                return {
                                    id: e.attrs.AUDIO,
                                    audioCodec: e.audioCodec
                                }
                            }
                            ))
                              , p = l.map((function(e) {
                                return {
                                    id: e.attrs.SUBTITLES,
                                    textCodec: e.textCodec
                                }
                            }
                            ))
                              , v = w.parseMasterPlaylistMedia(o, s, "AUDIO", h)
                              , m = w.parseMasterPlaylistMedia(o, s, "SUBTITLES", p)
                              , g = w.parseMasterPlaylistMedia(o, s, "CLOSED-CAPTIONS");
                            v.length && (v.some((function(e) {
                                return !e.url
                            }
                            )) || !l[0].audioCodec || l[0].attrs.AUDIO || (u.b.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),
                            v.unshift({
                                type: "main",
                                name: "main",
                                default: !1,
                                autoselect: !1,
                                forced: !1,
                                id: -1,
                                attrs: new d({}),
                                bitrate: 0,
                                url: ""
                            }))),
                            i.trigger(a.a.MANIFEST_LOADED, {
                                levels: l,
                                audioTracks: v,
                                subtitles: m,
                                captions: g,
                                url: s,
                                stats: t,
                                networkDetails: r,
                                sessionData: f
                            })
                        } else
                            this.handleManifestParsingError(e, n, "no level found in manifest", r)
                    }
                    ,
                    t.handleTrackOrLevelPlaylist = function(e, t, n, r) {
                        var i = this.hls
                          , u = n.id
                          , c = n.level
                          , l = n.type
                          , f = I(e, n)
                          , h = Object(o.a)(u) ? u : 0
                          , p = Object(o.a)(c) ? c : h
                          , v = function(e) {
                            switch (e.type) {
                            case P.a.AUDIO_TRACK:
                                return P.b.AUDIO;
                            case P.a.SUBTITLE_TRACK:
                                return P.b.SUBTITLE;
                            default:
                                return P.b.MAIN
                            }
                        }(n)
                          , m = w.parseLevelPlaylist(e.data, f, p, v, h);
                        if (m.fragments.length) {
                            if (l === P.a.MANIFEST) {
                                var g = {
                                    attrs: new d({}),
                                    bitrate: 0,
                                    details: m,
                                    name: "",
                                    url: f
                                };
                                i.trigger(a.a.MANIFEST_LOADED, {
                                    levels: [g],
                                    audioTracks: [],
                                    url: f,
                                    stats: t,
                                    networkDetails: r,
                                    sessionData: null
                                })
                            }
                            if (t.parsing.end = performance.now(),
                            m.needSidxRanges) {
                                var y, E = null === (y = m.fragments[0].initSegment) || void 0 === y ? void 0 : y.url;
                                this.load({
                                    url: E,
                                    isSidxRequest: !0,
                                    type: l,
                                    level: c,
                                    levelDetails: m,
                                    id: u,
                                    groupId: null,
                                    rangeStart: 0,
                                    rangeEnd: 2048,
                                    responseType: "arraybuffer",
                                    deliveryDirectives: null
                                })
                            } else
                                n.levelDetails = m,
                                this.handlePlaylistLoaded(e, t, n, r)
                        } else
                            i.trigger(a.a.ERROR, {
                                type: s.b.NETWORK_ERROR,
                                details: s.a.LEVEL_EMPTY_ERROR,
                                fatal: !1,
                                url: f,
                                reason: "no fragments found in level",
                                level: "number" == typeof n.level ? n.level : void 0
                            })
                    }
                    ,
                    t.handleSidxRequest = function(e, t) {
                        var n = new Uint8Array(e.data)
                          , r = Object(c.c)(n, ["sidx"])[0];
                        if (r) {
                            var i = Object(c.k)(r);
                            if (i) {
                                var o = i.references
                                  , a = t.levelDetails;
                                o.forEach((function(e, t) {
                                    var r = e.info
                                      , i = a.fragments[t];
                                    if (0 === i.byteRange.length && i.setByteRange(String(1 + r.end - r.start) + "@" + String(r.start)),
                                    i.initSegment) {
                                        var o = Object(c.c)(n, ["moov"])[0]
                                          , s = o ? o.length : null;
                                        i.initSegment.setByteRange(String(s) + "@0")
                                    }
                                }
                                ))
                            }
                        }
                    }
                    ,
                    t.handleManifestParsingError = function(e, t, n, r) {
                        this.hls.trigger(a.a.ERROR, {
                            type: s.b.NETWORK_ERROR,
                            details: s.a.MANIFEST_PARSING_ERROR,
                            fatal: t.type === P.a.MANIFEST,
                            url: e.url,
                            reason: n,
                            response: e,
                            context: t,
                            networkDetails: r
                        })
                    }
                    ,
                    t.handleNetworkError = function(e, t, n, r) {
                        void 0 === n && (n = !1),
                        u.b.warn("[playlist-loader]: A network " + (n ? "timeout" : "error") + " occurred while loading " + e.type + " level: " + e.level + " id: " + e.id + ' group-id: "' + e.groupId + '"');
                        var i = s.a.UNKNOWN
                          , o = !1
                          , c = this.getInternalLoader(e);
                        switch (e.type) {
                        case P.a.MANIFEST:
                            i = n ? s.a.MANIFEST_LOAD_TIMEOUT : s.a.MANIFEST_LOAD_ERROR,
                            o = !0;
                            break;
                        case P.a.LEVEL:
                            i = n ? s.a.LEVEL_LOAD_TIMEOUT : s.a.LEVEL_LOAD_ERROR,
                            o = !1;
                            break;
                        case P.a.AUDIO_TRACK:
                            i = n ? s.a.AUDIO_TRACK_LOAD_TIMEOUT : s.a.AUDIO_TRACK_LOAD_ERROR,
                            o = !1;
                            break;
                        case P.a.SUBTITLE_TRACK:
                            i = n ? s.a.SUBTITLE_TRACK_LOAD_TIMEOUT : s.a.SUBTITLE_LOAD_ERROR,
                            o = !1
                        }
                        c && this.resetInternalLoader(e.type);
                        var l = {
                            type: s.b.NETWORK_ERROR,
                            details: i,
                            fatal: o,
                            url: e.url,
                            loader: c,
                            context: e,
                            networkDetails: t
                        };
                        r && (l.response = r),
                        this.hls.trigger(a.a.ERROR, l)
                    }
                    ,
                    t.handlePlaylistLoaded = function(e, t, n, r) {
                        var i = n.type
                          , o = n.level
                          , s = n.id
                          , u = n.groupId
                          , c = n.loader
                          , l = n.levelDetails
                          , f = n.deliveryDirectives;
                        if (null != l && l.targetduration) {
                            if (c)
                                switch (l.live && (c.getCacheAge && (l.ageHeader = c.getCacheAge() || 0),
                                c.getCacheAge && !isNaN(l.ageHeader) || (l.ageHeader = 0)),
                                i) {
                                case P.a.MANIFEST:
                                case P.a.LEVEL:
                                    this.hls.trigger(a.a.LEVEL_LOADED, {
                                        details: l,
                                        level: o || 0,
                                        id: s || 0,
                                        stats: t,
                                        networkDetails: r,
                                        deliveryDirectives: f
                                    });
                                    break;
                                case P.a.AUDIO_TRACK:
                                    this.hls.trigger(a.a.AUDIO_TRACK_LOADED, {
                                        details: l,
                                        id: s || 0,
                                        groupId: u || "",
                                        stats: t,
                                        networkDetails: r,
                                        deliveryDirectives: f
                                    });
                                    break;
                                case P.a.SUBTITLE_TRACK:
                                    this.hls.trigger(a.a.SUBTITLE_TRACK_LOADED, {
                                        details: l,
                                        id: s || 0,
                                        groupId: u || "",
                                        stats: t,
                                        networkDetails: r,
                                        deliveryDirectives: f
                                    })
                                }
                        } else
                            this.handleManifestParsingError(e, n, "invalid target duration", r)
                    }
                    ,
                    e
                }()
                  , k = function() {
                    function e(e) {
                        this.hls = void 0,
                        this.loaders = {},
                        this.decryptkey = null,
                        this.decrypturl = null,
                        this.hls = e,
                        this.registerListeners()
                    }
                    var t = e.prototype;
                    return t.startLoad = function(e) {}
                    ,
                    t.stopLoad = function() {
                        this.destroyInternalLoaders()
                    }
                    ,
                    t.registerListeners = function() {
                        this.hls.on(a.a.KEY_LOADING, this.onKeyLoading, this)
                    }
                    ,
                    t.unregisterListeners = function() {
                        this.hls.off(a.a.KEY_LOADING, this.onKeyLoading)
                    }
                    ,
                    t.destroyInternalLoaders = function() {
                        for (var e in this.loaders) {
                            var t = this.loaders[e];
                            t && t.destroy()
                        }
                        this.loaders = {}
                    }
                    ,
                    t.destroy = function() {
                        this.unregisterListeners(),
                        this.destroyInternalLoaders()
                    }
                    ,
                    t.onKeyLoading = function(e, t) {
                        var n = t.frag
                          , r = n.type
                          , i = this.loaders[r];
                        if (n.decryptdata) {
                            var o = n.decryptdata.uri;
                            if (o !== this.decrypturl || null === this.decryptkey) {
                                var s = this.hls.config;
                                if (i && (u.b.warn("abort previous key loader for type:" + r),
                                i.abort()),
                                !o)
                                    return void u.b.warn("key uri is falsy");
                                var c = s.loader
                                  , l = n.loader = this.loaders[r] = new c(s);
                                this.decrypturl = o,
                                this.decryptkey = null;
                                var f = {
                                    url: o,
                                    frag: n,
                                    responseType: "arraybuffer"
                                }
                                  , d = {
                                    timeout: s.fragLoadingTimeOut,
                                    maxRetry: 0,
                                    retryDelay: s.fragLoadingRetryDelay,
                                    maxRetryDelay: s.fragLoadingMaxRetryTimeout,
                                    highWaterMark: 0
                                }
                                  , h = {
                                    onSuccess: this.loadsuccess.bind(this),
                                    onError: this.loaderror.bind(this),
                                    onTimeout: this.loadtimeout.bind(this)
                                };
                                l.load(f, d, h)
                            } else
                                this.decryptkey && (n.decryptdata.key = this.decryptkey,
                                this.hls.trigger(a.a.KEY_LOADED, {
                                    frag: n
                                }))
                        } else
                            u.b.warn("Missing decryption data on fragment in onKeyLoading")
                    }
                    ,
                    t.loadsuccess = function(e, t, n) {
                        var r = n.frag;
                        r.decryptdata ? (this.decryptkey = r.decryptdata.key = new Uint8Array(e.data),
                        r.loader = null,
                        delete this.loaders[r.type],
                        this.hls.trigger(a.a.KEY_LOADED, {
                            frag: r
                        })) : u.b.error("after key load, decryptdata unset")
                    }
                    ,
                    t.loaderror = function(e, t) {
                        var n = t.frag
                          , r = n.loader;
                        r && r.abort(),
                        delete this.loaders[n.type],
                        this.hls.trigger(a.a.ERROR, {
                            type: s.b.NETWORK_ERROR,
                            details: s.a.KEY_LOAD_ERROR,
                            fatal: !1,
                            frag: n,
                            response: e
                        })
                    }
                    ,
                    t.loadtimeout = function(e, t) {
                        var n = t.frag
                          , r = n.loader;
                        r && r.abort(),
                        delete this.loaders[n.type],
                        this.hls.trigger(a.a.ERROR, {
                            type: s.b.NETWORK_ERROR,
                            details: s.a.KEY_LOAD_TIMEOUT,
                            fatal: !1,
                            frag: n
                        })
                    }
                    ,
                    e
                }();
                function N(e, t) {
                    var n;
                    try {
                        n = new Event("addtrack")
                    } catch (e) {
                        (n = document.createEvent("Event")).initEvent("addtrack", !1, !1)
                    }
                    n.track = e,
                    t.dispatchEvent(n)
                }
                function x(e, t) {
                    var n = e.mode;
                    if ("disabled" === n && (e.mode = "hidden"),
                    e.cues && !e.cues.getCueById(t.id))
                        try {
                            if (e.addCue(t),
                            !e.cues.getCueById(t.id))
                                throw new Error("addCue is failed for: " + t)
                        } catch (n) {
                            u.b.debug("[texttrack-utils]: " + n);
                            var r = new self.TextTrackCue(t.startTime,t.endTime,t.text);
                            r.id = t.id,
                            e.addCue(r)
                        }
                    "disabled" === n && (e.mode = n)
                }
                function M(e) {
                    var t = e.mode;
                    if ("disabled" === t && (e.mode = "hidden"),
                    e.cues)
                        for (var n = e.cues.length; n--; )
                            e.removeCue(e.cues[n]);
                    "disabled" === t && (e.mode = t)
                }
                function F(e, t, n, r) {
                    var i = e.mode;
                    if ("disabled" === i && (e.mode = "hidden"),
                    e.cues && e.cues.length > 0)
                        for (var o = function(e, t, n) {
                            var r = []
                              , i = function(e, t) {
                                if (t < e[0].startTime)
                                    return 0;
                                var n = e.length - 1;
                                if (t > e[n].endTime)
                                    return -1;
                                for (var r = 0, i = n; r <= i; ) {
                                    var o = Math.floor((i + r) / 2);
                                    if (t < e[o].startTime)
                                        i = o - 1;
                                    else {
                                        if (!(t > e[o].startTime && r < n))
                                            return o;
                                        r = o + 1
                                    }
                                }
                                return e[r].startTime - t < t - e[i].startTime ? r : i
                            }(e, t);
                            if (i > -1)
                                for (var o = i, a = e.length; o < a; o++) {
                                    var s = e[o];
                                    if (s.startTime >= t && s.endTime <= n)
                                        r.push(s);
                                    else if (s.startTime > n)
                                        return r
                                }
                            return r
                        }(e.cues, t, n), a = 0; a < o.length; a++)
                            r && !r(o[a]) || e.removeCue(o[a]);
                    "disabled" === i && (e.mode = i)
                }
                var U = n(7)
                  , B = n(8);
                function j() {
                    return self.WebKitDataCue || self.VTTCue || self.TextTrackCue
                }
                function V(e, t) {
                    return e.getTime() / 1e3 - t
                }
                var H = function() {
                    function e(e) {
                        this.hls = void 0,
                        this.id3Track = null,
                        this.media = null,
                        this.dateRangeCuesAppended = {},
                        this.hls = e,
                        this._registerListeners()
                    }
                    var t = e.prototype;
                    return t.destroy = function() {
                        this._unregisterListeners(),
                        this.id3Track = null,
                        this.media = null,
                        this.dateRangeCuesAppended = {},
                        this.hls = null
                    }
                    ,
                    t._registerListeners = function() {
                        var e = this.hls;
                        e.on(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        e.on(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        e.on(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.on(a.a.FRAG_PARSING_METADATA, this.onFragParsingMetadata, this),
                        e.on(a.a.BUFFER_FLUSHING, this.onBufferFlushing, this),
                        e.on(a.a.LEVEL_UPDATED, this.onLevelUpdated, this)
                    }
                    ,
                    t._unregisterListeners = function() {
                        var e = this.hls;
                        e.off(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        e.off(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        e.off(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.off(a.a.FRAG_PARSING_METADATA, this.onFragParsingMetadata, this),
                        e.off(a.a.BUFFER_FLUSHING, this.onBufferFlushing, this),
                        e.off(a.a.LEVEL_UPDATED, this.onLevelUpdated, this)
                    }
                    ,
                    t.onMediaAttached = function(e, t) {
                        this.media = t.media
                    }
                    ,
                    t.onMediaDetaching = function() {
                        this.id3Track && (M(this.id3Track),
                        this.id3Track = null,
                        this.media = null,
                        this.dateRangeCuesAppended = {})
                    }
                    ,
                    t.onManifestLoading = function() {
                        this.dateRangeCuesAppended = {}
                    }
                    ,
                    t.createTrack = function(e) {
                        var t = this.getID3Track(e.textTracks);
                        return t.mode = "hidden",
                        t
                    }
                    ,
                    t.getID3Track = function(e) {
                        if (this.media) {
                            for (var t = 0; t < e.length; t++) {
                                var n = e[t];
                                if ("metadata" === n.kind && "id3" === n.label)
                                    return N(n, this.media),
                                    n
                            }
                            return this.media.addTextTrack("metadata", "id3")
                        }
                    }
                    ,
                    t.onFragParsingMetadata = function(e, t) {
                        if (this.media) {
                            var n = this.hls.config
                              , r = n.enableEmsgMetadataCues
                              , i = n.enableID3MetadataCues;
                            if (r || i) {
                                var o = t.frag
                                  , a = t.samples
                                  , s = t.details;
                                this.id3Track || (this.id3Track = this.createTrack(this.media));
                                for (var u = s.edge || o.end, c = j(), l = !1, f = {}, d = 0; d < a.length; d++) {
                                    var h = a[d].type;
                                    if ((h !== B.a.emsg || r) && i) {
                                        var p = U.c(a[d].data);
                                        if (p) {
                                            var v = a[d].pts
                                              , m = u;
                                            m - v <= 0 && (m = v + .25);
                                            for (var g = 0; g < p.length; g++) {
                                                var y = p[g];
                                                if (!U.e(y)) {
                                                    var E = new c(v,m,"");
                                                    E.value = y,
                                                    h && (E.type = h),
                                                    this.id3Track.addCue(E),
                                                    f[y.key] = null,
                                                    l = !0
                                                }
                                            }
                                        }
                                    }
                                }
                                l && this.updateId3CueEnds(f)
                            }
                        }
                    }
                    ,
                    t.updateId3CueEnds = function(e) {
                        var t, n = null === (t = this.id3Track) || void 0 === t ? void 0 : t.cues;
                        if (n)
                            for (var r = n.length; r--; ) {
                                var i, o = n[r], a = null === (i = o.value) || void 0 === i ? void 0 : i.key;
                                if (a && a in e) {
                                    var s = e[a];
                                    s && o.endTime !== s && (o.endTime = s),
                                    e[a] = o.startTime
                                }
                            }
                    }
                    ,
                    t.onBufferFlushing = function(e, t) {
                        var n = t.startOffset
                          , r = t.endOffset
                          , i = t.type
                          , o = this.id3Track
                          , a = this.hls;
                        if (a) {
                            var s = a.config
                              , u = s.enableEmsgMetadataCues
                              , c = s.enableID3MetadataCues;
                            o && (u || c) && F(o, n, r, "audio" === i ? function(e) {
                                return e.type === B.a.audioId3 && c
                            }
                            : "video" === i ? function(e) {
                                return e.type === B.a.emsg && u
                            }
                            : function(e) {
                                return e.type === B.a.audioId3 && c || e.type === B.a.emsg && u
                            }
                            )
                        }
                    }
                    ,
                    t.onLevelUpdated = function(e, t) {
                        var n = this
                          , i = t.details;
                        if (this.media && i.hasProgramDateTime && this.hls.config.enableDateRangeMetadataCues) {
                            var a = this.dateRangeCuesAppended
                              , s = this.id3Track
                              , u = i.dateRanges
                              , c = Object.keys(u);
                            if (s)
                                for (var l = Object.keys(a).filter((function(e) {
                                    return !c.includes(e)
                                }
                                )), f = function(e) {
                                    var t = l[e];
                                    Object.keys(a[t].cues).forEach((function(e) {
                                        s.removeCue(a[t].cues[e])
                                    }
                                    )),
                                    delete a[t]
                                }, d = l.length; d--; )
                                    f(d);
                            var h = i.fragments[i.fragments.length - 1];
                            if (0 !== c.length && Object(o.a)(null == h ? void 0 : h.programDateTime)) {
                                this.id3Track || (this.id3Track = this.createTrack(this.media));
                                for (var p = h.programDateTime / 1e3 - h.start, v = i.edge || h.end, m = j(), g = function(e) {
                                    var t = c[e]
                                      , i = u[t]
                                      , o = a[t]
                                      , s = (null == o ? void 0 : o.cues) || {}
                                      , l = (null == o ? void 0 : o.durationKnown) || !1
                                      , f = V(i.startDate, p)
                                      , d = v
                                      , h = i.endDate;
                                    if (h)
                                        d = V(h, p),
                                        l = !0;
                                    else if (i.endOnNext && !l) {
                                        var g = c.reduce((function(e, t) {
                                            var n = u[t];
                                            return n.class === i.class && n.id !== t && n.startDate > i.startDate && e.push(n),
                                            e
                                        }
                                        ), []).sort((function(e, t) {
                                            return e.startDate.getTime() - t.startDate.getTime()
                                        }
                                        ))[0];
                                        g && (d = V(g.startDate, p),
                                        l = !0)
                                    }
                                    for (var y, E = Object.keys(i.attr), T = 0; T < E.length; T++) {
                                        var b = E[T];
                                        if (b !== r.ID && b !== r.CLASS && b !== r.START_DATE && b !== r.DURATION && b !== r.END_DATE && b !== r.END_ON_NEXT) {
                                            var _ = s[b];
                                            if (_)
                                                l && !o.durationKnown && (_.endTime = d);
                                            else {
                                                var S = i.attr[b];
                                                _ = new m(f,d,""),
                                                b !== r.SCTE35_OUT && b !== r.SCTE35_IN || (y = S,
                                                S = Uint8Array.from(y.replace(/^0x/, "").replace(/([\da-fA-F]{2}) ?/g, "0x$1 ").replace(/ +$/, "").split(" ")).buffer),
                                                _.value = {
                                                    key: b,
                                                    data: S
                                                },
                                                _.type = B.a.dateRange,
                                                n.id3Track.addCue(_),
                                                s[b] = _
                                            }
                                        }
                                    }
                                    a[t] = {
                                        cues: s,
                                        dateRange: i,
                                        durationKnown: l
                                    }
                                }, y = 0; y < c.length; y++)
                                    g(y)
                            }
                        }
                    }
                    ,
                    e
                }();
                var q, W = function() {
                    function e(e) {
                        var t = this;
                        this.hls = void 0,
                        this.config = void 0,
                        this.media = null,
                        this.levelDetails = null,
                        this.currentTime = 0,
                        this.stallCount = 0,
                        this._latency = null,
                        this.timeupdateHandler = function() {
                            return t.timeupdate()
                        }
                        ,
                        this.hls = e,
                        this.config = e.config,
                        this.registerListeners()
                    }
                    var t, n, r = e.prototype;
                    return r.destroy = function() {
                        this.unregisterListeners(),
                        this.onMediaDetaching(),
                        this.levelDetails = null,
                        this.hls = this.timeupdateHandler = null
                    }
                    ,
                    r.registerListeners = function() {
                        this.hls.on(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        this.hls.on(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        this.hls.on(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        this.hls.on(a.a.LEVEL_UPDATED, this.onLevelUpdated, this),
                        this.hls.on(a.a.ERROR, this.onError, this)
                    }
                    ,
                    r.unregisterListeners = function() {
                        this.hls.off(a.a.MEDIA_ATTACHED, this.onMediaAttached),
                        this.hls.off(a.a.MEDIA_DETACHING, this.onMediaDetaching),
                        this.hls.off(a.a.MANIFEST_LOADING, this.onManifestLoading),
                        this.hls.off(a.a.LEVEL_UPDATED, this.onLevelUpdated),
                        this.hls.off(a.a.ERROR, this.onError)
                    }
                    ,
                    r.onMediaAttached = function(e, t) {
                        this.media = t.media,
                        this.media.addEventListener("timeupdate", this.timeupdateHandler)
                    }
                    ,
                    r.onMediaDetaching = function() {
                        this.media && (this.media.removeEventListener("timeupdate", this.timeupdateHandler),
                        this.media = null)
                    }
                    ,
                    r.onManifestLoading = function() {
                        this.levelDetails = null,
                        this._latency = null,
                        this.stallCount = 0
                    }
                    ,
                    r.onLevelUpdated = function(e, t) {
                        var n = t.details;
                        this.levelDetails = n,
                        n.advanced && this.timeupdate(),
                        !n.live && this.media && this.media.removeEventListener("timeupdate", this.timeupdateHandler)
                    }
                    ,
                    r.onError = function(e, t) {
                        t.details === s.a.BUFFER_STALLED_ERROR && (this.stallCount++,
                        u.b.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))
                    }
                    ,
                    r.timeupdate = function() {
                        var e = this.media
                          , t = this.levelDetails;
                        if (e && t) {
                            this.currentTime = e.currentTime;
                            var n = this.computeLatency();
                            if (null !== n) {
                                this._latency = n;
                                var r = this.config
                                  , i = r.lowLatencyMode
                                  , o = r.maxLiveSyncPlaybackRate;
                                if (i && 1 !== o) {
                                    var a = this.targetLatency;
                                    if (null !== a) {
                                        var s = n - a
                                          , u = s < Math.min(this.maxLatency, a + t.targetduration);
                                        if (t.live && u && s > .05 && this.forwardBufferLength > 1) {
                                            var c = Math.min(2, Math.max(1, o))
                                              , l = Math.round(2 / (1 + Math.exp(-.75 * s - this.edgeStalled)) * 20) / 20;
                                            e.playbackRate = Math.min(c, Math.max(1, l))
                                        } else
                                            1 !== e.playbackRate && 0 !== e.playbackRate && (e.playbackRate = 1)
                                    }
                                }
                            }
                        }
                    }
                    ,
                    r.estimateLiveEdge = function() {
                        var e = this.levelDetails;
                        return null === e ? null : e.edge + e.age
                    }
                    ,
                    r.computeLatency = function() {
                        var e = this.estimateLiveEdge();
                        return null === e ? null : e - this.currentTime
                    }
                    ,
                    t = e,
                    (n = [{
                        key: "latency",
                        get: function() {
                            return this._latency || 0
                        }
                    }, {
                        key: "maxLatency",
                        get: function() {
                            var e = this.config
                              , t = this.levelDetails;
                            return void 0 !== e.liveMaxLatencyDuration ? e.liveMaxLatencyDuration : t ? e.liveMaxLatencyDurationCount * t.targetduration : 0
                        }
                    }, {
                        key: "targetLatency",
                        get: function() {
                            var e = this.levelDetails;
                            if (null === e)
                                return null;
                            var t = e.holdBack
                              , n = e.partHoldBack
                              , r = e.targetduration
                              , i = this.config
                              , o = i.liveSyncDuration
                              , a = i.liveSyncDurationCount
                              , s = i.lowLatencyMode
                              , u = this.hls.userConfig
                              , c = s && n || t;
                            (u.liveSyncDuration || u.liveSyncDurationCount || 0 === c) && (c = void 0 !== o ? o : a * r);
                            var l = r;
                            return c + Math.min(1 * this.stallCount, l)
                        }
                    }, {
                        key: "liveSyncPosition",
                        get: function() {
                            var e = this.estimateLiveEdge()
                              , t = this.targetLatency
                              , n = this.levelDetails;
                            if (null === e || null === t || null === n)
                                return null;
                            var r = n.edge
                              , i = e - t - this.edgeStalled
                              , o = r - n.totalduration
                              , a = r - (this.config.lowLatencyMode && n.partTarget || n.targetduration);
                            return Math.min(Math.max(o, i), a)
                        }
                    }, {
                        key: "drift",
                        get: function() {
                            var e = this.levelDetails;
                            return null === e ? 1 : e.drift
                        }
                    }, {
                        key: "edgeStalled",
                        get: function() {
                            var e = this.levelDetails;
                            if (null === e)
                                return 0;
                            var t = 3 * (this.config.lowLatencyMode && e.partTarget || e.targetduration);
                            return Math.max(e.age - t, 0)
                        }
                    }, {
                        key: "forwardBufferLength",
                        get: function() {
                            var e = this.media
                              , t = this.levelDetails;
                            if (!e || !t)
                                return 0;
                            var n = e.buffered.length;
                            return (n ? e.buffered.end(n - 1) : t.edge) - this.currentTime
                        }
                    }]) && function(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }(t.prototype, n),
                    Object.defineProperty(t, "prototype", {
                        writable: !1
                    }),
                    e
                }();
                !function(e) {
                    e.No = "",
                    e.Yes = "YES",
                    e.v2 = "v2"
                }(q || (q = {}));
                var G = function() {
                    function e(e, t, n) {
                        this.msn = void 0,
                        this.part = void 0,
                        this.skip = void 0,
                        this.msn = e,
                        this.part = t,
                        this.skip = n
                    }
                    return e.prototype.addDirectives = function(e) {
                        var t = new self.URL(e);
                        return void 0 !== this.msn && t.searchParams.set("_HLS_msn", this.msn.toString()),
                        void 0 !== this.part && t.searchParams.set("_HLS_part", this.part.toString()),
                        this.skip && t.searchParams.set("_HLS_skip", this.skip),
                        t.toString()
                    }
                    ,
                    e
                }()
                  , Y = function() {
                    function e(e) {
                        this.attrs = void 0,
                        this.audioCodec = void 0,
                        this.bitrate = void 0,
                        this.codecSet = void 0,
                        this.height = void 0,
                        this.id = void 0,
                        this.name = void 0,
                        this.videoCodec = void 0,
                        this.width = void 0,
                        this.unknownCodecs = void 0,
                        this.audioGroupIds = void 0,
                        this.details = void 0,
                        this.fragmentError = 0,
                        this.loadError = 0,
                        this.loaded = void 0,
                        this.realBitrate = 0,
                        this.textGroupIds = void 0,
                        this.url = void 0,
                        this._urlId = 0,
                        this.url = [e.url],
                        this.attrs = e.attrs,
                        this.bitrate = e.bitrate,
                        e.details && (this.details = e.details),
                        this.id = e.id || 0,
                        this.name = e.name,
                        this.width = e.width || 0,
                        this.height = e.height || 0,
                        this.audioCodec = e.audioCodec,
                        this.videoCodec = e.videoCodec,
                        this.unknownCodecs = e.unknownCodecs,
                        this.codecSet = [e.videoCodec, e.audioCodec].filter((function(e) {
                            return e
                        }
                        )).join(",").replace(/\.[^.,]+/g, "")
                    }
                    var t, n;
                    return t = e,
                    (n = [{
                        key: "maxBitrate",
                        get: function() {
                            return Math.max(this.realBitrate, this.bitrate)
                        }
                    }, {
                        key: "uri",
                        get: function() {
                            return this.url[this._urlId] || ""
                        }
                    }, {
                        key: "urlId",
                        get: function() {
                            return this._urlId
                        },
                        set: function(e) {
                            var t = e % this.url.length;
                            this._urlId !== t && (this.details = void 0,
                            this._urlId = t)
                        }
                    }]) && function(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }(t.prototype, n),
                    Object.defineProperty(t, "prototype", {
                        writable: !1
                    }),
                    e
                }();
                function K() {
                    return (K = Object.assign ? Object.assign.bind() : function(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = arguments[t];
                            for (var r in n)
                                Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                        }
                        return e
                    }
                    ).apply(this, arguments)
                }
                function z(e, t, n) {
                    switch (t) {
                    case "audio":
                        e.audioGroupIds || (e.audioGroupIds = []),
                        e.audioGroupIds.push(n);
                        break;
                    case "text":
                        e.textGroupIds || (e.textGroupIds = []),
                        e.textGroupIds.push(n)
                    }
                }
                function Q(e) {
                    var t = {};
                    e.forEach((function(e) {
                        var n = e.groupId || "";
                        e.id = t[n] = t[n] || 0,
                        t[n]++
                    }
                    ))
                }
                function J(e, t) {
                    var n = t.startPTS;
                    if (Object(o.a)(n)) {
                        var r, i = 0;
                        t.sn > e.sn ? (i = n - e.start,
                        r = e) : (i = e.start - n,
                        r = t),
                        r.duration !== i && (r.duration = i)
                    } else
                        t.sn > e.sn ? e.cc === t.cc && e.minEndPTS ? t.start = e.start + (e.minEndPTS - e.start) : t.start = e.start + e.duration : t.start = Math.max(e.start - t.duration, 0)
                }
                function X(e, t, n, r, i, a) {
                    r - n <= 0 && (u.b.warn("Fragment should have a positive duration", t),
                    r = n + t.duration,
                    a = i + t.duration);
                    var s = n
                      , c = r
                      , l = t.startPTS
                      , f = t.endPTS;
                    if (Object(o.a)(l)) {
                        var d = Math.abs(l - n);
                        Object(o.a)(t.deltaPTS) ? t.deltaPTS = Math.max(d, t.deltaPTS) : t.deltaPTS = d,
                        s = Math.max(n, l),
                        n = Math.min(n, l),
                        i = Math.min(i, t.startDTS),
                        c = Math.min(r, f),
                        r = Math.max(r, f),
                        a = Math.max(a, t.endDTS)
                    }
                    t.duration = r - n;
                    var h = n - t.start;
                    t.appendedPTS = r,
                    t.start = t.startPTS = n,
                    t.maxStartPTS = s,
                    t.startDTS = i,
                    t.endPTS = r,
                    t.minEndPTS = c,
                    t.endDTS = a;
                    var p, v = t.sn;
                    if (!e || v < e.startSN || v > e.endSN)
                        return 0;
                    var m = v - e.startSN
                      , g = e.fragments;
                    for (g[m] = t,
                    p = m; p > 0; p--)
                        J(g[p], g[p - 1]);
                    for (p = m; p < g.length - 1; p++)
                        J(g[p], g[p + 1]);
                    return e.fragmentHint && J(g[g.length - 1], e.fragmentHint),
                    e.PTSKnown = e.alignedSliding = !0,
                    h
                }
                function Z(e, t) {
                    for (var n = null, r = e.fragments, i = r.length - 1; i >= 0; i--) {
                        var a = r[i].initSegment;
                        if (a) {
                            n = a;
                            break
                        }
                    }
                    e.fragmentHint && delete e.fragmentHint.endPTS;
                    var s, c = 0;
                    if (function(e, t, n) {
                        for (var r = t.skippedSegments, i = Math.max(e.startSN, t.startSN) - t.startSN, o = (e.fragmentHint ? 1 : 0) + (r ? t.endSN : Math.min(e.endSN, t.endSN)) - t.startSN, a = t.startSN - e.startSN, s = t.fragmentHint ? t.fragments.concat(t.fragmentHint) : t.fragments, u = e.fragmentHint ? e.fragments.concat(e.fragmentHint) : e.fragments, c = i; c <= o; c++) {
                            var l = u[a + c]
                              , f = s[c];
                            r && !f && c < r && (f = t.fragments[c] = l),
                            l && f && n(l, f)
                        }
                    }(e, t, (function(e, r) {
                        e.relurl && (c = e.cc - r.cc),
                        Object(o.a)(e.startPTS) && Object(o.a)(e.endPTS) && (r.start = r.startPTS = e.startPTS,
                        r.startDTS = e.startDTS,
                        r.appendedPTS = e.appendedPTS,
                        r.maxStartPTS = e.maxStartPTS,
                        r.endPTS = e.endPTS,
                        r.endDTS = e.endDTS,
                        r.minEndPTS = e.minEndPTS,
                        r.duration = e.endPTS - e.startPTS,
                        r.duration && (s = r),
                        t.PTSKnown = t.alignedSliding = !0),
                        r.elementaryStreams = e.elementaryStreams,
                        r.loader = e.loader,
                        r.stats = e.stats,
                        r.urlId = e.urlId,
                        e.initSegment && (r.initSegment = e.initSegment,
                        n = e.initSegment)
                    }
                    )),
                    n && (t.fragmentHint ? t.fragments.concat(t.fragmentHint) : t.fragments).forEach((function(e) {
                        var t;
                        e.initSegment && e.initSegment.relurl !== (null === (t = n) || void 0 === t ? void 0 : t.relurl) || (e.initSegment = n)
                    }
                    )),
                    t.skippedSegments)
                        if (t.deltaUpdateFailed = t.fragments.some((function(e) {
                            return !e
                        }
                        )),
                        t.deltaUpdateFailed) {
                            u.b.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");
                            for (var l = t.skippedSegments; l--; )
                                t.fragments.shift();
                            t.startSN = t.fragments[0].sn,
                            t.startCC = t.fragments[0].cc
                        } else
                            t.canSkipDateRanges && (t.dateRanges = function(e, t, n) {
                                var r = K({}, e);
                                return n && n.forEach((function(e) {
                                    delete r[e]
                                }
                                )),
                                Object.keys(t).forEach((function(e) {
                                    var n = new p(t[e].attr,r[e]);
                                    n.isValid ? r[e] = n : u.b.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "' + JSON.stringify(t[e].attr) + '"')
                                }
                                )),
                                r
                            }(e.dateRanges, t.dateRanges, t.recentlyRemovedDateranges));
                    var f = t.fragments;
                    if (c) {
                        u.b.warn("discontinuity sliding from playlist, take drift into account");
                        for (var d = 0; d < f.length; d++)
                            f[d].cc += c
                    }
                    t.skippedSegments && (t.startCC = t.fragments[0].cc),
                    function(e, t, n) {
                        if (e && t)
                            for (var r = 0, i = 0, o = e.length; i <= o; i++) {
                                var a = e[i]
                                  , s = t[i + r];
                                a && s && a.index === s.index && a.fragment.sn === s.fragment.sn ? n(a, s) : r--
                            }
                    }(e.partList, t.partList, (function(e, t) {
                        t.elementaryStreams = e.elementaryStreams,
                        t.stats = e.stats
                    }
                    )),
                    s ? X(t, s, s.startPTS, s.endPTS, s.startDTS, s.endDTS) : $(e, t),
                    f.length && (t.totalduration = t.edge - f[0].start),
                    t.driftStartTime = e.driftStartTime,
                    t.driftStart = e.driftStart;
                    var h = t.advancedDateTime;
                    if (t.advanced && h) {
                        var v = t.edge;
                        t.driftStart || (t.driftStartTime = h,
                        t.driftStart = v),
                        t.driftEndTime = h,
                        t.driftEnd = v
                    } else
                        t.driftEndTime = e.driftEndTime,
                        t.driftEnd = e.driftEnd,
                        t.advancedDateTime = e.advancedDateTime
                }
                function $(e, t) {
                    var n = t.startSN + t.skippedSegments - e.startSN
                      , r = e.fragments;
                    n < 0 || n >= r.length || ee(t, r[n].start)
                }
                function ee(e, t) {
                    if (t) {
                        for (var n = e.fragments, r = e.skippedSegments; r < n.length; r++)
                            n[r].start += t;
                        e.fragmentHint && (e.fragmentHint.start += t)
                    }
                }
                var te = function() {
                    function e(e, t) {
                        this.hls = void 0,
                        this.timer = -1,
                        this.canLoad = !1,
                        this.retryCount = 0,
                        this.log = void 0,
                        this.warn = void 0,
                        this.log = u.b.log.bind(u.b, t + ":"),
                        this.warn = u.b.warn.bind(u.b, t + ":"),
                        this.hls = e
                    }
                    var t = e.prototype;
                    return t.destroy = function() {
                        this.clearTimer(),
                        this.hls = this.log = this.warn = null
                    }
                    ,
                    t.onError = function(e, t) {
                        t.fatal && t.type === s.b.NETWORK_ERROR && this.clearTimer()
                    }
                    ,
                    t.clearTimer = function() {
                        clearTimeout(this.timer),
                        this.timer = -1
                    }
                    ,
                    t.startLoad = function() {
                        this.canLoad = !0,
                        this.retryCount = 0,
                        this.loadPlaylist()
                    }
                    ,
                    t.stopLoad = function() {
                        this.canLoad = !1,
                        this.clearTimer()
                    }
                    ,
                    t.switchParams = function(e, t) {
                        var n = null == t ? void 0 : t.renditionReports;
                        if (n)
                            for (var r = 0; r < n.length; r++) {
                                var i = n[r]
                                  , a = "" + i.URI;
                                if (a === e.slice(-a.length)) {
                                    var s = parseInt(i["LAST-MSN"])
                                      , u = parseInt(i["LAST-PART"]);
                                    if (t && this.hls.config.lowLatencyMode) {
                                        var c = Math.min(t.age - t.partTarget, t.targetduration);
                                        void 0 !== u && c > t.partTarget && (u += 1)
                                    }
                                    if (Object(o.a)(s))
                                        return new G(s,Object(o.a)(u) ? u : void 0,q.No)
                                }
                            }
                    }
                    ,
                    t.loadPlaylist = function(e) {}
                    ,
                    t.shouldLoadTrack = function(e) {
                        return this.canLoad && e && !!e.url && (!e.details || e.details.live)
                    }
                    ,
                    t.playlistLoaded = function(e, t, n) {
                        var r = this
                          , i = t.details
                          , o = t.stats
                          , a = o.loading.end ? Math.max(0, self.performance.now() - o.loading.end) : 0;
                        if (i.advancedDateTime = Date.now() - a,
                        i.live || null != n && n.live) {
                            if (i.reloaded(n),
                            n && this.log("live playlist " + e + " " + (i.advanced ? "REFRESHED " + i.lastPartSn + "-" + i.lastPartIndex : "MISSED")),
                            n && i.fragments.length > 0 && Z(n, i),
                            !this.canLoad || !i.live)
                                return;
                            var s, u = void 0, c = void 0;
                            if (i.canBlockReload && i.endSN && i.advanced) {
                                var l = this.hls.config.lowLatencyMode
                                  , f = i.lastPartSn
                                  , d = i.endSN
                                  , h = i.lastPartIndex
                                  , p = f === d;
                                -1 !== h ? (u = p ? d + 1 : f,
                                c = p ? l ? 0 : h : h + 1) : u = d + 1;
                                var v = i.age
                                  , m = v + i.ageHeader
                                  , g = Math.min(m - i.partTarget, 1.5 * i.targetduration);
                                if (g > 0) {
                                    if (n && g > n.tuneInGoal)
                                        this.warn("CDN Tune-in goal increased from: " + n.tuneInGoal + " to: " + g + " with playlist age: " + i.age),
                                        g = 0;
                                    else {
                                        var y = Math.floor(g / i.targetduration);
                                        u += y,
                                        void 0 !== c && (c += Math.round(g % i.targetduration / i.partTarget)),
                                        this.log("CDN Tune-in age: " + i.ageHeader + "s last advanced " + v.toFixed(2) + "s goal: " + g + " skip sn " + y + " to part " + c)
                                    }
                                    i.tuneInGoal = g
                                }
                                if (s = this.getDeliveryDirectives(i, t.deliveryDirectives, u, c),
                                l || !p)
                                    return void this.loadPlaylist(s)
                            } else
                                s = this.getDeliveryDirectives(i, t.deliveryDirectives, u, c);
                            var E = function(e, t) {
                                var n, r = 1e3 * e.levelTargetDuration, i = r / 2, o = e.age, a = o > 0 && o < 3 * r, s = t.loading.end - t.loading.start, u = e.availabilityDelay;
                                if (!1 === e.updated)
                                    if (a) {
                                        var c = 333 * e.misses;
                                        n = Math.max(Math.min(i, 2 * s), c),
                                        e.availabilityDelay = (e.availabilityDelay || 0) + n
                                    } else
                                        n = i;
                                else
                                    a ? (u = Math.min(u || r / 2, o),
                                    e.availabilityDelay = u,
                                    n = u + r - o) : n = r - s;
                                return Math.round(n)
                            }(i, o);
                            void 0 !== u && i.canBlockReload && (E -= i.partTarget || 1),
                            this.log("reload live playlist " + e + " in " + Math.round(E) + " ms"),
                            this.timer = self.setTimeout((function() {
                                return r.loadPlaylist(s)
                            }
                            ), E)
                        } else
                            this.clearTimer()
                    }
                    ,
                    t.getDeliveryDirectives = function(e, t, n, r) {
                        var i = function(e, t) {
                            var n = e.canSkipUntil
                              , r = e.canSkipDateRanges
                              , i = e.endSN;
                            return n && (void 0 !== t ? t - i : 0) < n ? r ? q.v2 : q.Yes : q.No
                        }(e, n);
                        return null != t && t.skip && e.deltaUpdateFailed && (n = t.msn,
                        r = t.part,
                        i = q.No),
                        new G(n,r,i)
                    }
                    ,
                    t.retryLoadingOrFail = function(e) {
                        var t, n = this, r = this.hls.config, i = this.retryCount < r.levelLoadingMaxRetry;
                        if (i)
                            if (this.retryCount++,
                            e.details.indexOf("LoadTimeOut") > -1 && null !== (t = e.context) && void 0 !== t && t.deliveryDirectives)
                                this.warn("retry playlist loading #" + this.retryCount + ' after "' + e.details + '"'),
                                this.loadPlaylist();
                            else {
                                var o = Math.min(Math.pow(2, this.retryCount) * r.levelLoadingRetryDelay, r.levelLoadingMaxRetryTimeout);
                                this.timer = self.setTimeout((function() {
                                    return n.loadPlaylist()
                                }
                                ), o),
                                this.warn("retry playlist loading #" + this.retryCount + " in " + o + ' ms after "' + e.details + '"')
                            }
                        else
                            this.warn('cannot recover from error "' + e.details + '"'),
                            this.clearTimer(),
                            e.fatal = !0;
                        return i
                    }
                    ,
                    e
                }();
                function ne() {
                    return (ne = Object.assign ? Object.assign.bind() : function(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = arguments[t];
                            for (var r in n)
                                Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                        }
                        return e
                    }
                    ).apply(this, arguments)
                }
                function re(e, t) {
                    return (re = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                        return e.__proto__ = t,
                        e
                    }
                    )(e, t)
                }
                var ie, oe = /chrome|firefox/.test(navigator.userAgent.toLowerCase()), ae = function(e) {
                    var t, n;
                    function r(t) {
                        var n;
                        return (n = e.call(this, t, "[level-controller]") || this)._levels = [],
                        n._firstLevel = -1,
                        n._startLevel = void 0,
                        n.currentLevelIndex = -1,
                        n.manualLevelIndex = -1,
                        n.onParsedComplete = void 0,
                        n._registerListeners(),
                        n
                    }
                    n = e,
                    (t = r).prototype = Object.create(n.prototype),
                    t.prototype.constructor = t,
                    re(t, n);
                    var i, o, u = r.prototype;
                    return u._registerListeners = function() {
                        var e = this.hls;
                        e.on(a.a.MANIFEST_LOADED, this.onManifestLoaded, this),
                        e.on(a.a.LEVEL_LOADED, this.onLevelLoaded, this),
                        e.on(a.a.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this),
                        e.on(a.a.FRAG_LOADED, this.onFragLoaded, this),
                        e.on(a.a.ERROR, this.onError, this)
                    }
                    ,
                    u._unregisterListeners = function() {
                        var e = this.hls;
                        e.off(a.a.MANIFEST_LOADED, this.onManifestLoaded, this),
                        e.off(a.a.LEVEL_LOADED, this.onLevelLoaded, this),
                        e.off(a.a.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this),
                        e.off(a.a.FRAG_LOADED, this.onFragLoaded, this),
                        e.off(a.a.ERROR, this.onError, this)
                    }
                    ,
                    u.destroy = function() {
                        this._unregisterListeners(),
                        this.manualLevelIndex = -1,
                        this._levels.length = 0,
                        e.prototype.destroy.call(this)
                    }
                    ,
                    u.startLoad = function() {
                        this._levels.forEach((function(e) {
                            e.loadError = 0
                        }
                        )),
                        e.prototype.startLoad.call(this)
                    }
                    ,
                    u.onManifestLoaded = function(e, t) {
                        var n, r, i = [], o = [], u = [], c = {}, l = !1, f = !1, d = !1;
                        if (t.levels.forEach((function(e) {
                            var t = e.attrs;
                            l = l || !(!e.width || !e.height),
                            f = f || !!e.videoCodec,
                            d = d || !!e.audioCodec,
                            oe && e.audioCodec && -1 !== e.audioCodec.indexOf("mp4a.40.34") && (e.audioCodec = void 0);
                            var n = e.bitrate + "-" + e.attrs.RESOLUTION + "-" + e.attrs.CODECS;
                            (r = c[n]) ? r.url.push(e.url) : (r = new Y(e),
                            c[n] = r,
                            i.push(r)),
                            t && (t.AUDIO && z(r, "audio", t.AUDIO),
                            t.SUBTITLES && z(r, "text", t.SUBTITLES))
                        }
                        )),
                        (l || f) && d && (i = i.filter((function(e) {
                            var t = e.videoCodec
                              , n = e.width
                              , r = e.height;
                            return !!t || !(!n || !r)
                        }
                        ))),
                        i = i.filter((function(e) {
                            var t = e.audioCodec
                              , n = e.videoCodec;
                            return (!t || E(t, "audio")) && (!n || E(n, "video"))
                        }
                        )),
                        t.audioTracks && Q(o = t.audioTracks.filter((function(e) {
                            return !e.audioCodec || E(e.audioCodec, "audio")
                        }
                        ))),
                        t.subtitles && Q(u = t.subtitles),
                        i.length > 0) {
                            n = i[0].bitrate,
                            i.sort((function(e, t) {
                                return e.bitrate - t.bitrate
                            }
                            )),
                            this._levels = i;
                            for (var h = 0; h < i.length; h++)
                                if (i[h].bitrate === n) {
                                    this._firstLevel = h,
                                    this.log("manifest loaded, " + i.length + " level(s) found, first bitrate: " + n);
                                    break
                                }
                            var p = d && !f
                              , v = {
                                levels: i,
                                audioTracks: o,
                                subtitleTracks: u,
                                firstLevel: this._firstLevel,
                                stats: t.stats,
                                audio: d,
                                video: f,
                                altAudio: !p && o.some((function(e) {
                                    return !!e.url
                                }
                                ))
                            };
                            this.hls.trigger(a.a.MANIFEST_PARSED, v),
                            (this.hls.config.autoStartLoad || this.hls.forceStartLoad) && this.hls.startLoad(this.hls.config.startPosition)
                        } else
                            this.hls.trigger(a.a.ERROR, {
                                type: s.b.MEDIA_ERROR,
                                details: s.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,
                                fatal: !0,
                                url: t.url,
                                reason: "no level with compatible codecs found in manifest"
                            })
                    }
                    ,
                    u.onError = function(t, n) {
                        var r;
                        if (e.prototype.onError.call(this, t, n),
                        !n.fatal) {
                            var i = n.context
                              , o = this._levels[this.currentLevelIndex];
                            if (i && (i.type === P.a.AUDIO_TRACK && o.audioGroupIds && i.groupId === o.audioGroupIds[o.urlId] || i.type === P.a.SUBTITLE_TRACK && o.textGroupIds && i.groupId === o.textGroupIds[o.urlId]))
                                this.redundantFailover(this.currentLevelIndex);
                            else {
                                var a, u = !1, c = !0;
                                switch (n.details) {
                                case s.a.FRAG_LOAD_ERROR:
                                case s.a.FRAG_LOAD_TIMEOUT:
                                case s.a.KEY_LOAD_ERROR:
                                case s.a.KEY_LOAD_TIMEOUT:
                                    if (n.frag) {
                                        var l = n.frag.type === P.b.MAIN ? n.frag.level : this.currentLevelIndex
                                          , f = this._levels[l];
                                        f ? (f.fragmentError++,
                                        f.fragmentError > this.hls.config.fragLoadingMaxRetry && (a = l)) : a = l
                                    }
                                    break;
                                case s.a.LEVEL_LOAD_ERROR:
                                case s.a.LEVEL_LOAD_TIMEOUT:
                                    i && (i.deliveryDirectives && (c = !1),
                                    a = i.level),
                                    u = !0;
                                    break;
                                case s.a.REMUX_ALLOC_ERROR:
                                    a = null != (r = n.level) ? r : this.currentLevelIndex,
                                    u = !0
                                }
                                void 0 !== a && this.recoverLevel(n, a, u, c)
                            }
                        }
                    }
                    ,
                    u.recoverLevel = function(e, t, n, r) {
                        var i = e.details
                          , o = this._levels[t];
                        if (o.loadError++,
                        n) {
                            if (!this.retryLoadingOrFail(e))
                                return void (this.currentLevelIndex = -1);
                            e.levelRetry = !0
                        }
                        if (r) {
                            var a = o.url.length;
                            if (a > 1 && o.loadError < a)
                                e.levelRetry = !0,
                                this.redundantFailover(t);
                            else if (-1 === this.manualLevelIndex) {
                                for (var s = -1, u = this._levels, c = u.length; c--; ) {
                                    var l = (c + this.currentLevelIndex) % u.length;
                                    if (l !== this.currentLevelIndex && 0 === u[l].loadError) {
                                        s = l;
                                        break
                                    }
                                }
                                s > -1 && this.currentLevelIndex !== s && (this.warn(i + ": switch to " + s),
                                e.levelRetry = !0,
                                this.hls.nextAutoLevel = s)
                            }
                        }
                    }
                    ,
                    u.redundantFailover = function(e) {
                        var t = this._levels[e]
                          , n = t.url.length;
                        if (n > 1) {
                            var r = (t.urlId + 1) % n;
                            this.warn("Switching to redundant URL-id " + r),
                            this._levels.forEach((function(e) {
                                e.urlId = r
                            }
                            )),
                            this.level = e
                        }
                    }
                    ,
                    u.onFragLoaded = function(e, t) {
                        var n = t.frag;
                        if (void 0 !== n && n.type === P.b.MAIN) {
                            var r = this._levels[n.level];
                            void 0 !== r && (r.fragmentError = 0,
                            r.loadError = 0)
                        }
                    }
                    ,
                    u.onLevelLoaded = function(e, t) {
                        var n, r, i = t.level, o = t.details, a = this._levels[i];
                        if (!a)
                            return this.warn("Invalid level index " + i),
                            void (null !== (r = t.deliveryDirectives) && void 0 !== r && r.skip && (o.deltaUpdateFailed = !0));
                        i === this.currentLevelIndex ? (0 === a.fragmentError && (a.loadError = 0,
                        this.retryCount = 0),
                        this.playlistLoaded(i, t, a.details)) : null !== (n = t.deliveryDirectives) && void 0 !== n && n.skip && (o.deltaUpdateFailed = !0)
                    }
                    ,
                    u.onAudioTrackSwitched = function(e, t) {
                        var n = this.hls.levels[this.currentLevelIndex];
                        if (n && n.audioGroupIds) {
                            for (var r = -1, i = this.hls.audioTracks[t.id].groupId, o = 0; o < n.audioGroupIds.length; o++)
                                if (n.audioGroupIds[o] === i) {
                                    r = o;
                                    break
                                }
                            r !== n.urlId && (n.urlId = r,
                            this.startLoad())
                        }
                    }
                    ,
                    u.loadPlaylist = function(e) {
                        var t = this.currentLevelIndex
                          , n = this._levels[t];
                        if (this.canLoad && n && n.url.length > 0) {
                            var r = n.urlId
                              , i = n.url[r];
                            if (e)
                                try {
                                    i = e.addDirectives(i)
                                } catch (e) {
                                    this.warn("Could not construct new URL with HLS Delivery Directives: " + e)
                                }
                            this.log("Attempt loading level index " + t + (e ? " at sn " + e.msn + " part " + e.part : "") + " with URL-id " + r + " " + i),
                            this.clearTimer(),
                            this.hls.trigger(a.a.LEVEL_LOADING, {
                                url: i,
                                level: t,
                                id: r,
                                deliveryDirectives: e || null
                            })
                        }
                    }
                    ,
                    u.removeLevel = function(e, t) {
                        var n = function(e, n) {
                            return n !== t
                        }
                          , r = this._levels.filter((function(r, i) {
                            return i !== e || r.url.length > 1 && void 0 !== t && (r.url = r.url.filter(n),
                            r.audioGroupIds && (r.audioGroupIds = r.audioGroupIds.filter(n)),
                            r.textGroupIds && (r.textGroupIds = r.textGroupIds.filter(n)),
                            r.urlId = 0,
                            !0)
                        }
                        )).map((function(e, t) {
                            var n = e.details;
                            return null != n && n.fragments && n.fragments.forEach((function(e) {
                                e.level = t
                            }
                            )),
                            e
                        }
                        ));
                        this._levels = r,
                        this.hls.trigger(a.a.LEVELS_UPDATED, {
                            levels: r
                        })
                    }
                    ,
                    i = r,
                    (o = [{
                        key: "levels",
                        get: function() {
                            return 0 === this._levels.length ? null : this._levels
                        }
                    }, {
                        key: "level",
                        get: function() {
                            return this.currentLevelIndex
                        },
                        set: function(e) {
                            var t, n = this._levels;
                            if (0 !== n.length && (this.currentLevelIndex !== e || null === (t = n[e]) || void 0 === t || !t.details)) {
                                if (e < 0 || e >= n.length) {
                                    var r = e < 0;
                                    if (this.hls.trigger(a.a.ERROR, {
                                        type: s.b.OTHER_ERROR,
                                        details: s.a.LEVEL_SWITCH_ERROR,
                                        level: e,
                                        fatal: r,
                                        reason: "invalid level idx"
                                    }),
                                    r)
                                        return;
                                    e = Math.min(e, n.length - 1)
                                }
                                this.clearTimer();
                                var i = this.currentLevelIndex
                                  , o = n[i]
                                  , u = n[e];
                                this.log("switching to level " + e + " from " + i),
                                this.currentLevelIndex = e;
                                var c = ne({}, u, {
                                    level: e,
                                    maxBitrate: u.maxBitrate,
                                    uri: u.uri,
                                    urlId: u.urlId
                                });
                                delete c._urlId,
                                this.hls.trigger(a.a.LEVEL_SWITCHING, c);
                                var l = u.details;
                                if (!l || l.live) {
                                    var f = this.switchParams(u.uri, null == o ? void 0 : o.details);
                                    this.loadPlaylist(f)
                                }
                            }
                        }
                    }, {
                        key: "manualLevel",
                        get: function() {
                            return this.manualLevelIndex
                        },
                        set: function(e) {
                            this.manualLevelIndex = e,
                            void 0 === this._startLevel && (this._startLevel = e),
                            -1 !== e && (this.level = e)
                        }
                    }, {
                        key: "firstLevel",
                        get: function() {
                            return this._firstLevel
                        },
                        set: function(e) {
                            this._firstLevel = e
                        }
                    }, {
                        key: "startLevel",
                        get: function() {
                            if (void 0 === this._startLevel) {
                                var e = this.hls.config.startLevel;
                                return void 0 !== e ? e : this._firstLevel
                            }
                            return this._startLevel
                        },
                        set: function(e) {
                            this._startLevel = e
                        }
                    }, {
                        key: "nextLoadLevel",
                        get: function() {
                            return -1 !== this.manualLevelIndex ? this.manualLevelIndex : this.hls.nextAutoLevel
                        },
                        set: function(e) {
                            this.level = e,
                            -1 === this.manualLevelIndex && (this.hls.nextAutoLevel = e)
                        }
                    }]) && function(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }(i.prototype, o),
                    Object.defineProperty(i, "prototype", {
                        writable: !1
                    }),
                    r
                }(te);
                !function(e) {
                    e.NOT_LOADED = "NOT_LOADED",
                    e.APPENDING = "APPENDING",
                    e.PARTIAL = "PARTIAL",
                    e.OK = "OK"
                }(ie || (ie = {}));
                var se = function() {
                    function e(e) {
                        this.activeFragment = null,
                        this.activeParts = null,
                        this.fragments = Object.create(null),
                        this.timeRanges = Object.create(null),
                        this.bufferPadding = .2,
                        this.hls = void 0,
                        this.hls = e,
                        this._registerListeners()
                    }
                    var t = e.prototype;
                    return t._registerListeners = function() {
                        var e = this.hls;
                        e.on(a.a.BUFFER_APPENDED, this.onBufferAppended, this),
                        e.on(a.a.FRAG_BUFFERED, this.onFragBuffered, this),
                        e.on(a.a.FRAG_LOADED, this.onFragLoaded, this)
                    }
                    ,
                    t._unregisterListeners = function() {
                        var e = this.hls;
                        e.off(a.a.BUFFER_APPENDED, this.onBufferAppended, this),
                        e.off(a.a.FRAG_BUFFERED, this.onFragBuffered, this),
                        e.off(a.a.FRAG_LOADED, this.onFragLoaded, this)
                    }
                    ,
                    t.destroy = function() {
                        this._unregisterListeners(),
                        this.fragments = this.timeRanges = null
                    }
                    ,
                    t.getAppendedFrag = function(e, t) {
                        if (t === P.b.MAIN) {
                            var n = this.activeFragment
                              , r = this.activeParts;
                            if (!n)
                                return null;
                            if (r)
                                for (var i = r.length; i--; ) {
                                    var o = r[i]
                                      , a = o ? o.end : n.appendedPTS;
                                    if (o.start <= e && void 0 !== a && e <= a)
                                        return i > 9 && (this.activeParts = r.slice(i - 9)),
                                        o
                                }
                            else if (n.start <= e && void 0 !== n.appendedPTS && e <= n.appendedPTS)
                                return n
                        }
                        return this.getBufferedFrag(e, t)
                    }
                    ,
                    t.getBufferedFrag = function(e, t) {
                        for (var n = this.fragments, r = Object.keys(n), i = r.length; i--; ) {
                            var o = n[r[i]];
                            if ((null == o ? void 0 : o.body.type) === t && o.buffered) {
                                var a = o.body;
                                if (a.start <= e && e <= a.end)
                                    return a
                            }
                        }
                        return null
                    }
                    ,
                    t.detectEvictedFragments = function(e, t, n) {
                        var r = this;
                        Object.keys(this.fragments).forEach((function(i) {
                            var o = r.fragments[i];
                            if (o)
                                if (o.buffered) {
                                    var a = o.range[e];
                                    a && a.time.some((function(e) {
                                        var n = !r.isTimeBuffered(e.startPTS, e.endPTS, t);
                                        return n && r.removeFragment(o.body),
                                        n
                                    }
                                    ))
                                } else
                                    o.body.type === n && r.removeFragment(o.body)
                        }
                        ))
                    }
                    ,
                    t.detectPartialFragments = function(e) {
                        var t = this
                          , n = this.timeRanges
                          , r = e.frag
                          , i = e.part;
                        if (n && "initSegment" !== r.sn) {
                            var o = ce(r)
                              , a = this.fragments[o];
                            a && (Object.keys(n).forEach((function(e) {
                                var o = r.elementaryStreams[e];
                                if (o) {
                                    var s = n[e]
                                      , u = null !== i || !0 === o.partial;
                                    a.range[e] = t.getBufferedTimes(r, i, u, s)
                                }
                            }
                            )),
                            a.loaded = null,
                            Object.keys(a.range).length ? a.buffered = !0 : this.removeFragment(a.body))
                        }
                    }
                    ,
                    t.fragBuffered = function(e) {
                        var t = ce(e)
                          , n = this.fragments[t];
                        n && (n.loaded = null,
                        n.buffered = !0)
                    }
                    ,
                    t.getBufferedTimes = function(e, t, n, r) {
                        for (var i = {
                            time: [],
                            partial: n
                        }, o = t ? t.start : e.start, a = t ? t.end : e.end, s = e.minEndPTS || a, u = e.maxStartPTS || o, c = 0; c < r.length; c++) {
                            var l = r.start(c) - this.bufferPadding
                              , f = r.end(c) + this.bufferPadding;
                            if (u >= l && s <= f) {
                                i.time.push({
                                    startPTS: Math.max(o, r.start(c)),
                                    endPTS: Math.min(a, r.end(c))
                                });
                                break
                            }
                            if (o < f && a > l)
                                i.partial = !0,
                                i.time.push({
                                    startPTS: Math.max(o, r.start(c)),
                                    endPTS: Math.min(a, r.end(c))
                                });
                            else if (a <= l)
                                break
                        }
                        return i
                    }
                    ,
                    t.getPartialFragment = function(e) {
                        var t, n, r, i = null, o = 0, a = this.bufferPadding, s = this.fragments;
                        return Object.keys(s).forEach((function(u) {
                            var c = s[u];
                            c && ue(c) && (n = c.body.start - a,
                            r = c.body.end + a,
                            e >= n && e <= r && (t = Math.min(e - n, r - e),
                            o <= t && (i = c.body,
                            o = t)))
                        }
                        )),
                        i
                    }
                    ,
                    t.getState = function(e) {
                        var t = ce(e)
                          , n = this.fragments[t];
                        return n ? n.buffered ? ue(n) ? ie.PARTIAL : ie.OK : ie.APPENDING : ie.NOT_LOADED
                    }
                    ,
                    t.isTimeBuffered = function(e, t, n) {
                        for (var r, i, o = 0; o < n.length; o++) {
                            if (r = n.start(o) - this.bufferPadding,
                            i = n.end(o) + this.bufferPadding,
                            e >= r && t <= i)
                                return !0;
                            if (t <= r)
                                return !1
                        }
                        return !1
                    }
                    ,
                    t.onFragLoaded = function(e, t) {
                        var n = t.frag
                          , r = t.part;
                        if ("initSegment" !== n.sn && !n.bitrateTest && !r) {
                            var i = ce(n);
                            this.fragments[i] = {
                                body: n,
                                loaded: t,
                                buffered: !1,
                                range: Object.create(null)
                            }
                        }
                    }
                    ,
                    t.onBufferAppended = function(e, t) {
                        var n = this
                          , r = t.frag
                          , i = t.part
                          , o = t.timeRanges;
                        if (r.type === P.b.MAIN)
                            if (this.activeFragment = r,
                            i) {
                                var a = this.activeParts;
                                a || (this.activeParts = a = []),
                                a.push(i)
                            } else
                                this.activeParts = null;
                        this.timeRanges = o,
                        Object.keys(o).forEach((function(e) {
                            var t = o[e];
                            if (n.detectEvictedFragments(e, t),
                            !i)
                                for (var a = 0; a < t.length; a++)
                                    r.appendedPTS = Math.max(t.end(a), r.appendedPTS || 0)
                        }
                        ))
                    }
                    ,
                    t.onFragBuffered = function(e, t) {
                        this.detectPartialFragments(t)
                    }
                    ,
                    t.hasFragment = function(e) {
                        var t = ce(e);
                        return !!this.fragments[t]
                    }
                    ,
                    t.removeFragmentsInRange = function(e, t, n) {
                        var r = this;
                        Object.keys(this.fragments).forEach((function(i) {
                            var o = r.fragments[i];
                            if (o && o.buffered) {
                                var a = o.body;
                                a.type === n && a.start < t && a.end > e && r.removeFragment(a)
                            }
                        }
                        ))
                    }
                    ,
                    t.removeFragment = function(e) {
                        var t = ce(e);
                        e.stats.loaded = 0,
                        e.clearElementaryStreamInfo(),
                        delete this.fragments[t]
                    }
                    ,
                    t.removeAllFragments = function() {
                        this.fragments = Object.create(null),
                        this.activeFragment = null,
                        this.activeParts = null
                    }
                    ,
                    e
                }();
                function ue(e) {
                    var t, n;
                    return e.buffered && ((null === (t = e.range.video) || void 0 === t ? void 0 : t.partial) || (null === (n = e.range.audio) || void 0 === n ? void 0 : n.partial))
                }
                function ce(e) {
                    return e.type + "_" + e.level + "_" + e.urlId + "_" + e.sn
                }
                var le = function() {
                    function e() {
                        this._boundTick = void 0,
                        this._tickTimer = null,
                        this._tickInterval = null,
                        this._tickCallCount = 0,
                        this._boundTick = this.tick.bind(this)
                    }
                    var t = e.prototype;
                    return t.destroy = function() {
                        this.onHandlerDestroying(),
                        this.onHandlerDestroyed()
                    }
                    ,
                    t.onHandlerDestroying = function() {
                        this.clearNextTick(),
                        this.clearInterval()
                    }
                    ,
                    t.onHandlerDestroyed = function() {}
                    ,
                    t.hasInterval = function() {
                        return !!this._tickInterval
                    }
                    ,
                    t.hasNextTick = function() {
                        return !!this._tickTimer
                    }
                    ,
                    t.setInterval = function(e) {
                        return !this._tickInterval && (this._tickInterval = self.setInterval(this._boundTick, e),
                        !0)
                    }
                    ,
                    t.clearInterval = function() {
                        return !!this._tickInterval && (self.clearInterval(this._tickInterval),
                        this._tickInterval = null,
                        !0)
                    }
                    ,
                    t.clearNextTick = function() {
                        return !!this._tickTimer && (self.clearTimeout(this._tickTimer),
                        this._tickTimer = null,
                        !0)
                    }
                    ,
                    t.tick = function() {
                        this._tickCallCount++,
                        1 === this._tickCallCount && (this.doTick(),
                        this._tickCallCount > 1 && this.tickImmediate(),
                        this._tickCallCount = 0)
                    }
                    ,
                    t.tickImmediate = function() {
                        this.clearNextTick(),
                        this._tickTimer = self.setTimeout(this._boundTick, 0)
                    }
                    ,
                    t.doTick = function() {}
                    ,
                    e
                }()
                  , fe = {
                    length: 0,
                    start: function() {
                        return 0
                    },
                    end: function() {
                        return 0
                    }
                }
                  , de = function() {
                    function e() {}
                    return e.isBuffered = function(t, n) {
                        try {
                            if (t)
                                for (var r = e.getBuffered(t), i = 0; i < r.length; i++)
                                    if (n >= r.start(i) && n <= r.end(i))
                                        return !0
                        } catch (e) {}
                        return !1
                    }
                    ,
                    e.bufferInfo = function(t, n, r) {
                        try {
                            if (t) {
                                var i, o = e.getBuffered(t), a = [];
                                for (i = 0; i < o.length; i++)
                                    a.push({
                                        start: o.start(i),
                                        end: o.end(i)
                                    });
                                return this.bufferedInfo(a, n, r)
                            }
                        } catch (e) {}
                        return {
                            len: 0,
                            start: n,
                            end: n,
                            nextStart: void 0
                        }
                    }
                    ,
                    e.bufferedInfo = function(e, t, n) {
                        t = Math.max(0, t),
                        e.sort((function(e, t) {
                            return e.start - t.start || t.end - e.end
                        }
                        ));
                        var r = [];
                        if (n)
                            for (var i = 0; i < e.length; i++) {
                                var o = r.length;
                                if (o) {
                                    var a = r[o - 1].end;
                                    e[i].start - a < n ? e[i].end > a && (r[o - 1].end = e[i].end) : r.push(e[i])
                                } else
                                    r.push(e[i])
                            }
                        else
                            r = e;
                        for (var s, u = 0, c = t, l = t, f = 0; f < r.length; f++) {
                            var d = r[f].start
                              , h = r[f].end;
                            if (t + n >= d && t < h)
                                c = d,
                                u = (l = h) - t;
                            else if (t + n < d) {
                                s = d;
                                break
                            }
                        }
                        return {
                            len: u,
                            start: c || 0,
                            end: l || 0,
                            nextStart: s
                        }
                    }
                    ,
                    e.getBuffered = function(e) {
                        try {
                            return e.buffered
                        } catch (e) {
                            return u.b.log("failed to get media.buffered", e),
                            fe
                        }
                    }
                    ,
                    e
                }()
                  , he = function(e, t, n, r, i, o) {
                    void 0 === r && (r = 0),
                    void 0 === i && (i = -1),
                    void 0 === o && (o = !1),
                    this.level = void 0,
                    this.sn = void 0,
                    this.part = void 0,
                    this.id = void 0,
                    this.size = void 0,
                    this.partial = void 0,
                    this.transmuxing = {
                        start: 0,
                        executeStart: 0,
                        executeEnd: 0,
                        end: 0
                    },
                    this.buffering = {
                        audio: {
                            start: 0,
                            executeStart: 0,
                            executeEnd: 0,
                            end: 0
                        },
                        video: {
                            start: 0,
                            executeStart: 0,
                            executeEnd: 0,
                            end: 0
                        },
                        audiovideo: {
                            start: 0,
                            executeStart: 0,
                            executeEnd: 0,
                            end: 0
                        }
                    },
                    this.level = e,
                    this.sn = t,
                    this.id = n,
                    this.size = r,
                    this.part = i,
                    this.partial = o
                };
                function pe(e, t) {
                    if (e) {
                        var n = e.start + t;
                        e.start = e.startPTS = n,
                        e.endPTS = n + e.duration
                    }
                }
                function ve(e, t) {
                    for (var n = t.fragments, r = 0, i = n.length; r < i; r++)
                        pe(n[r], e);
                    t.fragmentHint && pe(t.fragmentHint, e),
                    t.alignedSliding = !0
                }
                function me(e, t, n) {
                    t && (function(e, t, n) {
                        if (function(e, t, n) {
                            return !(!t.details || !(n.endCC > n.startCC || e && e.cc < n.startCC))
                        }(e, n, t)) {
                            var r = function(e, t) {
                                var n = e.fragments
                                  , r = t.fragments;
                                if (r.length && n.length) {
                                    var i = function(e, t) {
                                        for (var n = null, r = 0, i = e.length; r < i; r++) {
                                            var o = e[r];
                                            if (o && o.cc === t) {
                                                n = o;
                                                break
                                            }
                                        }
                                        return n
                                    }(n, r[0].cc);
                                    if (i && (!i || i.startPTS))
                                        return i;
                                    u.b.log("No frag in previous level to align on")
                                } else
                                    u.b.log("No fragments to align")
                            }(n.details, t);
                            r && Object(o.a)(r.start) && (u.b.log("Adjusting PTS using last level due to CC increase within current level " + t.url),
                            ve(r.start, t))
                        }
                    }(e, n, t),
                    !n.alignedSliding && t.details && function(e, t) {
                        if (t.fragments.length && e.hasProgramDateTime && t.hasProgramDateTime) {
                            var n = t.fragments[0].programDateTime
                              , r = e.fragments[0].programDateTime
                              , i = (r - n) / 1e3 + t.fragments[0].start;
                            i && Object(o.a)(i) && (u.b.log("Adjusting PTS using programDateTime delta " + (r - n) + "ms, sliding:" + i.toFixed(3) + " " + e.url + " "),
                            ve(i, e))
                        }
                    }(n, t.details),
                    n.alignedSliding || !t.details || n.skippedSegments || $(t.details, n))
                }
                function ge(e, t) {
                    var n = e.programDateTime;
                    if (n) {
                        var r = (n - t) / 1e3;
                        e.start = e.startPTS = r,
                        e.endPTS = r + e.duration
                    }
                }
                function ye(e, t) {
                    if (t.fragments.length && e.hasProgramDateTime && t.hasProgramDateTime) {
                        var n = t.fragments[0].programDateTime - 1e3 * t.fragments[0].start;
                        e.fragments.forEach((function(e) {
                            ge(e, n)
                        }
                        )),
                        e.fragmentHint && ge(e.fragmentHint, n),
                        e.alignedSliding = !0
                    }
                }
                var Ee = function(e, t) {
                    for (var n = 0, r = e.length - 1, i = null, o = null; n <= r; ) {
                        var a = t(o = e[i = (n + r) / 2 | 0]);
                        if (a > 0)
                            n = i + 1;
                        else {
                            if (!(a < 0))
                                return o;
                            r = i - 1
                        }
                    }
                    return null
                };
                function Te(e, t, n, r) {
                    void 0 === n && (n = 0),
                    void 0 === r && (r = 0);
                    var i = null;
                    return e ? i = t[e.sn - t[0].sn + 1] || null : 0 === n && 0 === t[0].start && (i = t[0]),
                    i && 0 === be(n, r, i) ? i : Ee(t, be.bind(null, n, r)) || i
                }
                function be(e, t, n) {
                    void 0 === e && (e = 0),
                    void 0 === t && (t = 0);
                    var r = Math.min(t, n.duration + (n.deltaPTS ? n.deltaPTS : 0));
                    return n.start + n.duration - r <= e ? 1 : n.start - r > e && n.start ? -1 : 0
                }
                function _e(e, t, n) {
                    var r = 1e3 * Math.min(t, n.duration + (n.deltaPTS ? n.deltaPTS : 0));
                    return (n.endProgramDateTime || 0) - r > e
                }
                function Se(e) {
                    var t = "function" == typeof Map ? new Map : void 0;
                    return (Se = function(e) {
                        if (null === e || (n = e,
                        -1 === Function.toString.call(n).indexOf("[native code]")))
                            return e;
                        var n;
                        if ("function" != typeof e)
                            throw new TypeError("Super expression must either be null or a function");
                        if (void 0 !== t) {
                            if (t.has(e))
                                return t.get(e);
                            t.set(e, r)
                        }
                        function r() {
                            return Re(e, arguments, Oe(this).constructor)
                        }
                        return r.prototype = Object.create(e.prototype, {
                            constructor: {
                                value: r,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }),
                        Ce(r, e)
                    }
                    )(e)
                }
                function Re(e, t, n) {
                    return (Re = we() ? Reflect.construct.bind() : function(e, t, n) {
                        var r = [null];
                        r.push.apply(r, t);
                        var i = new (Function.bind.apply(e, r));
                        return n && Ce(i, n.prototype),
                        i
                    }
                    ).apply(null, arguments)
                }
                function we() {
                    if ("undefined" == typeof Reflect || !Reflect.construct)
                        return !1;
                    if (Reflect.construct.sham)
                        return !1;
                    if ("function" == typeof Proxy)
                        return !0;
                    try {
                        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                        ))),
                        !0
                    } catch (e) {
                        return !1
                    }
                }
                function Ce(e, t) {
                    return (Ce = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                        return e.__proto__ = t,
                        e
                    }
                    )(e, t)
                }
                function Oe(e) {
                    return (Oe = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                    )(e)
                }
                var Le = Math.pow(2, 17)
                  , Ae = function() {
                    function e(e) {
                        this.config = void 0,
                        this.loader = null,
                        this.partLoadTimeout = -1,
                        this.config = e
                    }
                    var t = e.prototype;
                    return t.destroy = function() {
                        this.loader && (this.loader.destroy(),
                        this.loader = null)
                    }
                    ,
                    t.abort = function() {
                        this.loader && this.loader.abort()
                    }
                    ,
                    t.load = function(e, t) {
                        var n = this
                          , r = e.url;
                        if (!r)
                            return Promise.reject(new Ie({
                                type: s.b.NETWORK_ERROR,
                                details: s.a.FRAG_LOAD_ERROR,
                                fatal: !1,
                                frag: e,
                                networkDetails: null
                            },"Fragment does not have a " + (r ? "part list" : "url")));
                        this.abort();
                        var i = this.config
                          , o = i.fLoader
                          , a = i.loader;
                        return new Promise((function(r, u) {
                            n.loader && n.loader.destroy();
                            var c = n.loader = e.loader = o ? new o(i) : new a(i)
                              , l = Pe(e)
                              , f = {
                                timeout: i.fragLoadingTimeOut,
                                maxRetry: 0,
                                retryDelay: 0,
                                maxRetryDelay: i.fragLoadingMaxRetryTimeout,
                                highWaterMark: "initSegment" === e.sn ? 1 / 0 : Le
                            };
                            e.stats = c.stats,
                            c.load(l, f, {
                                onSuccess: function(t, i, o, a) {
                                    n.resetLoader(e, c),
                                    r({
                                        frag: e,
                                        part: null,
                                        payload: t.data,
                                        networkDetails: a
                                    })
                                },
                                onError: function(t, r, i) {
                                    n.resetLoader(e, c),
                                    u(new Ie({
                                        type: s.b.NETWORK_ERROR,
                                        details: s.a.FRAG_LOAD_ERROR,
                                        fatal: !1,
                                        frag: e,
                                        response: t,
                                        networkDetails: i
                                    }))
                                },
                                onAbort: function(t, r, i) {
                                    n.resetLoader(e, c),
                                    u(new Ie({
                                        type: s.b.NETWORK_ERROR,
                                        details: s.a.INTERNAL_ABORTED,
                                        fatal: !1,
                                        frag: e,
                                        networkDetails: i
                                    }))
                                },
                                onTimeout: function(t, r, i) {
                                    n.resetLoader(e, c),
                                    u(new Ie({
                                        type: s.b.NETWORK_ERROR,
                                        details: s.a.FRAG_LOAD_TIMEOUT,
                                        fatal: !1,
                                        frag: e,
                                        networkDetails: i
                                    }))
                                },
                                onProgress: function(n, r, i, o) {
                                    t && t({
                                        frag: e,
                                        part: null,
                                        payload: i,
                                        networkDetails: o
                                    })
                                }
                            })
                        }
                        ))
                    }
                    ,
                    t.loadPart = function(e, t, n) {
                        var r = this;
                        this.abort();
                        var i = this.config
                          , o = i.fLoader
                          , a = i.loader;
                        return new Promise((function(u, c) {
                            r.loader && r.loader.destroy();
                            var l = r.loader = e.loader = o ? new o(i) : new a(i)
                              , f = Pe(e, t)
                              , d = {
                                timeout: i.fragLoadingTimeOut,
                                maxRetry: 0,
                                retryDelay: 0,
                                maxRetryDelay: i.fragLoadingMaxRetryTimeout,
                                highWaterMark: Le
                            };
                            t.stats = l.stats,
                            l.load(f, d, {
                                onSuccess: function(i, o, a, s) {
                                    r.resetLoader(e, l),
                                    r.updateStatsFromPart(e, t);
                                    var c = {
                                        frag: e,
                                        part: t,
                                        payload: i.data,
                                        networkDetails: s
                                    };
                                    n(c),
                                    u(c)
                                },
                                onError: function(n, i, o) {
                                    r.resetLoader(e, l),
                                    c(new Ie({
                                        type: s.b.NETWORK_ERROR,
                                        details: s.a.FRAG_LOAD_ERROR,
                                        fatal: !1,
                                        frag: e,
                                        part: t,
                                        response: n,
                                        networkDetails: o
                                    }))
                                },
                                onAbort: function(n, i, o) {
                                    e.stats.aborted = t.stats.aborted,
                                    r.resetLoader(e, l),
                                    c(new Ie({
                                        type: s.b.NETWORK_ERROR,
                                        details: s.a.INTERNAL_ABORTED,
                                        fatal: !1,
                                        frag: e,
                                        part: t,
                                        networkDetails: o
                                    }))
                                },
                                onTimeout: function(n, i, o) {
                                    r.resetLoader(e, l),
                                    c(new Ie({
                                        type: s.b.NETWORK_ERROR,
                                        details: s.a.FRAG_LOAD_TIMEOUT,
                                        fatal: !1,
                                        frag: e,
                                        part: t,
                                        networkDetails: o
                                    }))
                                }
                            })
                        }
                        ))
                    }
                    ,
                    t.updateStatsFromPart = function(e, t) {
                        var n = e.stats
                          , r = t.stats
                          , i = r.total;
                        if (n.loaded += r.loaded,
                        i) {
                            var o = Math.round(e.duration / t.duration)
                              , a = Math.min(Math.round(n.loaded / i), o)
                              , s = (o - a) * Math.round(n.loaded / a);
                            n.total = n.loaded + s
                        } else
                            n.total = Math.max(n.loaded, n.total);
                        var u = n.loading
                          , c = r.loading;
                        u.start ? u.first += c.first - c.start : (u.start = c.start,
                        u.first = c.first),
                        u.end = c.end
                    }
                    ,
                    t.resetLoader = function(e, t) {
                        e.loader = null,
                        this.loader === t && (self.clearTimeout(this.partLoadTimeout),
                        this.loader = null),
                        t.destroy()
                    }
                    ,
                    e
                }();
                function Pe(e, t) {
                    void 0 === t && (t = null);
                    var n = t || e
                      , r = {
                        frag: e,
                        part: t,
                        responseType: "arraybuffer",
                        url: n.url,
                        headers: {},
                        rangeStart: 0,
                        rangeEnd: 0
                    }
                      , i = n.byteRangeStartOffset
                      , a = n.byteRangeEndOffset;
                    return Object(o.a)(i) && Object(o.a)(a) && (r.rangeStart = i,
                    r.rangeEnd = a),
                    r
                }
                var Ie = function(e) {
                    var t, n;
                    function r(t) {
                        for (var n, r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), o = 1; o < r; o++)
                            i[o - 1] = arguments[o];
                        return (n = e.call.apply(e, [this].concat(i)) || this).data = void 0,
                        n.data = t,
                        n
                    }
                    return n = e,
                    (t = r).prototype = Object.create(n.prototype),
                    t.prototype.constructor = t,
                    Ce(t, n),
                    r
                }(Se(Error))
                  , De = n(16);
                function ke(e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }
                function Ne(e, t) {
                    return (Ne = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                        return e.__proto__ = t,
                        e
                    }
                    )(e, t)
                }
                var xe = "STOPPED"
                  , Me = "IDLE"
                  , Fe = "KEY_LOADING"
                  , Ue = "FRAG_LOADING"
                  , Be = "FRAG_LOADING_WAITING_RETRY"
                  , je = "WAITING_TRACK"
                  , Ve = "PARSING"
                  , He = "PARSED"
                  , qe = "ENDED"
                  , We = "ERROR"
                  , Ge = "WAITING_INIT_PTS"
                  , Ye = "WAITING_LEVEL"
                  , Ke = function(e) {
                    var t, n;
                    function r(t, n, r) {
                        var i;
                        return (i = e.call(this) || this).hls = void 0,
                        i.fragPrevious = null,
                        i.fragCurrent = null,
                        i.fragmentTracker = void 0,
                        i.transmuxer = null,
                        i._state = xe,
                        i.media = null,
                        i.mediaBuffer = null,
                        i.config = void 0,
                        i.bitrateTest = !1,
                        i.lastCurrentTime = 0,
                        i.nextLoadPosition = 0,
                        i.startPosition = 0,
                        i.loadedmetadata = !1,
                        i.fragLoadError = 0,
                        i.retryDate = 0,
                        i.levels = null,
                        i.fragmentLoader = void 0,
                        i.levelLastLoaded = null,
                        i.startFragRequested = !1,
                        i.decrypter = void 0,
                        i.initPTS = [],
                        i.onvseeking = null,
                        i.onvended = null,
                        i.logPrefix = "",
                        i.log = void 0,
                        i.warn = void 0,
                        i.logPrefix = r,
                        i.log = u.b.log.bind(u.b, r + ":"),
                        i.warn = u.b.warn.bind(u.b, r + ":"),
                        i.hls = t,
                        i.fragmentLoader = new Ae(t.config),
                        i.fragmentTracker = n,
                        i.config = t.config,
                        i.decrypter = new De.a(t,t.config),
                        t.on(a.a.KEY_LOADED, i.onKeyLoaded, ke(i)),
                        t.on(a.a.LEVEL_SWITCHING, i.onLevelSwitching, ke(i)),
                        i
                    }
                    n = e,
                    (t = r).prototype = Object.create(n.prototype),
                    t.prototype.constructor = t,
                    Ne(t, n);
                    var i, l, f = r.prototype;
                    return f.doTick = function() {
                        this.onTickEnd()
                    }
                    ,
                    f.onTickEnd = function() {}
                    ,
                    f.startLoad = function(e) {}
                    ,
                    f.stopLoad = function() {
                        this.fragmentLoader.abort();
                        var e = this.fragCurrent;
                        e && this.fragmentTracker.removeFragment(e),
                        this.resetTransmuxer(),
                        this.fragCurrent = null,
                        this.fragPrevious = null,
                        this.clearInterval(),
                        this.clearNextTick(),
                        this.state = xe
                    }
                    ,
                    f._streamEnded = function(e, t) {
                        var n = this.fragCurrent
                          , r = this.fragmentTracker;
                        if (!t.live && n && this.media && n.sn >= t.endSN && !e.nextStart) {
                            var i = t.partList;
                            if (null != i && i.length) {
                                var o = i[i.length - 1];
                                return de.isBuffered(this.media, o.start + o.duration / 2)
                            }
                            var a = r.getState(n);
                            return a === ie.PARTIAL || a === ie.OK
                        }
                        return !1
                    }
                    ,
                    f.onMediaAttached = function(e, t) {
                        var n = this.media = this.mediaBuffer = t.media;
                        this.onvseeking = this.onMediaSeeking.bind(this),
                        this.onvended = this.onMediaEnded.bind(this),
                        n.addEventListener("seeking", this.onvseeking),
                        n.addEventListener("ended", this.onvended);
                        var r = this.config;
                        this.levels && r.autoStartLoad && this.state === xe && this.startLoad(r.startPosition)
                    }
                    ,
                    f.onMediaDetaching = function() {
                        var e = this.media;
                        null != e && e.ended && (this.log("MSE detaching and video ended, reset startPosition"),
                        this.startPosition = this.lastCurrentTime = 0),
                        e && this.onvseeking && this.onvended && (e.removeEventListener("seeking", this.onvseeking),
                        e.removeEventListener("ended", this.onvended),
                        this.onvseeking = this.onvended = null),
                        this.media = this.mediaBuffer = null,
                        this.loadedmetadata = !1,
                        this.fragmentTracker.removeAllFragments(),
                        this.stopLoad()
                    }
                    ,
                    f.onMediaSeeking = function() {
                        var e = this.config
                          , t = this.fragCurrent
                          , n = this.media
                          , r = this.mediaBuffer
                          , i = this.state
                          , a = n ? n.currentTime : 0
                          , s = de.bufferInfo(r || n, a, e.maxBufferHole);
                        if (this.log("media seeking to " + (Object(o.a)(a) ? a.toFixed(3) : a) + ", state: " + i),
                        i === qe)
                            this.resetLoadingState();
                        else if (t && !s.len) {
                            var u = e.maxFragLookUpTolerance
                              , c = t.start - u
                              , l = a > t.start + t.duration + u;
                            (a < c || l) && (l && t.loader && (this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),
                            t.loader.abort()),
                            this.resetLoadingState())
                        }
                        n && (this.lastCurrentTime = a),
                        this.loadedmetadata || s.len || (this.nextLoadPosition = this.startPosition = a),
                        this.tickImmediate()
                    }
                    ,
                    f.onMediaEnded = function() {
                        this.startPosition = this.lastCurrentTime = 0
                    }
                    ,
                    f.onKeyLoaded = function(e, t) {
                        if (this.state === Fe && t.frag === this.fragCurrent && this.levels) {
                            this.state = Me;
                            var n = this.levels[t.frag.level].details;
                            n && this.loadFragment(t.frag, n, t.frag.start)
                        }
                    }
                    ,
                    f.onLevelSwitching = function(e, t) {
                        this.fragLoadError = 0
                    }
                    ,
                    f.onHandlerDestroying = function() {
                        this.stopLoad(),
                        e.prototype.onHandlerDestroying.call(this)
                    }
                    ,
                    f.onHandlerDestroyed = function() {
                        this.state = xe,
                        this.hls.off(a.a.KEY_LOADED, this.onKeyLoaded, this),
                        this.hls.off(a.a.LEVEL_SWITCHING, this.onLevelSwitching, this),
                        this.fragmentLoader && this.fragmentLoader.destroy(),
                        this.decrypter && this.decrypter.destroy(),
                        this.hls = this.log = this.warn = this.decrypter = this.fragmentLoader = this.fragmentTracker = null,
                        e.prototype.onHandlerDestroyed.call(this)
                    }
                    ,
                    f.loadKey = function(e, t) {
                        this.log("Loading key for " + e.sn + " of [" + t.startSN + "-" + t.endSN + "], " + ("[stream-controller]" === this.logPrefix ? "level" : "track") + " " + e.level),
                        this.state = Fe,
                        this.fragCurrent = e,
                        this.hls.trigger(a.a.KEY_LOADING, {
                            frag: e
                        })
                    }
                    ,
                    f.loadFragment = function(e, t, n) {
                        this._loadFragForPlayback(e, t, n)
                    }
                    ,
                    f._loadFragForPlayback = function(e, t, n) {
                        var r = this;
                        this._doFragLoad(e, t, n, (function(t) {
                            if (r.fragContextChanged(e))
                                return r.warn("Fragment " + e.sn + (t.part ? " p: " + t.part.index : "") + " of level " + e.level + " was dropped during download."),
                                void r.fragmentTracker.removeFragment(e);
                            e.stats.chunkCount++,
                            r._handleFragmentLoadProgress(t)
                        }
                        )).then((function(t) {
                            if (t) {
                                r.fragLoadError = 0;
                                var n = r.state;
                                r.fragContextChanged(e) ? (n === Ue || !r.fragCurrent && n === Ve) && (r.fragmentTracker.removeFragment(e),
                                r.state = Me) : ("payload"in t && (r.log("Loaded fragment " + e.sn + " of level " + e.level),
                                r.hls.trigger(a.a.FRAG_LOADED, t)),
                                r._handleFragmentLoadComplete(t))
                            }
                        }
                        )).catch((function(t) {
                            r.state !== xe && r.state !== We && (r.warn(t),
                            r.resetFragmentLoading(e))
                        }
                        ))
                    }
                    ,
                    f.flushMainBuffer = function(e, t, n) {
                        if (void 0 === n && (n = null),
                        e - t) {
                            var r = {
                                startOffset: e,
                                endOffset: t,
                                type: n
                            };
                            this.fragLoadError = 0,
                            this.hls.trigger(a.a.BUFFER_FLUSHING, r)
                        }
                    }
                    ,
                    f._loadInitSegment = function(e) {
                        var t = this;
                        this._doFragLoad(e).then((function(n) {
                            if (!n || t.fragContextChanged(e) || !t.levels)
                                throw new Error("init load aborted");
                            return n
                        }
                        )).then((function(n) {
                            var r = t.hls
                              , i = n.payload
                              , o = e.decryptdata;
                            if (i && i.byteLength > 0 && o && o.key && o.iv && "AES-128" === o.method) {
                                var s = self.performance.now();
                                return t.decrypter.webCryptoDecrypt(new Uint8Array(i), o.key.buffer, o.iv.buffer).then((function(t) {
                                    var i = self.performance.now();
                                    return r.trigger(a.a.FRAG_DECRYPTED, {
                                        frag: e,
                                        payload: t,
                                        stats: {
                                            tstart: s,
                                            tdecrypt: i
                                        }
                                    }),
                                    n.payload = t,
                                    n
                                }
                                ))
                            }
                            return n
                        }
                        )).then((function(n) {
                            var r = t.fragCurrent
                              , i = t.hls
                              , o = t.levels;
                            if (!o)
                                throw new Error("init load aborted, missing levels");
                            o[e.level].details;
                            var s = e.stats;
                            t.state = Me,
                            t.fragLoadError = 0,
                            e.data = new Uint8Array(n.payload),
                            s.parsing.start = s.buffering.start = self.performance.now(),
                            s.parsing.end = s.buffering.end = self.performance.now(),
                            n.frag === r && i.trigger(a.a.FRAG_BUFFERED, {
                                stats: s,
                                frag: r,
                                part: null,
                                id: e.type
                            }),
                            t.tick()
                        }
                        )).catch((function(n) {
                            t.state !== xe && t.state !== We && (t.warn(n),
                            t.resetFragmentLoading(e))
                        }
                        ))
                    }
                    ,
                    f.fragContextChanged = function(e) {
                        var t = this.fragCurrent;
                        return !e || !t || e.level !== t.level || e.sn !== t.sn || e.urlId !== t.urlId
                    }
                    ,
                    f.fragBufferedComplete = function(e, t) {
                        var n = this.mediaBuffer ? this.mediaBuffer : this.media;
                        this.log("Buffered " + e.type + " sn: " + e.sn + (t ? " part: " + t.index : "") + " of " + ("[stream-controller]" === this.logPrefix ? "level" : "track") + " " + e.level + " " + (n ? function(e) {
                            for (var t = "", n = e.length, r = 0; r < n; r++)
                                t += "[" + e.start(r).toFixed(3) + "," + e.end(r).toFixed(3) + "]";
                            return t
                        }(de.getBuffered(n)) : "(detached)")),
                        this.state = Me,
                        n && (!this.loadedmetadata && n.buffered.length && this.fragCurrent === this.fragPrevious && (this.loadedmetadata = !0,
                        this.seekToStartPos()),
                        this.tick())
                    }
                    ,
                    f.seekToStartPos = function() {}
                    ,
                    f._handleFragmentLoadComplete = function(e) {
                        var t = this.transmuxer;
                        if (t) {
                            var n = e.frag
                              , r = e.part
                              , i = e.partsLoaded
                              , o = !i || 0 === i.length || i.some((function(e) {
                                return !e
                            }
                            ))
                              , a = new he(n.level,n.sn,n.stats.chunkCount + 1,0,r ? r.index : -1,!o);
                            t.flush(a)
                        }
                    }
                    ,
                    f._handleFragmentLoadProgress = function(e) {}
                    ,
                    f._doFragLoad = function(e, t, n, r) {
                        var i = this;
                        if (void 0 === n && (n = null),
                        !this.levels)
                            throw new Error("frag load aborted, missing levels");
                        if (n = Math.max(e.start, n || 0),
                        this.config.lowLatencyMode && t) {
                            var s = t.partList;
                            if (s && r) {
                                n > e.end && t.fragmentHint && (e = t.fragmentHint);
                                var u = this.getNextPart(s, e, n);
                                if (u > -1) {
                                    var c = s[u];
                                    return this.log("Loading part sn: " + e.sn + " p: " + c.index + " cc: " + e.cc + " of playlist [" + t.startSN + "-" + t.endSN + "] parts [0-" + u + "-" + (s.length - 1) + "] " + ("[stream-controller]" === this.logPrefix ? "level" : "track") + ": " + e.level + ", target: " + parseFloat(n.toFixed(3))),
                                    this.nextLoadPosition = c.start + c.duration,
                                    this.state = Ue,
                                    this.hls.trigger(a.a.FRAG_LOADING, {
                                        frag: e,
                                        part: s[u],
                                        targetBufferTime: n
                                    }),
                                    this.doFragPartsLoad(e, s, u, r).catch((function(e) {
                                        return i.handleFragLoadError(e)
                                    }
                                    ))
                                }
                                if (!e.url || this.loadedEndOfParts(s, n))
                                    return Promise.resolve(null)
                            }
                        }
                        return this.log("Loading fragment " + e.sn + " cc: " + e.cc + " " + (t ? "of [" + t.startSN + "-" + t.endSN + "] " : "") + ("[stream-controller]" === this.logPrefix ? "level" : "track") + ": " + e.level + ", target: " + parseFloat(n.toFixed(3))),
                        Object(o.a)(e.sn) && !this.bitrateTest && (this.nextLoadPosition = e.start + e.duration),
                        this.state = Ue,
                        this.hls.trigger(a.a.FRAG_LOADING, {
                            frag: e,
                            targetBufferTime: n
                        }),
                        this.fragmentLoader.load(e, r).catch((function(e) {
                            return i.handleFragLoadError(e)
                        }
                        ))
                    }
                    ,
                    f.doFragPartsLoad = function(e, t, n, r) {
                        var i = this;
                        return new Promise((function(o, s) {
                            var u = [];
                            !function n(c) {
                                var l = t[c];
                                i.fragmentLoader.loadPart(e, l, r).then((function(r) {
                                    u[l.index] = r;
                                    var s = r.part;
                                    i.hls.trigger(a.a.FRAG_LOADED, r);
                                    var f = t[c + 1];
                                    if (!f || f.fragment !== e)
                                        return o({
                                            frag: e,
                                            part: s,
                                            partsLoaded: u
                                        });
                                    n(c + 1)
                                }
                                )).catch(s)
                            }(n)
                        }
                        ))
                    }
                    ,
                    f.handleFragLoadError = function(e) {
                        var t = e.data;
                        return t && t.details === s.a.INTERNAL_ABORTED ? this.handleFragLoadAborted(t.frag, t.part) : this.hls.trigger(a.a.ERROR, t),
                        null
                    }
                    ,
                    f._handleTransmuxerFlush = function(e) {
                        var t = this.getCurrentContext(e);
                        if (t && this.state === Ve) {
                            var n = t.frag
                              , r = t.part
                              , i = t.level
                              , o = self.performance.now();
                            n.stats.parsing.end = o,
                            r && (r.stats.parsing.end = o),
                            this.updateLevelTiming(n, r, i, e.partial)
                        } else
                            this.fragCurrent || (this.state = Me)
                    }
                    ,
                    f.getCurrentContext = function(e) {
                        var t = this.levels
                          , n = e.level
                          , r = e.sn
                          , i = e.part;
                        if (!t || !t[n])
                            return this.warn("Levels object was unset while buffering fragment " + r + " of level " + n + ". The current chunk will not be buffered."),
                            null;
                        var o = t[n]
                          , a = i > -1 ? function(e, t, n) {
                            if (!e || !e.details)
                                return null;
                            var r = e.details.partList;
                            if (r)
                                for (var i = r.length; i--; ) {
                                    var o = r[i];
                                    if (o.index === n && o.fragment.sn === t)
                                        return o
                                }
                            return null
                        }(o, r, i) : null
                          , s = a ? a.fragment : function(e, t, n) {
                            if (!e || !e.details)
                                return null;
                            var r = e.details
                              , i = r.fragments[t - r.startSN];
                            return i || ((i = r.fragmentHint) && i.sn === t ? i : t < r.startSN && n && n.sn === t ? n : null)
                        }(o, r, this.fragCurrent);
                        return s ? {
                            frag: s,
                            part: a,
                            level: o
                        } : null
                    }
                    ,
                    f.bufferFragmentData = function(e, t, n, r) {
                        if (e && this.state === Ve) {
                            var i = e.data1
                              , o = e.data2
                              , s = i;
                            if (i && o && (s = Object(c.b)(i, o)),
                            s && s.length) {
                                var u = {
                                    type: e.type,
                                    frag: t,
                                    part: n,
                                    chunkMeta: r,
                                    parent: t.type,
                                    data: s
                                };
                                this.hls.trigger(a.a.BUFFER_APPENDING, u),
                                e.dropped && e.independent && !n && this.flushBufferGap(t)
                            }
                        }
                    }
                    ,
                    f.flushBufferGap = function(e) {
                        var t = this.media;
                        if (t)
                            if (de.isBuffered(t, t.currentTime)) {
                                var n = t.currentTime
                                  , r = de.bufferInfo(t, n, 0)
                                  , i = e.duration
                                  , o = Math.min(2 * this.config.maxFragLookUpTolerance, .25 * i)
                                  , a = Math.max(Math.min(e.start - o, r.end - o), n + o);
                                e.start - a > o && this.flushMainBuffer(a, e.start)
                            } else
                                this.flushMainBuffer(0, e.start)
                    }
                    ,
                    f.getFwdBufferInfo = function(e, t) {
                        var n = this.config
                          , r = this.getLoadPosition();
                        if (!Object(o.a)(r))
                            return null;
                        var i = de.bufferInfo(e, r, n.maxBufferHole);
                        if (0 === i.len && void 0 !== i.nextStart) {
                            var a = this.fragmentTracker.getBufferedFrag(r, t);
                            if (a && i.nextStart < a.end)
                                return de.bufferInfo(e, r, Math.max(i.nextStart, n.maxBufferHole))
                        }
                        return i
                    }
                    ,
                    f.getMaxBufferLength = function(e) {
                        var t, n = this.config;
                        return t = e ? Math.max(8 * n.maxBufferSize / e, n.maxBufferLength) : n.maxBufferLength,
                        Math.min(t, n.maxMaxBufferLength)
                    }
                    ,
                    f.reduceMaxBufferLength = function(e) {
                        var t = this.config
                          , n = e || t.maxBufferLength;
                        return t.maxMaxBufferLength >= n && (t.maxMaxBufferLength /= 2,
                        this.warn("Reduce max buffer length to " + t.maxMaxBufferLength + "s"),
                        !0)
                    }
                    ,
                    f.getNextFragment = function(e, t) {
                        var n = t.fragments
                          , r = n.length;
                        if (!r)
                            return null;
                        var i, o = this.config, a = n[0].start;
                        if (t.live) {
                            var s = o.initialLiveManifestSize;
                            if (r < s)
                                return this.warn("Not enough fragments to start playback (have: " + r + ", need: " + s + ")"),
                                null;
                            t.PTSKnown || this.startFragRequested || -1 !== this.startPosition || (i = this.getInitialLiveFragment(t, n),
                            this.startPosition = i ? this.hls.liveSyncPosition || i.start : e)
                        } else
                            e <= a && (i = n[0]);
                        if (!i) {
                            var u = o.lowLatencyMode ? t.partEnd : t.fragmentEnd;
                            i = this.getFragmentAtPosition(e, u, t)
                        }
                        return this.mapToInitFragWhenRequired(i)
                    }
                    ,
                    f.mapToInitFragWhenRequired = function(e) {
                        return null == e || !e.initSegment || null != e && e.initSegment.data || this.bitrateTest ? e : e.initSegment
                    }
                    ,
                    f.getNextPart = function(e, t, n) {
                        for (var r = -1, i = !1, o = !0, a = 0, s = e.length; a < s; a++) {
                            var u = e[a];
                            if (o = o && !u.independent,
                            r > -1 && n < u.start)
                                break;
                            var c = u.loaded;
                            !c && (i || u.independent || o) && u.fragment === t && (r = a),
                            i = c
                        }
                        return r
                    }
                    ,
                    f.loadedEndOfParts = function(e, t) {
                        var n = e[e.length - 1];
                        return n && t > n.start && n.loaded
                    }
                    ,
                    f.getInitialLiveFragment = function(e, t) {
                        var n = this.fragPrevious
                          , r = null;
                        if (n) {
                            if (e.hasProgramDateTime && (this.log("Live playlist, switching playlist, load frag with same PDT: " + n.programDateTime),
                            r = function(e, t, n) {
                                if (null === t || !Array.isArray(e) || !e.length || !Object(o.a)(t))
                                    return null;
                                if (t < (e[0].programDateTime || 0))
                                    return null;
                                if (t >= (e[e.length - 1].endProgramDateTime || 0))
                                    return null;
                                n = n || 0;
                                for (var r = 0; r < e.length; ++r) {
                                    var i = e[r];
                                    if (_e(t, n, i))
                                        return i
                                }
                                return null
                            }(t, n.endProgramDateTime, this.config.maxFragLookUpTolerance)),
                            !r) {
                                var i = n.sn + 1;
                                if (i >= e.startSN && i <= e.endSN) {
                                    var a = t[i - e.startSN];
                                    n.cc === a.cc && (r = a,
                                    this.log("Live playlist, switching playlist, load frag with next SN: " + r.sn))
                                }
                                r || (r = function(e, t) {
                                    return Ee(e, (function(e) {
                                        return e.cc < t ? 1 : e.cc > t ? -1 : 0
                                    }
                                    ))
                                }(t, n.cc)) && this.log("Live playlist, switching playlist, load frag with same CC: " + r.sn)
                            }
                        } else {
                            var s = this.hls.liveSyncPosition;
                            null !== s && (r = this.getFragmentAtPosition(s, this.bitrateTest ? e.fragmentEnd : e.edge, e))
                        }
                        return r
                    }
                    ,
                    f.getFragmentAtPosition = function(e, t, n) {
                        var r, i = this.config, o = this.fragPrevious, a = n.fragments, s = n.endSN, u = n.fragmentHint, c = i.maxFragLookUpTolerance, l = !!(i.lowLatencyMode && n.partList && u);
                        if (l && u && !this.bitrateTest && (a = a.concat(u),
                        s = u.sn),
                        r = e < t ? Te(o, a, e, e > t - c ? 0 : c) : a[a.length - 1]) {
                            var f = r.sn - n.startSN;
                            if (o && r.sn === o.sn && !l && o && r.level === o.level) {
                                var d = a[f + 1];
                                r.sn < s && this.fragmentTracker.getState(d) !== ie.OK ? (this.log("SN " + r.sn + " just loaded, load next one: " + d.sn),
                                r = d) : r = null
                            }
                        }
                        return r
                    }
                    ,
                    f.synchronizeToLiveEdge = function(e) {
                        var t = this.config
                          , n = this.media;
                        if (n) {
                            var r = this.hls.liveSyncPosition
                              , i = n.currentTime
                              , o = e.fragments[0].start
                              , a = e.edge
                              , s = i >= o - t.maxFragLookUpTolerance && i <= a;
                            if (null !== r && n.duration > r && (i < r || !s)) {
                                var u = void 0 !== t.liveMaxLatencyDuration ? t.liveMaxLatencyDuration : t.liveMaxLatencyDurationCount * e.targetduration;
                                (!s && n.readyState < 4 || i < a - u) && (this.loadedmetadata || (this.nextLoadPosition = r),
                                n.readyState && (this.warn("Playback: " + i.toFixed(3) + " is located too far from the end of live sliding playlist: " + a + ", reset currentTime to : " + r.toFixed(3)),
                                n.currentTime = r))
                            }
                        }
                    }
                    ,
                    f.alignPlaylists = function(e, t) {
                        var n = this.levels
                          , r = this.levelLastLoaded
                          , i = this.fragPrevious
                          , a = null !== r ? n[r] : null
                          , s = e.fragments.length;
                        if (!s)
                            return this.warn("No fragments in live playlist"),
                            0;
                        var u = e.fragments[0].start
                          , c = !t
                          , l = e.alignedSliding && Object(o.a)(u);
                        if (c || !l && !u) {
                            me(i, a, e);
                            var f = e.fragments[0].start;
                            return this.log("Live playlist sliding: " + f.toFixed(2) + " start-sn: " + (t ? t.startSN : "na") + "->" + e.startSN + " prev-sn: " + (i ? i.sn : "na") + " fragments: " + s),
                            f
                        }
                        return u
                    }
                    ,
                    f.waitForCdnTuneIn = function(e) {
                        return e.live && e.canBlockReload && e.partTarget && e.tuneInGoal > Math.max(e.partHoldBack, 3 * e.partTarget)
                    }
                    ,
                    f.setStartPosition = function(e, t) {
                        var n = this.startPosition;
                        if (n < t && (n = -1),
                        -1 === n || -1 === this.lastCurrentTime) {
                            var r = e.startTimeOffset;
                            Object(o.a)(r) ? (n = t + r,
                            r < 0 && (n += e.totalduration),
                            n = Math.min(Math.max(t, n), t + e.totalduration),
                            this.log("Start time offset " + r + " found in playlist, adjust startPosition to " + n),
                            this.startPosition = n) : e.live ? n = this.hls.liveSyncPosition || t : this.startPosition = n = 0,
                            this.lastCurrentTime = n
                        }
                        this.nextLoadPosition = n
                    }
                    ,
                    f.getLoadPosition = function() {
                        var e = this.media
                          , t = 0;
                        return this.loadedmetadata && e ? t = e.currentTime : this.nextLoadPosition && (t = this.nextLoadPosition),
                        t
                    }
                    ,
                    f.handleFragLoadAborted = function(e, t) {
                        this.transmuxer && "initSegment" !== e.sn && e.stats.aborted && (this.warn("Fragment " + e.sn + (t ? " part" + t.index : "") + " of level " + e.level + " was aborted"),
                        this.resetFragmentLoading(e))
                    }
                    ,
                    f.resetFragmentLoading = function(e) {
                        this.fragCurrent && (this.fragContextChanged(e) || this.state === Be) || (this.state = Me)
                    }
                    ,
                    f.onFragmentOrKeyLoadError = function(e, t) {
                        if (!t.fatal) {
                            var n = t.frag;
                            if (n && n.type === e) {
                                this.fragCurrent;
                                var r = this.config;
                                if (this.fragLoadError + 1 <= r.fragLoadingMaxRetry) {
                                    this.loadedmetadata || (this.startFragRequested = !1,
                                    this.nextLoadPosition = this.startPosition);
                                    var i = Math.min(Math.pow(2, this.fragLoadError) * r.fragLoadingRetryDelay, r.fragLoadingMaxRetryTimeout);
                                    this.warn("Fragment " + n.sn + " of " + e + " " + n.level + " failed to load, retrying in " + i + "ms"),
                                    this.retryDate = self.performance.now() + i,
                                    this.fragLoadError++,
                                    this.state = Be
                                } else
                                    t.levelRetry ? (e === P.b.AUDIO && (this.fragCurrent = null),
                                    this.fragLoadError = 0,
                                    this.state = Me) : (u.b.error(t.details + " reaches max retry, redispatch as fatal ..."),
                                    t.fatal = !0,
                                    this.hls.stopLoad(),
                                    this.state = We)
                            }
                        }
                    }
                    ,
                    f.afterBufferFlushed = function(e, t, n) {
                        if (e) {
                            var r = de.getBuffered(e);
                            this.fragmentTracker.detectEvictedFragments(t, r, n),
                            this.state === qe && this.resetLoadingState()
                        }
                    }
                    ,
                    f.resetLoadingState = function() {
                        this.fragCurrent = null,
                        this.fragPrevious = null,
                        this.state = Me
                    }
                    ,
                    f.resetStartWhenNotLoaded = function(e) {
                        if (!this.loadedmetadata) {
                            this.startFragRequested = !1;
                            var t = this.levels ? this.levels[e].details : null;
                            null != t && t.live ? (this.startPosition = -1,
                            this.setStartPosition(t, 0),
                            this.resetLoadingState()) : this.nextLoadPosition = this.startPosition
                        }
                    }
                    ,
                    f.updateLevelTiming = function(e, t, n, r) {
                        var i = this
                          , o = n.details;
                        Object.keys(e.elementaryStreams).reduce((function(t, s) {
                            var u = e.elementaryStreams[s];
                            if (u) {
                                var c = u.endPTS - u.startPTS;
                                if (c <= 0)
                                    return i.warn("Could not parse fragment " + e.sn + " " + s + " duration reliably (" + c + ")"),
                                    t || !1;
                                var l = r ? 0 : X(o, e, u.startPTS, u.endPTS, u.startDTS, u.endDTS);
                                return i.hls.trigger(a.a.LEVEL_PTS_UPDATED, {
                                    details: o,
                                    level: n,
                                    drift: l,
                                    type: s,
                                    frag: e,
                                    start: u.startPTS,
                                    end: u.endPTS
                                }),
                                !0
                            }
                            return t
                        }
                        ), !1) || (this.warn("Found no media in fragment " + e.sn + " of level " + n.id + " resetting transmuxer to fallback to playlist timing"),
                        this.resetTransmuxer()),
                        this.state = He,
                        this.hls.trigger(a.a.FRAG_PARSED, {
                            frag: e,
                            part: t
                        })
                    }
                    ,
                    f.resetTransmuxer = function() {
                        this.transmuxer && (this.transmuxer.destroy(),
                        this.transmuxer = null)
                    }
                    ,
                    i = r,
                    (l = [{
                        key: "state",
                        get: function() {
                            return this._state
                        },
                        set: function(e) {
                            var t = this._state;
                            t !== e && (this._state = e,
                            this.log(t + "->" + e))
                        }
                    }]) && function(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }(i.prototype, l),
                    Object.defineProperty(i, "prototype", {
                        writable: !1
                    }),
                    r
                }(le);
                function ze() {
                    return self.MediaSource || self.WebKitMediaSource
                }
                function Qe() {
                    return self.SourceBuffer || self.WebKitSourceBuffer
                }
                var Je = n(18)
                  , Xe = n(10)
                  , Ze = n(15)
                  , $e = ze() || {
                    isTypeSupported: function() {
                        return !1
                    }
                }
                  , et = function() {
                    function e(e, t, n, r) {
                        var i = this;
                        this.hls = void 0,
                        this.id = void 0,
                        this.observer = void 0,
                        this.frag = null,
                        this.part = null,
                        this.worker = void 0,
                        this.onwmsg = void 0,
                        this.transmuxer = null,
                        this.onTransmuxComplete = void 0,
                        this.onFlush = void 0,
                        this.hls = e,
                        this.id = t,
                        this.onTransmuxComplete = n,
                        this.onFlush = r;
                        var o = e.config
                          , c = function(t, n) {
                            (n = n || {}).frag = i.frag,
                            n.id = i.id,
                            e.trigger(t, n)
                        };
                        this.observer = new Ze.EventEmitter,
                        this.observer.on(a.a.FRAG_DECRYPTED, c),
                        this.observer.on(a.a.ERROR, c);
                        var l = {
                            mp4: $e.isTypeSupported("video/mp4"),
                            mpeg: $e.isTypeSupported("audio/mpeg"),
                            mp3: $e.isTypeSupported('audio/mp4; codecs="mp3"')
                        }
                          , f = navigator.vendor;
                        if (o.enableWorker && "undefined" != typeof Worker) {
                            var d;
                            u.b.log("demuxing in webworker");
                            try {
                                d = this.worker = Je(19),
                                this.onwmsg = this.onWorkerMessage.bind(this),
                                d.addEventListener("message", this.onwmsg),
                                d.onerror = function(t) {
                                    e.trigger(a.a.ERROR, {
                                        type: s.b.OTHER_ERROR,
                                        details: s.a.INTERNAL_EXCEPTION,
                                        fatal: !0,
                                        event: "demuxerWorker",
                                        error: new Error(t.message + "  (" + t.filename + ":" + t.lineno + ")")
                                    })
                                }
                                ,
                                d.postMessage({
                                    cmd: "init",
                                    typeSupported: l,
                                    vendor: f,
                                    id: t,
                                    config: JSON.stringify(o)
                                })
                            } catch (e) {
                                u.b.warn("Error in worker:", e),
                                u.b.error("Error while initializing DemuxerWorker, fallback to inline"),
                                d && self.URL.revokeObjectURL(d.objectURL),
                                this.transmuxer = new Xe.c(this.observer,l,o,f,t),
                                this.worker = null
                            }
                        } else
                            this.transmuxer = new Xe.c(this.observer,l,o,f,t)
                    }
                    var t = e.prototype;
                    return t.destroy = function() {
                        var e = this.worker;
                        if (e)
                            e.removeEventListener("message", this.onwmsg),
                            e.terminate(),
                            this.worker = null,
                            this.onwmsg = void 0;
                        else {
                            var t = this.transmuxer;
                            t && (t.destroy(),
                            this.transmuxer = null)
                        }
                        var n = this.observer;
                        n && n.removeAllListeners(),
                        this.frag = null,
                        this.observer = null,
                        this.hls = null
                    }
                    ,
                    t.push = function(e, t, n, r, i, o, a, s, c, l) {
                        var f, d, h = this;
                        c.transmuxing.start = self.performance.now();
                        var p = this.transmuxer
                          , v = this.worker
                          , m = o ? o.start : i.start
                          , g = i.decryptdata
                          , y = this.frag
                          , E = !(y && i.cc === y.cc)
                          , T = !(y && c.level === y.level)
                          , b = y ? c.sn - y.sn : -1
                          , _ = this.part ? c.part - this.part.index : -1
                          , S = 0 === b && c.id > 1 && c.id === (null == y ? void 0 : y.stats.chunkCount)
                          , R = !T && (1 === b || 0 === b && (1 === _ || S && _ <= 0))
                          , w = self.performance.now();
                        (T || b || 0 === i.stats.parsing.start) && (i.stats.parsing.start = w),
                        !o || !_ && R || (o.stats.parsing.start = w);
                        var C = !(y && (null === (f = i.initSegment) || void 0 === f ? void 0 : f.url) === (null === (d = y.initSegment) || void 0 === d ? void 0 : d.url))
                          , O = new Xe.b(E,R,s,T,m,C);
                        if (!R || E || C) {
                            u.b.log("[transmuxer-interface, " + i.type + "]: Starting new transmux session for sn: " + c.sn + " p: " + c.part + " level: " + c.level + " id: " + c.id + "\n        discontinuity: " + E + "\n        trackSwitch: " + T + "\n        contiguous: " + R + "\n        accurateTimeOffset: " + s + "\n        timeOffset: " + m + "\n        initSegmentChange: " + C);
                            var L = new Xe.a(n,r,t,a,l);
                            this.configureTransmuxer(L)
                        }
                        if (this.frag = i,
                        this.part = o,
                        v)
                            v.postMessage({
                                cmd: "demux",
                                data: e,
                                decryptdata: g,
                                chunkMeta: c,
                                state: O
                            }, e instanceof ArrayBuffer ? [e] : []);
                        else if (p) {
                            var A = p.push(e, g, c, O);
                            Object(Xe.d)(A) ? A.then((function(e) {
                                h.handleTransmuxComplete(e)
                            }
                            )) : this.handleTransmuxComplete(A)
                        }
                    }
                    ,
                    t.flush = function(e) {
                        var t = this;
                        e.transmuxing.start = self.performance.now();
                        var n = this.transmuxer
                          , r = this.worker;
                        if (r)
                            r.postMessage({
                                cmd: "flush",
                                chunkMeta: e
                            });
                        else if (n) {
                            var i = n.flush(e);
                            Object(Xe.d)(i) ? i.then((function(n) {
                                t.handleFlushResult(n, e)
                            }
                            )) : this.handleFlushResult(i, e)
                        }
                    }
                    ,
                    t.handleFlushResult = function(e, t) {
                        var n = this;
                        e.forEach((function(e) {
                            n.handleTransmuxComplete(e)
                        }
                        )),
                        this.onFlush(t)
                    }
                    ,
                    t.onWorkerMessage = function(e) {
                        var t = e.data
                          , n = this.hls;
                        switch (t.event) {
                        case "init":
                            self.URL.revokeObjectURL(this.worker.objectURL);
                            break;
                        case "transmuxComplete":
                            this.handleTransmuxComplete(t.data);
                            break;
                        case "flush":
                            this.onFlush(t.data);
                            break;
                        case "workerLog":
                            u.b[t.data.logType] && u.b[t.data.logType](t.data.message);
                            break;
                        default:
                            t.data = t.data || {},
                            t.data.frag = this.frag,
                            t.data.id = this.id,
                            n.trigger(t.event, t.data)
                        }
                    }
                    ,
                    t.configureTransmuxer = function(e) {
                        var t = this.worker
                          , n = this.transmuxer;
                        t ? t.postMessage({
                            cmd: "configure",
                            config: e
                        }) : n && n.configure(e)
                    }
                    ,
                    t.handleTransmuxComplete = function(e) {
                        e.chunkMeta.transmuxing.end = self.performance.now(),
                        this.onTransmuxComplete(e)
                    }
                    ,
                    e
                }()
                  , tt = function() {
                    function e(e, t, n, r) {
                        this.config = void 0,
                        this.media = null,
                        this.fragmentTracker = void 0,
                        this.hls = void 0,
                        this.nudgeRetry = 0,
                        this.stallReported = !1,
                        this.stalled = null,
                        this.moved = !1,
                        this.seeking = !1,
                        this.config = e,
                        this.media = t,
                        this.fragmentTracker = n,
                        this.hls = r
                    }
                    var t = e.prototype;
                    return t.destroy = function() {
                        this.media = null,
                        this.hls = this.fragmentTracker = null
                    }
                    ,
                    t.poll = function(e, t) {
                        var n = this.config
                          , r = this.media
                          , i = this.stalled;
                        if (null !== r) {
                            var o = r.currentTime
                              , a = r.seeking
                              , s = this.seeking && !a
                              , c = !this.seeking && a;
                            if (this.seeking = a,
                            o === e) {
                                if ((c || s) && (this.stalled = null),
                                !(r.paused && !a || r.ended || 0 === r.playbackRate) && de.getBuffered(r).length) {
                                    var l = de.bufferInfo(r, o, 0)
                                      , f = l.len > 0
                                      , d = l.nextStart || 0;
                                    if (f || d) {
                                        if (a) {
                                            var h = l.len > 2
                                              , p = !d || t && t.start <= o || d - o > 2 && !this.fragmentTracker.getPartialFragment(o);
                                            if (h || p)
                                                return;
                                            this.moved = !1
                                        }
                                        if (!this.moved && null !== this.stalled) {
                                            var v, m = Math.max(d, l.start || 0) - o, g = this.hls.levels ? this.hls.levels[this.hls.currentLevel] : null, y = (null == g || null === (v = g.details) || void 0 === v ? void 0 : v.live) ? 2 * g.details.targetduration : 2;
                                            if (m > 0 && m <= y)
                                                return void this._trySkipBufferHole(null)
                                        }
                                        var E = self.performance.now();
                                        if (null !== i) {
                                            var T = E - i;
                                            if (a || !(T >= 250) || (this._reportStall(l),
                                            this.media)) {
                                                var b = de.bufferInfo(r, o, n.maxBufferHole);
                                                this._tryFixBufferStall(b, T)
                                            }
                                        } else
                                            this.stalled = E
                                    }
                                }
                            } else if (this.moved = !0,
                            null !== i) {
                                if (this.stallReported) {
                                    var _ = self.performance.now() - i;
                                    u.b.warn("playback not stuck anymore @" + o + ", after " + Math.round(_) + "ms"),
                                    this.stallReported = !1
                                }
                                this.stalled = null,
                                this.nudgeRetry = 0
                            }
                        }
                    }
                    ,
                    t._tryFixBufferStall = function(e, t) {
                        var n = this.config
                          , r = this.fragmentTracker
                          , i = this.media;
                        if (null !== i) {
                            var o = i.currentTime
                              , a = r.getPartialFragment(o);
                            if (a && (this._trySkipBufferHole(a) || !this.media))
                                return;
                            e.len > n.maxBufferHole && t > 1e3 * n.highBufferWatchdogPeriod && (u.b.warn("Trying to nudge playhead over buffer-hole"),
                            this.stalled = null,
                            this._tryNudgeBuffer())
                        }
                    }
                    ,
                    t._reportStall = function(e) {
                        var t = this.hls
                          , n = this.media;
                        !this.stallReported && n && (this.stallReported = !0,
                        u.b.warn("Playback stalling at @" + n.currentTime + " due to low buffer (" + JSON.stringify(e) + ")"),
                        t.trigger(a.a.ERROR, {
                            type: s.b.MEDIA_ERROR,
                            details: s.a.BUFFER_STALLED_ERROR,
                            fatal: !1,
                            buffer: e.len
                        }))
                    }
                    ,
                    t._trySkipBufferHole = function(e) {
                        var t = this.config
                          , n = this.hls
                          , r = this.media;
                        if (null === r)
                            return 0;
                        for (var i = r.currentTime, o = 0, c = de.getBuffered(r), l = 0; l < c.length; l++) {
                            var f = c.start(l);
                            if (i + t.maxBufferHole >= o && i < f) {
                                var d = Math.max(f + .05, r.currentTime + .1);
                                return u.b.warn("skipping hole, adjusting currentTime from " + i + " to " + d),
                                this.moved = !0,
                                this.stalled = null,
                                r.currentTime = d,
                                e && n.trigger(a.a.ERROR, {
                                    type: s.b.MEDIA_ERROR,
                                    details: s.a.BUFFER_SEEK_OVER_HOLE,
                                    fatal: !1,
                                    reason: "fragment loaded with buffer holes, seeking from " + i + " to " + d,
                                    frag: e
                                }),
                                d
                            }
                            o = c.end(l)
                        }
                        return 0
                    }
                    ,
                    t._tryNudgeBuffer = function() {
                        var e = this.config
                          , t = this.hls
                          , n = this.media
                          , r = this.nudgeRetry;
                        if (null !== n) {
                            var i = n.currentTime;
                            if (this.nudgeRetry++,
                            r < e.nudgeMaxRetry) {
                                var o = i + (r + 1) * e.nudgeOffset;
                                u.b.warn("Nudging 'currentTime' from " + i + " to " + o),
                                n.currentTime = o,
                                t.trigger(a.a.ERROR, {
                                    type: s.b.MEDIA_ERROR,
                                    details: s.a.BUFFER_NUDGE_ON_STALL,
                                    fatal: !1
                                })
                            } else
                                u.b.error("Playhead still not moving while enough data buffered @" + i + " after " + e.nudgeMaxRetry + " nudges"),
                                t.trigger(a.a.ERROR, {
                                    type: s.b.MEDIA_ERROR,
                                    details: s.a.BUFFER_STALLED_ERROR,
                                    fatal: !0
                                })
                        }
                    }
                    ,
                    e
                }();
                function nt(e, t) {
                    return (nt = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                        return e.__proto__ = t,
                        e
                    }
                    )(e, t)
                }
                var rt = function(e) {
                    var t, n;
                    function r(t, n) {
                        var r;
                        return (r = e.call(this, t, n, "[stream-controller]") || this).audioCodecSwap = !1,
                        r.gapController = null,
                        r.level = -1,
                        r._forceStartLoad = !1,
                        r.altAudio = !1,
                        r.audioOnly = !1,
                        r.fragPlaying = null,
                        r.onvplaying = null,
                        r.onvseeked = null,
                        r.fragLastKbps = 0,
                        r.couldBacktrack = !1,
                        r.backtrackFragment = null,
                        r.audioCodecSwitch = !1,
                        r.videoBuffer = null,
                        r._registerListeners(),
                        r
                    }
                    n = e,
                    (t = r).prototype = Object.create(n.prototype),
                    t.prototype.constructor = t,
                    nt(t, n);
                    var i, u, c = r.prototype;
                    return c._registerListeners = function() {
                        var e = this.hls;
                        e.on(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        e.on(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        e.on(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.on(a.a.MANIFEST_PARSED, this.onManifestParsed, this),
                        e.on(a.a.LEVEL_LOADING, this.onLevelLoading, this),
                        e.on(a.a.LEVEL_LOADED, this.onLevelLoaded, this),
                        e.on(a.a.FRAG_LOAD_EMERGENCY_ABORTED, this.onFragLoadEmergencyAborted, this),
                        e.on(a.a.ERROR, this.onError, this),
                        e.on(a.a.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this),
                        e.on(a.a.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this),
                        e.on(a.a.BUFFER_CREATED, this.onBufferCreated, this),
                        e.on(a.a.BUFFER_FLUSHED, this.onBufferFlushed, this),
                        e.on(a.a.LEVELS_UPDATED, this.onLevelsUpdated, this),
                        e.on(a.a.FRAG_BUFFERED, this.onFragBuffered, this)
                    }
                    ,
                    c._unregisterListeners = function() {
                        var e = this.hls;
                        e.off(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        e.off(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        e.off(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.off(a.a.MANIFEST_PARSED, this.onManifestParsed, this),
                        e.off(a.a.LEVEL_LOADED, this.onLevelLoaded, this),
                        e.off(a.a.FRAG_LOAD_EMERGENCY_ABORTED, this.onFragLoadEmergencyAborted, this),
                        e.off(a.a.ERROR, this.onError, this),
                        e.off(a.a.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this),
                        e.off(a.a.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this),
                        e.off(a.a.BUFFER_CREATED, this.onBufferCreated, this),
                        e.off(a.a.BUFFER_FLUSHED, this.onBufferFlushed, this),
                        e.off(a.a.LEVELS_UPDATED, this.onLevelsUpdated, this),
                        e.off(a.a.FRAG_BUFFERED, this.onFragBuffered, this)
                    }
                    ,
                    c.onHandlerDestroying = function() {
                        this._unregisterListeners(),
                        this.onMediaDetaching()
                    }
                    ,
                    c.startLoad = function(e) {
                        if (this.levels) {
                            var t = this.lastCurrentTime
                              , n = this.hls;
                            if (this.stopLoad(),
                            this.setInterval(100),
                            this.level = -1,
                            this.fragLoadError = 0,
                            !this.startFragRequested) {
                                var r = n.startLevel;
                                -1 === r && (n.config.testBandwidth && this.levels.length > 1 ? (r = 0,
                                this.bitrateTest = !0) : r = n.nextAutoLevel),
                                this.level = n.nextLoadLevel = r,
                                this.loadedmetadata = !1
                            }
                            t > 0 && -1 === e && (this.log("Override startPosition with lastCurrentTime @" + t.toFixed(3)),
                            e = t),
                            this.state = Me,
                            this.nextLoadPosition = this.startPosition = this.lastCurrentTime = e,
                            this.tick()
                        } else
                            this._forceStartLoad = !0,
                            this.state = xe
                    }
                    ,
                    c.stopLoad = function() {
                        this._forceStartLoad = !1,
                        e.prototype.stopLoad.call(this)
                    }
                    ,
                    c.doTick = function() {
                        switch (this.state) {
                        case Me:
                            this.doTickIdle();
                            break;
                        case Ye:
                            var e, t = this.levels, n = this.level, r = null == t || null === (e = t[n]) || void 0 === e ? void 0 : e.details;
                            if (r && (!r.live || this.levelLastLoaded === this.level)) {
                                if (this.waitForCdnTuneIn(r))
                                    break;
                                this.state = Me;
                                break
                            }
                            break;
                        case Be:
                            var i, o = self.performance.now(), a = this.retryDate;
                            (!a || o >= a || null !== (i = this.media) && void 0 !== i && i.seeking) && (this.log("retryDate reached, switch back to IDLE state"),
                            this.resetStartWhenNotLoaded(this.level),
                            this.state = Me)
                        }
                        this.onTickEnd()
                    }
                    ,
                    c.onTickEnd = function() {
                        e.prototype.onTickEnd.call(this),
                        this.checkBuffer(),
                        this.checkFragmentChanged()
                    }
                    ,
                    c.doTickIdle = function() {
                        var e, t, n = this.hls, r = this.levelLastLoaded, i = this.levels, o = this.media, s = n.config, u = n.nextLoadLevel;
                        if (null !== r && (o || !this.startFragRequested && s.startFragPrefetch) && (!this.altAudio || !this.audioOnly) && i && i[u]) {
                            var c = i[u];
                            this.level = n.nextLoadLevel = u;
                            var l = c.details;
                            if (!l || this.state === Ye || l.live && this.levelLastLoaded !== u)
                                this.state = Ye;
                            else {
                                var f = this.getMainFwdBufferInfo();
                                if (null !== f && !(f.len >= this.getMaxBufferLength(c.maxBitrate))) {
                                    if (this._streamEnded(f, l)) {
                                        var d = {};
                                        return this.altAudio && (d.type = "video"),
                                        this.hls.trigger(a.a.BUFFER_EOS, d),
                                        void (this.state = qe)
                                    }
                                    this.backtrackFragment && this.backtrackFragment.start > f.end && (this.backtrackFragment = null);
                                    var h = this.backtrackFragment ? this.backtrackFragment.start : f.end
                                      , p = this.getNextFragment(h, l);
                                    if (this.couldBacktrack && !this.fragPrevious && p && "initSegment" !== p.sn && this.fragmentTracker.getState(p) !== ie.OK) {
                                        var m, g = (null != (m = this.backtrackFragment) ? m : p).sn - l.startSN, y = l.fragments[g - 1];
                                        y && p.cc === y.cc && (p = y,
                                        this.fragmentTracker.removeFragment(y))
                                    } else
                                        this.backtrackFragment && f.len && (this.backtrackFragment = null);
                                    if (p && this.fragmentTracker.getState(p) === ie.OK && this.nextLoadPosition > h) {
                                        var E = this.audioOnly && !this.altAudio ? v.a.AUDIO : v.a.VIDEO;
                                        o && this.afterBufferFlushed(o, E, P.b.MAIN),
                                        p = this.getNextFragment(this.nextLoadPosition, l)
                                    }
                                    p && (!p.initSegment || p.initSegment.data || this.bitrateTest || (p = p.initSegment),
                                    "identity" !== (null === (e = p.decryptdata) || void 0 === e ? void 0 : e.keyFormat) || null !== (t = p.decryptdata) && void 0 !== t && t.key ? this.loadFragment(p, l, h) : this.loadKey(p, l))
                                }
                            }
                        }
                    }
                    ,
                    c.loadFragment = function(t, n, r) {
                        var i, o = this.fragmentTracker.getState(t);
                        this.fragCurrent = t,
                        o === ie.NOT_LOADED ? "initSegment" === t.sn ? this._loadInitSegment(t) : this.bitrateTest ? (this.log("Fragment " + t.sn + " of level " + t.level + " is being downloaded to test bitrate and will not be buffered"),
                        this._loadBitrateTestFrag(t)) : (this.startFragRequested = !0,
                        e.prototype.loadFragment.call(this, t, n, r)) : o === ie.APPENDING ? this.reduceMaxBufferLength(t.duration) && this.fragmentTracker.removeFragment(t) : 0 === (null === (i = this.media) || void 0 === i ? void 0 : i.buffered.length) && this.fragmentTracker.removeAllFragments()
                    }
                    ,
                    c.getAppendedFrag = function(e) {
                        var t = this.fragmentTracker.getAppendedFrag(e, P.b.MAIN);
                        return t && "fragment"in t ? t.fragment : t
                    }
                    ,
                    c.getBufferedFrag = function(e) {
                        return this.fragmentTracker.getBufferedFrag(e, P.b.MAIN)
                    }
                    ,
                    c.followingBufferedFrag = function(e) {
                        return e ? this.getBufferedFrag(e.end + .5) : null
                    }
                    ,
                    c.immediateLevelSwitch = function() {
                        this.abortCurrentFrag(),
                        this.flushMainBuffer(0, Number.POSITIVE_INFINITY)
                    }
                    ,
                    c.nextLevelSwitch = function() {
                        var e = this.levels
                          , t = this.media;
                        if (null != t && t.readyState) {
                            var n, r = this.getAppendedFrag(t.currentTime);
                            if (r && r.start > 1 && this.flushMainBuffer(0, r.start - 1),
                            !t.paused && e) {
                                var i = e[this.hls.nextLoadLevel]
                                  , o = this.fragLastKbps;
                                n = o && this.fragCurrent ? this.fragCurrent.duration * i.maxBitrate / (1e3 * o) + 1 : 0
                            } else
                                n = 0;
                            var a = this.getBufferedFrag(t.currentTime + n);
                            if (a) {
                                var s = this.followingBufferedFrag(a);
                                if (s) {
                                    this.abortCurrentFrag();
                                    var u = s.maxStartPTS ? s.maxStartPTS : s.start
                                      , c = s.duration
                                      , l = Math.max(a.end, u + Math.min(Math.max(c - this.config.maxFragLookUpTolerance, .5 * c), .75 * c));
                                    this.flushMainBuffer(l, Number.POSITIVE_INFINITY)
                                }
                            }
                        }
                    }
                    ,
                    c.abortCurrentFrag = function() {
                        var e = this.fragCurrent;
                        switch (this.fragCurrent = null,
                        this.backtrackFragment = null,
                        null != e && e.loader && e.loader.abort(),
                        this.state) {
                        case Fe:
                        case Ue:
                        case Be:
                        case Ve:
                        case He:
                            this.state = Me
                        }
                        this.nextLoadPosition = this.getLoadPosition()
                    }
                    ,
                    c.flushMainBuffer = function(t, n) {
                        e.prototype.flushMainBuffer.call(this, t, n, this.altAudio ? "video" : null)
                    }
                    ,
                    c.onMediaAttached = function(t, n) {
                        e.prototype.onMediaAttached.call(this, t, n);
                        var r = n.media;
                        this.onvplaying = this.onMediaPlaying.bind(this),
                        this.onvseeked = this.onMediaSeeked.bind(this),
                        r.addEventListener("playing", this.onvplaying),
                        r.addEventListener("seeked", this.onvseeked),
                        this.gapController = new tt(this.config,r,this.fragmentTracker,this.hls)
                    }
                    ,
                    c.onMediaDetaching = function() {
                        var t = this.media;
                        t && this.onvplaying && this.onvseeked && (t.removeEventListener("playing", this.onvplaying),
                        t.removeEventListener("seeked", this.onvseeked),
                        this.onvplaying = this.onvseeked = null,
                        this.videoBuffer = null),
                        this.fragPlaying = null,
                        this.gapController && (this.gapController.destroy(),
                        this.gapController = null),
                        e.prototype.onMediaDetaching.call(this)
                    }
                    ,
                    c.onMediaPlaying = function() {
                        this.tick()
                    }
                    ,
                    c.onMediaSeeked = function() {
                        var e = this.media
                          , t = e ? e.currentTime : null;
                        Object(o.a)(t) && this.log("Media seeked to " + t.toFixed(3)),
                        this.tick()
                    }
                    ,
                    c.onManifestLoading = function() {
                        this.log("Trigger BUFFER_RESET"),
                        this.hls.trigger(a.a.BUFFER_RESET, void 0),
                        this.fragmentTracker.removeAllFragments(),
                        this.couldBacktrack = !1,
                        this.startPosition = this.lastCurrentTime = 0,
                        this.fragPlaying = null,
                        this.backtrackFragment = null
                    }
                    ,
                    c.onManifestParsed = function(e, t) {
                        var n, r, i, o = !1, a = !1;
                        t.levels.forEach((function(e) {
                            (n = e.audioCodec) && (-1 !== n.indexOf("mp4a.40.2") && (o = !0),
                            -1 !== n.indexOf("mp4a.40.5") && (a = !0))
                        }
                        )),
                        this.audioCodecSwitch = o && a && !("function" == typeof (null == (i = Qe()) || null === (r = i.prototype) || void 0 === r ? void 0 : r.changeType)),
                        this.audioCodecSwitch && this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),
                        this.levels = t.levels,
                        this.startFragRequested = !1
                    }
                    ,
                    c.onLevelLoading = function(e, t) {
                        var n = this.levels;
                        if (n && this.state === Me) {
                            var r = n[t.level];
                            (!r.details || r.details.live && this.levelLastLoaded !== t.level || this.waitForCdnTuneIn(r.details)) && (this.state = Ye)
                        }
                    }
                    ,
                    c.onLevelLoaded = function(e, t) {
                        var n, r = this.levels, i = t.level, o = t.details, s = o.totalduration;
                        if (r) {
                            this.log("Level " + i + " loaded [" + o.startSN + "," + o.endSN + "], cc [" + o.startCC + ", " + o.endCC + "] duration:" + s);
                            var u = this.fragCurrent;
                            !u || this.state !== Ue && this.state !== Be || u.level !== t.level && u.loader && (this.state = Me,
                            this.backtrackFragment = null,
                            u.loader.abort());
                            var c = r[i]
                              , l = 0;
                            if (o.live || null !== (n = c.details) && void 0 !== n && n.live) {
                                if (o.fragments[0] || (o.deltaUpdateFailed = !0),
                                o.deltaUpdateFailed)
                                    return;
                                l = this.alignPlaylists(o, c.details)
                            }
                            if (c.details = o,
                            this.levelLastLoaded = i,
                            this.hls.trigger(a.a.LEVEL_UPDATED, {
                                details: o,
                                level: i
                            }),
                            this.state === Ye) {
                                if (this.waitForCdnTuneIn(o))
                                    return;
                                this.state = Me
                            }
                            this.startFragRequested ? o.live && this.synchronizeToLiveEdge(o) : this.setStartPosition(o, l),
                            this.tick()
                        } else
                            this.warn("Levels were reset while loading level " + i)
                    }
                    ,
                    c._handleFragmentLoadProgress = function(e) {
                        var t, n = e.frag, r = e.part, i = e.payload, o = this.levels;
                        if (o) {
                            var a = o[n.level]
                              , s = a.details;
                            if (s) {
                                var u = a.videoCodec
                                  , c = s.PTSKnown || !s.live
                                  , l = null === (t = n.initSegment) || void 0 === t ? void 0 : t.data
                                  , f = this._getAudioCodec(a)
                                  , d = this.transmuxer = this.transmuxer || new et(this.hls,P.b.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this))
                                  , h = r ? r.index : -1
                                  , p = -1 !== h
                                  , v = new he(n.level,n.sn,n.stats.chunkCount,i.byteLength,h,p)
                                  , m = this.initPTS[n.cc];
                                d.push(i, l, f, u, n, r, s.totalduration, c, v, m)
                            } else
                                this.warn("Dropping fragment " + n.sn + " of level " + n.level + " after level details were reset")
                        } else
                            this.warn("Levels were reset while fragment load was in progress. Fragment " + n.sn + " of level " + n.level + " will not be buffered")
                    }
                    ,
                    c.onAudioTrackSwitching = function(e, t) {
                        var n = this.altAudio
                          , r = !!t.url
                          , i = t.id;
                        if (!r) {
                            if (this.mediaBuffer !== this.media) {
                                this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),
                                this.mediaBuffer = this.media;
                                var o = this.fragCurrent;
                                null != o && o.loader && (this.log("Switching to main audio track, cancel main fragment load"),
                                o.loader.abort()),
                                this.resetTransmuxer(),
                                this.resetLoadingState()
                            } else
                                this.audioOnly && this.resetTransmuxer();
                            var s = this.hls;
                            n && s.trigger(a.a.BUFFER_FLUSHING, {
                                startOffset: 0,
                                endOffset: Number.POSITIVE_INFINITY,
                                type: "audio"
                            }),
                            s.trigger(a.a.AUDIO_TRACK_SWITCHED, {
                                id: i
                            })
                        }
                    }
                    ,
                    c.onAudioTrackSwitched = function(e, t) {
                        var n = t.id
                          , r = !!this.hls.audioTracks[n].url;
                        if (r) {
                            var i = this.videoBuffer;
                            i && this.mediaBuffer !== i && (this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),
                            this.mediaBuffer = i)
                        }
                        this.altAudio = r,
                        this.tick()
                    }
                    ,
                    c.onBufferCreated = function(e, t) {
                        var n, r, i = t.tracks, o = !1;
                        for (var a in i) {
                            var s = i[a];
                            if ("main" === s.id) {
                                if (r = a,
                                n = s,
                                "video" === a) {
                                    var u = i[a];
                                    u && (this.videoBuffer = u.buffer)
                                }
                            } else
                                o = !0
                        }
                        o && n ? (this.log("Alternate track found, use " + r + ".buffered to schedule main fragment loading"),
                        this.mediaBuffer = n.buffer) : this.mediaBuffer = this.media
                    }
                    ,
                    c.onFragBuffered = function(e, t) {
                        var n = t.frag
                          , r = t.part;
                        if (!n || n.type === P.b.MAIN) {
                            if (this.fragContextChanged(n))
                                return this.warn("Fragment " + n.sn + (r ? " p: " + r.index : "") + " of level " + n.level + " finished buffering, but was aborted. state: " + this.state),
                                void (this.state === He && (this.state = Me));
                            var i = r ? r.stats : n.stats;
                            this.fragLastKbps = Math.round(8 * i.total / (i.buffering.end - i.loading.first)),
                            "initSegment" !== n.sn && (this.fragPrevious = n),
                            this.fragBufferedComplete(n, r)
                        }
                    }
                    ,
                    c.onError = function(e, t) {
                        switch (t.details) {
                        case s.a.FRAG_LOAD_ERROR:
                        case s.a.FRAG_LOAD_TIMEOUT:
                        case s.a.KEY_LOAD_ERROR:
                        case s.a.KEY_LOAD_TIMEOUT:
                            this.onFragmentOrKeyLoadError(P.b.MAIN, t);
                            break;
                        case s.a.LEVEL_LOAD_ERROR:
                        case s.a.LEVEL_LOAD_TIMEOUT:
                            this.state !== We && (t.fatal ? (this.warn("" + t.details),
                            this.state = We) : t.levelRetry || this.state !== Ye || (this.state = Me));
                            break;
                        case s.a.BUFFER_FULL_ERROR:
                            if ("main" === t.parent && (this.state === Ve || this.state === He)) {
                                var n = !0
                                  , r = this.getFwdBufferInfo(this.media, P.b.MAIN);
                                r && r.len > .5 && (n = !this.reduceMaxBufferLength(r.len)),
                                n && (this.warn("buffer full error also media.currentTime is not buffered, flush main"),
                                this.immediateLevelSwitch()),
                                this.resetLoadingState()
                            }
                        }
                    }
                    ,
                    c.checkBuffer = function() {
                        var e = this.media
                          , t = this.gapController;
                        if (e && t && e.readyState) {
                            if (this.loadedmetadata || !de.getBuffered(e).length) {
                                var n = this.state !== Me ? this.fragCurrent : null;
                                t.poll(this.lastCurrentTime, n)
                            }
                            this.lastCurrentTime = e.currentTime
                        }
                    }
                    ,
                    c.onFragLoadEmergencyAborted = function() {
                        this.state = Me,
                        this.loadedmetadata || (this.startFragRequested = !1,
                        this.nextLoadPosition = this.startPosition),
                        this.tickImmediate()
                    }
                    ,
                    c.onBufferFlushed = function(e, t) {
                        var n = t.type;
                        if (n !== v.a.AUDIO || this.audioOnly && !this.altAudio) {
                            var r = (n === v.a.VIDEO ? this.videoBuffer : this.mediaBuffer) || this.media;
                            this.afterBufferFlushed(r, n, P.b.MAIN)
                        }
                    }
                    ,
                    c.onLevelsUpdated = function(e, t) {
                        this.levels = t.levels
                    }
                    ,
                    c.swapAudioCodec = function() {
                        this.audioCodecSwap = !this.audioCodecSwap
                    }
                    ,
                    c.seekToStartPos = function() {
                        var e = this.media;
                        if (e) {
                            var t = e.currentTime
                              , n = this.startPosition;
                            if (n >= 0 && t < n) {
                                if (e.seeking)
                                    return void this.log("could not seek to " + n + ", already seeking at " + t);
                                var r = de.getBuffered(e)
                                  , i = (r.length ? r.start(0) : 0) - n;
                                i > 0 && (i < this.config.maxBufferHole || i < this.config.maxFragLookUpTolerance) && (this.log("adjusting start position by " + i + " to match buffer start"),
                                n += i,
                                this.startPosition = n),
                                this.log("seek to target start position " + n + " from current time " + t),
                                e.currentTime = n
                            }
                        }
                    }
                    ,
                    c._getAudioCodec = function(e) {
                        var t = this.config.defaultAudioCodec || e.audioCodec;
                        return this.audioCodecSwap && t && (this.log("Swapping audio codec"),
                        t = -1 !== t.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5"),
                        t
                    }
                    ,
                    c._loadBitrateTestFrag = function(e) {
                        var t = this;
                        e.bitrateTest = !0,
                        this._doFragLoad(e).then((function(n) {
                            var r = t.hls;
                            if (n && !r.nextLoadLevel && !t.fragContextChanged(e)) {
                                t.fragLoadError = 0,
                                t.state = Me,
                                t.startFragRequested = !1,
                                t.bitrateTest = !1;
                                var i = e.stats;
                                i.parsing.start = i.parsing.end = i.buffering.start = i.buffering.end = self.performance.now(),
                                r.trigger(a.a.FRAG_LOADED, n),
                                e.bitrateTest = !1
                            }
                        }
                        ))
                    }
                    ,
                    c._handleTransmuxComplete = function(e) {
                        var t, n = "main", r = this.hls, i = e.remuxResult, s = e.chunkMeta, u = this.getCurrentContext(s);
                        if (!u)
                            return this.warn("The loading context changed while buffering fragment " + s.sn + " of level " + s.level + ". This chunk will not be buffered."),
                            void this.resetStartWhenNotLoaded(s.level);
                        var c = u.frag
                          , l = u.part
                          , f = u.level
                          , d = i.video
                          , h = i.text
                          , p = i.id3
                          , m = i.initSegment
                          , g = f.details
                          , y = this.altAudio ? void 0 : i.audio;
                        if (!this.fragContextChanged(c)) {
                            if (this.state = Ve,
                            m) {
                                m.tracks && (this._bufferInitSegment(f, m.tracks, c, s),
                                r.trigger(a.a.FRAG_PARSING_INIT_SEGMENT, {
                                    frag: c,
                                    id: n,
                                    tracks: m.tracks
                                }));
                                var E = m.initPTS
                                  , T = m.timescale;
                                Object(o.a)(E) && (this.initPTS[c.cc] = E,
                                r.trigger(a.a.INIT_PTS_FOUND, {
                                    frag: c,
                                    id: n,
                                    initPTS: E,
                                    timescale: T
                                }))
                            }
                            if (d && !1 !== i.independent) {
                                if (g) {
                                    var b = d.startPTS
                                      , _ = d.endPTS
                                      , S = d.startDTS
                                      , R = d.endDTS;
                                    if (l)
                                        l.elementaryStreams[d.type] = {
                                            startPTS: b,
                                            endPTS: _,
                                            startDTS: S,
                                            endDTS: R
                                        };
                                    else if (d.firstKeyFrame && d.independent && (this.couldBacktrack = !0),
                                    d.dropped && d.independent) {
                                        var w = this.getMainFwdBufferInfo();
                                        if ((w ? w.end : this.getLoadPosition()) + this.config.maxBufferHole < (d.firstKeyFramePTS ? d.firstKeyFramePTS : b) - this.config.maxBufferHole)
                                            return void this.backtrack(c);
                                        c.setElementaryStreamInfo(d.type, c.start, _, c.start, R, !0)
                                    }
                                    c.setElementaryStreamInfo(d.type, b, _, S, R),
                                    this.backtrackFragment && (this.backtrackFragment = c),
                                    this.bufferFragmentData(d, c, l, s)
                                }
                            } else if (!1 === i.independent)
                                return void this.backtrack(c);
                            if (y) {
                                var C = y.startPTS
                                  , O = y.endPTS
                                  , L = y.startDTS
                                  , A = y.endDTS;
                                l && (l.elementaryStreams[v.a.AUDIO] = {
                                    startPTS: C,
                                    endPTS: O,
                                    startDTS: L,
                                    endDTS: A
                                }),
                                c.setElementaryStreamInfo(v.a.AUDIO, C, O, L, A),
                                this.bufferFragmentData(y, c, l, s)
                            }
                            if (g && null != p && null !== (t = p.samples) && void 0 !== t && t.length) {
                                var P = {
                                    id: n,
                                    frag: c,
                                    details: g,
                                    samples: p.samples
                                };
                                r.trigger(a.a.FRAG_PARSING_METADATA, P)
                            }
                            if (g && h) {
                                var I = {
                                    id: n,
                                    frag: c,
                                    details: g,
                                    samples: h.samples
                                };
                                r.trigger(a.a.FRAG_PARSING_USERDATA, I)
                            }
                        }
                    }
                    ,
                    c._bufferInitSegment = function(e, t, n, r) {
                        var i = this;
                        if (this.state === Ve) {
                            this.audioOnly = !!t.audio && !t.video,
                            this.altAudio && !this.audioOnly && delete t.audio;
                            var o = t.audio
                              , s = t.video
                              , u = t.audiovideo;
                            if (o) {
                                var c = e.audioCodec
                                  , l = navigator.userAgent.toLowerCase();
                                this.audioCodecSwitch && (c && (c = -1 !== c.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5"),
                                1 !== o.metadata.channelCount && -1 === l.indexOf("firefox") && (c = "mp4a.40.5")),
                                -1 !== l.indexOf("android") && "audio/mpeg" !== o.container && (c = "mp4a.40.2",
                                this.log("Android: force audio codec to " + c)),
                                e.audioCodec && e.audioCodec !== c && this.log('Swapping manifest audio codec "' + e.audioCodec + '" for "' + c + '"'),
                                o.levelCodec = c,
                                o.id = "main",
                                this.log("Init audio buffer, container:" + o.container + ", codecs[selected/level/parsed]=[" + (c || "") + "/" + (e.audioCodec || "") + "/" + o.codec + "]")
                            }
                            s && (s.levelCodec = e.videoCodec,
                            s.id = "main",
                            this.log("Init video buffer, container:" + s.container + ", codecs[level/parsed]=[" + (e.videoCodec || "") + "/" + s.codec + "]")),
                            u && this.log("Init audiovideo buffer, container:" + u.container + ", codecs[level/parsed]=[" + (e.attrs.CODECS || "") + "/" + u.codec + "]"),
                            this.hls.trigger(a.a.BUFFER_CODECS, t),
                            Object.keys(t).forEach((function(e) {
                                var o = t[e].initSegment;
                                null != o && o.byteLength && i.hls.trigger(a.a.BUFFER_APPENDING, {
                                    type: e,
                                    data: o,
                                    frag: n,
                                    part: null,
                                    chunkMeta: r,
                                    parent: n.type
                                })
                            }
                            )),
                            this.tick()
                        }
                    }
                    ,
                    c.getMainFwdBufferInfo = function() {
                        return this.getFwdBufferInfo(this.mediaBuffer ? this.mediaBuffer : this.media, P.b.MAIN)
                    }
                    ,
                    c.backtrack = function(e) {
                        this.couldBacktrack = !0,
                        this.backtrackFragment = e,
                        this.resetTransmuxer(),
                        this.flushBufferGap(e),
                        this.fragmentTracker.removeFragment(e),
                        this.fragPrevious = null,
                        this.nextLoadPosition = e.start,
                        this.state = Me
                    }
                    ,
                    c.checkFragmentChanged = function() {
                        var e = this.media
                          , t = null;
                        if (e && e.readyState > 1 && !1 === e.seeking) {
                            var n = e.currentTime;
                            if (de.isBuffered(e, n) ? t = this.getAppendedFrag(n) : de.isBuffered(e, n + .1) && (t = this.getAppendedFrag(n + .1)),
                            t) {
                                this.backtrackFragment = null;
                                var r = this.fragPlaying
                                  , i = t.level;
                                r && t.sn === r.sn && r.level === i && t.urlId === r.urlId || (this.hls.trigger(a.a.FRAG_CHANGED, {
                                    frag: t
                                }),
                                r && r.level === i || this.hls.trigger(a.a.LEVEL_SWITCHED, {
                                    level: i
                                }),
                                this.fragPlaying = t)
                            }
                        }
                    }
                    ,
                    i = r,
                    (u = [{
                        key: "nextLevel",
                        get: function() {
                            var e = this.nextBufferedFrag;
                            return e ? e.level : -1
                        }
                    }, {
                        key: "currentFrag",
                        get: function() {
                            var e = this.media;
                            return e ? this.fragPlaying || this.getAppendedFrag(e.currentTime) : null
                        }
                    }, {
                        key: "currentProgramDateTime",
                        get: function() {
                            var e = this.media;
                            if (e) {
                                var t = e.currentTime
                                  , n = this.currentFrag;
                                if (n && Object(o.a)(t) && Object(o.a)(n.programDateTime)) {
                                    var r = n.programDateTime + 1e3 * (t - n.start);
                                    return new Date(r)
                                }
                            }
                            return null
                        }
                    }, {
                        key: "currentLevel",
                        get: function() {
                            var e = this.currentFrag;
                            return e ? e.level : -1
                        }
                    }, {
                        key: "nextBufferedFrag",
                        get: function() {
                            var e = this.currentFrag;
                            return e ? this.followingBufferedFrag(e) : null
                        }
                    }, {
                        key: "forceStartLoad",
                        get: function() {
                            return this._forceStartLoad
                        }
                    }]) && function(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }(i.prototype, u),
                    Object.defineProperty(i, "prototype", {
                        writable: !1
                    }),
                    r
                }(Ke)
                  , it = function() {
                    function e(e, t, n) {
                        void 0 === t && (t = 0),
                        void 0 === n && (n = 0),
                        this.halfLife = void 0,
                        this.alpha_ = void 0,
                        this.estimate_ = void 0,
                        this.totalWeight_ = void 0,
                        this.halfLife = e,
                        this.alpha_ = e ? Math.exp(Math.log(.5) / e) : 0,
                        this.estimate_ = t,
                        this.totalWeight_ = n
                    }
                    var t = e.prototype;
                    return t.sample = function(e, t) {
                        var n = Math.pow(this.alpha_, e);
                        this.estimate_ = t * (1 - n) + n * this.estimate_,
                        this.totalWeight_ += e
                    }
                    ,
                    t.getTotalWeight = function() {
                        return this.totalWeight_
                    }
                    ,
                    t.getEstimate = function() {
                        if (this.alpha_) {
                            var e = 1 - Math.pow(this.alpha_, this.totalWeight_);
                            if (e)
                                return this.estimate_ / e
                        }
                        return this.estimate_
                    }
                    ,
                    e
                }()
                  , ot = function() {
                    function e(e, t, n) {
                        this.defaultEstimate_ = void 0,
                        this.minWeight_ = void 0,
                        this.minDelayMs_ = void 0,
                        this.slow_ = void 0,
                        this.fast_ = void 0,
                        this.defaultEstimate_ = n,
                        this.minWeight_ = .001,
                        this.minDelayMs_ = 50,
                        this.slow_ = new it(e),
                        this.fast_ = new it(t)
                    }
                    var t = e.prototype;
                    return t.update = function(e, t) {
                        var n = this.slow_
                          , r = this.fast_;
                        this.slow_.halfLife !== e && (this.slow_ = new it(e,n.getEstimate(),n.getTotalWeight())),
                        this.fast_.halfLife !== t && (this.fast_ = new it(t,r.getEstimate(),r.getTotalWeight()))
                    }
                    ,
                    t.sample = function(e, t) {
                        var n = (e = Math.max(e, this.minDelayMs_)) / 1e3
                          , r = 8 * t / n;
                        this.fast_.sample(n, r),
                        this.slow_.sample(n, r)
                    }
                    ,
                    t.canEstimate = function() {
                        var e = this.fast_;
                        return e && e.getTotalWeight() >= this.minWeight_
                    }
                    ,
                    t.getEstimate = function() {
                        return this.canEstimate() ? Math.min(this.fast_.getEstimate(), this.slow_.getEstimate()) : this.defaultEstimate_
                    }
                    ,
                    t.destroy = function() {}
                    ,
                    e
                }();
                var at = function() {
                    function e(e) {
                        this.hls = void 0,
                        this.lastLoadedFragLevel = 0,
                        this._nextAutoLevel = -1,
                        this.timer = void 0,
                        this.onCheck = this._abandonRulesCheck.bind(this),
                        this.fragCurrent = null,
                        this.partCurrent = null,
                        this.bitrateTestDelay = 0,
                        this.bwEstimator = void 0,
                        this.hls = e;
                        var t = e.config;
                        this.bwEstimator = new ot(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),
                        this.registerListeners()
                    }
                    var t, n, r = e.prototype;
                    return r.registerListeners = function() {
                        var e = this.hls;
                        e.on(a.a.FRAG_LOADING, this.onFragLoading, this),
                        e.on(a.a.FRAG_LOADED, this.onFragLoaded, this),
                        e.on(a.a.FRAG_BUFFERED, this.onFragBuffered, this),
                        e.on(a.a.LEVEL_LOADED, this.onLevelLoaded, this),
                        e.on(a.a.ERROR, this.onError, this)
                    }
                    ,
                    r.unregisterListeners = function() {
                        var e = this.hls;
                        e.off(a.a.FRAG_LOADING, this.onFragLoading, this),
                        e.off(a.a.FRAG_LOADED, this.onFragLoaded, this),
                        e.off(a.a.FRAG_BUFFERED, this.onFragBuffered, this),
                        e.off(a.a.LEVEL_LOADED, this.onLevelLoaded, this),
                        e.off(a.a.ERROR, this.onError, this)
                    }
                    ,
                    r.destroy = function() {
                        this.unregisterListeners(),
                        this.clearTimer(),
                        this.hls = this.onCheck = null,
                        this.fragCurrent = this.partCurrent = null
                    }
                    ,
                    r.onFragLoading = function(e, t) {
                        var n, r = t.frag;
                        r.type === P.b.MAIN && (this.timer || (this.fragCurrent = r,
                        this.partCurrent = null != (n = t.part) ? n : null,
                        this.timer = self.setInterval(this.onCheck, 100)))
                    }
                    ,
                    r.onLevelLoaded = function(e, t) {
                        var n = this.hls.config;
                        t.details.live ? this.bwEstimator.update(n.abrEwmaSlowLive, n.abrEwmaFastLive) : this.bwEstimator.update(n.abrEwmaSlowVoD, n.abrEwmaFastVoD)
                    }
                    ,
                    r._abandonRulesCheck = function() {
                        var e = this.fragCurrent
                          , t = this.partCurrent
                          , n = this.hls
                          , r = n.autoLevelEnabled
                          , i = (n.config,
                        n.media);
                        if (e && i) {
                            var s = t ? t.stats : e.stats
                              , c = t ? t.duration : e.duration;
                            if (s.aborted || s.loaded && s.loaded === s.total || 0 === e.level)
                                return this.clearTimer(),
                                void (this._nextAutoLevel = -1);
                            if (r && !i.paused && i.playbackRate && i.readyState) {
                                var l = n.mainForwardBufferInfo;
                                if (null !== l) {
                                    var f = performance.now() - s.loading.start
                                      , d = Math.abs(i.playbackRate);
                                    if (!(f <= 500 * c / d)) {
                                        var h = s.loaded && s.loading.first
                                          , p = this.bwEstimator.getEstimate()
                                          , v = n.levels
                                          , m = n.minAutoLevel
                                          , g = v[e.level]
                                          , y = s.total || Math.max(s.loaded, Math.round(c * g.maxBitrate / 8))
                                          , E = h ? 1e3 * s.loaded / f : 0
                                          , T = E ? (y - s.loaded) / E : 8 * y / p
                                          , b = l.len / d;
                                        if (!(T <= b)) {
                                            var _, S = Number.POSITIVE_INFINITY;
                                            for (_ = e.level - 1; _ > m; _--) {
                                                var R = v[_].maxBitrate;
                                                if ((S = E ? c * R / (6.4 * E) : c * R / p) < b)
                                                    break
                                            }
                                            S >= T || (u.b.warn("Fragment " + e.sn + (t ? " part " + t.index : "") + " of level " + e.level + " is loading too slowly and will cause an underbuffer; aborting and switching to level " + _ + "\n      Current BW estimate: " + (Object(o.a)(p) ? (p / 1024).toFixed(3) : "Unknown") + " Kb/s\n      Estimated load time for current fragment: " + T.toFixed(3) + " s\n      Estimated load time for the next fragment: " + S.toFixed(3) + " s\n      Time to underbuffer: " + b.toFixed(3) + " s"),
                                            n.nextLoadLevel = _,
                                            h && this.bwEstimator.sample(f, s.loaded),
                                            this.clearTimer(),
                                            e.loader && (this.fragCurrent = this.partCurrent = null,
                                            e.loader.abort()),
                                            n.trigger(a.a.FRAG_LOAD_EMERGENCY_ABORTED, {
                                                frag: e,
                                                part: t,
                                                stats: s
                                            }))
                                        }
                                    }
                                }
                            }
                        }
                    }
                    ,
                    r.onFragLoaded = function(e, t) {
                        var n = t.frag
                          , r = t.part;
                        if (n.type === P.b.MAIN && Object(o.a)(n.sn)) {
                            var i = r ? r.stats : n.stats
                              , s = r ? r.duration : n.duration;
                            if (this.clearTimer(),
                            this.lastLoadedFragLevel = n.level,
                            this._nextAutoLevel = -1,
                            this.hls.config.abrMaxWithRealBitrate) {
                                var u = this.hls.levels[n.level]
                                  , c = (u.loaded ? u.loaded.bytes : 0) + i.loaded
                                  , l = (u.loaded ? u.loaded.duration : 0) + s;
                                u.loaded = {
                                    bytes: c,
                                    duration: l
                                },
                                u.realBitrate = Math.round(8 * c / l)
                            }
                            if (n.bitrateTest) {
                                var f = {
                                    stats: i,
                                    frag: n,
                                    part: r,
                                    id: n.type
                                };
                                this.onFragBuffered(a.a.FRAG_BUFFERED, f)
                            }
                        }
                    }
                    ,
                    r.onFragBuffered = function(e, t) {
                        var n = t.frag
                          , r = t.part
                          , i = r ? r.stats : n.stats;
                        if (!i.aborted && n.type === P.b.MAIN && "initSegment" !== n.sn) {
                            var o = i.parsing.end - i.loading.start;
                            this.bwEstimator.sample(o, i.loaded),
                            i.bwEstimate = this.bwEstimator.getEstimate(),
                            n.bitrateTest ? this.bitrateTestDelay = o / 1e3 : this.bitrateTestDelay = 0
                        }
                    }
                    ,
                    r.onError = function(e, t) {
                        switch (t.details) {
                        case s.a.FRAG_LOAD_ERROR:
                        case s.a.FRAG_LOAD_TIMEOUT:
                            this.clearTimer()
                        }
                    }
                    ,
                    r.clearTimer = function() {
                        self.clearInterval(this.timer),
                        this.timer = void 0
                    }
                    ,
                    r.getNextABRAutoLevel = function() {
                        var e = this.fragCurrent
                          , t = this.partCurrent
                          , n = this.hls
                          , r = n.maxAutoLevel
                          , i = n.config
                          , o = n.minAutoLevel
                          , a = n.media
                          , s = t ? t.duration : e ? e.duration : 0
                          , c = (a && a.currentTime,
                        a && 0 !== a.playbackRate ? Math.abs(a.playbackRate) : 1)
                          , l = this.bwEstimator ? this.bwEstimator.getEstimate() : i.abrEwmaDefaultEstimate
                          , f = n.mainForwardBufferInfo
                          , d = (f ? f.len : 0) / c
                          , h = this.findBestLevel(l, o, r, d, i.abrBandWidthFactor, i.abrBandWidthUpFactor);
                        if (h >= 0)
                            return h;
                        u.b.trace((d ? "rebuffering expected" : "buffer is empty") + ", finding optimal quality level");
                        var p = s ? Math.min(s, i.maxStarvationDelay) : i.maxStarvationDelay
                          , v = i.abrBandWidthFactor
                          , m = i.abrBandWidthUpFactor;
                        if (!d) {
                            var g = this.bitrateTestDelay;
                            g && (p = (s ? Math.min(s, i.maxLoadingDelay) : i.maxLoadingDelay) - g,
                            u.b.trace("bitrate test took " + Math.round(1e3 * g) + "ms, set first fragment max fetchDuration to " + Math.round(1e3 * p) + " ms"),
                            v = m = 1)
                        }
                        return h = this.findBestLevel(l, o, r, d + p, v, m),
                        Math.max(h, 0)
                    }
                    ,
                    r.findBestLevel = function(e, t, n, r, i, a) {
                        for (var s, c = this.fragCurrent, l = this.partCurrent, f = this.lastLoadedFragLevel, d = this.hls.levels, h = d[f], p = !(null == h || null === (s = h.details) || void 0 === s || !s.live), v = null == h ? void 0 : h.codecSet, m = l ? l.duration : c ? c.duration : 0, g = n; g >= t; g--) {
                            var y = d[g];
                            if (y && (!v || y.codecSet === v)) {
                                var E, T = y.details, b = (l ? null == T ? void 0 : T.partTarget : null == T ? void 0 : T.averagetargetduration) || m;
                                E = g <= f ? i * e : a * e;
                                var _ = d[g].maxBitrate
                                  , S = _ * b / E;
                                if (u.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: " + g + "/" + Math.round(E) + "/" + _ + "/" + b + "/" + r + "/" + S),
                                E > _ && (0 === S || !Object(o.a)(S) || p && !this.bitrateTestDelay || S < r))
                                    return g
                            }
                        }
                        return -1
                    }
                    ,
                    t = e,
                    (n = [{
                        key: "nextAutoLevel",
                        get: function() {
                            var e = this._nextAutoLevel
                              , t = this.bwEstimator;
                            if (-1 !== e && !t.canEstimate())
                                return e;
                            var n = this.getNextABRAutoLevel();
                            return -1 !== e && this.hls.levels[n].loadError ? e : (-1 !== e && (n = Math.min(e, n)),
                            n)
                        },
                        set: function(e) {
                            this._nextAutoLevel = e
                        }
                    }]) && function(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }(t.prototype, n),
                    Object.defineProperty(t, "prototype", {
                        writable: !1
                    }),
                    e
                }()
                  , st = function() {
                    function e() {
                        this.chunks = [],
                        this.dataLength = 0
                    }
                    var t = e.prototype;
                    return t.push = function(e) {
                        this.chunks.push(e),
                        this.dataLength += e.length
                    }
                    ,
                    t.flush = function() {
                        var e, t = this.chunks, n = this.dataLength;
                        return t.length ? (e = 1 === t.length ? t[0] : function(e, t) {
                            for (var n = new Uint8Array(t), r = 0, i = 0; i < e.length; i++) {
                                var o = e[i];
                                n.set(o, r),
                                r += o.length
                            }
                            return n
                        }(t, n),
                        this.reset(),
                        e) : new Uint8Array(0)
                    }
                    ,
                    t.reset = function() {
                        this.chunks.length = 0,
                        this.dataLength = 0
                    }
                    ,
                    e
                }();
                function ut() {
                    return (ut = Object.assign ? Object.assign.bind() : function(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = arguments[t];
                            for (var r in n)
                                Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                        }
                        return e
                    }
                    ).apply(this, arguments)
                }
                function ct(e, t) {
                    return (ct = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                        return e.__proto__ = t,
                        e
                    }
                    )(e, t)
                }
                var lt = function(e) {
                    var t, n;
                    function r(t, n) {
                        var r;
                        return (r = e.call(this, t, n, "[audio-stream-controller]") || this).videoBuffer = null,
                        r.videoTrackCC = -1,
                        r.waitingVideoCC = -1,
                        r.audioSwitch = !1,
                        r.trackId = -1,
                        r.waitingData = null,
                        r.mainDetails = null,
                        r.bufferFlushed = !1,
                        r.cachedTrackLoadedData = null,
                        r._registerListeners(),
                        r
                    }
                    n = e,
                    (t = r).prototype = Object.create(n.prototype),
                    t.prototype.constructor = t,
                    ct(t, n);
                    var i = r.prototype;
                    return i.onHandlerDestroying = function() {
                        this._unregisterListeners(),
                        this.mainDetails = null
                    }
                    ,
                    i._registerListeners = function() {
                        var e = this.hls;
                        e.on(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        e.on(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        e.on(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.on(a.a.LEVEL_LOADED, this.onLevelLoaded, this),
                        e.on(a.a.AUDIO_TRACKS_UPDATED, this.onAudioTracksUpdated, this),
                        e.on(a.a.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this),
                        e.on(a.a.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),
                        e.on(a.a.ERROR, this.onError, this),
                        e.on(a.a.BUFFER_RESET, this.onBufferReset, this),
                        e.on(a.a.BUFFER_CREATED, this.onBufferCreated, this),
                        e.on(a.a.BUFFER_FLUSHED, this.onBufferFlushed, this),
                        e.on(a.a.INIT_PTS_FOUND, this.onInitPtsFound, this),
                        e.on(a.a.FRAG_BUFFERED, this.onFragBuffered, this)
                    }
                    ,
                    i._unregisterListeners = function() {
                        var e = this.hls;
                        e.off(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        e.off(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        e.off(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.off(a.a.LEVEL_LOADED, this.onLevelLoaded, this),
                        e.off(a.a.AUDIO_TRACKS_UPDATED, this.onAudioTracksUpdated, this),
                        e.off(a.a.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this),
                        e.off(a.a.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),
                        e.off(a.a.ERROR, this.onError, this),
                        e.off(a.a.BUFFER_RESET, this.onBufferReset, this),
                        e.off(a.a.BUFFER_CREATED, this.onBufferCreated, this),
                        e.off(a.a.BUFFER_FLUSHED, this.onBufferFlushed, this),
                        e.off(a.a.INIT_PTS_FOUND, this.onInitPtsFound, this),
                        e.off(a.a.FRAG_BUFFERED, this.onFragBuffered, this)
                    }
                    ,
                    i.onInitPtsFound = function(e, t) {
                        var n = t.frag
                          , r = t.id
                          , i = t.initPTS;
                        if ("main" === r) {
                            var o = n.cc;
                            this.initPTS[n.cc] = i,
                            this.log("InitPTS for cc: " + o + " found from main: " + i),
                            this.videoTrackCC = o,
                            this.state === Ge && this.tick()
                        }
                    }
                    ,
                    i.startLoad = function(e) {
                        if (!this.levels)
                            return this.startPosition = e,
                            void (this.state = xe);
                        var t = this.lastCurrentTime;
                        this.stopLoad(),
                        this.setInterval(100),
                        this.fragLoadError = 0,
                        t > 0 && -1 === e ? (this.log("Override startPosition with lastCurrentTime @" + t.toFixed(3)),
                        e = t,
                        this.state = Me) : (this.loadedmetadata = !1,
                        this.state = je),
                        this.nextLoadPosition = this.startPosition = this.lastCurrentTime = e,
                        this.tick()
                    }
                    ,
                    i.doTick = function() {
                        switch (this.state) {
                        case Me:
                            this.doTickIdle();
                            break;
                        case je:
                            var t, n = this.levels, r = this.trackId, i = null == n || null === (t = n[r]) || void 0 === t ? void 0 : t.details;
                            if (i) {
                                if (this.waitForCdnTuneIn(i))
                                    break;
                                this.state = Ge
                            }
                            break;
                        case Be:
                            var o, a = performance.now(), s = this.retryDate;
                            (!s || a >= s || null !== (o = this.media) && void 0 !== o && o.seeking) && (this.log("RetryDate reached, switch back to IDLE state"),
                            this.resetStartWhenNotLoaded(this.trackId),
                            this.state = Me);
                            break;
                        case Ge:
                            var u = this.waitingData;
                            if (u) {
                                var c = u.frag
                                  , l = u.part
                                  , f = u.cache
                                  , d = u.complete;
                                if (void 0 !== this.initPTS[c.cc]) {
                                    this.waitingData = null,
                                    this.waitingVideoCC = -1,
                                    this.state = Ue;
                                    var h = {
                                        frag: c,
                                        part: l,
                                        payload: f.flush(),
                                        networkDetails: null
                                    };
                                    this._handleFragmentLoadProgress(h),
                                    d && e.prototype._handleFragmentLoadComplete.call(this, h)
                                } else if (this.videoTrackCC !== this.waitingVideoCC)
                                    this.log("Waiting fragment cc (" + c.cc + ") cancelled because video is at cc " + this.videoTrackCC),
                                    this.clearWaitingFragment();
                                else {
                                    var p = this.getLoadPosition()
                                      , v = de.bufferInfo(this.mediaBuffer, p, this.config.maxBufferHole);
                                    be(v.end, this.config.maxFragLookUpTolerance, c) < 0 && (this.log("Waiting fragment cc (" + c.cc + ") @ " + c.start + " cancelled because another fragment at " + v.end + " is needed"),
                                    this.clearWaitingFragment())
                                }
                            } else
                                this.state = Me
                        }
                        this.onTickEnd()
                    }
                    ,
                    i.clearWaitingFragment = function() {
                        var e = this.waitingData;
                        e && (this.fragmentTracker.removeFragment(e.frag),
                        this.waitingData = null,
                        this.waitingVideoCC = -1,
                        this.state = Me)
                    }
                    ,
                    i.resetLoadingState = function() {
                        this.clearWaitingFragment(),
                        e.prototype.resetLoadingState.call(this)
                    }
                    ,
                    i.onTickEnd = function() {
                        var e = this.media;
                        if (e && e.readyState) {
                            var t = (this.mediaBuffer ? this.mediaBuffer : e).buffered;
                            !this.loadedmetadata && t.length && (this.loadedmetadata = !0),
                            this.lastCurrentTime = e.currentTime
                        }
                    }
                    ,
                    i.doTickIdle = function() {
                        var e, t, n = this.hls, r = this.levels, i = this.media, o = this.trackId, s = n.config;
                        if (r && r[o] && (i || !this.startFragRequested && s.startFragPrefetch)) {
                            var u = r[o].details;
                            if (!u || u.live && this.levelLastLoaded !== o || this.waitForCdnTuneIn(u))
                                this.state = je;
                            else {
                                var c = this.mediaBuffer ? this.mediaBuffer : this.media;
                                this.bufferFlushed && c && (this.bufferFlushed = !1,
                                this.afterBufferFlushed(c, v.a.AUDIO, P.b.AUDIO));
                                var l = this.getFwdBufferInfo(c, P.b.AUDIO);
                                if (null !== l) {
                                    var f = this.getFwdBufferInfo(this.videoBuffer ? this.videoBuffer : this.media, P.b.MAIN)
                                      , d = l.len
                                      , h = this.getMaxBufferLength(null == f ? void 0 : f.len)
                                      , p = this.audioSwitch;
                                    if (!(d >= h) || p) {
                                        if (!p && this._streamEnded(l, u))
                                            return n.trigger(a.a.BUFFER_EOS, {
                                                type: "audio"
                                            }),
                                            void (this.state = qe);
                                        var m = u.fragments[0].start
                                          , g = l.end;
                                        if (p && i) {
                                            var y = this.getLoadPosition();
                                            g = y,
                                            u.PTSKnown && y < m && (l.end > m || l.nextStart) && (this.log("Alt audio track ahead of main track, seek to start of alt audio track"),
                                            i.currentTime = m + .05)
                                        }
                                        if (!(f && g > f.end + u.targetduration) && (f && f.len || !l.len)) {
                                            var E = this.getNextFragment(g, u);
                                            E ? "identity" !== (null === (e = E.decryptdata) || void 0 === e ? void 0 : e.keyFormat) || null !== (t = E.decryptdata) && void 0 !== t && t.key ? this.loadFragment(E, u, g) : this.loadKey(E, u) : this.bufferFlushed = !0
                                        }
                                    }
                                }
                            }
                        }
                    }
                    ,
                    i.getMaxBufferLength = function(t) {
                        var n = e.prototype.getMaxBufferLength.call(this);
                        return t ? Math.max(n, t) : n
                    }
                    ,
                    i.onMediaDetaching = function() {
                        this.videoBuffer = null,
                        e.prototype.onMediaDetaching.call(this)
                    }
                    ,
                    i.onAudioTracksUpdated = function(e, t) {
                        var n = t.audioTracks;
                        this.resetTransmuxer(),
                        this.levels = n.map((function(e) {
                            return new Y(e)
                        }
                        ))
                    }
                    ,
                    i.onAudioTrackSwitching = function(e, t) {
                        var n = !!t.url;
                        this.trackId = t.id;
                        var r = this.fragCurrent;
                        null != r && r.loader && r.loader.abort(),
                        this.fragCurrent = null,
                        this.clearWaitingFragment(),
                        n ? this.setInterval(100) : this.resetTransmuxer(),
                        n ? (this.audioSwitch = !0,
                        this.state = Me) : this.state = xe,
                        this.tick()
                    }
                    ,
                    i.onManifestLoading = function() {
                        this.mainDetails = null,
                        this.fragmentTracker.removeAllFragments(),
                        this.startPosition = this.lastCurrentTime = 0,
                        this.bufferFlushed = !1
                    }
                    ,
                    i.onLevelLoaded = function(e, t) {
                        this.mainDetails = t.details,
                        null !== this.cachedTrackLoadedData && (this.hls.trigger(a.a.AUDIO_TRACK_LOADED, this.cachedTrackLoadedData),
                        this.cachedTrackLoadedData = null)
                    }
                    ,
                    i.onAudioTrackLoaded = function(e, t) {
                        var n;
                        if (null != this.mainDetails) {
                            var r = this.levels
                              , i = t.details
                              , o = t.id;
                            if (r) {
                                this.log("Track " + o + " loaded [" + i.startSN + "," + i.endSN + "],duration:" + i.totalduration);
                                var a = r[o]
                                  , s = 0;
                                if (i.live || null !== (n = a.details) && void 0 !== n && n.live) {
                                    var u = this.mainDetails;
                                    if (i.fragments[0] || (i.deltaUpdateFailed = !0),
                                    i.deltaUpdateFailed || !u)
                                        return;
                                    !a.details && i.hasProgramDateTime && u.hasProgramDateTime ? (ye(i, u),
                                    s = i.fragments[0].start) : s = this.alignPlaylists(i, a.details)
                                }
                                a.details = i,
                                this.levelLastLoaded = o,
                                this.startFragRequested || !this.mainDetails && i.live || this.setStartPosition(a.details, s),
                                this.state !== je || this.waitForCdnTuneIn(i) || (this.state = Me),
                                this.tick()
                            } else
                                this.warn("Audio tracks were reset while loading level " + o)
                        } else
                            this.cachedTrackLoadedData = t
                    }
                    ,
                    i._handleFragmentLoadProgress = function(e) {
                        var t, n = e.frag, r = e.part, i = e.payload, o = this.config, a = this.trackId, s = this.levels;
                        if (s) {
                            var u = s[a]
                              , c = u.details
                              , l = o.defaultAudioCodec || u.audioCodec || "mp4a.40.2"
                              , f = this.transmuxer;
                            f || (f = this.transmuxer = new et(this.hls,P.b.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));
                            var d = this.initPTS[n.cc]
                              , h = null === (t = n.initSegment) || void 0 === t ? void 0 : t.data;
                            if (void 0 !== d) {
                                var p = r ? r.index : -1
                                  , v = -1 !== p
                                  , m = new he(n.level,n.sn,n.stats.chunkCount,i.byteLength,p,v);
                                f.push(i, h, l, "", n, r, c.totalduration, !1, m, d)
                            } else
                                this.log("Unknown video PTS for cc " + n.cc + ", waiting for video PTS before demuxing audio frag " + n.sn + " of [" + c.startSN + " ," + c.endSN + "],track " + a),
                                (this.waitingData = this.waitingData || {
                                    frag: n,
                                    part: r,
                                    cache: new st,
                                    complete: !1
                                }).cache.push(new Uint8Array(i)),
                                this.waitingVideoCC = this.videoTrackCC,
                                this.state = Ge
                        } else
                            this.warn("Audio tracks were reset while fragment load was in progress. Fragment " + n.sn + " of level " + n.level + " will not be buffered")
                    }
                    ,
                    i._handleFragmentLoadComplete = function(t) {
                        this.waitingData ? this.waitingData.complete = !0 : e.prototype._handleFragmentLoadComplete.call(this, t)
                    }
                    ,
                    i.onBufferReset = function() {
                        this.mediaBuffer = this.videoBuffer = null,
                        this.loadedmetadata = !1
                    }
                    ,
                    i.onBufferCreated = function(e, t) {
                        var n = t.tracks.audio;
                        n && (this.mediaBuffer = n.buffer || null),
                        t.tracks.video && (this.videoBuffer = t.tracks.video.buffer || null)
                    }
                    ,
                    i.onFragBuffered = function(e, t) {
                        var n = t.frag
                          , r = t.part;
                        n.type === P.b.AUDIO && (this.fragContextChanged(n) ? this.warn("Fragment " + n.sn + (r ? " p: " + r.index : "") + " of level " + n.level + " finished buffering, but was aborted. state: " + this.state + ", audioSwitch: " + this.audioSwitch) : ("initSegment" !== n.sn && (this.fragPrevious = n,
                        this.audioSwitch && (this.audioSwitch = !1,
                        this.hls.trigger(a.a.AUDIO_TRACK_SWITCHED, {
                            id: this.trackId
                        }))),
                        this.fragBufferedComplete(n, r)))
                    }
                    ,
                    i.onError = function(t, n) {
                        switch (n.details) {
                        case s.a.FRAG_LOAD_ERROR:
                        case s.a.FRAG_LOAD_TIMEOUT:
                        case s.a.KEY_LOAD_ERROR:
                        case s.a.KEY_LOAD_TIMEOUT:
                            this.onFragmentOrKeyLoadError(P.b.AUDIO, n);
                            break;
                        case s.a.AUDIO_TRACK_LOAD_ERROR:
                        case s.a.AUDIO_TRACK_LOAD_TIMEOUT:
                            this.state !== We && this.state !== xe && (this.state = n.fatal ? We : Me,
                            this.warn(n.details + " while loading frag, switching to " + this.state + " state"));
                            break;
                        case s.a.BUFFER_FULL_ERROR:
                            if ("audio" === n.parent && (this.state === Ve || this.state === He)) {
                                var r = !0
                                  , i = this.getFwdBufferInfo(this.mediaBuffer, P.b.AUDIO);
                                i && i.len > .5 && (r = !this.reduceMaxBufferLength(i.len)),
                                r && (this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),
                                this.fragCurrent = null,
                                e.prototype.flushMainBuffer.call(this, 0, Number.POSITIVE_INFINITY, "audio")),
                                this.resetLoadingState()
                            }
                        }
                    }
                    ,
                    i.onBufferFlushed = function(e, t) {
                        t.type === v.a.AUDIO && (this.bufferFlushed = !0)
                    }
                    ,
                    i._handleTransmuxComplete = function(e) {
                        var t, n = "audio", r = this.hls, i = e.remuxResult, o = e.chunkMeta, s = this.getCurrentContext(o);
                        if (!s)
                            return this.warn("The loading context changed while buffering fragment " + o.sn + " of level " + o.level + ". This chunk will not be buffered."),
                            void this.resetStartWhenNotLoaded(o.level);
                        var u = s.frag
                          , c = s.part
                          , l = s.level.details
                          , f = i.audio
                          , d = i.text
                          , h = i.id3
                          , p = i.initSegment;
                        if (!this.fragContextChanged(u) && l) {
                            if (this.state = Ve,
                            this.audioSwitch && f && this.completeAudioSwitch(),
                            null != p && p.tracks && (this._bufferInitSegment(p.tracks, u, o),
                            r.trigger(a.a.FRAG_PARSING_INIT_SEGMENT, {
                                frag: u,
                                id: n,
                                tracks: p.tracks
                            })),
                            f) {
                                var m = f.startPTS
                                  , g = f.endPTS
                                  , y = f.startDTS
                                  , E = f.endDTS;
                                c && (c.elementaryStreams[v.a.AUDIO] = {
                                    startPTS: m,
                                    endPTS: g,
                                    startDTS: y,
                                    endDTS: E
                                }),
                                u.setElementaryStreamInfo(v.a.AUDIO, m, g, y, E),
                                this.bufferFragmentData(f, u, c, o)
                            }
                            if (null != h && null !== (t = h.samples) && void 0 !== t && t.length) {
                                var T = ut({
                                    id: n,
                                    frag: u,
                                    details: l
                                }, h);
                                r.trigger(a.a.FRAG_PARSING_METADATA, T)
                            }
                            if (d) {
                                var b = ut({
                                    id: n,
                                    frag: u,
                                    details: l
                                }, d);
                                r.trigger(a.a.FRAG_PARSING_USERDATA, b)
                            }
                        }
                    }
                    ,
                    i._bufferInitSegment = function(e, t, n) {
                        if (this.state === Ve) {
                            e.video && delete e.video;
                            var r = e.audio;
                            if (r) {
                                r.levelCodec = r.codec,
                                r.id = "audio",
                                this.log("Init audio buffer, container:" + r.container + ", codecs[parsed]=[" + r.codec + "]"),
                                this.hls.trigger(a.a.BUFFER_CODECS, e);
                                var i = r.initSegment;
                                if (null != i && i.byteLength) {
                                    var o = {
                                        type: "audio",
                                        frag: t,
                                        part: null,
                                        chunkMeta: n,
                                        parent: t.type,
                                        data: i
                                    };
                                    this.hls.trigger(a.a.BUFFER_APPENDING, o)
                                }
                                this.tick()
                            }
                        }
                    }
                    ,
                    i.loadFragment = function(t, n, r) {
                        var i = this.fragmentTracker.getState(t);
                        this.fragCurrent = t,
                        (this.audioSwitch || i === ie.NOT_LOADED || i === ie.PARTIAL) && ("initSegment" === t.sn ? this._loadInitSegment(t) : n.live && !Object(o.a)(this.initPTS[t.cc]) ? (this.log("Waiting for video PTS in continuity counter " + t.cc + " of live stream before loading audio fragment " + t.sn + " of level " + this.trackId),
                        this.state = Ge) : (this.startFragRequested = !0,
                        e.prototype.loadFragment.call(this, t, n, r)))
                    }
                    ,
                    i.completeAudioSwitch = function() {
                        var t = this.hls
                          , n = this.media
                          , r = this.trackId;
                        n && (this.log("Switching audio track : flushing all audio"),
                        e.prototype.flushMainBuffer.call(this, 0, Number.POSITIVE_INFINITY, "audio")),
                        this.audioSwitch = !1,
                        t.trigger(a.a.AUDIO_TRACK_SWITCHED, {
                            id: r
                        })
                    }
                    ,
                    r
                }(Ke);
                function ft(e, t) {
                    return (ft = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                        return e.__proto__ = t,
                        e
                    }
                    )(e, t)
                }
                var dt = function(e) {
                    var t, n;
                    function r(t) {
                        var n;
                        return (n = e.call(this, t, "[audio-track-controller]") || this).tracks = [],
                        n.groupId = null,
                        n.tracksInGroup = [],
                        n.trackId = -1,
                        n.trackName = "",
                        n.selectDefaultTrack = !0,
                        n.registerListeners(),
                        n
                    }
                    n = e,
                    (t = r).prototype = Object.create(n.prototype),
                    t.prototype.constructor = t,
                    ft(t, n);
                    var i, o, u = r.prototype;
                    return u.registerListeners = function() {
                        var e = this.hls;
                        e.on(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.on(a.a.MANIFEST_PARSED, this.onManifestParsed, this),
                        e.on(a.a.LEVEL_LOADING, this.onLevelLoading, this),
                        e.on(a.a.LEVEL_SWITCHING, this.onLevelSwitching, this),
                        e.on(a.a.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),
                        e.on(a.a.ERROR, this.onError, this)
                    }
                    ,
                    u.unregisterListeners = function() {
                        var e = this.hls;
                        e.off(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.off(a.a.MANIFEST_PARSED, this.onManifestParsed, this),
                        e.off(a.a.LEVEL_LOADING, this.onLevelLoading, this),
                        e.off(a.a.LEVEL_SWITCHING, this.onLevelSwitching, this),
                        e.off(a.a.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),
                        e.off(a.a.ERROR, this.onError, this)
                    }
                    ,
                    u.destroy = function() {
                        this.unregisterListeners(),
                        this.tracks.length = 0,
                        this.tracksInGroup.length = 0,
                        e.prototype.destroy.call(this)
                    }
                    ,
                    u.onManifestLoading = function() {
                        this.tracks = [],
                        this.groupId = null,
                        this.tracksInGroup = [],
                        this.trackId = -1,
                        this.trackName = "",
                        this.selectDefaultTrack = !0
                    }
                    ,
                    u.onManifestParsed = function(e, t) {
                        this.tracks = t.audioTracks || []
                    }
                    ,
                    u.onAudioTrackLoaded = function(e, t) {
                        var n = t.id
                          , r = t.details
                          , i = this.tracksInGroup[n];
                        if (i) {
                            var o = i.details;
                            i.details = t.details,
                            this.log("audioTrack " + n + " loaded [" + r.startSN + "-" + r.endSN + "]"),
                            n === this.trackId && (this.retryCount = 0,
                            this.playlistLoaded(n, t, o))
                        } else
                            this.warn("Invalid audio track id " + n)
                    }
                    ,
                    u.onLevelLoading = function(e, t) {
                        this.switchLevel(t.level)
                    }
                    ,
                    u.onLevelSwitching = function(e, t) {
                        this.switchLevel(t.level)
                    }
                    ,
                    u.switchLevel = function(e) {
                        var t = this.hls.levels[e];
                        if (null != t && t.audioGroupIds) {
                            var n = t.audioGroupIds[t.urlId];
                            if (this.groupId !== n) {
                                this.groupId = n;
                                var r = this.tracks.filter((function(e) {
                                    return !n || e.groupId === n
                                }
                                ));
                                this.selectDefaultTrack && !r.some((function(e) {
                                    return e.default
                                }
                                )) && (this.selectDefaultTrack = !1),
                                this.tracksInGroup = r;
                                var i = {
                                    audioTracks: r
                                };
                                this.log("Updating audio tracks, " + r.length + ' track(s) found in "' + n + '" group-id'),
                                this.hls.trigger(a.a.AUDIO_TRACKS_UPDATED, i),
                                this.selectInitialTrack()
                            }
                        }
                    }
                    ,
                    u.onError = function(t, n) {
                        e.prototype.onError.call(this, t, n),
                        !n.fatal && n.context && n.context.type === P.a.AUDIO_TRACK && n.context.id === this.trackId && n.context.groupId === this.groupId && this.retryLoadingOrFail(n)
                    }
                    ,
                    u.setAudioTrack = function(e) {
                        var t = this.tracksInGroup;
                        if (e < 0 || e >= t.length)
                            this.warn("Invalid id passed to audio-track controller");
                        else {
                            this.clearTimer();
                            var n = t[this.trackId];
                            this.log("Now switching to audio-track index " + e);
                            var r = t[e]
                              , i = r.id
                              , o = r.groupId
                              , s = void 0 === o ? "" : o
                              , u = r.name
                              , c = r.type
                              , l = r.url;
                            if (this.trackId = e,
                            this.trackName = u,
                            this.selectDefaultTrack = !1,
                            this.hls.trigger(a.a.AUDIO_TRACK_SWITCHING, {
                                id: i,
                                groupId: s,
                                name: u,
                                type: c,
                                url: l
                            }),
                            !r.details || r.details.live) {
                                var f = this.switchParams(r.url, null == n ? void 0 : n.details);
                                this.loadPlaylist(f)
                            }
                        }
                    }
                    ,
                    u.selectInitialTrack = function() {
                        this.tracksInGroup;
                        var e = this.trackName
                          , t = this.findTrackId(e) || this.findTrackId();
                        -1 !== t ? this.setAudioTrack(t) : (this.warn("No track found for running audio group-ID: " + this.groupId),
                        this.hls.trigger(a.a.ERROR, {
                            type: s.b.MEDIA_ERROR,
                            details: s.a.AUDIO_TRACK_LOAD_ERROR,
                            fatal: !0
                        }))
                    }
                    ,
                    u.findTrackId = function(e) {
                        for (var t = this.tracksInGroup, n = 0; n < t.length; n++) {
                            var r = t[n];
                            if ((!this.selectDefaultTrack || r.default) && (!e || e === r.name))
                                return r.id
                        }
                        return -1
                    }
                    ,
                    u.loadPlaylist = function(e) {
                        var t = this.tracksInGroup[this.trackId];
                        if (this.shouldLoadTrack(t)) {
                            var n = t.id
                              , r = t.groupId
                              , i = t.url;
                            if (e)
                                try {
                                    i = e.addDirectives(i)
                                } catch (e) {
                                    this.warn("Could not construct new URL with HLS Delivery Directives: " + e)
                                }
                            this.log("loading audio-track playlist for id: " + n),
                            this.clearTimer(),
                            this.hls.trigger(a.a.AUDIO_TRACK_LOADING, {
                                url: i,
                                id: n,
                                groupId: r,
                                deliveryDirectives: e || null
                            })
                        }
                    }
                    ,
                    i = r,
                    (o = [{
                        key: "audioTracks",
                        get: function() {
                            return this.tracksInGroup
                        }
                    }, {
                        key: "audioTrack",
                        get: function() {
                            return this.trackId
                        },
                        set: function(e) {
                            this.selectDefaultTrack = !1,
                            this.setAudioTrack(e)
                        }
                    }]) && function(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }(i.prototype, o),
                    Object.defineProperty(i, "prototype", {
                        writable: !1
                    }),
                    r
                }(te);
                function ht(e, t) {
                    return (ht = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                        return e.__proto__ = t,
                        e
                    }
                    )(e, t)
                }
                var pt = function(e) {
                    var t, n;
                    function r(t, n) {
                        var r;
                        return (r = e.call(this, t, n, "[subtitle-stream-controller]") || this).levels = [],
                        r.currentTrackId = -1,
                        r.tracksBuffered = [],
                        r.mainDetails = null,
                        r._registerListeners(),
                        r
                    }
                    n = e,
                    (t = r).prototype = Object.create(n.prototype),
                    t.prototype.constructor = t,
                    ht(t, n);
                    var i, o, s = r.prototype;
                    return s.onHandlerDestroying = function() {
                        this._unregisterListeners(),
                        this.mainDetails = null
                    }
                    ,
                    s._registerListeners = function() {
                        var e = this.hls;
                        e.on(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        e.on(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        e.on(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.on(a.a.LEVEL_LOADED, this.onLevelLoaded, this),
                        e.on(a.a.ERROR, this.onError, this),
                        e.on(a.a.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this),
                        e.on(a.a.SUBTITLE_TRACK_SWITCH, this.onSubtitleTrackSwitch, this),
                        e.on(a.a.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this),
                        e.on(a.a.SUBTITLE_FRAG_PROCESSED, this.onSubtitleFragProcessed, this),
                        e.on(a.a.BUFFER_FLUSHING, this.onBufferFlushing, this)
                    }
                    ,
                    s._unregisterListeners = function() {
                        var e = this.hls;
                        e.off(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        e.off(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        e.off(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.off(a.a.LEVEL_LOADED, this.onLevelLoaded, this),
                        e.off(a.a.ERROR, this.onError, this),
                        e.off(a.a.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this),
                        e.off(a.a.SUBTITLE_TRACK_SWITCH, this.onSubtitleTrackSwitch, this),
                        e.off(a.a.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this),
                        e.off(a.a.SUBTITLE_FRAG_PROCESSED, this.onSubtitleFragProcessed, this),
                        e.off(a.a.BUFFER_FLUSHING, this.onBufferFlushing, this)
                    }
                    ,
                    s.startLoad = function() {
                        this.stopLoad(),
                        this.state = Me,
                        this.setInterval(500),
                        this.tick()
                    }
                    ,
                    s.onManifestLoading = function() {
                        this.mainDetails = null,
                        this.fragmentTracker.removeAllFragments()
                    }
                    ,
                    s.onLevelLoaded = function(e, t) {
                        this.mainDetails = t.details
                    }
                    ,
                    s.onSubtitleFragProcessed = function(e, t) {
                        var n = t.frag
                          , r = t.success;
                        if (this.fragPrevious = n,
                        this.state = Me,
                        r) {
                            var i = this.tracksBuffered[this.currentTrackId];
                            if (i) {
                                for (var o, a = n.start, s = 0; s < i.length; s++)
                                    if (a >= i[s].start && a <= i[s].end) {
                                        o = i[s];
                                        break
                                    }
                                var u = n.start + n.duration;
                                o ? o.end = u : (o = {
                                    start: a,
                                    end: u
                                },
                                i.push(o)),
                                this.fragmentTracker.fragBuffered(n)
                            }
                        }
                    }
                    ,
                    s.onBufferFlushing = function(e, t) {
                        var n = t.startOffset
                          , r = t.endOffset;
                        if (0 === n && r !== Number.POSITIVE_INFINITY) {
                            var i = this.currentTrackId
                              , o = this.levels;
                            if (!o.length || !o[i] || !o[i].details)
                                return;
                            var a = r - o[i].details.targetduration;
                            if (a <= 0)
                                return;
                            t.endOffsetSubtitles = Math.max(0, a),
                            this.tracksBuffered.forEach((function(e) {
                                for (var t = 0; t < e.length; )
                                    if (e[t].end <= a)
                                        e.shift();
                                    else {
                                        if (!(e[t].start < a))
                                            break;
                                        e[t].start = a,
                                        t++
                                    }
                            }
                            )),
                            this.fragmentTracker.removeFragmentsInRange(n, a, P.b.SUBTITLE)
                        }
                    }
                    ,
                    s.onError = function(e, t) {
                        var n, r = t.frag;
                        r && r.type === P.b.SUBTITLE && (null !== (n = this.fragCurrent) && void 0 !== n && n.loader && this.fragCurrent.loader.abort(),
                        this.state = Me)
                    }
                    ,
                    s.onSubtitleTracksUpdated = function(e, t) {
                        var n = this
                          , r = t.subtitleTracks;
                        this.tracksBuffered = [],
                        this.levels = r.map((function(e) {
                            return new Y(e)
                        }
                        )),
                        this.fragmentTracker.removeAllFragments(),
                        this.fragPrevious = null,
                        this.levels.forEach((function(e) {
                            n.tracksBuffered[e.id] = []
                        }
                        )),
                        this.mediaBuffer = null
                    }
                    ,
                    s.onSubtitleTrackSwitch = function(e, t) {
                        if (this.currentTrackId = t.id,
                        this.levels.length && -1 !== this.currentTrackId) {
                            var n = this.levels[this.currentTrackId];
                            null != n && n.details ? this.mediaBuffer = this.mediaBufferTimeRanges : this.mediaBuffer = null,
                            n && this.setInterval(500)
                        } else
                            this.clearInterval()
                    }
                    ,
                    s.onSubtitleTrackLoaded = function(e, t) {
                        var n, r = t.details, i = t.id, o = this.currentTrackId, a = this.levels;
                        if (a.length) {
                            var s = a[o];
                            if (!(i >= a.length || i !== o) && s) {
                                if (this.mediaBuffer = this.mediaBufferTimeRanges,
                                r.live || null !== (n = s.details) && void 0 !== n && n.live) {
                                    var u = this.mainDetails;
                                    if (r.deltaUpdateFailed || !u)
                                        return;
                                    var c = u.fragments[0];
                                    s.details ? 0 === this.alignPlaylists(r, s.details) && c && ee(r, c.start) : r.hasProgramDateTime && u.hasProgramDateTime ? ye(r, u) : c && ee(r, c.start)
                                }
                                s.details = r,
                                this.levelLastLoaded = i,
                                this.tick(),
                                r.live && !this.fragCurrent && this.media && this.state === Me && (Te(null, r.fragments, this.media.currentTime, 0) || (this.warn("Subtitle playlist not aligned with playback"),
                                s.details = void 0))
                            }
                        }
                    }
                    ,
                    s._handleFragmentLoadComplete = function(e) {
                        var t = e.frag
                          , n = e.payload
                          , r = t.decryptdata
                          , i = this.hls;
                        if (!this.fragContextChanged(t) && n && n.byteLength > 0 && r && r.key && r.iv && "AES-128" === r.method) {
                            var o = performance.now();
                            this.decrypter.webCryptoDecrypt(new Uint8Array(n), r.key.buffer, r.iv.buffer).then((function(e) {
                                var n = performance.now();
                                i.trigger(a.a.FRAG_DECRYPTED, {
                                    frag: t,
                                    payload: e,
                                    stats: {
                                        tstart: o,
                                        tdecrypt: n
                                    }
                                })
                            }
                            ))
                        }
                    }
                    ,
                    s.doTick = function() {
                        if (this.media) {
                            if (this.state === Me) {
                                var e = this.currentTrackId
                                  , t = this.levels;
                                if (!t.length || !t[e] || !t[e].details)
                                    return;
                                var n = t[e].details
                                  , r = n.targetduration
                                  , i = this.config
                                  , o = this.media
                                  , a = de.bufferedInfo(this.tracksBuffered[this.currentTrackId] || [], o.currentTime - r, i.maxBufferHole)
                                  , s = a.end;
                                if (a.len > this.getMaxBufferLength() + r)
                                    return;
                                var u, c = n.fragments, l = c.length, f = n.edge, d = this.fragPrevious;
                                if (s < f) {
                                    var h = i.maxFragLookUpTolerance;
                                    !(u = Te(d, c, Math.max(c[0].start, s), h)) && d && d.start < c[0].start && (u = c[0])
                                } else
                                    u = c[l - 1];
                                if (!(u = this.mapToInitFragWhenRequired(u)))
                                    return;
                                if (this.fragmentTracker.getState(u) !== ie.NOT_LOADED)
                                    return;
                                u.encrypted ? this.loadKey(u, n) : this.loadFragment(u, n, s)
                            }
                        } else
                            this.state = Me
                    }
                    ,
                    s.loadFragment = function(t, n, r) {
                        this.fragCurrent = t,
                        "initSegment" === t.sn ? this._loadInitSegment(t) : e.prototype.loadFragment.call(this, t, n, r)
                    }
                    ,
                    i = r,
                    (o = [{
                        key: "mediaBufferTimeRanges",
                        get: function() {
                            return new vt(this.tracksBuffered[this.currentTrackId] || [])
                        }
                    }]) && function(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }(i.prototype, o),
                    Object.defineProperty(i, "prototype", {
                        writable: !1
                    }),
                    r
                }(Ke)
                  , vt = function(e) {
                    this.buffered = void 0;
                    var t = function(t, n, r) {
                        if ((n >>>= 0) > r - 1)
                            throw new DOMException("Failed to execute '" + t + "' on 'TimeRanges': The index provided (" + n + ") is greater than the maximum bound (" + r + ")");
                        return e[n][t]
                    };
                    this.buffered = {
                        get length() {
                            return e.length
                        },
                        end: function(n) {
                            return t("end", n, e.length)
                        },
                        start: function(n) {
                            return t("start", n, e.length)
                        }
                    }
                };
                function mt(e, t) {
                    return (mt = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                        return e.__proto__ = t,
                        e
                    }
                    )(e, t)
                }
                function gt(e) {
                    for (var t = [], n = 0; n < e.length; n++) {
                        var r = e[n];
                        "subtitles" === r.kind && r.label && t.push(e[n])
                    }
                    return t
                }
                var yt, Et = function(e) {
                    var t, n;
                    function r(t) {
                        var n;
                        return (n = e.call(this, t, "[subtitle-track-controller]") || this).media = null,
                        n.tracks = [],
                        n.groupId = null,
                        n.tracksInGroup = [],
                        n.trackId = -1,
                        n.selectDefaultTrack = !0,
                        n.queuedDefaultTrack = -1,
                        n.trackChangeListener = function() {
                            return n.onTextTracksChanged()
                        }
                        ,
                        n.asyncPollTrackChange = function() {
                            return n.pollTrackChange(0)
                        }
                        ,
                        n.useTextTrackPolling = !1,
                        n.subtitlePollingInterval = -1,
                        n._subtitleDisplay = !0,
                        n.registerListeners(),
                        n
                    }
                    n = e,
                    (t = r).prototype = Object.create(n.prototype),
                    t.prototype.constructor = t,
                    mt(t, n);
                    var i, o, s = r.prototype;
                    return s.destroy = function() {
                        this.unregisterListeners(),
                        this.tracks.length = 0,
                        this.tracksInGroup.length = 0,
                        this.trackChangeListener = this.asyncPollTrackChange = null,
                        e.prototype.destroy.call(this)
                    }
                    ,
                    s.registerListeners = function() {
                        var e = this.hls;
                        e.on(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        e.on(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        e.on(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.on(a.a.MANIFEST_PARSED, this.onManifestParsed, this),
                        e.on(a.a.LEVEL_LOADING, this.onLevelLoading, this),
                        e.on(a.a.LEVEL_SWITCHING, this.onLevelSwitching, this),
                        e.on(a.a.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this),
                        e.on(a.a.ERROR, this.onError, this)
                    }
                    ,
                    s.unregisterListeners = function() {
                        var e = this.hls;
                        e.off(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        e.off(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        e.off(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.off(a.a.MANIFEST_PARSED, this.onManifestParsed, this),
                        e.off(a.a.LEVEL_LOADING, this.onLevelLoading, this),
                        e.off(a.a.LEVEL_SWITCHING, this.onLevelSwitching, this),
                        e.off(a.a.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this),
                        e.off(a.a.ERROR, this.onError, this)
                    }
                    ,
                    s.onMediaAttached = function(e, t) {
                        this.media = t.media,
                        this.media && (this.queuedDefaultTrack > -1 && (this.subtitleTrack = this.queuedDefaultTrack,
                        this.queuedDefaultTrack = -1),
                        this.useTextTrackPolling = !(this.media.textTracks && "onchange"in this.media.textTracks),
                        this.useTextTrackPolling ? this.pollTrackChange(500) : this.media.textTracks.addEventListener("change", this.asyncPollTrackChange))
                    }
                    ,
                    s.pollTrackChange = function(e) {
                        self.clearInterval(this.subtitlePollingInterval),
                        this.subtitlePollingInterval = self.setInterval(this.trackChangeListener, e)
                    }
                    ,
                    s.onMediaDetaching = function() {
                        this.media && (self.clearInterval(this.subtitlePollingInterval),
                        this.useTextTrackPolling || this.media.textTracks.removeEventListener("change", this.asyncPollTrackChange),
                        this.trackId > -1 && (this.queuedDefaultTrack = this.trackId),
                        gt(this.media.textTracks).forEach((function(e) {
                            M(e)
                        }
                        )),
                        this.subtitleTrack = -1,
                        this.media = null)
                    }
                    ,
                    s.onManifestLoading = function() {
                        this.tracks = [],
                        this.groupId = null,
                        this.tracksInGroup = [],
                        this.trackId = -1,
                        this.selectDefaultTrack = !0
                    }
                    ,
                    s.onManifestParsed = function(e, t) {
                        this.tracks = t.subtitleTracks
                    }
                    ,
                    s.onSubtitleTrackLoaded = function(e, t) {
                        var n = t.id
                          , r = t.details
                          , i = this.trackId
                          , o = this.tracksInGroup[i];
                        if (o) {
                            var a = o.details;
                            o.details = t.details,
                            this.log("subtitle track " + n + " loaded [" + r.startSN + "-" + r.endSN + "]"),
                            n === this.trackId && (this.retryCount = 0,
                            this.playlistLoaded(n, t, a))
                        } else
                            this.warn("Invalid subtitle track id " + n)
                    }
                    ,
                    s.onLevelLoading = function(e, t) {
                        this.switchLevel(t.level)
                    }
                    ,
                    s.onLevelSwitching = function(e, t) {
                        this.switchLevel(t.level)
                    }
                    ,
                    s.switchLevel = function(e) {
                        var t = this.hls.levels[e];
                        if (null != t && t.textGroupIds) {
                            var n = t.textGroupIds[t.urlId];
                            if (this.groupId !== n) {
                                var r = this.tracksInGroup ? this.tracksInGroup[this.trackId] : void 0
                                  , i = this.tracks.filter((function(e) {
                                    return !n || e.groupId === n
                                }
                                ));
                                this.tracksInGroup = i;
                                var o = this.findTrackId(null == r ? void 0 : r.name) || this.findTrackId();
                                this.groupId = n;
                                var s = {
                                    subtitleTracks: i
                                };
                                this.log("Updating subtitle tracks, " + i.length + ' track(s) found in "' + n + '" group-id'),
                                this.hls.trigger(a.a.SUBTITLE_TRACKS_UPDATED, s),
                                -1 !== o && this.setSubtitleTrack(o, r)
                            }
                        }
                    }
                    ,
                    s.findTrackId = function(e) {
                        for (var t = this.tracksInGroup, n = 0; n < t.length; n++) {
                            var r = t[n];
                            if ((!this.selectDefaultTrack || r.default) && (!e || e === r.name))
                                return r.id
                        }
                        return -1
                    }
                    ,
                    s.onError = function(t, n) {
                        e.prototype.onError.call(this, t, n),
                        !n.fatal && n.context && n.context.type === P.a.SUBTITLE_TRACK && n.context.id === this.trackId && n.context.groupId === this.groupId && this.retryLoadingOrFail(n)
                    }
                    ,
                    s.loadPlaylist = function(e) {
                        var t = this.tracksInGroup[this.trackId];
                        if (this.shouldLoadTrack(t)) {
                            var n = t.id
                              , r = t.groupId
                              , i = t.url;
                            if (e)
                                try {
                                    i = e.addDirectives(i)
                                } catch (e) {
                                    this.warn("Could not construct new URL with HLS Delivery Directives: " + e)
                                }
                            this.log("Loading subtitle playlist for id " + n),
                            this.hls.trigger(a.a.SUBTITLE_TRACK_LOADING, {
                                url: i,
                                id: n,
                                groupId: r,
                                deliveryDirectives: e || null
                            })
                        }
                    }
                    ,
                    s.toggleTrackModes = function(e) {
                        var t = this
                          , n = this.media
                          , r = this.trackId;
                        if (n) {
                            var i = gt(n.textTracks)
                              , o = i.filter((function(e) {
                                return e.groupId === t.groupId
                            }
                            ));
                            if (-1 === e)
                                [].slice.call(i).forEach((function(e) {
                                    e.mode = "disabled"
                                }
                                ));
                            else {
                                var a = o[r];
                                a && (a.mode = "disabled")
                            }
                            var s = o[e];
                            s && (s.mode = this.subtitleDisplay ? "showing" : "hidden")
                        }
                    }
                    ,
                    s.setSubtitleTrack = function(e, t) {
                        var n, r = this.tracksInGroup;
                        if (this.media) {
                            if (this.trackId !== e && this.toggleTrackModes(e),
                            !(this.trackId === e && (-1 === e || null !== (n = r[e]) && void 0 !== n && n.details) || e < -1 || e >= r.length)) {
                                this.clearTimer();
                                var i = r[e];
                                if (this.log("Switching to subtitle track " + e),
                                this.trackId = e,
                                i) {
                                    var o = i.id
                                      , s = i.groupId
                                      , u = void 0 === s ? "" : s
                                      , c = i.name
                                      , l = i.type
                                      , f = i.url;
                                    this.hls.trigger(a.a.SUBTITLE_TRACK_SWITCH, {
                                        id: o,
                                        groupId: u,
                                        name: c,
                                        type: l,
                                        url: f
                                    });
                                    var d = this.switchParams(i.url, null == t ? void 0 : t.details);
                                    this.loadPlaylist(d)
                                } else
                                    this.hls.trigger(a.a.SUBTITLE_TRACK_SWITCH, {
                                        id: e
                                    })
                            }
                        } else
                            this.queuedDefaultTrack = e
                    }
                    ,
                    s.onTextTracksChanged = function() {
                        if (this.useTextTrackPolling || self.clearInterval(this.subtitlePollingInterval),
                        this.media && this.hls.config.renderTextTracksNatively) {
                            for (var e = -1, t = gt(this.media.textTracks), n = 0; n < t.length; n++)
                                if ("hidden" === t[n].mode)
                                    e = n;
                                else if ("showing" === t[n].mode) {
                                    e = n;
                                    break
                                }
                            this.subtitleTrack !== e && (this.subtitleTrack = e)
                        }
                    }
                    ,
                    i = r,
                    (o = [{
                        key: "subtitleDisplay",
                        get: function() {
                            return this._subtitleDisplay
                        },
                        set: function(e) {
                            this._subtitleDisplay = e,
                            this.trackId > -1 && this.toggleTrackModes(this.trackId)
                        }
                    }, {
                        key: "subtitleTracks",
                        get: function() {
                            return this.tracksInGroup
                        }
                    }, {
                        key: "subtitleTrack",
                        get: function() {
                            return this.trackId
                        },
                        set: function(e) {
                            this.selectDefaultTrack = !1;
                            var t = this.tracksInGroup ? this.tracksInGroup[this.trackId] : void 0;
                            this.setSubtitleTrack(e, t)
                        }
                    }]) && function(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }(i.prototype, o),
                    Object.defineProperty(i, "prototype", {
                        writable: !1
                    }),
                    r
                }(te), Tt = function() {
                    function e(e) {
                        this.buffers = void 0,
                        this.queues = {
                            video: [],
                            audio: [],
                            audiovideo: []
                        },
                        this.buffers = e
                    }
                    var t = e.prototype;
                    return t.append = function(e, t) {
                        var n = this.queues[t];
                        n.push(e),
                        1 === n.length && this.buffers[t] && this.executeNext(t)
                    }
                    ,
                    t.insertAbort = function(e, t) {
                        this.queues[t].unshift(e),
                        this.executeNext(t)
                    }
                    ,
                    t.appendBlocker = function(e) {
                        var t, n = new Promise((function(e) {
                            t = e
                        }
                        )), r = {
                            execute: t,
                            onStart: function() {},
                            onComplete: function() {},
                            onError: function() {}
                        };
                        return this.append(r, e),
                        n
                    }
                    ,
                    t.executeNext = function(e) {
                        var t = this.buffers
                          , n = this.queues
                          , r = t[e]
                          , i = n[e];
                        if (i.length) {
                            var o = i[0];
                            try {
                                o.execute()
                            } catch (t) {
                                u.b.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),
                                o.onError(t),
                                r && r.updating || (i.shift(),
                                this.executeNext(e))
                            }
                        }
                    }
                    ,
                    t.shiftAndExecuteNext = function(e) {
                        this.queues[e].shift(),
                        this.executeNext(e)
                    }
                    ,
                    t.current = function(e) {
                        return this.queues[e][0]
                    }
                    ,
                    e
                }(), bt = ze(), _t = /([ha]vc.)(?:\.[^.,]+)+/, St = function() {
                    function e(e) {
                        var t = this;
                        this.details = null,
                        this._objectUrl = null,
                        this.operationQueue = void 0,
                        this.listeners = void 0,
                        this.hls = void 0,
                        this.bufferCodecEventsExpected = 0,
                        this._bufferCodecEventsTotal = 0,
                        this.media = null,
                        this.mediaSource = null,
                        this.appendError = 0,
                        this.tracks = {},
                        this.pendingTracks = {},
                        this.sourceBuffer = void 0,
                        this._onMediaSourceOpen = function() {
                            var e = t.hls
                              , n = t.media
                              , r = t.mediaSource;
                            u.b.log("[buffer-controller]: Media source opened"),
                            n && (t.updateMediaElementDuration(),
                            e.trigger(a.a.MEDIA_ATTACHED, {
                                media: n
                            })),
                            r && r.removeEventListener("sourceopen", t._onMediaSourceOpen),
                            t.checkPendingTracks()
                        }
                        ,
                        this._onMediaSourceClose = function() {
                            u.b.log("[buffer-controller]: Media source closed")
                        }
                        ,
                        this._onMediaSourceEnded = function() {
                            u.b.log("[buffer-controller]: Media source ended")
                        }
                        ,
                        this.hls = e,
                        this._initSourceBuffer(),
                        this.registerListeners()
                    }
                    var t = e.prototype;
                    return t.hasSourceTypes = function() {
                        return this.getSourceBufferTypes().length > 0 || Object.keys(this.pendingTracks).length > 0
                    }
                    ,
                    t.destroy = function() {
                        this.unregisterListeners(),
                        this.details = null
                    }
                    ,
                    t.registerListeners = function() {
                        var e = this.hls;
                        e.on(a.a.MEDIA_ATTACHING, this.onMediaAttaching, this),
                        e.on(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        e.on(a.a.MANIFEST_PARSED, this.onManifestParsed, this),
                        e.on(a.a.BUFFER_RESET, this.onBufferReset, this),
                        e.on(a.a.BUFFER_APPENDING, this.onBufferAppending, this),
                        e.on(a.a.BUFFER_CODECS, this.onBufferCodecs, this),
                        e.on(a.a.BUFFER_EOS, this.onBufferEos, this),
                        e.on(a.a.BUFFER_FLUSHING, this.onBufferFlushing, this),
                        e.on(a.a.LEVEL_UPDATED, this.onLevelUpdated, this),
                        e.on(a.a.FRAG_PARSED, this.onFragParsed, this),
                        e.on(a.a.FRAG_CHANGED, this.onFragChanged, this)
                    }
                    ,
                    t.unregisterListeners = function() {
                        var e = this.hls;
                        e.off(a.a.MEDIA_ATTACHING, this.onMediaAttaching, this),
                        e.off(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        e.off(a.a.MANIFEST_PARSED, this.onManifestParsed, this),
                        e.off(a.a.BUFFER_RESET, this.onBufferReset, this),
                        e.off(a.a.BUFFER_APPENDING, this.onBufferAppending, this),
                        e.off(a.a.BUFFER_CODECS, this.onBufferCodecs, this),
                        e.off(a.a.BUFFER_EOS, this.onBufferEos, this),
                        e.off(a.a.BUFFER_FLUSHING, this.onBufferFlushing, this),
                        e.off(a.a.LEVEL_UPDATED, this.onLevelUpdated, this),
                        e.off(a.a.FRAG_PARSED, this.onFragParsed, this),
                        e.off(a.a.FRAG_CHANGED, this.onFragChanged, this)
                    }
                    ,
                    t._initSourceBuffer = function() {
                        this.sourceBuffer = {},
                        this.operationQueue = new Tt(this.sourceBuffer),
                        this.listeners = {
                            audio: [],
                            video: [],
                            audiovideo: []
                        }
                    }
                    ,
                    t.onManifestParsed = function(e, t) {
                        var n = 2;
                        (t.audio && !t.video || !t.altAudio) && (n = 1),
                        this.bufferCodecEventsExpected = this._bufferCodecEventsTotal = n,
                        this.details = null,
                        u.b.log(this.bufferCodecEventsExpected + " bufferCodec event(s) expected")
                    }
                    ,
                    t.onMediaAttaching = function(e, t) {
                        var n = this.media = t.media;
                        if (n && bt) {
                            var r = this.mediaSource = new bt;
                            r.addEventListener("sourceopen", this._onMediaSourceOpen),
                            r.addEventListener("sourceended", this._onMediaSourceEnded),
                            r.addEventListener("sourceclose", this._onMediaSourceClose),
                            n.src = self.URL.createObjectURL(r),
                            this._objectUrl = n.src
                        }
                    }
                    ,
                    t.onMediaDetaching = function() {
                        var e = this.media
                          , t = this.mediaSource
                          , n = this._objectUrl;
                        if (t) {
                            if (u.b.log("[buffer-controller]: media source detaching"),
                            "open" === t.readyState)
                                try {
                                    t.endOfStream()
                                } catch (e) {
                                    u.b.warn("[buffer-controller]: onMediaDetaching: " + e.message + " while calling endOfStream")
                                }
                            this.onBufferReset(),
                            t.removeEventListener("sourceopen", this._onMediaSourceOpen),
                            t.removeEventListener("sourceended", this._onMediaSourceEnded),
                            t.removeEventListener("sourceclose", this._onMediaSourceClose),
                            e && (n && self.URL.revokeObjectURL(n),
                            e.src === n ? (e.removeAttribute("src"),
                            e.load()) : u.b.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),
                            this.mediaSource = null,
                            this.media = null,
                            this._objectUrl = null,
                            this.bufferCodecEventsExpected = this._bufferCodecEventsTotal,
                            this.pendingTracks = {},
                            this.tracks = {}
                        }
                        this.hls.trigger(a.a.MEDIA_DETACHED, void 0)
                    }
                    ,
                    t.onBufferReset = function() {
                        var e = this;
                        this.getSourceBufferTypes().forEach((function(t) {
                            var n = e.sourceBuffer[t];
                            try {
                                n && (e.removeBufferListeners(t),
                                e.mediaSource && e.mediaSource.removeSourceBuffer(n),
                                e.sourceBuffer[t] = void 0)
                            } catch (e) {
                                u.b.warn("[buffer-controller]: Failed to reset the " + t + " buffer", e)
                            }
                        }
                        )),
                        this._initSourceBuffer()
                    }
                    ,
                    t.onBufferCodecs = function(e, t) {
                        var n = this
                          , r = this.getSourceBufferTypes().length;
                        Object.keys(t).forEach((function(e) {
                            if (r) {
                                var i = n.tracks[e];
                                if (i && "function" == typeof i.buffer.changeType) {
                                    var o = t[e]
                                      , a = o.id
                                      , s = o.codec
                                      , c = o.levelCodec
                                      , l = o.container
                                      , f = o.metadata
                                      , d = (i.levelCodec || i.codec).replace(_t, "$1")
                                      , h = (c || s).replace(_t, "$1");
                                    if (d !== h) {
                                        var p = l + ";codecs=" + (c || s);
                                        n.appendChangeType(e, p),
                                        u.b.log("[buffer-controller]: switching codec " + d + " to " + h),
                                        n.tracks[e] = {
                                            buffer: i.buffer,
                                            codec: s,
                                            container: l,
                                            levelCodec: c,
                                            metadata: f,
                                            id: a
                                        }
                                    }
                                }
                            } else
                                n.pendingTracks[e] = t[e]
                        }
                        )),
                        r || (this.bufferCodecEventsExpected = Math.max(this.bufferCodecEventsExpected - 1, 0),
                        this.mediaSource && "open" === this.mediaSource.readyState && this.checkPendingTracks())
                    }
                    ,
                    t.appendChangeType = function(e, t) {
                        var n = this
                          , r = this.operationQueue
                          , i = {
                            execute: function() {
                                var i = n.sourceBuffer[e];
                                i && (u.b.log("[buffer-controller]: changing " + e + " sourceBuffer type to " + t),
                                i.changeType(t)),
                                r.shiftAndExecuteNext(e)
                            },
                            onStart: function() {},
                            onComplete: function() {},
                            onError: function(t) {
                                u.b.warn("[buffer-controller]: Failed to change " + e + " SourceBuffer type", t)
                            }
                        };
                        r.append(i, e)
                    }
                    ,
                    t.onBufferAppending = function(e, t) {
                        var n = this
                          , r = this.hls
                          , i = this.operationQueue
                          , o = this.tracks
                          , c = t.data
                          , l = t.type
                          , f = t.frag
                          , d = t.part
                          , h = t.chunkMeta
                          , p = h.buffering[l]
                          , v = self.performance.now();
                        p.start = v;
                        var m = f.stats.buffering
                          , g = d ? d.stats.buffering : null;
                        0 === m.start && (m.start = v),
                        g && 0 === g.start && (g.start = v);
                        var y = o.audio
                          , E = "audio" === l && 1 === h.id && "audio/mpeg" === (null == y ? void 0 : y.container)
                          , T = {
                            execute: function() {
                                if (p.executeStart = self.performance.now(),
                                E) {
                                    var e = n.sourceBuffer[l];
                                    if (e) {
                                        var t = f.start - e.timestampOffset;
                                        Math.abs(t) >= .1 && (u.b.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to " + f.start + " (delta: " + t + ") sn: " + f.sn + ")"),
                                        e.timestampOffset = f.start)
                                    }
                                }
                                n.appendExecutor(c, l)
                            },
                            onStart: function() {},
                            onComplete: function() {
                                var e = self.performance.now();
                                p.executeEnd = p.end = e,
                                0 === m.first && (m.first = e),
                                g && 0 === g.first && (g.first = e);
                                var t = n.sourceBuffer
                                  , r = {};
                                for (var i in t)
                                    r[i] = de.getBuffered(t[i]);
                                n.appendError = 0,
                                n.hls.trigger(a.a.BUFFER_APPENDED, {
                                    type: l,
                                    frag: f,
                                    part: d,
                                    chunkMeta: h,
                                    parent: f.type,
                                    timeRanges: r
                                })
                            },
                            onError: function(e) {
                                u.b.error("[buffer-controller]: Error encountered while trying to append to the " + l + " SourceBuffer", e);
                                var t = {
                                    type: s.b.MEDIA_ERROR,
                                    parent: f.type,
                                    details: s.a.BUFFER_APPEND_ERROR,
                                    err: e,
                                    fatal: !1
                                };
                                e.code === DOMException.QUOTA_EXCEEDED_ERR ? t.details = s.a.BUFFER_FULL_ERROR : (n.appendError++,
                                t.details = s.a.BUFFER_APPEND_ERROR,
                                n.appendError > r.config.appendErrorMaxRetry && (u.b.error("[buffer-controller]: Failed " + r.config.appendErrorMaxRetry + " times to append segment in sourceBuffer"),
                                t.fatal = !0,
                                r.stopLoad())),
                                r.trigger(a.a.ERROR, t)
                            }
                        };
                        i.append(T, l)
                    }
                    ,
                    t.onBufferFlushing = function(e, t) {
                        var n = this
                          , r = this.operationQueue
                          , i = function(e) {
                            return {
                                execute: n.removeExecutor.bind(n, e, t.startOffset, t.endOffset),
                                onStart: function() {},
                                onComplete: function() {
                                    n.hls.trigger(a.a.BUFFER_FLUSHED, {
                                        type: e
                                    })
                                },
                                onError: function(t) {
                                    u.b.warn("[buffer-controller]: Failed to remove from " + e + " SourceBuffer", t)
                                }
                            }
                        };
                        t.type ? r.append(i(t.type), t.type) : this.getSourceBufferTypes().forEach((function(e) {
                            r.append(i(e), e)
                        }
                        ))
                    }
                    ,
                    t.onFragParsed = function(e, t) {
                        var n = this
                          , r = t.frag
                          , i = t.part
                          , o = []
                          , s = i ? i.elementaryStreams : r.elementaryStreams;
                        s[v.a.AUDIOVIDEO] ? o.push("audiovideo") : (s[v.a.AUDIO] && o.push("audio"),
                        s[v.a.VIDEO] && o.push("video")),
                        0 === o.length && u.b.warn("Fragments must have at least one ElementaryStreamType set. type: " + r.type + " level: " + r.level + " sn: " + r.sn),
                        this.blockBuffers((function() {
                            var e = self.performance.now();
                            r.stats.buffering.end = e,
                            i && (i.stats.buffering.end = e);
                            var t = i ? i.stats : r.stats;
                            n.hls.trigger(a.a.FRAG_BUFFERED, {
                                frag: r,
                                part: i,
                                stats: t,
                                id: r.type
                            })
                        }
                        ), o)
                    }
                    ,
                    t.onFragChanged = function(e, t) {
                        this.flushBackBuffer()
                    }
                    ,
                    t.onBufferEos = function(e, t) {
                        var n = this;
                        this.getSourceBufferTypes().reduce((function(e, r) {
                            var i = n.sourceBuffer[r];
                            return t.type && t.type !== r || i && !i.ended && (i.ended = !0,
                            u.b.log("[buffer-controller]: " + r + " sourceBuffer now EOS")),
                            e && !(i && !i.ended)
                        }
                        ), !0) && this.blockBuffers((function() {
                            var e = n.mediaSource;
                            e && "open" === e.readyState && e.endOfStream()
                        }
                        ))
                    }
                    ,
                    t.onLevelUpdated = function(e, t) {
                        var n = t.details;
                        n.fragments.length && (this.details = n,
                        this.getSourceBufferTypes().length ? this.blockBuffers(this.updateMediaElementDuration.bind(this)) : this.updateMediaElementDuration())
                    }
                    ,
                    t.flushBackBuffer = function() {
                        var e = this.hls
                          , t = this.details
                          , n = this.media
                          , r = this.sourceBuffer;
                        if (n && null !== t) {
                            var i = this.getSourceBufferTypes();
                            if (i.length) {
                                var s = t.live && null !== e.config.liveBackBufferLength ? e.config.liveBackBufferLength : e.config.backBufferLength;
                                if (Object(o.a)(s) && !(s < 0)) {
                                    var u = n.currentTime
                                      , c = t.levelTargetDuration
                                      , l = Math.max(s, c)
                                      , f = Math.floor(u / c) * c - l;
                                    i.forEach((function(n) {
                                        var i = r[n];
                                        if (i) {
                                            var o = de.getBuffered(i);
                                            o.length > 0 && f > o.start(0) && (e.trigger(a.a.BACK_BUFFER_REACHED, {
                                                bufferEnd: f
                                            }),
                                            t.live && e.trigger(a.a.LIVE_BACK_BUFFER_REACHED, {
                                                bufferEnd: f
                                            }),
                                            e.trigger(a.a.BUFFER_FLUSHING, {
                                                startOffset: 0,
                                                endOffset: f,
                                                type: n
                                            }))
                                        }
                                    }
                                    ))
                                }
                            }
                        }
                    }
                    ,
                    t.updateMediaElementDuration = function() {
                        if (this.details && this.media && this.mediaSource && "open" === this.mediaSource.readyState) {
                            var e = this.details
                              , t = this.hls
                              , n = this.media
                              , r = this.mediaSource
                              , i = e.fragments[0].start + e.totalduration
                              , a = n.duration
                              , s = Object(o.a)(r.duration) ? r.duration : 0;
                            e.live && t.config.liveDurationInfinity ? (u.b.log("[buffer-controller]: Media Source duration is set to Infinity"),
                            r.duration = 1 / 0,
                            this.updateSeekableRange(e)) : (i > s && i > a || !Object(o.a)(a)) && (u.b.log("[buffer-controller]: Updating Media Source duration to " + i.toFixed(3)),
                            r.duration = i)
                        }
                    }
                    ,
                    t.updateSeekableRange = function(e) {
                        var t = this.mediaSource
                          , n = e.fragments;
                        if (n.length && e.live && null != t && t.setLiveSeekableRange) {
                            var r = Math.max(0, n[0].start)
                              , i = Math.max(r, r + e.totalduration);
                            t.setLiveSeekableRange(r, i)
                        }
                    }
                    ,
                    t.checkPendingTracks = function() {
                        var e = this.bufferCodecEventsExpected
                          , t = this.operationQueue
                          , n = this.pendingTracks
                          , r = Object.keys(n).length;
                        if (r && !e || 2 === r) {
                            this.createSourceBuffers(n),
                            this.pendingTracks = {};
                            var i = this.getSourceBufferTypes();
                            if (0 === i.length)
                                return void this.hls.trigger(a.a.ERROR, {
                                    type: s.b.MEDIA_ERROR,
                                    details: s.a.BUFFER_INCOMPATIBLE_CODECS_ERROR,
                                    fatal: !0,
                                    reason: "could not create source buffer for media codec(s)"
                                });
                            i.forEach((function(e) {
                                t.executeNext(e)
                            }
                            ))
                        }
                    }
                    ,
                    t.createSourceBuffers = function(e) {
                        var t = this.sourceBuffer
                          , n = this.mediaSource;
                        if (!n)
                            throw Error("createSourceBuffers called when mediaSource was null");
                        var r = 0;
                        for (var i in e)
                            if (!t[i]) {
                                var o = e[i];
                                if (!o)
                                    throw Error("source buffer exists for track " + i + ", however track does not");
                                var c = o.levelCodec || o.codec
                                  , l = o.container + ";codecs=" + c;
                                u.b.log("[buffer-controller]: creating sourceBuffer(" + l + ")");
                                try {
                                    var f = t[i] = n.addSourceBuffer(l)
                                      , d = i;
                                    this.addBufferListener(d, "updatestart", this._onSBUpdateStart),
                                    this.addBufferListener(d, "updateend", this._onSBUpdateEnd),
                                    this.addBufferListener(d, "error", this._onSBUpdateError),
                                    this.tracks[i] = {
                                        buffer: f,
                                        codec: c,
                                        container: o.container,
                                        levelCodec: o.levelCodec,
                                        metadata: o.metadata,
                                        id: o.id
                                    },
                                    r++
                                } catch (e) {
                                    u.b.error("[buffer-controller]: error while trying to add sourceBuffer: " + e.message),
                                    this.hls.trigger(a.a.ERROR, {
                                        type: s.b.MEDIA_ERROR,
                                        details: s.a.BUFFER_ADD_CODEC_ERROR,
                                        fatal: !1,
                                        error: e,
                                        mimeType: l
                                    })
                                }
                            }
                        r && this.hls.trigger(a.a.BUFFER_CREATED, {
                            tracks: this.tracks
                        })
                    }
                    ,
                    t._onSBUpdateStart = function(e) {
                        this.operationQueue.current(e).onStart()
                    }
                    ,
                    t._onSBUpdateEnd = function(e) {
                        var t = this.operationQueue;
                        t.current(e).onComplete(),
                        t.shiftAndExecuteNext(e)
                    }
                    ,
                    t._onSBUpdateError = function(e, t) {
                        u.b.error("[buffer-controller]: " + e + " SourceBuffer error", t),
                        this.hls.trigger(a.a.ERROR, {
                            type: s.b.MEDIA_ERROR,
                            details: s.a.BUFFER_APPENDING_ERROR,
                            fatal: !1
                        });
                        var n = this.operationQueue.current(e);
                        n && n.onError(t)
                    }
                    ,
                    t.removeExecutor = function(e, t, n) {
                        var r = this.media
                          , i = this.mediaSource
                          , a = this.operationQueue
                          , s = this.sourceBuffer[e];
                        if (!r || !i || !s)
                            return u.b.warn("[buffer-controller]: Attempting to remove from the " + e + " SourceBuffer, but it does not exist"),
                            void a.shiftAndExecuteNext(e);
                        var c = Object(o.a)(r.duration) ? r.duration : 1 / 0
                          , l = Object(o.a)(i.duration) ? i.duration : 1 / 0
                          , f = Math.max(0, t)
                          , d = Math.min(n, c, l);
                        d > f ? (u.b.log("[buffer-controller]: Removing [" + f + "," + d + "] from the " + e + " SourceBuffer"),
                        s.remove(f, d)) : a.shiftAndExecuteNext(e)
                    }
                    ,
                    t.appendExecutor = function(e, t) {
                        var n = this.operationQueue
                          , r = this.sourceBuffer[t];
                        if (!r)
                            return u.b.warn("[buffer-controller]: Attempting to append to the " + t + " SourceBuffer, but it does not exist"),
                            void n.shiftAndExecuteNext(t);
                        r.ended = !1,
                        r.appendBuffer(e)
                    }
                    ,
                    t.blockBuffers = function(e, t) {
                        var n = this;
                        if (void 0 === t && (t = this.getSourceBufferTypes()),
                        !t.length)
                            return u.b.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),
                            void Promise.resolve().then(e);
                        var r = this.operationQueue
                          , i = t.map((function(e) {
                            return r.appendBlocker(e)
                        }
                        ));
                        Promise.all(i).then((function() {
                            e(),
                            t.forEach((function(e) {
                                var t = n.sourceBuffer[e];
                                t && t.updating || r.shiftAndExecuteNext(e)
                            }
                            ))
                        }
                        ))
                    }
                    ,
                    t.getSourceBufferTypes = function() {
                        return Object.keys(this.sourceBuffer)
                    }
                    ,
                    t.addBufferListener = function(e, t, n) {
                        var r = this.sourceBuffer[e];
                        if (r) {
                            var i = n.bind(this, e);
                            this.listeners[e].push({
                                event: t,
                                listener: i
                            }),
                            r.addEventListener(t, i)
                        }
                    }
                    ,
                    t.removeBufferListeners = function(e) {
                        var t = this.sourceBuffer[e];
                        t && this.listeners[e].forEach((function(e) {
                            t.removeEventListener(e.event, e.listener)
                        }
                        ))
                    }
                    ,
                    e
                }(), Rt = {
                    42: 225,
                    92: 233,
                    94: 237,
                    95: 243,
                    96: 250,
                    123: 231,
                    124: 247,
                    125: 209,
                    126: 241,
                    127: 9608,
                    128: 174,
                    129: 176,
                    130: 189,
                    131: 191,
                    132: 8482,
                    133: 162,
                    134: 163,
                    135: 9834,
                    136: 224,
                    137: 32,
                    138: 232,
                    139: 226,
                    140: 234,
                    141: 238,
                    142: 244,
                    143: 251,
                    144: 193,
                    145: 201,
                    146: 211,
                    147: 218,
                    148: 220,
                    149: 252,
                    150: 8216,
                    151: 161,
                    152: 42,
                    153: 8217,
                    154: 9473,
                    155: 169,
                    156: 8480,
                    157: 8226,
                    158: 8220,
                    159: 8221,
                    160: 192,
                    161: 194,
                    162: 199,
                    163: 200,
                    164: 202,
                    165: 203,
                    166: 235,
                    167: 206,
                    168: 207,
                    169: 239,
                    170: 212,
                    171: 217,
                    172: 249,
                    173: 219,
                    174: 171,
                    175: 187,
                    176: 195,
                    177: 227,
                    178: 205,
                    179: 204,
                    180: 236,
                    181: 210,
                    182: 242,
                    183: 213,
                    184: 245,
                    185: 123,
                    186: 125,
                    187: 92,
                    188: 94,
                    189: 95,
                    190: 124,
                    191: 8764,
                    192: 196,
                    193: 228,
                    194: 214,
                    195: 246,
                    196: 223,
                    197: 165,
                    198: 164,
                    199: 9475,
                    200: 197,
                    201: 229,
                    202: 216,
                    203: 248,
                    204: 9487,
                    205: 9491,
                    206: 9495,
                    207: 9499
                }, wt = function(e) {
                    var t = e;
                    return Rt.hasOwnProperty(e) && (t = Rt[e]),
                    String.fromCharCode(t)
                }, Ct = {
                    17: 1,
                    18: 3,
                    21: 5,
                    22: 7,
                    23: 9,
                    16: 11,
                    19: 12,
                    20: 14
                }, Ot = {
                    17: 2,
                    18: 4,
                    21: 6,
                    22: 8,
                    23: 10,
                    19: 13,
                    20: 15
                }, Lt = {
                    25: 1,
                    26: 3,
                    29: 5,
                    30: 7,
                    31: 9,
                    24: 11,
                    27: 12,
                    28: 14
                }, At = {
                    25: 2,
                    26: 4,
                    29: 6,
                    30: 8,
                    31: 10,
                    27: 13,
                    28: 15
                }, Pt = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "black", "transparent"];
                !function(e) {
                    e[e.ERROR = 0] = "ERROR",
                    e[e.TEXT = 1] = "TEXT",
                    e[e.WARNING = 2] = "WARNING",
                    e[e.INFO = 2] = "INFO",
                    e[e.DEBUG = 3] = "DEBUG",
                    e[e.DATA = 3] = "DATA"
                }(yt || (yt = {}));
                var It = function() {
                    function e() {
                        this.time = null,
                        this.verboseLevel = yt.ERROR
                    }
                    return e.prototype.log = function(e, t) {
                        this.verboseLevel >= e && u.b.log(this.time + " [" + e + "] " + t)
                    }
                    ,
                    e
                }()
                  , Dt = function(e) {
                    for (var t = [], n = 0; n < e.length; n++)
                        t.push(e[n].toString(16));
                    return t
                }
                  , kt = function() {
                    function e(e, t, n, r, i) {
                        this.foreground = void 0,
                        this.underline = void 0,
                        this.italics = void 0,
                        this.background = void 0,
                        this.flash = void 0,
                        this.foreground = e || "white",
                        this.underline = t || !1,
                        this.italics = n || !1,
                        this.background = r || "black",
                        this.flash = i || !1
                    }
                    var t = e.prototype;
                    return t.reset = function() {
                        this.foreground = "white",
                        this.underline = !1,
                        this.italics = !1,
                        this.background = "black",
                        this.flash = !1
                    }
                    ,
                    t.setStyles = function(e) {
                        for (var t = ["foreground", "underline", "italics", "background", "flash"], n = 0; n < t.length; n++) {
                            var r = t[n];
                            e.hasOwnProperty(r) && (this[r] = e[r])
                        }
                    }
                    ,
                    t.isDefault = function() {
                        return "white" === this.foreground && !this.underline && !this.italics && "black" === this.background && !this.flash
                    }
                    ,
                    t.equals = function(e) {
                        return this.foreground === e.foreground && this.underline === e.underline && this.italics === e.italics && this.background === e.background && this.flash === e.flash
                    }
                    ,
                    t.copy = function(e) {
                        this.foreground = e.foreground,
                        this.underline = e.underline,
                        this.italics = e.italics,
                        this.background = e.background,
                        this.flash = e.flash
                    }
                    ,
                    t.toString = function() {
                        return "color=" + this.foreground + ", underline=" + this.underline + ", italics=" + this.italics + ", background=" + this.background + ", flash=" + this.flash
                    }
                    ,
                    e
                }()
                  , Nt = function() {
                    function e(e, t, n, r, i, o) {
                        this.uchar = void 0,
                        this.penState = void 0,
                        this.uchar = e || " ",
                        this.penState = new kt(t,n,r,i,o)
                    }
                    var t = e.prototype;
                    return t.reset = function() {
                        this.uchar = " ",
                        this.penState.reset()
                    }
                    ,
                    t.setChar = function(e, t) {
                        this.uchar = e,
                        this.penState.copy(t)
                    }
                    ,
                    t.setPenState = function(e) {
                        this.penState.copy(e)
                    }
                    ,
                    t.equals = function(e) {
                        return this.uchar === e.uchar && this.penState.equals(e.penState)
                    }
                    ,
                    t.copy = function(e) {
                        this.uchar = e.uchar,
                        this.penState.copy(e.penState)
                    }
                    ,
                    t.isEmpty = function() {
                        return " " === this.uchar && this.penState.isDefault()
                    }
                    ,
                    e
                }()
                  , xt = function() {
                    function e(e) {
                        this.chars = void 0,
                        this.pos = void 0,
                        this.currPenState = void 0,
                        this.cueStartTime = void 0,
                        this.logger = void 0,
                        this.chars = [];
                        for (var t = 0; t < 100; t++)
                            this.chars.push(new Nt);
                        this.logger = e,
                        this.pos = 0,
                        this.currPenState = new kt
                    }
                    var t = e.prototype;
                    return t.equals = function(e) {
                        for (var t = !0, n = 0; n < 100; n++)
                            if (!this.chars[n].equals(e.chars[n])) {
                                t = !1;
                                break
                            }
                        return t
                    }
                    ,
                    t.copy = function(e) {
                        for (var t = 0; t < 100; t++)
                            this.chars[t].copy(e.chars[t])
                    }
                    ,
                    t.isEmpty = function() {
                        for (var e = !0, t = 0; t < 100; t++)
                            if (!this.chars[t].isEmpty()) {
                                e = !1;
                                break
                            }
                        return e
                    }
                    ,
                    t.setCursor = function(e) {
                        this.pos !== e && (this.pos = e),
                        this.pos < 0 ? (this.logger.log(yt.DEBUG, "Negative cursor position " + this.pos),
                        this.pos = 0) : this.pos > 100 && (this.logger.log(yt.DEBUG, "Too large cursor position " + this.pos),
                        this.pos = 100)
                    }
                    ,
                    t.moveCursor = function(e) {
                        var t = this.pos + e;
                        if (e > 1)
                            for (var n = this.pos + 1; n < t + 1; n++)
                                this.chars[n].setPenState(this.currPenState);
                        this.setCursor(t)
                    }
                    ,
                    t.backSpace = function() {
                        this.moveCursor(-1),
                        this.chars[this.pos].setChar(" ", this.currPenState)
                    }
                    ,
                    t.insertChar = function(e) {
                        e >= 144 && this.backSpace();
                        var t = wt(e);
                        this.pos >= 100 ? this.logger.log(yt.ERROR, "Cannot insert " + e.toString(16) + " (" + t + ") at position " + this.pos + ". Skipping it!") : (this.chars[this.pos].setChar(t, this.currPenState),
                        this.moveCursor(1))
                    }
                    ,
                    t.clearFromPos = function(e) {
                        var t;
                        for (t = e; t < 100; t++)
                            this.chars[t].reset()
                    }
                    ,
                    t.clear = function() {
                        this.clearFromPos(0),
                        this.pos = 0,
                        this.currPenState.reset()
                    }
                    ,
                    t.clearToEndOfRow = function() {
                        this.clearFromPos(this.pos)
                    }
                    ,
                    t.getTextString = function() {
                        for (var e = [], t = !0, n = 0; n < 100; n++) {
                            var r = this.chars[n].uchar;
                            " " !== r && (t = !1),
                            e.push(r)
                        }
                        return t ? "" : e.join("")
                    }
                    ,
                    t.setPenStyles = function(e) {
                        this.currPenState.setStyles(e),
                        this.chars[this.pos].setPenState(this.currPenState)
                    }
                    ,
                    e
                }()
                  , Mt = function() {
                    function e(e) {
                        this.rows = void 0,
                        this.currRow = void 0,
                        this.nrRollUpRows = void 0,
                        this.lastOutputScreen = void 0,
                        this.logger = void 0,
                        this.rows = [];
                        for (var t = 0; t < 15; t++)
                            this.rows.push(new xt(e));
                        this.logger = e,
                        this.currRow = 14,
                        this.nrRollUpRows = null,
                        this.lastOutputScreen = null,
                        this.reset()
                    }
                    var t = e.prototype;
                    return t.reset = function() {
                        for (var e = 0; e < 15; e++)
                            this.rows[e].clear();
                        this.currRow = 14
                    }
                    ,
                    t.equals = function(e) {
                        for (var t = !0, n = 0; n < 15; n++)
                            if (!this.rows[n].equals(e.rows[n])) {
                                t = !1;
                                break
                            }
                        return t
                    }
                    ,
                    t.copy = function(e) {
                        for (var t = 0; t < 15; t++)
                            this.rows[t].copy(e.rows[t])
                    }
                    ,
                    t.isEmpty = function() {
                        for (var e = !0, t = 0; t < 15; t++)
                            if (!this.rows[t].isEmpty()) {
                                e = !1;
                                break
                            }
                        return e
                    }
                    ,
                    t.backSpace = function() {
                        this.rows[this.currRow].backSpace()
                    }
                    ,
                    t.clearToEndOfRow = function() {
                        this.rows[this.currRow].clearToEndOfRow()
                    }
                    ,
                    t.insertChar = function(e) {
                        this.rows[this.currRow].insertChar(e)
                    }
                    ,
                    t.setPen = function(e) {
                        this.rows[this.currRow].setPenStyles(e)
                    }
                    ,
                    t.moveCursor = function(e) {
                        this.rows[this.currRow].moveCursor(e)
                    }
                    ,
                    t.setCursor = function(e) {
                        this.logger.log(yt.INFO, "setCursor: " + e),
                        this.rows[this.currRow].setCursor(e)
                    }
                    ,
                    t.setPAC = function(e) {
                        this.logger.log(yt.INFO, "pacData = " + JSON.stringify(e));
                        var t = e.row - 1;
                        if (this.nrRollUpRows && t < this.nrRollUpRows - 1 && (t = this.nrRollUpRows - 1),
                        this.nrRollUpRows && this.currRow !== t) {
                            for (var n = 0; n < 15; n++)
                                this.rows[n].clear();
                            var r = this.currRow + 1 - this.nrRollUpRows
                              , i = this.lastOutputScreen;
                            if (i) {
                                var o = i.rows[r].cueStartTime
                                  , a = this.logger.time;
                                if (o && null !== a && o < a)
                                    for (var s = 0; s < this.nrRollUpRows; s++)
                                        this.rows[t - this.nrRollUpRows + s + 1].copy(i.rows[r + s])
                            }
                        }
                        this.currRow = t;
                        var u = this.rows[this.currRow];
                        if (null !== e.indent) {
                            var c = e.indent
                              , l = Math.max(c - 1, 0);
                            u.setCursor(e.indent),
                            e.color = u.chars[l].penState.foreground
                        }
                        var f = {
                            foreground: e.color,
                            underline: e.underline,
                            italics: e.italics,
                            background: "black",
                            flash: !1
                        };
                        this.setPen(f)
                    }
                    ,
                    t.setBkgData = function(e) {
                        this.logger.log(yt.INFO, "bkgData = " + JSON.stringify(e)),
                        this.backSpace(),
                        this.setPen(e),
                        this.insertChar(32)
                    }
                    ,
                    t.setRollUpRows = function(e) {
                        this.nrRollUpRows = e
                    }
                    ,
                    t.rollUp = function() {
                        if (null !== this.nrRollUpRows) {
                            this.logger.log(yt.TEXT, this.getDisplayText());
                            var e = this.currRow + 1 - this.nrRollUpRows
                              , t = this.rows.splice(e, 1)[0];
                            t.clear(),
                            this.rows.splice(this.currRow, 0, t),
                            this.logger.log(yt.INFO, "Rolling up")
                        } else
                            this.logger.log(yt.DEBUG, "roll_up but nrRollUpRows not set yet")
                    }
                    ,
                    t.getDisplayText = function(e) {
                        e = e || !1;
                        for (var t = [], n = "", r = -1, i = 0; i < 15; i++) {
                            var o = this.rows[i].getTextString();
                            o && (r = i + 1,
                            e ? t.push("Row " + r + ": '" + o + "'") : t.push(o.trim()))
                        }
                        return t.length > 0 && (n = e ? "[" + t.join(" | ") + "]" : t.join("\n")),
                        n
                    }
                    ,
                    t.getTextAndFormat = function() {
                        return this.rows
                    }
                    ,
                    e
                }()
                  , Ft = function() {
                    function e(e, t, n) {
                        this.chNr = void 0,
                        this.outputFilter = void 0,
                        this.mode = void 0,
                        this.verbose = void 0,
                        this.displayedMemory = void 0,
                        this.nonDisplayedMemory = void 0,
                        this.lastOutputScreen = void 0,
                        this.currRollUpRow = void 0,
                        this.writeScreen = void 0,
                        this.cueStartTime = void 0,
                        this.logger = void 0,
                        this.chNr = e,
                        this.outputFilter = t,
                        this.mode = null,
                        this.verbose = 0,
                        this.displayedMemory = new Mt(n),
                        this.nonDisplayedMemory = new Mt(n),
                        this.lastOutputScreen = new Mt(n),
                        this.currRollUpRow = this.displayedMemory.rows[14],
                        this.writeScreen = this.displayedMemory,
                        this.mode = null,
                        this.cueStartTime = null,
                        this.logger = n
                    }
                    var t = e.prototype;
                    return t.reset = function() {
                        this.mode = null,
                        this.displayedMemory.reset(),
                        this.nonDisplayedMemory.reset(),
                        this.lastOutputScreen.reset(),
                        this.outputFilter.reset(),
                        this.currRollUpRow = this.displayedMemory.rows[14],
                        this.writeScreen = this.displayedMemory,
                        this.mode = null,
                        this.cueStartTime = null
                    }
                    ,
                    t.getHandler = function() {
                        return this.outputFilter
                    }
                    ,
                    t.setHandler = function(e) {
                        this.outputFilter = e
                    }
                    ,
                    t.setPAC = function(e) {
                        this.writeScreen.setPAC(e)
                    }
                    ,
                    t.setBkgData = function(e) {
                        this.writeScreen.setBkgData(e)
                    }
                    ,
                    t.setMode = function(e) {
                        e !== this.mode && (this.mode = e,
                        this.logger.log(yt.INFO, "MODE=" + e),
                        "MODE_POP-ON" === this.mode ? this.writeScreen = this.nonDisplayedMemory : (this.writeScreen = this.displayedMemory,
                        this.writeScreen.reset()),
                        "MODE_ROLL-UP" !== this.mode && (this.displayedMemory.nrRollUpRows = null,
                        this.nonDisplayedMemory.nrRollUpRows = null),
                        this.mode = e)
                    }
                    ,
                    t.insertChars = function(e) {
                        for (var t = 0; t < e.length; t++)
                            this.writeScreen.insertChar(e[t]);
                        var n = this.writeScreen === this.displayedMemory ? "DISP" : "NON_DISP";
                        this.logger.log(yt.INFO, n + ": " + this.writeScreen.getDisplayText(!0)),
                        "MODE_PAINT-ON" !== this.mode && "MODE_ROLL-UP" !== this.mode || (this.logger.log(yt.TEXT, "DISPLAYED: " + this.displayedMemory.getDisplayText(!0)),
                        this.outputDataUpdate())
                    }
                    ,
                    t.ccRCL = function() {
                        this.logger.log(yt.INFO, "RCL - Resume Caption Loading"),
                        this.setMode("MODE_POP-ON")
                    }
                    ,
                    t.ccBS = function() {
                        this.logger.log(yt.INFO, "BS - BackSpace"),
                        "MODE_TEXT" !== this.mode && (this.writeScreen.backSpace(),
                        this.writeScreen === this.displayedMemory && this.outputDataUpdate())
                    }
                    ,
                    t.ccAOF = function() {}
                    ,
                    t.ccAON = function() {}
                    ,
                    t.ccDER = function() {
                        this.logger.log(yt.INFO, "DER- Delete to End of Row"),
                        this.writeScreen.clearToEndOfRow(),
                        this.outputDataUpdate()
                    }
                    ,
                    t.ccRU = function(e) {
                        this.logger.log(yt.INFO, "RU(" + e + ") - Roll Up"),
                        this.writeScreen = this.displayedMemory,
                        this.setMode("MODE_ROLL-UP"),
                        this.writeScreen.setRollUpRows(e)
                    }
                    ,
                    t.ccFON = function() {
                        this.logger.log(yt.INFO, "FON - Flash On"),
                        this.writeScreen.setPen({
                            flash: !0
                        })
                    }
                    ,
                    t.ccRDC = function() {
                        this.logger.log(yt.INFO, "RDC - Resume Direct Captioning"),
                        this.setMode("MODE_PAINT-ON")
                    }
                    ,
                    t.ccTR = function() {
                        this.logger.log(yt.INFO, "TR"),
                        this.setMode("MODE_TEXT")
                    }
                    ,
                    t.ccRTD = function() {
                        this.logger.log(yt.INFO, "RTD"),
                        this.setMode("MODE_TEXT")
                    }
                    ,
                    t.ccEDM = function() {
                        this.logger.log(yt.INFO, "EDM - Erase Displayed Memory"),
                        this.displayedMemory.reset(),
                        this.outputDataUpdate(!0)
                    }
                    ,
                    t.ccCR = function() {
                        this.logger.log(yt.INFO, "CR - Carriage Return"),
                        this.writeScreen.rollUp(),
                        this.outputDataUpdate(!0)
                    }
                    ,
                    t.ccENM = function() {
                        this.logger.log(yt.INFO, "ENM - Erase Non-displayed Memory"),
                        this.nonDisplayedMemory.reset()
                    }
                    ,
                    t.ccEOC = function() {
                        if (this.logger.log(yt.INFO, "EOC - End Of Caption"),
                        "MODE_POP-ON" === this.mode) {
                            var e = this.displayedMemory;
                            this.displayedMemory = this.nonDisplayedMemory,
                            this.nonDisplayedMemory = e,
                            this.writeScreen = this.nonDisplayedMemory,
                            this.logger.log(yt.TEXT, "DISP: " + this.displayedMemory.getDisplayText())
                        }
                        this.outputDataUpdate(!0)
                    }
                    ,
                    t.ccTO = function(e) {
                        this.logger.log(yt.INFO, "TO(" + e + ") - Tab Offset"),
                        this.writeScreen.moveCursor(e)
                    }
                    ,
                    t.ccMIDROW = function(e) {
                        var t = {
                            flash: !1
                        };
                        if (t.underline = e % 2 == 1,
                        t.italics = e >= 46,
                        t.italics)
                            t.foreground = "white";
                        else {
                            var n = Math.floor(e / 2) - 16;
                            t.foreground = ["white", "green", "blue", "cyan", "red", "yellow", "magenta"][n]
                        }
                        this.logger.log(yt.INFO, "MIDROW: " + JSON.stringify(t)),
                        this.writeScreen.setPen(t)
                    }
                    ,
                    t.outputDataUpdate = function(e) {
                        void 0 === e && (e = !1);
                        var t = this.logger.time;
                        null !== t && this.outputFilter && (null !== this.cueStartTime || this.displayedMemory.isEmpty() ? this.displayedMemory.equals(this.lastOutputScreen) || (this.outputFilter.newCue(this.cueStartTime, t, this.lastOutputScreen),
                        e && this.outputFilter.dispatchCue && this.outputFilter.dispatchCue(),
                        this.cueStartTime = this.displayedMemory.isEmpty() ? null : t) : this.cueStartTime = t,
                        this.lastOutputScreen.copy(this.displayedMemory))
                    }
                    ,
                    t.cueSplitAtTime = function(e) {
                        this.outputFilter && (this.displayedMemory.isEmpty() || (this.outputFilter.newCue && this.outputFilter.newCue(this.cueStartTime, e, this.displayedMemory),
                        this.cueStartTime = e))
                    }
                    ,
                    e
                }();
                function Ut(e, t, n) {
                    n.a = e,
                    n.b = t
                }
                function Bt(e, t, n) {
                    return n.a === e && n.b === t
                }
                var jt = function() {
                    function e(e, t, n) {
                        this.channels = void 0,
                        this.currentChannel = 0,
                        this.cmdHistory = void 0,
                        this.logger = void 0;
                        var r = new It;
                        this.channels = [null, new Ft(e,t,r), new Ft(e + 1,n,r)],
                        this.cmdHistory = {
                            a: null,
                            b: null
                        },
                        this.logger = r
                    }
                    var t = e.prototype;
                    return t.getHandler = function(e) {
                        return this.channels[e].getHandler()
                    }
                    ,
                    t.setHandler = function(e, t) {
                        this.channels[e].setHandler(t)
                    }
                    ,
                    t.addData = function(e, t) {
                        var n, r, i, o = !1;
                        this.logger.time = e;
                        for (var a = 0; a < t.length; a += 2)
                            if (r = 127 & t[a],
                            i = 127 & t[a + 1],
                            0 !== r || 0 !== i) {
                                if (this.logger.log(yt.DATA, "[" + Dt([t[a], t[a + 1]]) + "] -> (" + Dt([r, i]) + ")"),
                                (n = this.parseCmd(r, i)) || (n = this.parseMidrow(r, i)),
                                n || (n = this.parsePAC(r, i)),
                                n || (n = this.parseBackgroundAttributes(r, i)),
                                !n && (o = this.parseChars(r, i))) {
                                    var s = this.currentChannel;
                                    s && s > 0 ? this.channels[s].insertChars(o) : this.logger.log(yt.WARNING, "No channel found yet. TEXT-MODE?")
                                }
                                n || o || this.logger.log(yt.WARNING, "Couldn't parse cleaned data " + Dt([r, i]) + " orig: " + Dt([t[a], t[a + 1]]))
                            }
                    }
                    ,
                    t.parseCmd = function(e, t) {
                        var n = this.cmdHistory;
                        if (!((20 === e || 28 === e || 21 === e || 29 === e) && t >= 32 && t <= 47 || (23 === e || 31 === e) && t >= 33 && t <= 35))
                            return !1;
                        if (Bt(e, t, n))
                            return Ut(null, null, n),
                            this.logger.log(yt.DEBUG, "Repeated command (" + Dt([e, t]) + ") is dropped"),
                            !0;
                        var r = 20 === e || 21 === e || 23 === e ? 1 : 2
                          , i = this.channels[r];
                        return 20 === e || 21 === e || 28 === e || 29 === e ? 32 === t ? i.ccRCL() : 33 === t ? i.ccBS() : 34 === t ? i.ccAOF() : 35 === t ? i.ccAON() : 36 === t ? i.ccDER() : 37 === t ? i.ccRU(2) : 38 === t ? i.ccRU(3) : 39 === t ? i.ccRU(4) : 40 === t ? i.ccFON() : 41 === t ? i.ccRDC() : 42 === t ? i.ccTR() : 43 === t ? i.ccRTD() : 44 === t ? i.ccEDM() : 45 === t ? i.ccCR() : 46 === t ? i.ccENM() : 47 === t && i.ccEOC() : i.ccTO(t - 32),
                        Ut(e, t, n),
                        this.currentChannel = r,
                        !0
                    }
                    ,
                    t.parseMidrow = function(e, t) {
                        var n = 0;
                        if ((17 === e || 25 === e) && t >= 32 && t <= 47) {
                            if ((n = 17 === e ? 1 : 2) !== this.currentChannel)
                                return this.logger.log(yt.ERROR, "Mismatch channel in midrow parsing"),
                                !1;
                            var r = this.channels[n];
                            return !!r && (r.ccMIDROW(t),
                            this.logger.log(yt.DEBUG, "MIDROW (" + Dt([e, t]) + ")"),
                            !0)
                        }
                        return !1
                    }
                    ,
                    t.parsePAC = function(e, t) {
                        var n, r = this.cmdHistory;
                        if (!((e >= 17 && e <= 23 || e >= 25 && e <= 31) && t >= 64 && t <= 127 || (16 === e || 24 === e) && t >= 64 && t <= 95))
                            return !1;
                        if (Bt(e, t, r))
                            return Ut(null, null, r),
                            !0;
                        var i = e <= 23 ? 1 : 2;
                        n = t >= 64 && t <= 95 ? 1 === i ? Ct[e] : Lt[e] : 1 === i ? Ot[e] : At[e];
                        var o = this.channels[i];
                        return !!o && (o.setPAC(this.interpretPAC(n, t)),
                        Ut(e, t, r),
                        this.currentChannel = i,
                        !0)
                    }
                    ,
                    t.interpretPAC = function(e, t) {
                        var n, r = {
                            color: null,
                            italics: !1,
                            indent: null,
                            underline: !1,
                            row: e
                        };
                        return n = t > 95 ? t - 96 : t - 64,
                        r.underline = 1 == (1 & n),
                        n <= 13 ? r.color = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "white"][Math.floor(n / 2)] : n <= 15 ? (r.italics = !0,
                        r.color = "white") : r.indent = 4 * Math.floor((n - 16) / 2),
                        r
                    }
                    ,
                    t.parseChars = function(e, t) {
                        var n, r, i = null, o = null;
                        if (e >= 25 ? (n = 2,
                        o = e - 8) : (n = 1,
                        o = e),
                        o >= 17 && o <= 19 ? (r = 17 === o ? t + 80 : 18 === o ? t + 112 : t + 144,
                        this.logger.log(yt.INFO, "Special char '" + wt(r) + "' in channel " + n),
                        i = [r]) : e >= 32 && e <= 127 && (i = 0 === t ? [e] : [e, t]),
                        i) {
                            var a = Dt(i);
                            this.logger.log(yt.DEBUG, "Char codes =  " + a.join(",")),
                            Ut(e, t, this.cmdHistory)
                        }
                        return i
                    }
                    ,
                    t.parseBackgroundAttributes = function(e, t) {
                        var n;
                        if (!((16 === e || 24 === e) && t >= 32 && t <= 47 || (23 === e || 31 === e) && t >= 45 && t <= 47))
                            return !1;
                        var r = {};
                        16 === e || 24 === e ? (n = Math.floor((t - 32) / 2),
                        r.background = Pt[n],
                        t % 2 == 1 && (r.background = r.background + "_semi")) : 45 === t ? r.background = "transparent" : (r.foreground = "black",
                        47 === t && (r.underline = !0));
                        var i = e <= 23 ? 1 : 2;
                        return this.channels[i].setBkgData(r),
                        Ut(e, t, this.cmdHistory),
                        !0
                    }
                    ,
                    t.reset = function() {
                        for (var e = 0; e < Object.keys(this.channels).length; e++) {
                            var t = this.channels[e];
                            t && t.reset()
                        }
                        this.cmdHistory = {
                            a: null,
                            b: null
                        }
                    }
                    ,
                    t.cueSplitAtTime = function(e) {
                        for (var t = 0; t < this.channels.length; t++) {
                            var n = this.channels[t];
                            n && n.cueSplitAtTime(e)
                        }
                    }
                    ,
                    e
                }()
                  , Vt = function() {
                    function e(e, t) {
                        this.timelineController = void 0,
                        this.cueRanges = [],
                        this.trackName = void 0,
                        this.startTime = null,
                        this.endTime = null,
                        this.screen = null,
                        this.timelineController = e,
                        this.trackName = t
                    }
                    var t = e.prototype;
                    return t.dispatchCue = function() {
                        null !== this.startTime && (this.timelineController.addCues(this.trackName, this.startTime, this.endTime, this.screen, this.cueRanges),
                        this.startTime = null)
                    }
                    ,
                    t.newCue = function(e, t, n) {
                        (null === this.startTime || this.startTime > e) && (this.startTime = e),
                        this.endTime = t,
                        this.screen = n,
                        this.timelineController.createCaptionsTrack(this.trackName)
                    }
                    ,
                    t.reset = function() {
                        this.cueRanges = [],
                        this.startTime = null
                    }
                    ,
                    e
                }()
                  , Ht = function() {
                    if ("undefined" != typeof self && self.VTTCue)
                        return self.VTTCue;
                    var e = ["", "lr", "rl"]
                      , t = ["start", "middle", "end", "left", "right"];
                    function n(e, t) {
                        if ("string" != typeof t)
                            return !1;
                        if (!Array.isArray(e))
                            return !1;
                        var n = t.toLowerCase();
                        return !!~e.indexOf(n) && n
                    }
                    function r(e) {
                        return n(t, e)
                    }
                    function i(e) {
                        for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                            n[r - 1] = arguments[r];
                        for (var i = 1; i < arguments.length; i++) {
                            var o = arguments[i];
                            for (var a in o)
                                e[a] = o[a]
                        }
                        return e
                    }
                    function o(t, o, a) {
                        var s = this
                          , u = {
                            enumerable: !0
                        };
                        s.hasBeenReset = !1;
                        var c = ""
                          , l = !1
                          , f = t
                          , d = o
                          , h = a
                          , p = null
                          , v = ""
                          , m = !0
                          , g = "auto"
                          , y = "start"
                          , E = 50
                          , T = "middle"
                          , b = 50
                          , _ = "middle";
                        Object.defineProperty(s, "id", i({}, u, {
                            get: function() {
                                return c
                            },
                            set: function(e) {
                                c = "" + e
                            }
                        })),
                        Object.defineProperty(s, "pauseOnExit", i({}, u, {
                            get: function() {
                                return l
                            },
                            set: function(e) {
                                l = !!e
                            }
                        })),
                        Object.defineProperty(s, "startTime", i({}, u, {
                            get: function() {
                                return f
                            },
                            set: function(e) {
                                if ("number" != typeof e)
                                    throw new TypeError("Start time must be set to a number.");
                                f = e,
                                this.hasBeenReset = !0
                            }
                        })),
                        Object.defineProperty(s, "endTime", i({}, u, {
                            get: function() {
                                return d
                            },
                            set: function(e) {
                                if ("number" != typeof e)
                                    throw new TypeError("End time must be set to a number.");
                                d = e,
                                this.hasBeenReset = !0
                            }
                        })),
                        Object.defineProperty(s, "text", i({}, u, {
                            get: function() {
                                return h
                            },
                            set: function(e) {
                                h = "" + e,
                                this.hasBeenReset = !0
                            }
                        })),
                        Object.defineProperty(s, "region", i({}, u, {
                            get: function() {
                                return p
                            },
                            set: function(e) {
                                p = e,
                                this.hasBeenReset = !0
                            }
                        })),
                        Object.defineProperty(s, "vertical", i({}, u, {
                            get: function() {
                                return v
                            },
                            set: function(t) {
                                var r = function(t) {
                                    return n(e, t)
                                }(t);
                                if (!1 === r)
                                    throw new SyntaxError("An invalid or illegal string was specified.");
                                v = r,
                                this.hasBeenReset = !0
                            }
                        })),
                        Object.defineProperty(s, "snapToLines", i({}, u, {
                            get: function() {
                                return m
                            },
                            set: function(e) {
                                m = !!e,
                                this.hasBeenReset = !0
                            }
                        })),
                        Object.defineProperty(s, "line", i({}, u, {
                            get: function() {
                                return g
                            },
                            set: function(e) {
                                if ("number" != typeof e && "auto" !== e)
                                    throw new SyntaxError("An invalid number or illegal string was specified.");
                                g = e,
                                this.hasBeenReset = !0
                            }
                        })),
                        Object.defineProperty(s, "lineAlign", i({}, u, {
                            get: function() {
                                return y
                            },
                            set: function(e) {
                                var t = r(e);
                                if (!t)
                                    throw new SyntaxError("An invalid or illegal string was specified.");
                                y = t,
                                this.hasBeenReset = !0
                            }
                        })),
                        Object.defineProperty(s, "position", i({}, u, {
                            get: function() {
                                return E
                            },
                            set: function(e) {
                                if (e < 0 || e > 100)
                                    throw new Error("Position must be between 0 and 100.");
                                E = e,
                                this.hasBeenReset = !0
                            }
                        })),
                        Object.defineProperty(s, "positionAlign", i({}, u, {
                            get: function() {
                                return T
                            },
                            set: function(e) {
                                var t = r(e);
                                if (!t)
                                    throw new SyntaxError("An invalid or illegal string was specified.");
                                T = t,
                                this.hasBeenReset = !0
                            }
                        })),
                        Object.defineProperty(s, "size", i({}, u, {
                            get: function() {
                                return b
                            },
                            set: function(e) {
                                if (e < 0 || e > 100)
                                    throw new Error("Size must be between 0 and 100.");
                                b = e,
                                this.hasBeenReset = !0
                            }
                        })),
                        Object.defineProperty(s, "align", i({}, u, {
                            get: function() {
                                return _
                            },
                            set: function(e) {
                                var t = r(e);
                                if (!t)
                                    throw new SyntaxError("An invalid or illegal string was specified.");
                                _ = t,
                                this.hasBeenReset = !0
                            }
                        })),
                        s.displayState = void 0
                    }
                    return o.prototype.getCueAsHTML = function() {
                        return self.WebVTT.convertCueToDOMTree(self, this.text)
                    }
                    ,
                    o
                }()
                  , qt = function() {
                    function e() {}
                    return e.prototype.decode = function(e, t) {
                        if (!e)
                            return "";
                        if ("string" != typeof e)
                            throw new Error("Error - expected string data.");
                        return decodeURIComponent(encodeURIComponent(e))
                    }
                    ,
                    e
                }();
                function Wt(e) {
                    function t(e, t, n, r) {
                        return 3600 * (0 | e) + 60 * (0 | t) + (0 | n) + parseFloat(r || 0)
                    }
                    var n = e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);
                    return n ? parseFloat(n[2]) > 59 ? t(n[2], n[3], 0, n[4]) : t(n[1], n[2], n[3], n[4]) : null
                }
                var Gt = function() {
                    function e() {
                        this.values = Object.create(null)
                    }
                    var t = e.prototype;
                    return t.set = function(e, t) {
                        this.get(e) || "" === t || (this.values[e] = t)
                    }
                    ,
                    t.get = function(e, t, n) {
                        return n ? this.has(e) ? this.values[e] : t[n] : this.has(e) ? this.values[e] : t
                    }
                    ,
                    t.has = function(e) {
                        return e in this.values
                    }
                    ,
                    t.alt = function(e, t, n) {
                        for (var r = 0; r < n.length; ++r)
                            if (t === n[r]) {
                                this.set(e, t);
                                break
                            }
                    }
                    ,
                    t.integer = function(e, t) {
                        /^-?\d+$/.test(t) && this.set(e, parseInt(t, 10))
                    }
                    ,
                    t.percent = function(e, t) {
                        if (/^([\d]{1,3})(\.[\d]*)?%$/.test(t)) {
                            var n = parseFloat(t);
                            if (n >= 0 && n <= 100)
                                return this.set(e, n),
                                !0
                        }
                        return !1
                    }
                    ,
                    e
                }();
                function Yt(e, t, n, r) {
                    var i = r ? e.split(r) : [e];
                    for (var o in i)
                        if ("string" == typeof i[o]) {
                            var a = i[o].split(n);
                            2 === a.length && t(a[0], a[1])
                        }
                }
                var Kt = new Ht(0,0,"")
                  , zt = "middle" === Kt.align ? "middle" : "center";
                function Qt(e, t, n) {
                    var r = e;
                    function i() {
                        var t = Wt(e);
                        if (null === t)
                            throw new Error("Malformed timestamp: " + r);
                        return e = e.replace(/^[^\sa-zA-Z-]+/, ""),
                        t
                    }
                    function o() {
                        e = e.replace(/^\s+/, "")
                    }
                    if (o(),
                    t.startTime = i(),
                    o(),
                    "--\x3e" !== e.slice(0, 3))
                        throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): " + r);
                    e = e.slice(3),
                    o(),
                    t.endTime = i(),
                    o(),
                    function(e, t) {
                        var r = new Gt;
                        Yt(e, (function(e, t) {
                            var i;
                            switch (e) {
                            case "region":
                                for (var o = n.length - 1; o >= 0; o--)
                                    if (n[o].id === t) {
                                        r.set(e, n[o].region);
                                        break
                                    }
                                break;
                            case "vertical":
                                r.alt(e, t, ["rl", "lr"]);
                                break;
                            case "line":
                                i = t.split(","),
                                r.integer(e, i[0]),
                                r.percent(e, i[0]) && r.set("snapToLines", !1),
                                r.alt(e, i[0], ["auto"]),
                                2 === i.length && r.alt("lineAlign", i[1], ["start", zt, "end"]);
                                break;
                            case "position":
                                i = t.split(","),
                                r.percent(e, i[0]),
                                2 === i.length && r.alt("positionAlign", i[1], ["start", zt, "end", "line-left", "line-right", "auto"]);
                                break;
                            case "size":
                                r.percent(e, t);
                                break;
                            case "align":
                                r.alt(e, t, ["start", zt, "end", "left", "right"])
                            }
                        }
                        ), /:/, /\s/),
                        t.region = r.get("region", null),
                        t.vertical = r.get("vertical", "");
                        var i = r.get("line", "auto");
                        "auto" === i && -1 === Kt.line && (i = -1),
                        t.line = i,
                        t.lineAlign = r.get("lineAlign", "start"),
                        t.snapToLines = r.get("snapToLines", !0),
                        t.size = r.get("size", 100),
                        t.align = r.get("align", zt);
                        var o = r.get("position", "auto");
                        "auto" === o && 50 === Kt.position && (o = "start" === t.align || "left" === t.align ? 0 : "end" === t.align || "right" === t.align ? 100 : 50),
                        t.position = o
                    }(e, t)
                }
                function Jt(e) {
                    return e.replace(/<br(?: \/)?>/gi, "\n")
                }
                var Xt = function() {
                    function e() {
                        this.state = "INITIAL",
                        this.buffer = "",
                        this.decoder = new qt,
                        this.regionList = [],
                        this.cue = null,
                        this.oncue = void 0,
                        this.onparsingerror = void 0,
                        this.onflush = void 0
                    }
                    var t = e.prototype;
                    return t.parse = function(e) {
                        var t = this;
                        function n() {
                            var e = t.buffer
                              , n = 0;
                            for (e = Jt(e); n < e.length && "\r" !== e[n] && "\n" !== e[n]; )
                                ++n;
                            var r = e.slice(0, n);
                            return "\r" === e[n] && ++n,
                            "\n" === e[n] && ++n,
                            t.buffer = e.slice(n),
                            r
                        }
                        e && (t.buffer += t.decoder.decode(e, {
                            stream: !0
                        }));
                        try {
                            var r = "";
                            if ("INITIAL" === t.state) {
                                if (!/\r\n|\n/.test(t.buffer))
                                    return this;
                                var i = (r = n()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);
                                if (!i || !i[0])
                                    throw new Error("Malformed WebVTT signature.");
                                t.state = "HEADER"
                            }
                            for (var o = !1; t.buffer; ) {
                                if (!/\r\n|\n/.test(t.buffer))
                                    return this;
                                switch (o ? o = !1 : r = n(),
                                t.state) {
                                case "HEADER":
                                    /:/.test(r) ? Yt(r, (function(e, t) {}
                                    ), /:/) : r || (t.state = "ID");
                                    continue;
                                case "NOTE":
                                    r || (t.state = "ID");
                                    continue;
                                case "ID":
                                    if (/^NOTE($|[ \t])/.test(r)) {
                                        t.state = "NOTE";
                                        break
                                    }
                                    if (!r)
                                        continue;
                                    if (t.cue = new Ht(0,0,""),
                                    t.state = "CUE",
                                    -1 === r.indexOf("--\x3e")) {
                                        t.cue.id = r;
                                        continue
                                    }
                                case "CUE":
                                    if (!t.cue) {
                                        t.state = "BADCUE";
                                        continue
                                    }
                                    try {
                                        Qt(r, t.cue, t.regionList)
                                    } catch (e) {
                                        t.cue = null,
                                        t.state = "BADCUE";
                                        continue
                                    }
                                    t.state = "CUETEXT";
                                    continue;
                                case "CUETEXT":
                                    var a = -1 !== r.indexOf("--\x3e");
                                    if (!r || a && (o = !0)) {
                                        t.oncue && t.cue && t.oncue(t.cue),
                                        t.cue = null,
                                        t.state = "ID";
                                        continue
                                    }
                                    if (null === t.cue)
                                        continue;
                                    t.cue.text && (t.cue.text += "\n"),
                                    t.cue.text += r;
                                    continue;
                                case "BADCUE":
                                    r || (t.state = "ID")
                                }
                            }
                        } catch (e) {
                            "CUETEXT" === t.state && t.cue && t.oncue && t.oncue(t.cue),
                            t.cue = null,
                            t.state = "INITIAL" === t.state ? "BADWEBVTT" : "BADCUE"
                        }
                        return this
                    }
                    ,
                    t.flush = function() {
                        try {
                            if ((this.cue || "HEADER" === this.state) && (this.buffer += "\n\n",
                            this.parse()),
                            "INITIAL" === this.state || "BADWEBVTT" === this.state)
                                throw new Error("Malformed WebVTT signature.")
                        } catch (e) {
                            this.onparsingerror && this.onparsingerror(e)
                        }
                        return this.onflush && this.onflush(),
                        this
                    }
                    ,
                    e
                }()
                  , Zt = n(11)
                  , $t = n(13)
                  , en = /\r\n|\n\r|\n|\r/g
                  , tn = function(e, t, n) {
                    return void 0 === n && (n = 0),
                    e.slice(n, n + t.length) === t
                }
                  , nn = function(e) {
                    for (var t = 5381, n = e.length; n; )
                        t = 33 * t ^ e.charCodeAt(--n);
                    return (t >>> 0).toString()
                };
                function rn(e, t, n) {
                    return nn(e.toString()) + nn(t.toString()) + nn(n)
                }
                function on(e, t, n, r, i, a, s, u) {
                    var c, l = new Xt, f = Object(U.f)(new Uint8Array(e)).trim().replace(en, "\n").split("\n"), d = [], h = Object(Zt.a)(t, n), p = "00:00.000", v = 0, m = 0, g = !0;
                    l.oncue = function(e) {
                        var t = r[i]
                          , n = r.ccOffset
                          , o = (v - h) / 9e4;
                        null != t && t.new && (void 0 !== m ? n = r.ccOffset = t.start : function(e, t, n) {
                            var r = e[t]
                              , i = e[r.prevCC];
                            if (!i || !i.new && r.new)
                                return e.ccOffset = e.presentationOffset = r.start,
                                void (r.new = !1);
                            for (; null !== (o = i) && void 0 !== o && o.new; ) {
                                var o;
                                e.ccOffset += r.start - i.start,
                                r.new = !1,
                                i = e[(r = i).prevCC]
                            }
                            e.presentationOffset = n
                        }(r, i, o)),
                        o && (n = o - r.presentationOffset);
                        var s = e.endTime - e.startTime
                          , u = Object($t.d)(9e4 * (e.startTime + n - m), 9e4 * a) / 9e4;
                        e.startTime = Math.max(u, 0),
                        e.endTime = Math.max(u + s, 0);
                        var c = e.text.trim();
                        e.text = decodeURIComponent(encodeURIComponent(c)),
                        e.id || (e.id = rn(e.startTime, e.endTime, c)),
                        e.endTime > 0 && d.push(e)
                    }
                    ,
                    l.onparsingerror = function(e) {
                        c = e
                    }
                    ,
                    l.onflush = function() {
                        c ? u(c) : s(d)
                    }
                    ,
                    f.forEach((function(e) {
                        if (g) {
                            if (tn(e, "X-TIMESTAMP-MAP=")) {
                                g = !1,
                                e.slice(16).split(",").forEach((function(e) {
                                    tn(e, "LOCAL:") ? p = e.slice(6) : tn(e, "MPEGTS:") && (v = parseInt(e.slice(7)))
                                }
                                ));
                                try {
                                    m = function(e) {
                                        var t = parseInt(e.slice(-3))
                                          , n = parseInt(e.slice(-6, -4))
                                          , r = parseInt(e.slice(-9, -7))
                                          , i = e.length > 9 ? parseInt(e.substring(0, e.indexOf(":"))) : 0;
                                        if (!(Object(o.a)(t) && Object(o.a)(n) && Object(o.a)(r) && Object(o.a)(i)))
                                            throw Error("Malformed X-TIMESTAMP-MAP: Local:" + e);
                                        return t += 1e3 * n,
                                        (t += 6e4 * r) + 36e5 * i
                                    }(p) / 1e3
                                } catch (e) {
                                    c = e
                                }
                                return
                            }
                            "" === e && (g = !1)
                        }
                        l.parse(e + "\n")
                    }
                    )),
                    l.flush()
                }
                function an() {
                    return (an = Object.assign ? Object.assign.bind() : function(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = arguments[t];
                            for (var r in n)
                                Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                        }
                        return e
                    }
                    ).apply(this, arguments)
                }
                var sn = /^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/
                  , un = /^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/
                  , cn = {
                    left: "start",
                    center: "center",
                    right: "end",
                    start: "start",
                    end: "end"
                };
                function ln(e, t, n, r, i) {
                    var o = Object(c.c)(new Uint8Array(e), ["mdat"]);
                    if (0 !== o.length) {
                        var a = o.map((function(e) {
                            return Object(U.f)(e)
                        }
                        ))
                          , s = Object(Zt.c)(t, 1, n);
                        try {
                            a.forEach((function(e) {
                                return r(function(e, t) {
                                    var n = (new DOMParser).parseFromString(e, "text/xml").getElementsByTagName("tt")[0];
                                    if (!n)
                                        throw new Error("Invalid ttml");
                                    var r = {
                                        frameRate: 30,
                                        subFrameRate: 1,
                                        frameRateMultiplier: 0,
                                        tickRate: 0
                                    }
                                      , i = Object.keys(r).reduce((function(e, t) {
                                        return e[t] = n.getAttribute("ttp:" + t) || r[t],
                                        e
                                    }
                                    ), {})
                                      , o = "preserve" !== n.getAttribute("xml:space")
                                      , a = dn(fn(n, "styling", "style"))
                                      , s = dn(fn(n, "layout", "region"))
                                      , u = fn(n, "body", "[begin]");
                                    return [].map.call(u, (function(e) {
                                        var n = function e(t, n) {
                                            return [].slice.call(t.childNodes).reduce((function(t, r, i) {
                                                var o;
                                                return "br" === r.nodeName && i ? t + "\n" : null !== (o = r.childNodes) && void 0 !== o && o.length ? e(r, n) : n ? t + r.textContent.trim().replace(/\s+/g, " ") : t + r.textContent
                                            }
                                            ), "")
                                        }(e, o);
                                        if (!n || !e.hasAttribute("begin"))
                                            return null;
                                        var r = vn(e.getAttribute("begin"), i)
                                          , u = vn(e.getAttribute("dur"), i)
                                          , c = vn(e.getAttribute("end"), i);
                                        if (null === r)
                                            throw pn(e);
                                        if (null === c) {
                                            if (null === u)
                                                throw pn(e);
                                            c = r + u
                                        }
                                        var l = new Ht(r - t,c - t,n);
                                        l.id = rn(l.startTime, l.endTime, l.text);
                                        var f = s[e.getAttribute("region")]
                                          , d = a[e.getAttribute("style")];
                                        l.position = 10,
                                        l.size = 80;
                                        var h = function(e, t, n) {
                                            var r = "http://www.w3.org/ns/ttml#styling"
                                              , i = null
                                              , o = null != e && e.hasAttribute("style") ? e.getAttribute("style") : null;
                                            return o && n.hasOwnProperty(o) && (i = n[o]),
                                            ["displayAlign", "textAlign", "color", "backgroundColor", "fontSize", "fontFamily"].reduce((function(n, o) {
                                                var a = hn(t, r, o) || hn(e, r, o) || hn(i, r, o);
                                                return a && (n[o] = a),
                                                n
                                            }
                                            ), {})
                                        }(f, d, a)
                                          , p = h.textAlign;
                                        if (p) {
                                            var v = cn[p];
                                            v && (l.lineAlign = v),
                                            l.align = p
                                        }
                                        return an(l, h),
                                        l
                                    }
                                    )).filter((function(e) {
                                        return null !== e
                                    }
                                    ))
                                }(e, s))
                            }
                            ))
                        } catch (e) {
                            i(e)
                        }
                    } else
                        i(new Error("Could not parse IMSC1 mdat"))
                }
                function fn(e, t, n) {
                    var r = e.getElementsByTagName(t)[0];
                    return r ? [].slice.call(r.querySelectorAll(n)) : []
                }
                function dn(e) {
                    return e.reduce((function(e, t) {
                        var n = t.getAttribute("xml:id");
                        return n && (e[n] = t),
                        e
                    }
                    ), {})
                }
                function hn(e, t, n) {
                    return e && e.hasAttributeNS(t, n) ? e.getAttributeNS(t, n) : null
                }
                function pn(e) {
                    return new Error("Could not parse ttml timestamp " + e)
                }
                function vn(e, t) {
                    if (!e)
                        return null;
                    var n = Wt(e);
                    return null === n && (sn.test(e) ? n = function(e, t) {
                        var n = sn.exec(e)
                          , r = (0 | n[4]) + (0 | n[5]) / t.subFrameRate;
                        return 3600 * (0 | n[1]) + 60 * (0 | n[2]) + (0 | n[3]) + r / t.frameRate
                    }(e, t) : un.test(e) && (n = function(e, t) {
                        var n = un.exec(e)
                          , r = Number(n[1]);
                        switch (n[2]) {
                        case "h":
                            return 3600 * r;
                        case "m":
                            return 60 * r;
                        case "ms":
                            return 1e3 * r;
                        case "f":
                            return r / t.frameRate;
                        case "t":
                            return r / t.tickRate
                        }
                        return r
                    }(e, t))),
                    n
                }
                var mn = function() {
                    function e(e) {
                        if (this.hls = void 0,
                        this.media = null,
                        this.config = void 0,
                        this.enabled = !0,
                        this.Cues = void 0,
                        this.textTracks = [],
                        this.tracks = [],
                        this.initPTS = [],
                        this.timescale = [],
                        this.unparsedVttFrags = [],
                        this.captionsTracks = {},
                        this.nonNativeCaptionsTracks = {},
                        this.cea608Parser1 = void 0,
                        this.cea608Parser2 = void 0,
                        this.lastSn = -1,
                        this.lastPartIndex = -1,
                        this.prevCC = -1,
                        this.vttCCs = {
                            ccOffset: 0,
                            presentationOffset: 0,
                            0: {
                                start: 0,
                                prevCC: -1,
                                new: !0
                            }
                        },
                        this.captionsProperties = void 0,
                        this.hls = e,
                        this.config = e.config,
                        this.Cues = e.config.cueHandler,
                        this.captionsProperties = {
                            textTrack1: {
                                label: this.config.captionsTextTrack1Label,
                                languageCode: this.config.captionsTextTrack1LanguageCode
                            },
                            textTrack2: {
                                label: this.config.captionsTextTrack2Label,
                                languageCode: this.config.captionsTextTrack2LanguageCode
                            },
                            textTrack3: {
                                label: this.config.captionsTextTrack3Label,
                                languageCode: this.config.captionsTextTrack3LanguageCode
                            },
                            textTrack4: {
                                label: this.config.captionsTextTrack4Label,
                                languageCode: this.config.captionsTextTrack4LanguageCode
                            }
                        },
                        this.config.enableCEA708Captions) {
                            var t = new Vt(this,"textTrack1")
                              , n = new Vt(this,"textTrack2")
                              , r = new Vt(this,"textTrack3")
                              , i = new Vt(this,"textTrack4");
                            this.cea608Parser1 = new jt(1,t,n),
                            this.cea608Parser2 = new jt(3,r,i)
                        }
                        e.on(a.a.MEDIA_ATTACHING, this.onMediaAttaching, this),
                        e.on(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        e.on(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.on(a.a.MANIFEST_LOADED, this.onManifestLoaded, this),
                        e.on(a.a.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this),
                        e.on(a.a.FRAG_LOADING, this.onFragLoading, this),
                        e.on(a.a.FRAG_LOADED, this.onFragLoaded, this),
                        e.on(a.a.FRAG_PARSING_USERDATA, this.onFragParsingUserdata, this),
                        e.on(a.a.FRAG_DECRYPTED, this.onFragDecrypted, this),
                        e.on(a.a.INIT_PTS_FOUND, this.onInitPtsFound, this),
                        e.on(a.a.SUBTITLE_TRACKS_CLEARED, this.onSubtitleTracksCleared, this),
                        e.on(a.a.BUFFER_FLUSHING, this.onBufferFlushing, this)
                    }
                    var t = e.prototype;
                    return t.destroy = function() {
                        var e = this.hls;
                        e.off(a.a.MEDIA_ATTACHING, this.onMediaAttaching, this),
                        e.off(a.a.MEDIA_DETACHING, this.onMediaDetaching, this),
                        e.off(a.a.MANIFEST_LOADING, this.onManifestLoading, this),
                        e.off(a.a.MANIFEST_LOADED, this.onManifestLoaded, this),
                        e.off(a.a.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this),
                        e.off(a.a.FRAG_LOADING, this.onFragLoading, this),
                        e.off(a.a.FRAG_LOADED, this.onFragLoaded, this),
                        e.off(a.a.FRAG_PARSING_USERDATA, this.onFragParsingUserdata, this),
                        e.off(a.a.FRAG_DECRYPTED, this.onFragDecrypted, this),
                        e.off(a.a.INIT_PTS_FOUND, this.onInitPtsFound, this),
                        e.off(a.a.SUBTITLE_TRACKS_CLEARED, this.onSubtitleTracksCleared, this),
                        e.off(a.a.BUFFER_FLUSHING, this.onBufferFlushing, this),
                        this.hls = this.config = this.cea608Parser1 = this.cea608Parser2 = null
                    }
                    ,
                    t.addCues = function(e, t, n, r, i) {
                        for (var o, s, u, c, l = !1, f = i.length; f--; ) {
                            var d = i[f]
                              , h = (o = d[0],
                            s = d[1],
                            u = t,
                            c = n,
                            Math.min(s, c) - Math.max(o, u));
                            if (h >= 0 && (d[0] = Math.min(d[0], t),
                            d[1] = Math.max(d[1], n),
                            l = !0,
                            h / (n - t) > .5))
                                return
                        }
                        if (l || i.push([t, n]),
                        this.config.renderTextTracksNatively) {
                            var p = this.captionsTracks[e];
                            this.Cues.newCue(p, t, n, r)
                        } else {
                            var v = this.Cues.newCue(null, t, n, r);
                            this.hls.trigger(a.a.CUES_PARSED, {
                                type: "captions",
                                cues: v,
                                track: e
                            })
                        }
                    }
                    ,
                    t.onInitPtsFound = function(e, t) {
                        var n = this
                          , r = t.frag
                          , i = t.id
                          , o = t.initPTS
                          , s = t.timescale
                          , u = this.unparsedVttFrags;
                        "main" === i && (this.initPTS[r.cc] = o,
                        this.timescale[r.cc] = s),
                        u.length && (this.unparsedVttFrags = [],
                        u.forEach((function(e) {
                            n.onFragLoaded(a.a.FRAG_LOADED, e)
                        }
                        )))
                    }
                    ,
                    t.getExistingTrack = function(e) {
                        var t = this.media;
                        if (t)
                            for (var n = 0; n < t.textTracks.length; n++) {
                                var r = t.textTracks[n];
                                if (r[e])
                                    return r
                            }
                        return null
                    }
                    ,
                    t.createCaptionsTrack = function(e) {
                        this.config.renderTextTracksNatively ? this.createNativeTrack(e) : this.createNonNativeTrack(e)
                    }
                    ,
                    t.createNativeTrack = function(e) {
                        if (!this.captionsTracks[e]) {
                            var t = this.captionsProperties
                              , n = this.captionsTracks
                              , r = this.media
                              , i = t[e]
                              , o = i.label
                              , a = i.languageCode
                              , s = this.getExistingTrack(e);
                            if (s)
                                n[e] = s,
                                M(n[e]),
                                N(n[e], r);
                            else {
                                var u = this.createTextTrack("captions", o, a);
                                u && (u[e] = !0,
                                n[e] = u)
                            }
                        }
                    }
                    ,
                    t.createNonNativeTrack = function(e) {
                        if (!this.nonNativeCaptionsTracks[e]) {
                            var t = this.captionsProperties[e];
                            if (t) {
                                var n = {
                                    _id: e,
                                    label: t.label,
                                    kind: "captions",
                                    default: !!t.media && !!t.media.default,
                                    closedCaptions: t.media
                                };
                                this.nonNativeCaptionsTracks[e] = n,
                                this.hls.trigger(a.a.NON_NATIVE_TEXT_TRACKS_FOUND, {
                                    tracks: [n]
                                })
                            }
                        }
                    }
                    ,
                    t.createTextTrack = function(e, t, n) {
                        var r = this.media;
                        if (r)
                            return r.addTextTrack(e, t, n)
                    }
                    ,
                    t.onMediaAttaching = function(e, t) {
                        this.media = t.media,
                        this._cleanTracks()
                    }
                    ,
                    t.onMediaDetaching = function() {
                        var e = this.captionsTracks;
                        Object.keys(e).forEach((function(t) {
                            M(e[t]),
                            delete e[t]
                        }
                        )),
                        this.nonNativeCaptionsTracks = {}
                    }
                    ,
                    t.onManifestLoading = function() {
                        this.lastSn = -1,
                        this.lastPartIndex = -1,
                        this.prevCC = -1,
                        this.vttCCs = {
                            ccOffset: 0,
                            presentationOffset: 0,
                            0: {
                                start: 0,
                                prevCC: -1,
                                new: !0
                            }
                        },
                        this._cleanTracks(),
                        this.tracks = [],
                        this.captionsTracks = {},
                        this.nonNativeCaptionsTracks = {},
                        this.textTracks = [],
                        this.unparsedVttFrags = this.unparsedVttFrags || [],
                        this.initPTS = [],
                        this.timescale = [],
                        this.cea608Parser1 && this.cea608Parser2 && (this.cea608Parser1.reset(),
                        this.cea608Parser2.reset())
                    }
                    ,
                    t._cleanTracks = function() {
                        var e = this.media;
                        if (e) {
                            var t = e.textTracks;
                            if (t)
                                for (var n = 0; n < t.length; n++)
                                    M(t[n])
                        }
                    }
                    ,
                    t.onSubtitleTracksUpdated = function(e, t) {
                        var n = this;
                        this.textTracks = [];
                        var r = t.subtitleTracks || []
                          , i = r.some((function(e) {
                            return "stpp.ttml.im1t" === e.textCodec
                        }
                        ));
                        if (this.config.enableWebVTT || i && this.config.enableIMSC1) {
                            var o = this.tracks && r && this.tracks.length === r.length;
                            if (this.tracks = r || [],
                            this.config.renderTextTracksNatively) {
                                var s = this.media ? this.media.textTracks : [];
                                this.tracks.forEach((function(e, t) {
                                    var r;
                                    if (t < s.length) {
                                        for (var i = null, o = 0; o < s.length; o++)
                                            if (gn(s[o], e)) {
                                                i = s[o];
                                                break
                                            }
                                        i && (r = i)
                                    }
                                    if (r)
                                        M(r);
                                    else {
                                        var a = n._captionsOrSubtitlesFromCharacteristics(e);
                                        (r = n.createTextTrack(a, e.name, e.lang)) && (r.mode = "disabled")
                                    }
                                    r && (r.groupId = e.groupId,
                                    n.textTracks.push(r))
                                }
                                ))
                            } else if (!o && this.tracks && this.tracks.length) {
                                var u = this.tracks.map((function(e) {
                                    return {
                                        label: e.name,
                                        kind: e.type.toLowerCase(),
                                        default: e.default,
                                        subtitleTrack: e
                                    }
                                }
                                ));
                                this.hls.trigger(a.a.NON_NATIVE_TEXT_TRACKS_FOUND, {
                                    tracks: u
                                })
                            }
                        }
                    }
                    ,
                    t._captionsOrSubtitlesFromCharacteristics = function(e) {
                        var t;
                        if (null !== (t = e.attrs) && void 0 !== t && t.CHARACTERISTICS) {
                            var n = /transcribes-spoken-dialog/gi.test(e.attrs.CHARACTERISTICS)
                              , r = /describes-music-and-sound/gi.test(e.attrs.CHARACTERISTICS);
                            if (n && r)
                                return "captions"
                        }
                        return "subtitles"
                    }
                    ,
                    t.onManifestLoaded = function(e, t) {
                        var n = this;
                        this.config.enableCEA708Captions && t.captions && t.captions.forEach((function(e) {
                            var t = /(?:CC|SERVICE)([1-4])/.exec(e.instreamId);
                            if (t) {
                                var r = "textTrack" + t[1]
                                  , i = n.captionsProperties[r];
                                i && (i.label = e.name,
                                e.lang && (i.languageCode = e.lang),
                                i.media = e)
                            }
                        }
                        ))
                    }
                    ,
                    t.closedCaptionsForLevel = function(e) {
                        var t = this.hls.levels[e.level];
                        return null == t ? void 0 : t.attrs["CLOSED-CAPTIONS"]
                    }
                    ,
                    t.onFragLoading = function(e, t) {
                        var n = this.cea608Parser1
                          , r = this.cea608Parser2
                          , i = this.lastSn
                          , o = this.lastPartIndex;
                        if (this.enabled && n && r && t.frag.type === P.b.MAIN) {
                            var a, s, u = t.frag.sn, c = null != (a = null == t || null === (s = t.part) || void 0 === s ? void 0 : s.index) ? a : -1;
                            u === i + 1 || u === i && c === o + 1 || (n.reset(),
                            r.reset()),
                            this.lastSn = u,
                            this.lastPartIndex = c
                        }
                    }
                    ,
                    t.onFragLoaded = function(e, t) {
                        var n = t.frag
                          , r = t.payload
                          , i = this.initPTS
                          , s = this.unparsedVttFrags;
                        if (n.type === P.b.SUBTITLE)
                            if (r.byteLength) {
                                if (!Object(o.a)(i[n.cc]))
                                    return s.push(t),
                                    void (i.length && this.hls.trigger(a.a.SUBTITLE_FRAG_PROCESSED, {
                                        success: !1,
                                        frag: n,
                                        error: new Error("Missing initial subtitle PTS")
                                    }));
                                var u = n.decryptdata
                                  , c = "stats"in t;
                                if (null == u || null == u.key || "AES-128" !== u.method || c) {
                                    var l = this.tracks[n.level]
                                      , f = this.vttCCs;
                                    f[n.cc] || (f[n.cc] = {
                                        start: n.start,
                                        prevCC: this.prevCC,
                                        new: !0
                                    },
                                    this.prevCC = n.cc),
                                    l && "stpp.ttml.im1t" === l.textCodec ? this._parseIMSC1(n, r) : this._parseVTTs(n, r, f)
                                }
                            } else
                                this.hls.trigger(a.a.SUBTITLE_FRAG_PROCESSED, {
                                    success: !1,
                                    frag: n,
                                    error: new Error("Empty subtitle payload")
                                })
                    }
                    ,
                    t._parseIMSC1 = function(e, t) {
                        var n = this
                          , r = this.hls;
                        ln(t, this.initPTS[e.cc], this.timescale[e.cc], (function(t) {
                            n._appendCues(t, e.level),
                            r.trigger(a.a.SUBTITLE_FRAG_PROCESSED, {
                                success: !0,
                                frag: e
                            })
                        }
                        ), (function(t) {
                            u.b.log("Failed to parse IMSC1: " + t),
                            r.trigger(a.a.SUBTITLE_FRAG_PROCESSED, {
                                success: !1,
                                frag: e,
                                error: t
                            })
                        }
                        ))
                    }
                    ,
                    t._parseVTTs = function(e, t, n) {
                        var r, i = this, o = this.hls;
                        on(null !== (r = e.initSegment) && void 0 !== r && r.data ? Object(c.b)(e.initSegment.data, new Uint8Array(t)) : t, this.initPTS[e.cc], this.timescale[e.cc], n, e.cc, e.start, (function(t) {
                            i._appendCues(t, e.level),
                            o.trigger(a.a.SUBTITLE_FRAG_PROCESSED, {
                                success: !0,
                                frag: e
                            })
                        }
                        ), (function(n) {
                            i._fallbackToIMSC1(e, t),
                            u.b.log("Failed to parse VTT cue: " + n),
                            o.trigger(a.a.SUBTITLE_FRAG_PROCESSED, {
                                success: !1,
                                frag: e,
                                error: n
                            })
                        }
                        ))
                    }
                    ,
                    t._fallbackToIMSC1 = function(e, t) {
                        var n = this
                          , r = this.tracks[e.level];
                        r.textCodec || ln(t, this.initPTS[e.cc], this.timescale[e.cc], (function() {
                            r.textCodec = "stpp.ttml.im1t",
                            n._parseIMSC1(e, t)
                        }
                        ), (function() {
                            r.textCodec = "wvtt"
                        }
                        ))
                    }
                    ,
                    t._appendCues = function(e, t) {
                        var n = this.hls;
                        if (this.config.renderTextTracksNatively) {
                            var r = this.textTracks[t];
                            if (!r || "disabled" === r.mode)
                                return;
                            e.forEach((function(e) {
                                return x(r, e)
                            }
                            ))
                        } else {
                            var i = this.tracks[t];
                            if (!i)
                                return;
                            var o = i.default ? "default" : "subtitles" + t;
                            n.trigger(a.a.CUES_PARSED, {
                                type: "subtitles",
                                cues: e,
                                track: o
                            })
                        }
                    }
                    ,
                    t.onFragDecrypted = function(e, t) {
                        var n = t.frag;
                        if (n.type === P.b.SUBTITLE) {
                            if (!Object(o.a)(this.initPTS[n.cc]))
                                return void this.unparsedVttFrags.push(t);
                            this.onFragLoaded(a.a.FRAG_LOADED, t)
                        }
                    }
                    ,
                    t.onSubtitleTracksCleared = function() {
                        this.tracks = [],
                        this.captionsTracks = {}
                    }
                    ,
                    t.onFragParsingUserdata = function(e, t) {
                        var n = this.cea608Parser1
                          , r = this.cea608Parser2;
                        if (this.enabled && n && r) {
                            var i = t.frag
                              , o = t.samples;
                            if (i.type !== P.b.MAIN || "NONE" !== this.closedCaptionsForLevel(i))
                                for (var a = 0; a < o.length; a++) {
                                    var s = o[a].bytes;
                                    if (s) {
                                        var u = this.extractCea608Data(s);
                                        n.addData(o[a].pts, u[0]),
                                        r.addData(o[a].pts, u[1])
                                    }
                                }
                        }
                    }
                    ,
                    t.onBufferFlushing = function(e, t) {
                        var n = t.startOffset
                          , r = t.endOffset
                          , i = t.endOffsetSubtitles
                          , o = t.type
                          , a = this.media;
                        if (a && !(a.currentTime < r)) {
                            if (!o || "video" === o) {
                                var s = this.captionsTracks;
                                Object.keys(s).forEach((function(e) {
                                    return F(s[e], n, r)
                                }
                                ))
                            }
                            if (this.config.renderTextTracksNatively && 0 === n && void 0 !== i) {
                                var u = this.textTracks;
                                Object.keys(u).forEach((function(e) {
                                    return F(u[e], n, i)
                                }
                                ))
                            }
                        }
                    }
                    ,
                    t.extractCea608Data = function(e) {
                        for (var t = [[], []], n = 31 & e[0], r = 2, i = 0; i < n; i++) {
                            var o = e[r++]
                              , a = 127 & e[r++]
                              , s = 127 & e[r++];
                            if ((0 !== a || 0 !== s) && 0 != (4 & o)) {
                                var u = 3 & o;
                                0 !== u && 1 !== u || (t[u].push(a),
                                t[u].push(s))
                            }
                        }
                        return t
                    }
                    ,
                    e
                }();
                function gn(e, t) {
                    return e && e.label === t.name && !(e.textTrack1 || e.textTrack2)
                }
                var yn, En = function() {
                    function e(e) {
                        this.autoLevelCapping = void 0,
                        this.firstLevel = void 0,
                        this.media = void 0,
                        this.restrictedLevels = void 0,
                        this.timer = void 0,
                        this.hls = void 0,
                        this.streamController = void 0,
                        this.clientRect = void 0,
                        this.hls = e,
                        this.autoLevelCapping = Number.POSITIVE_INFINITY,
                        this.firstLevel = -1,
                        this.media = null,
                        this.restrictedLevels = [],
                        this.timer = void 0,
                        this.clientRect = null,
                        this.registerListeners()
                    }
                    var t, n, r = e.prototype;
                    return r.setStreamController = function(e) {
                        this.streamController = e
                    }
                    ,
                    r.destroy = function() {
                        this.unregisterListener(),
                        this.hls.config.capLevelToPlayerSize && this.stopCapping(),
                        this.media = null,
                        this.clientRect = null,
                        this.hls = this.streamController = null
                    }
                    ,
                    r.registerListeners = function() {
                        var e = this.hls;
                        e.on(a.a.FPS_DROP_LEVEL_CAPPING, this.onFpsDropLevelCapping, this),
                        e.on(a.a.MEDIA_ATTACHING, this.onMediaAttaching, this),
                        e.on(a.a.MANIFEST_PARSED, this.onManifestParsed, this),
                        e.on(a.a.BUFFER_CODECS, this.onBufferCodecs, this),
                        e.on(a.a.MEDIA_DETACHING, this.onMediaDetaching, this)
                    }
                    ,
                    r.unregisterListener = function() {
                        var e = this.hls;
                        e.off(a.a.FPS_DROP_LEVEL_CAPPING, this.onFpsDropLevelCapping, this),
                        e.off(a.a.MEDIA_ATTACHING, this.onMediaAttaching, this),
                        e.off(a.a.MANIFEST_PARSED, this.onManifestParsed, this),
                        e.off(a.a.BUFFER_CODECS, this.onBufferCodecs, this),
                        e.off(a.a.MEDIA_DETACHING, this.onMediaDetaching, this)
                    }
                    ,
                    r.onFpsDropLevelCapping = function(t, n) {
                        e.isLevelAllowed(n.droppedLevel, this.restrictedLevels) && this.restrictedLevels.push(n.droppedLevel)
                    }
                    ,
                    r.onMediaAttaching = function(e, t) {
                        this.media = t.media instanceof HTMLVideoElement ? t.media : null
                    }
                    ,
                    r.onManifestParsed = function(e, t) {
                        var n = this.hls;
                        this.restrictedLevels = [],
                        this.firstLevel = t.firstLevel,
                        n.config.capLevelToPlayerSize && t.video && this.startCapping()
                    }
                    ,
                    r.onBufferCodecs = function(e, t) {
                        this.hls.config.capLevelToPlayerSize && t.video && this.startCapping()
                    }
                    ,
                    r.onMediaDetaching = function() {
                        this.stopCapping()
                    }
                    ,
                    r.detectPlayerSize = function() {
                        if (this.media && this.mediaHeight > 0 && this.mediaWidth > 0) {
                            var e = this.hls.levels;
                            if (e.length) {
                                var t = this.hls;
                                t.autoLevelCapping = this.getMaxLevel(e.length - 1),
                                t.autoLevelCapping > this.autoLevelCapping && this.streamController && this.streamController.nextLevelSwitch(),
                                this.autoLevelCapping = t.autoLevelCapping
                            }
                        }
                    }
                    ,
                    r.getMaxLevel = function(t) {
                        var n = this
                          , r = this.hls.levels;
                        if (!r.length)
                            return -1;
                        var i = r.filter((function(r, i) {
                            return e.isLevelAllowed(i, n.restrictedLevels) && i <= t
                        }
                        ));
                        return this.clientRect = null,
                        e.getMaxLevelByMediaSize(i, this.mediaWidth, this.mediaHeight)
                    }
                    ,
                    r.startCapping = function() {
                        this.timer || (this.autoLevelCapping = Number.POSITIVE_INFINITY,
                        this.hls.firstLevel = this.getMaxLevel(this.firstLevel),
                        self.clearInterval(this.timer),
                        this.timer = self.setInterval(this.detectPlayerSize.bind(this), 1e3),
                        this.detectPlayerSize())
                    }
                    ,
                    r.stopCapping = function() {
                        this.restrictedLevels = [],
                        this.firstLevel = -1,
                        this.autoLevelCapping = Number.POSITIVE_INFINITY,
                        this.timer && (self.clearInterval(this.timer),
                        this.timer = void 0)
                    }
                    ,
                    r.getDimensions = function() {
                        if (this.clientRect)
                            return this.clientRect;
                        var e = this.media
                          , t = {
                            width: 0,
                            height: 0
                        };
                        if (e) {
                            var n = e.getBoundingClientRect();
                            t.width = n.width,
                            t.height = n.height,
                            t.width || t.height || (t.width = n.right - n.left || e.width || 0,
                            t.height = n.bottom - n.top || e.height || 0)
                        }
                        return this.clientRect = t,
                        t
                    }
                    ,
                    e.isLevelAllowed = function(e, t) {
                        return void 0 === t && (t = []),
                        -1 === t.indexOf(e)
                    }
                    ,
                    e.getMaxLevelByMediaSize = function(e, t, n) {
                        if (!e || !e.length)
                            return -1;
                        for (var r, i, o = e.length - 1, a = 0; a < e.length; a += 1) {
                            var s = e[a];
                            if ((s.width >= t || s.height >= n) && (r = s,
                            !(i = e[a + 1]) || r.width !== i.width || r.height !== i.height)) {
                                o = a;
                                break
                            }
                        }
                        return o
                    }
                    ,
                    t = e,
                    (n = [{
                        key: "mediaWidth",
                        get: function() {
                            return this.getDimensions().width * this.contentScaleFactor
                        }
                    }, {
                        key: "mediaHeight",
                        get: function() {
                            return this.getDimensions().height * this.contentScaleFactor
                        }
                    }, {
                        key: "contentScaleFactor",
                        get: function() {
                            var e = 1;
                            if (!this.hls.config.ignoreDevicePixelRatio)
                                try {
                                    e = self.devicePixelRatio
                                } catch (e) {}
                            return e
                        }
                    }]) && function(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }(t.prototype, n),
                    Object.defineProperty(t, "prototype", {
                        writable: !1
                    }),
                    e
                }(), Tn = function() {
                    function e(e) {
                        this.hls = void 0,
                        this.isVideoPlaybackQualityAvailable = !1,
                        this.timer = void 0,
                        this.media = null,
                        this.lastTime = void 0,
                        this.lastDroppedFrames = 0,
                        this.lastDecodedFrames = 0,
                        this.streamController = void 0,
                        this.hls = e,
                        this.registerListeners()
                    }
                    var t = e.prototype;
                    return t.setStreamController = function(e) {
                        this.streamController = e
                    }
                    ,
                    t.registerListeners = function() {
                        this.hls.on(a.a.MEDIA_ATTACHING, this.onMediaAttaching, this)
                    }
                    ,
                    t.unregisterListeners = function() {
                        this.hls.off(a.a.MEDIA_ATTACHING, this.onMediaAttaching)
                    }
                    ,
                    t.destroy = function() {
                        this.timer && clearInterval(this.timer),
                        this.unregisterListeners(),
                        this.isVideoPlaybackQualityAvailable = !1,
                        this.media = null
                    }
                    ,
                    t.onMediaAttaching = function(e, t) {
                        var n = this.hls.config;
                        if (n.capLevelOnFPSDrop) {
                            var r = t.media instanceof self.HTMLVideoElement ? t.media : null;
                            this.media = r,
                            r && "function" == typeof r.getVideoPlaybackQuality && (this.isVideoPlaybackQualityAvailable = !0),
                            self.clearInterval(this.timer),
                            this.timer = self.setInterval(this.checkFPSInterval.bind(this), n.fpsDroppedMonitoringPeriod)
                        }
                    }
                    ,
                    t.checkFPS = function(e, t, n) {
                        var r = performance.now();
                        if (t) {
                            if (this.lastTime) {
                                var i = r - this.lastTime
                                  , o = n - this.lastDroppedFrames
                                  , s = t - this.lastDecodedFrames
                                  , c = 1e3 * o / i
                                  , l = this.hls;
                                if (l.trigger(a.a.FPS_DROP, {
                                    currentDropped: o,
                                    currentDecoded: s,
                                    totalDroppedFrames: n
                                }),
                                c > 0 && o > l.config.fpsDroppedMonitoringThreshold * s) {
                                    var f = l.currentLevel;
                                    u.b.warn("drop FPS ratio greater than max allowed value for currentLevel: " + f),
                                    f > 0 && (-1 === l.autoLevelCapping || l.autoLevelCapping >= f) && (f -= 1,
                                    l.trigger(a.a.FPS_DROP_LEVEL_CAPPING, {
                                        level: f,
                                        droppedLevel: l.currentLevel
                                    }),
                                    l.autoLevelCapping = f,
                                    this.streamController.nextLevelSwitch())
                                }
                            }
                            this.lastTime = r,
                            this.lastDroppedFrames = n,
                            this.lastDecodedFrames = t
                        }
                    }
                    ,
                    t.checkFPSInterval = function() {
                        var e = this.media;
                        if (e)
                            if (this.isVideoPlaybackQualityAvailable) {
                                var t = e.getVideoPlaybackQuality();
                                this.checkFPS(e, t.totalVideoFrames, t.droppedVideoFrames)
                            } else
                                this.checkFPS(e, e.webkitDecodedFrameCount, e.webkitDroppedFrameCount)
                    }
                    ,
                    e
                }();
                !function(e) {
                    e.WIDEVINE = "com.widevine.alpha",
                    e.PLAYREADY = "com.microsoft.playready"
                }(yn || (yn = {}));
                var bn = "undefined" != typeof self && self.navigator && self.navigator.requestMediaKeySystemAccess ? self.navigator.requestMediaKeySystemAccess.bind(self.navigator) : null;
                var _n, Sn, Rn, wn = function() {
                    function e(e) {
                        this.hls = void 0,
                        this._widevineLicenseUrl = void 0,
                        this._licenseXhrSetup = void 0,
                        this._licenseResponseCallback = void 0,
                        this._emeEnabled = void 0,
                        this._requestMediaKeySystemAccess = void 0,
                        this._drmSystemOptions = void 0,
                        this._config = void 0,
                        this._mediaKeysList = [],
                        this._media = null,
                        this._hasSetMediaKeys = !1,
                        this._requestLicenseFailureCount = 0,
                        this.mediaKeysPromise = null,
                        this._onMediaEncrypted = this.onMediaEncrypted.bind(this),
                        this.hls = e,
                        this._config = e.config,
                        this._widevineLicenseUrl = this._config.widevineLicenseUrl,
                        this._licenseXhrSetup = this._config.licenseXhrSetup,
                        this._licenseResponseCallback = this._config.licenseResponseCallback,
                        this._emeEnabled = this._config.emeEnabled,
                        this._requestMediaKeySystemAccess = this._config.requestMediaKeySystemAccessFunc,
                        this._drmSystemOptions = this._config.drmSystemOptions,
                        this._registerListeners()
                    }
                    var t, n, r = e.prototype;
                    return r.destroy = function() {
                        this._unregisterListeners(),
                        this.hls = this._onMediaEncrypted = null,
                        this._requestMediaKeySystemAccess = null
                    }
                    ,
                    r._registerListeners = function() {
                        this.hls.on(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        this.hls.on(a.a.MEDIA_DETACHED, this.onMediaDetached, this),
                        this.hls.on(a.a.MANIFEST_PARSED, this.onManifestParsed, this)
                    }
                    ,
                    r._unregisterListeners = function() {
                        this.hls.off(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        this.hls.off(a.a.MEDIA_DETACHED, this.onMediaDetached, this),
                        this.hls.off(a.a.MANIFEST_PARSED, this.onManifestParsed, this)
                    }
                    ,
                    r.getLicenseServerUrl = function(e) {
                        switch (e) {
                        case yn.WIDEVINE:
                            if (!this._widevineLicenseUrl)
                                break;
                            return this._widevineLicenseUrl
                        }
                        throw new Error('no license server URL configured for key-system "' + e + '"')
                    }
                    ,
                    r._attemptKeySystemAccess = function(e, t, n) {
                        var r = this
                          , i = function(e, t, n, r) {
                            switch (e) {
                            case yn.WIDEVINE:
                                return function(e, t, n) {
                                    var r = {
                                        audioCapabilities: [],
                                        videoCapabilities: []
                                    };
                                    return e.forEach((function(e) {
                                        r.audioCapabilities.push({
                                            contentType: 'audio/mp4; codecs="' + e + '"',
                                            robustness: n.audioRobustness || ""
                                        })
                                    }
                                    )),
                                    t.forEach((function(e) {
                                        r.videoCapabilities.push({
                                            contentType: 'video/mp4; codecs="' + e + '"',
                                            robustness: n.videoRobustness || ""
                                        })
                                    }
                                    )),
                                    [r]
                                }(t, n, r);
                            default:
                                throw new Error("Unknown key-system: " + e)
                            }
                        }(e, t, n, this._drmSystemOptions);
                        u.b.log("Requesting encrypted media key-system access");
                        var o = this.requestMediaKeySystemAccess(e, i);
                        this.mediaKeysPromise = o.then((function(t) {
                            return r._onMediaKeySystemAccessObtained(e, t)
                        }
                        )),
                        o.catch((function(t) {
                            u.b.error('Failed to obtain key-system "' + e + '" access:', t)
                        }
                        ))
                    }
                    ,
                    r._onMediaKeySystemAccessObtained = function(e, t) {
                        var n = this;
                        u.b.log('Access for key-system "' + e + '" obtained');
                        var r = {
                            mediaKeysSessionInitialized: !1,
                            mediaKeySystemAccess: t,
                            mediaKeySystemDomain: e
                        };
                        this._mediaKeysList.push(r);
                        var i = Promise.resolve().then((function() {
                            return t.createMediaKeys()
                        }
                        )).then((function(t) {
                            return r.mediaKeys = t,
                            u.b.log('Media-keys created for key-system "' + e + '"'),
                            n._onMediaKeysCreated(),
                            t
                        }
                        ));
                        return i.catch((function(e) {
                            u.b.error("Failed to create media-keys:", e)
                        }
                        )),
                        i
                    }
                    ,
                    r._onMediaKeysCreated = function() {
                        var e = this;
                        this._mediaKeysList.forEach((function(t) {
                            t.mediaKeysSession || (t.mediaKeysSession = t.mediaKeys.createSession(),
                            e._onNewMediaKeySession(t.mediaKeysSession))
                        }
                        ))
                    }
                    ,
                    r._onNewMediaKeySession = function(e) {
                        var t = this;
                        u.b.log("New key-system session " + e.sessionId),
                        e.addEventListener("message", (function(n) {
                            t._onKeySessionMessage(e, n.message)
                        }
                        ), !1)
                    }
                    ,
                    r._onKeySessionMessage = function(e, t) {
                        u.b.log("Got EME message event, creating license request"),
                        this._requestLicense(t, (function(t) {
                            u.b.log("Received license data (length: " + (t ? t.byteLength : t) + "), updating key-session"),
                            e.update(t).catch((function(e) {
                                u.b.warn("Updating key-session failed: " + e)
                            }
                            ))
                        }
                        ))
                    }
                    ,
                    r.onMediaEncrypted = function(e) {
                        var t = this;
                        if (u.b.log('Media is encrypted using "' + e.initDataType + '" init data type'),
                        !this.mediaKeysPromise)
                            return u.b.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),
                            void this.hls.trigger(a.a.ERROR, {
                                type: s.b.KEY_SYSTEM_ERROR,
                                details: s.a.KEY_SYSTEM_NO_KEYS,
                                fatal: !0
                            });
                        var n = function(n) {
                            t._media && (t._attemptSetMediaKeys(n),
                            t._generateRequestWithPreferredKeySession(e.initDataType, e.initData))
                        };
                        this.mediaKeysPromise.then(n).catch(n)
                    }
                    ,
                    r._attemptSetMediaKeys = function(e) {
                        if (!this._media)
                            throw new Error("Attempted to set mediaKeys without first attaching a media element");
                        if (!this._hasSetMediaKeys) {
                            var t = this._mediaKeysList[0];
                            if (!t || !t.mediaKeys)
                                return u.b.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),
                                void this.hls.trigger(a.a.ERROR, {
                                    type: s.b.KEY_SYSTEM_ERROR,
                                    details: s.a.KEY_SYSTEM_NO_KEYS,
                                    fatal: !0
                                });
                            u.b.log("Setting keys for encrypted media"),
                            this._media.setMediaKeys(t.mediaKeys),
                            this._hasSetMediaKeys = !0
                        }
                    }
                    ,
                    r._generateRequestWithPreferredKeySession = function(e, t) {
                        var n = this
                          , r = this._mediaKeysList[0];
                        if (!r)
                            return u.b.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),
                            void this.hls.trigger(a.a.ERROR, {
                                type: s.b.KEY_SYSTEM_ERROR,
                                details: s.a.KEY_SYSTEM_NO_ACCESS,
                                fatal: !0
                            });
                        if (r.mediaKeysSessionInitialized)
                            u.b.warn("Key-Session already initialized but requested again");
                        else {
                            var i = r.mediaKeysSession;
                            if (!i)
                                return u.b.error("Fatal: Media is encrypted but no key-session existing"),
                                void this.hls.trigger(a.a.ERROR, {
                                    type: s.b.KEY_SYSTEM_ERROR,
                                    details: s.a.KEY_SYSTEM_NO_SESSION,
                                    fatal: !0
                                });
                            if (!t)
                                return u.b.warn("Fatal: initData required for generating a key session is null"),
                                void this.hls.trigger(a.a.ERROR, {
                                    type: s.b.KEY_SYSTEM_ERROR,
                                    details: s.a.KEY_SYSTEM_NO_INIT_DATA,
                                    fatal: !0
                                });
                            u.b.log('Generating key-session request for "' + e + '" init data type'),
                            r.mediaKeysSessionInitialized = !0,
                            i.generateRequest(e, t).then((function() {
                                u.b.debug("Key-session generation succeeded")
                            }
                            )).catch((function(e) {
                                u.b.error("Error generating key-session request:", e),
                                n.hls.trigger(a.a.ERROR, {
                                    type: s.b.KEY_SYSTEM_ERROR,
                                    details: s.a.KEY_SYSTEM_NO_SESSION,
                                    fatal: !1
                                })
                            }
                            ))
                        }
                    }
                    ,
                    r._createLicenseXhr = function(e, t, n) {
                        var r = new XMLHttpRequest;
                        r.responseType = "arraybuffer",
                        r.onreadystatechange = this._onLicenseRequestReadyStageChange.bind(this, r, e, t, n);
                        var i = this._licenseXhrSetup;
                        if (i)
                            try {
                                i.call(this.hls, r, e),
                                i = void 0
                            } catch (e) {
                                u.b.error(e)
                            }
                        try {
                            r.readyState || r.open("POST", e, !0),
                            i && i.call(this.hls, r, e)
                        } catch (e) {
                            throw new Error("issue setting up KeySystem license XHR " + e)
                        }
                        return r
                    }
                    ,
                    r._onLicenseRequestReadyStageChange = function(e, t, n, r) {
                        switch (e.readyState) {
                        case 4:
                            if (200 === e.status) {
                                this._requestLicenseFailureCount = 0,
                                u.b.log("License request succeeded");
                                var i = e.response
                                  , o = this._licenseResponseCallback;
                                if (o)
                                    try {
                                        i = o.call(this.hls, e, t)
                                    } catch (e) {
                                        u.b.error(e)
                                    }
                                r(i)
                            } else {
                                if (u.b.error("License Request XHR failed (" + t + "). Status: " + e.status + " (" + e.statusText + ")"),
                                this._requestLicenseFailureCount++,
                                this._requestLicenseFailureCount > 3)
                                    return void this.hls.trigger(a.a.ERROR, {
                                        type: s.b.KEY_SYSTEM_ERROR,
                                        details: s.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,
                                        fatal: !0
                                    });
                                var c = 3 - this._requestLicenseFailureCount + 1;
                                u.b.warn("Retrying license request, " + c + " attempts left"),
                                this._requestLicense(n, r)
                            }
                        }
                    }
                    ,
                    r._generateLicenseRequestChallenge = function(e, t) {
                        switch (e.mediaKeySystemDomain) {
                        case yn.WIDEVINE:
                            return t
                        }
                        throw new Error("unsupported key-system: " + e.mediaKeySystemDomain)
                    }
                    ,
                    r._requestLicense = function(e, t) {
                        u.b.log("Requesting content license for key-system");
                        var n = this._mediaKeysList[0];
                        if (!n)
                            return u.b.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),
                            void this.hls.trigger(a.a.ERROR, {
                                type: s.b.KEY_SYSTEM_ERROR,
                                details: s.a.KEY_SYSTEM_NO_ACCESS,
                                fatal: !0
                            });
                        try {
                            var r = this.getLicenseServerUrl(n.mediaKeySystemDomain)
                              , i = this._createLicenseXhr(r, e, t);
                            u.b.log("Sending license request to URL: " + r);
                            var o = this._generateLicenseRequestChallenge(n, e);
                            i.send(o)
                        } catch (e) {
                            u.b.error("Failure requesting DRM license: " + e),
                            this.hls.trigger(a.a.ERROR, {
                                type: s.b.KEY_SYSTEM_ERROR,
                                details: s.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,
                                fatal: !0
                            })
                        }
                    }
                    ,
                    r.onMediaAttached = function(e, t) {
                        if (this._emeEnabled) {
                            var n = t.media;
                            this._media = n,
                            n.addEventListener("encrypted", this._onMediaEncrypted)
                        }
                    }
                    ,
                    r.onMediaDetached = function() {
                        var e = this._media
                          , t = this._mediaKeysList;
                        e && (e.removeEventListener("encrypted", this._onMediaEncrypted),
                        this._media = null,
                        this._mediaKeysList = [],
                        Promise.all(t.map((function(e) {
                            if (e.mediaKeysSession)
                                return e.mediaKeysSession.close().catch((function() {}
                                ))
                        }
                        ))).then((function() {
                            return e.setMediaKeys(null)
                        }
                        )).catch((function() {}
                        )))
                    }
                    ,
                    r.onManifestParsed = function(e, t) {
                        if (this._emeEnabled) {
                            var n = t.levels.map((function(e) {
                                return e.audioCodec
                            }
                            )).filter((function(e) {
                                return !!e
                            }
                            ))
                              , r = t.levels.map((function(e) {
                                return e.videoCodec
                            }
                            )).filter((function(e) {
                                return !!e
                            }
                            ));
                            this._attemptKeySystemAccess(yn.WIDEVINE, n, r)
                        }
                    }
                    ,
                    t = e,
                    (n = [{
                        key: "requestMediaKeySystemAccess",
                        get: function() {
                            if (!this._requestMediaKeySystemAccess)
                                throw new Error("No requestMediaKeySystemAccess function configured");
                            return this._requestMediaKeySystemAccess
                        }
                    }]) && function(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }(t.prototype, n),
                    Object.defineProperty(t, "prototype", {
                        writable: !1
                    }),
                    e
                }();
                function Cn(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                        "value"in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                    }
                }
                function On(e, t, n) {
                    return t && Cn(e.prototype, t),
                    n && Cn(e, n),
                    Object.defineProperty(e, "prototype", {
                        writable: !1
                    }),
                    e
                }
                function Ln(e, t) {
                    var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
                    if (n)
                        return (n = n.call(e)).next.bind(n);
                    if (Array.isArray(e) || (n = function(e, t) {
                        if (e) {
                            if ("string" == typeof e)
                                return An(e, t);
                            var n = Object.prototype.toString.call(e).slice(8, -1);
                            return "Object" === n && e.constructor && (n = e.constructor.name),
                            "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? An(e, t) : void 0
                        }
                    }(e)) || t && e && "number" == typeof e.length) {
                        n && (e = n);
                        var r = 0;
                        return function() {
                            return r >= e.length ? {
                                done: !0
                            } : {
                                done: !1,
                                value: e[r++]
                            }
                        }
                    }
                    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                }
                function An(e, t) {
                    (null == t || t > e.length) && (t = e.length);
                    for (var n = 0, r = new Array(t); n < t; n++)
                        r[n] = e[n];
                    return r
                }
                function Pn() {
                    return (Pn = Object.assign ? Object.assign.bind() : function(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = arguments[t];
                            for (var r in n)
                                Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                        }
                        return e
                    }
                    ).apply(this, arguments)
                }
                !function(e) {
                    e.MANIFEST = "m",
                    e.AUDIO = "a",
                    e.VIDEO = "v",
                    e.MUXED = "av",
                    e.INIT = "i",
                    e.CAPTION = "c",
                    e.TIMED_TEXT = "tt",
                    e.KEY = "k",
                    e.OTHER = "o"
                }(_n || (_n = {})),
                function(e) {
                    e.DASH = "d",
                    e.HLS = "h",
                    e.SMOOTH = "s",
                    e.OTHER = "o"
                }(Sn || (Sn = {})),
                function(e) {
                    e.VOD = "v",
                    e.LIVE = "l"
                }(Rn || (Rn = {}));
                var In = function() {
                    function e(t) {
                        var n = this;
                        this.hls = void 0,
                        this.config = void 0,
                        this.media = void 0,
                        this.sid = void 0,
                        this.cid = void 0,
                        this.useHeaders = !1,
                        this.initialized = !1,
                        this.starved = !1,
                        this.buffering = !0,
                        this.audioBuffer = void 0,
                        this.videoBuffer = void 0,
                        this.onWaiting = function() {
                            n.initialized && (n.starved = !0),
                            n.buffering = !0
                        }
                        ,
                        this.onPlaying = function() {
                            n.initialized || (n.initialized = !0),
                            n.buffering = !1
                        }
                        ,
                        this.applyPlaylistData = function(e) {
                            try {
                                n.apply(e, {
                                    ot: _n.MANIFEST,
                                    su: !n.initialized
                                })
                            } catch (e) {
                                u.b.warn("Could not generate manifest CMCD data.", e)
                            }
                        }
                        ,
                        this.applyFragmentData = function(e) {
                            try {
                                var t = e.frag
                                  , r = n.hls.levels[t.level]
                                  , i = n.getObjectType(t)
                                  , o = {
                                    d: 1e3 * t.duration,
                                    ot: i
                                };
                                i !== _n.VIDEO && i !== _n.AUDIO && i != _n.MUXED || (o.br = r.bitrate / 1e3,
                                o.tb = n.getTopBandwidth(i) / 1e3,
                                o.bl = n.getBufferLength(i)),
                                n.apply(e, o)
                            } catch (e) {
                                u.b.warn("Could not generate segment CMCD data.", e)
                            }
                        }
                        ,
                        this.hls = t;
                        var r = this.config = t.config
                          , i = r.cmcd;
                        null != i && (r.pLoader = this.createPlaylistLoader(),
                        r.fLoader = this.createFragmentLoader(),
                        this.sid = i.sessionId || e.uuid(),
                        this.cid = i.contentId,
                        this.useHeaders = !0 === i.useHeaders,
                        this.registerListeners())
                    }
                    var t = e.prototype;
                    return t.registerListeners = function() {
                        var e = this.hls;
                        e.on(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        e.on(a.a.MEDIA_DETACHED, this.onMediaDetached, this),
                        e.on(a.a.BUFFER_CREATED, this.onBufferCreated, this)
                    }
                    ,
                    t.unregisterListeners = function() {
                        var e = this.hls;
                        e.off(a.a.MEDIA_ATTACHED, this.onMediaAttached, this),
                        e.off(a.a.MEDIA_DETACHED, this.onMediaDetached, this),
                        e.off(a.a.BUFFER_CREATED, this.onBufferCreated, this),
                        this.onMediaDetached()
                    }
                    ,
                    t.destroy = function() {
                        this.unregisterListeners(),
                        this.hls = this.config = this.audioBuffer = this.videoBuffer = null
                    }
                    ,
                    t.onMediaAttached = function(e, t) {
                        this.media = t.media,
                        this.media.addEventListener("waiting", this.onWaiting),
                        this.media.addEventListener("playing", this.onPlaying)
                    }
                    ,
                    t.onMediaDetached = function() {
                        this.media && (this.media.removeEventListener("waiting", this.onWaiting),
                        this.media.removeEventListener("playing", this.onPlaying),
                        this.media = null)
                    }
                    ,
                    t.onBufferCreated = function(e, t) {
                        var n, r;
                        this.audioBuffer = null === (n = t.tracks.audio) || void 0 === n ? void 0 : n.buffer,
                        this.videoBuffer = null === (r = t.tracks.video) || void 0 === r ? void 0 : r.buffer
                    }
                    ,
                    t.createData = function() {
                        var e;
                        return {
                            v: 1,
                            sf: Sn.HLS,
                            sid: this.sid,
                            cid: this.cid,
                            pr: null === (e = this.media) || void 0 === e ? void 0 : e.playbackRate,
                            mtp: this.hls.bandwidthEstimate / 1e3
                        }
                    }
                    ,
                    t.apply = function(t, n) {
                        void 0 === n && (n = {}),
                        Pn(n, this.createData());
                        var r = n.ot === _n.INIT || n.ot === _n.VIDEO || n.ot === _n.MUXED;
                        if (this.starved && r && (n.bs = !0,
                        n.su = !0,
                        this.starved = !1),
                        null == n.su && (n.su = this.buffering),
                        this.useHeaders) {
                            var i = e.toHeaders(n);
                            if (!Object.keys(i).length)
                                return;
                            t.headers || (t.headers = {}),
                            Pn(t.headers, i)
                        } else {
                            var o = e.toQuery(n);
                            if (!o)
                                return;
                            t.url = e.appendQueryToUri(t.url, o)
                        }
                    }
                    ,
                    t.getObjectType = function(e) {
                        var t = e.type;
                        return "subtitle" === t ? _n.TIMED_TEXT : "initSegment" === e.sn ? _n.INIT : "audio" === t ? _n.AUDIO : "main" === t ? this.hls.audioTracks.length ? _n.VIDEO : _n.MUXED : void 0
                    }
                    ,
                    t.getTopBandwidth = function(e) {
                        var t, n = 0, r = this.hls;
                        if (e === _n.AUDIO)
                            t = r.audioTracks;
                        else {
                            var i = r.maxAutoLevel
                              , o = i > -1 ? i + 1 : r.levels.length;
                            t = r.levels.slice(0, o)
                        }
                        for (var a, s = Ln(t); !(a = s()).done; ) {
                            var u = a.value;
                            u.bitrate > n && (n = u.bitrate)
                        }
                        return n > 0 ? n : NaN
                    }
                    ,
                    t.getBufferLength = function(e) {
                        var t = this.hls.media
                          , n = e === _n.AUDIO ? this.audioBuffer : this.videoBuffer;
                        return n && t ? 1e3 * de.bufferInfo(n, t.currentTime, this.config.maxBufferHole).len : NaN
                    }
                    ,
                    t.createPlaylistLoader = function() {
                        var e = this.config.pLoader
                          , t = this.applyPlaylistData
                          , n = e || this.config.loader;
                        return function() {
                            function e(e) {
                                this.loader = void 0,
                                this.loader = new n(e)
                            }
                            var r = e.prototype;
                            return r.destroy = function() {
                                this.loader.destroy()
                            }
                            ,
                            r.abort = function() {
                                this.loader.abort()
                            }
                            ,
                            r.load = function(e, n, r) {
                                t(e),
                                this.loader.load(e, n, r)
                            }
                            ,
                            On(e, [{
                                key: "stats",
                                get: function() {
                                    return this.loader.stats
                                }
                            }, {
                                key: "context",
                                get: function() {
                                    return this.loader.context
                                }
                            }]),
                            e
                        }()
                    }
                    ,
                    t.createFragmentLoader = function() {
                        var e = this.config.fLoader
                          , t = this.applyFragmentData
                          , n = e || this.config.loader;
                        return function() {
                            function e(e) {
                                this.loader = void 0,
                                this.loader = new n(e)
                            }
                            var r = e.prototype;
                            return r.destroy = function() {
                                this.loader.destroy()
                            }
                            ,
                            r.abort = function() {
                                this.loader.abort()
                            }
                            ,
                            r.load = function(e, n, r) {
                                t(e),
                                this.loader.load(e, n, r)
                            }
                            ,
                            On(e, [{
                                key: "stats",
                                get: function() {
                                    return this.loader.stats
                                }
                            }, {
                                key: "context",
                                get: function() {
                                    return this.loader.context
                                }
                            }]),
                            e
                        }()
                    }
                    ,
                    e.uuid = function() {
                        var e = URL.createObjectURL(new Blob)
                          , t = e.toString();
                        return URL.revokeObjectURL(e),
                        t.slice(t.lastIndexOf("/") + 1)
                    }
                    ,
                    e.serialize = function(e) {
                        for (var t, n = [], r = function(e) {
                            return !Number.isNaN(e) && null != e && "" !== e && !1 !== e
                        }, i = function(e) {
                            return Math.round(e)
                        }, o = function(e) {
                            return 100 * i(e / 100)
                        }, a = {
                            br: i,
                            d: i,
                            bl: o,
                            dl: o,
                            mtp: o,
                            nor: function(e) {
                                return encodeURIComponent(e)
                            },
                            rtp: o,
                            tb: i
                        }, s = Ln(Object.keys(e || {}).sort()); !(t = s()).done; ) {
                            var u = t.value
                              , c = e[u];
                            if (r(c) && !("v" === u && 1 === c || "pr" == u && 1 === c)) {
                                var l = a[u];
                                l && (c = l(c));
                                var f, d = typeof c;
                                f = "ot" === u || "sf" === u || "st" === u ? u + "=" + c : "boolean" === d ? u : "number" === d ? u + "=" + c : u + "=" + JSON.stringify(c),
                                n.push(f)
                            }
                        }
                        return n.join(",")
                    }
                    ,
                    e.toHeaders = function(t) {
                        for (var n = {}, r = ["Object", "Request", "Session", "Status"], i = [{}, {}, {}, {}], o = {
                            br: 0,
                            d: 0,
                            ot: 0,
                            tb: 0,
                            bl: 1,
                            dl: 1,
                            mtp: 1,
                            nor: 1,
                            nrr: 1,
                            su: 1,
                            cid: 2,
                            pr: 2,
                            sf: 2,
                            sid: 2,
                            st: 2,
                            v: 2,
                            bs: 3,
                            rtp: 3
                        }, a = 0, s = Object.keys(t); a < s.length; a++) {
                            var u = s[a];
                            i[null != o[u] ? o[u] : 1][u] = t[u]
                        }
                        for (var c = 0; c < i.length; c++) {
                            var l = e.serialize(i[c]);
                            l && (n["CMCD-" + r[c]] = l)
                        }
                        return n
                    }
                    ,
                    e.toQuery = function(t) {
                        return "CMCD=" + encodeURIComponent(e.serialize(t))
                    }
                    ,
                    e.appendQueryToUri = function(e, t) {
                        if (!t)
                            return e;
                        var n = e.includes("?") ? "&" : "?";
                        return "" + e + n + t
                    }
                    ,
                    e
                }()
                  , Dn = n(14)
                  , kn = /^age:\s*[\d.]+\s*$/m
                  , Nn = function() {
                    function e(e) {
                        this.xhrSetup = void 0,
                        this.requestTimeout = void 0,
                        this.retryTimeout = void 0,
                        this.retryDelay = void 0,
                        this.config = null,
                        this.callbacks = null,
                        this.context = void 0,
                        this.loader = null,
                        this.stats = void 0,
                        this.xhrSetup = e ? e.xhrSetup : null,
                        this.stats = new Dn.a,
                        this.retryDelay = 0
                    }
                    var t = e.prototype;
                    return t.destroy = function() {
                        this.callbacks = null,
                        this.abortInternal(),
                        this.loader = null,
                        this.config = null
                    }
                    ,
                    t.abortInternal = function() {
                        var e = this.loader;
                        self.clearTimeout(this.requestTimeout),
                        self.clearTimeout(this.retryTimeout),
                        e && (e.onreadystatechange = null,
                        e.onprogress = null,
                        4 !== e.readyState && (this.stats.aborted = !0,
                        e.abort()))
                    }
                    ,
                    t.abort = function() {
                        var e;
                        this.abortInternal(),
                        null !== (e = this.callbacks) && void 0 !== e && e.onAbort && this.callbacks.onAbort(this.stats, this.context, this.loader)
                    }
                    ,
                    t.load = function(e, t, n) {
                        if (this.stats.loading.start)
                            throw new Error("Loader can only be used once.");
                        this.stats.loading.start = self.performance.now(),
                        this.context = e,
                        this.config = t,
                        this.callbacks = n,
                        this.retryDelay = t.retryDelay,
                        this.loadInternal()
                    }
                    ,
                    t.loadInternal = function() {
                        var e = this.config
                          , t = this.context;
                        if (e) {
                            var n = this.loader = new self.XMLHttpRequest
                              , r = this.stats;
                            r.loading.first = 0,
                            r.loaded = 0;
                            var i = this.xhrSetup;
                            try {
                                if (i)
                                    try {
                                        i(n, t.url)
                                    } catch (e) {
                                        n.open("GET", t.url, !0),
                                        i(n, t.url)
                                    }
                                n.readyState || n.open("GET", t.url, !0);
                                var o = this.context.headers;
                                if (o)
                                    for (var a in o)
                                        n.setRequestHeader(a, o[a])
                            } catch (e) {
                                return void this.callbacks.onError({
                                    code: n.status,
                                    text: e.message
                                }, t, n)
                            }
                            t.rangeEnd && n.setRequestHeader("Range", "bytes=" + t.rangeStart + "-" + (t.rangeEnd - 1)),
                            n.onreadystatechange = this.readystatechange.bind(this),
                            n.onprogress = this.loadprogress.bind(this),
                            n.responseType = t.responseType,
                            self.clearTimeout(this.requestTimeout),
                            this.requestTimeout = self.setTimeout(this.loadtimeout.bind(this), e.timeout),
                            n.send()
                        }
                    }
                    ,
                    t.readystatechange = function() {
                        var e = this.context
                          , t = this.loader
                          , n = this.stats;
                        if (e && t) {
                            var r = t.readyState
                              , i = this.config;
                            if (!n.aborted && r >= 2)
                                if (self.clearTimeout(this.requestTimeout),
                                0 === n.loading.first && (n.loading.first = Math.max(self.performance.now(), n.loading.start)),
                                4 === r) {
                                    t.onreadystatechange = null,
                                    t.onprogress = null;
                                    var o = t.status;
                                    if (o >= 200 && o < 300) {
                                        var a, s;
                                        if (n.loading.end = Math.max(self.performance.now(), n.loading.first),
                                        s = "arraybuffer" === e.responseType ? (a = t.response).byteLength : (a = t.responseText).length,
                                        n.loaded = n.total = s,
                                        !this.callbacks)
                                            return;
                                        var c = this.callbacks.onProgress;
                                        if (c && c(n, e, a, t),
                                        !this.callbacks)
                                            return;
                                        var l = {
                                            url: t.responseURL,
                                            data: a
                                        };
                                        this.callbacks.onSuccess(l, n, e, t)
                                    } else
                                        n.retry >= i.maxRetry || o >= 400 && o < 499 ? (u.b.error(o + " while loading " + e.url),
                                        this.callbacks.onError({
                                            code: o,
                                            text: t.statusText
                                        }, e, t)) : (u.b.warn(o + " while loading " + e.url + ", retrying in " + this.retryDelay + "..."),
                                        this.abortInternal(),
                                        this.loader = null,
                                        self.clearTimeout(this.retryTimeout),
                                        this.retryTimeout = self.setTimeout(this.loadInternal.bind(this), this.retryDelay),
                                        this.retryDelay = Math.min(2 * this.retryDelay, i.maxRetryDelay),
                                        n.retry++)
                                } else
                                    self.clearTimeout(this.requestTimeout),
                                    this.requestTimeout = self.setTimeout(this.loadtimeout.bind(this), i.timeout)
                        }
                    }
                    ,
                    t.loadtimeout = function() {
                        u.b.warn("timeout while loading " + this.context.url);
                        var e = this.callbacks;
                        e && (this.abortInternal(),
                        e.onTimeout(this.stats, this.context, this.loader))
                    }
                    ,
                    t.loadprogress = function(e) {
                        var t = this.stats;
                        t.loaded = e.loaded,
                        e.lengthComputable && (t.total = e.total)
                    }
                    ,
                    t.getCacheAge = function() {
                        var e = null;
                        if (this.loader && kn.test(this.loader.getAllResponseHeaders())) {
                            var t = this.loader.getResponseHeader("age");
                            e = t ? parseFloat(t) : null
                        }
                        return e
                    }
                    ,
                    e
                }();
                function xn(e) {
                    var t = "function" == typeof Map ? new Map : void 0;
                    return (xn = function(e) {
                        if (null === e || (n = e,
                        -1 === Function.toString.call(n).indexOf("[native code]")))
                            return e;
                        var n;
                        if ("function" != typeof e)
                            throw new TypeError("Super expression must either be null or a function");
                        if (void 0 !== t) {
                            if (t.has(e))
                                return t.get(e);
                            t.set(e, r)
                        }
                        function r() {
                            return Mn(e, arguments, Bn(this).constructor)
                        }
                        return r.prototype = Object.create(e.prototype, {
                            constructor: {
                                value: r,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }),
                        Un(r, e)
                    }
                    )(e)
                }
                function Mn(e, t, n) {
                    return (Mn = Fn() ? Reflect.construct.bind() : function(e, t, n) {
                        var r = [null];
                        r.push.apply(r, t);
                        var i = new (Function.bind.apply(e, r));
                        return n && Un(i, n.prototype),
                        i
                    }
                    ).apply(null, arguments)
                }
                function Fn() {
                    if ("undefined" == typeof Reflect || !Reflect.construct)
                        return !1;
                    if (Reflect.construct.sham)
                        return !1;
                    if ("function" == typeof Proxy)
                        return !0;
                    try {
                        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                        ))),
                        !0
                    } catch (e) {
                        return !1
                    }
                }
                function Un(e, t) {
                    return (Un = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                        return e.__proto__ = t,
                        e
                    }
                    )(e, t)
                }
                function Bn(e) {
                    return (Bn = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                    )(e)
                }
                function jn() {
                    return (jn = Object.assign ? Object.assign.bind() : function(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = arguments[t];
                            for (var r in n)
                                Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                        }
                        return e
                    }
                    ).apply(this, arguments)
                }
                var Vn = function() {
                    function e(e) {
                        this.fetchSetup = void 0,
                        this.requestTimeout = void 0,
                        this.request = void 0,
                        this.response = void 0,
                        this.controller = void 0,
                        this.context = void 0,
                        this.config = null,
                        this.callbacks = null,
                        this.stats = void 0,
                        this.loader = null,
                        this.fetchSetup = e.fetchSetup || Hn,
                        this.controller = new self.AbortController,
                        this.stats = new Dn.a
                    }
                    var t = e.prototype;
                    return t.destroy = function() {
                        this.loader = this.callbacks = null,
                        this.abortInternal()
                    }
                    ,
                    t.abortInternal = function() {
                        var e = this.response;
                        e && e.ok || (this.stats.aborted = !0,
                        this.controller.abort())
                    }
                    ,
                    t.abort = function() {
                        var e;
                        this.abortInternal(),
                        null !== (e = this.callbacks) && void 0 !== e && e.onAbort && this.callbacks.onAbort(this.stats, this.context, this.response)
                    }
                    ,
                    t.load = function(e, t, n) {
                        var r = this
                          , i = this.stats;
                        if (i.loading.start)
                            throw new Error("Loader can only be used once.");
                        i.loading.start = self.performance.now();
                        var a = function(e, t) {
                            var n = {
                                method: "GET",
                                mode: "cors",
                                credentials: "same-origin",
                                signal: t,
                                headers: new self.Headers(jn({}, e.headers))
                            };
                            return e.rangeEnd && n.headers.set("Range", "bytes=" + e.rangeStart + "-" + String(e.rangeEnd - 1)),
                            n
                        }(e, this.controller.signal)
                          , s = n.onProgress
                          , u = "arraybuffer" === e.responseType
                          , c = u ? "byteLength" : "length";
                        this.context = e,
                        this.config = t,
                        this.callbacks = n,
                        this.request = this.fetchSetup(e, a),
                        self.clearTimeout(this.requestTimeout),
                        this.requestTimeout = self.setTimeout((function() {
                            r.abortInternal(),
                            n.onTimeout(i, e, r.response)
                        }
                        ), t.timeout),
                        self.fetch(this.request).then((function(n) {
                            if (r.response = r.loader = n,
                            !n.ok) {
                                var a = n.status
                                  , c = n.statusText;
                                throw new qn(c || "fetch, bad network response",a,n)
                            }
                            return i.loading.first = Math.max(self.performance.now(), i.loading.start),
                            i.total = parseInt(n.headers.get("Content-Length") || "0"),
                            s && Object(o.a)(t.highWaterMark) ? r.loadProgressively(n, i, e, t.highWaterMark, s) : u ? n.arrayBuffer() : n.text()
                        }
                        )).then((function(a) {
                            var u = r.response;
                            self.clearTimeout(r.requestTimeout),
                            i.loading.end = Math.max(self.performance.now(), i.loading.first),
                            i.loaded = i.total = a[c];
                            var l = {
                                url: u.url,
                                data: a
                            };
                            s && !Object(o.a)(t.highWaterMark) && s(i, e, a, u),
                            n.onSuccess(l, i, e, u)
                        }
                        )).catch((function(t) {
                            if (self.clearTimeout(r.requestTimeout),
                            !i.aborted) {
                                var o = t && t.code || 0
                                  , a = t ? t.message : null;
                                n.onError({
                                    code: o,
                                    text: a
                                }, e, t ? t.details : null)
                            }
                        }
                        ))
                    }
                    ,
                    t.getCacheAge = function() {
                        var e = null;
                        if (this.response) {
                            var t = this.response.headers.get("age");
                            e = t ? parseFloat(t) : null
                        }
                        return e
                    }
                    ,
                    t.loadProgressively = function(e, t, n, r, i) {
                        void 0 === r && (r = 0);
                        var o = new st
                          , a = e.body.getReader();
                        return function s() {
                            return a.read().then((function(a) {
                                if (a.done)
                                    return o.dataLength && i(t, n, o.flush(), e),
                                    Promise.resolve(new ArrayBuffer(0));
                                var u = a.value
                                  , c = u.length;
                                return t.loaded += c,
                                c < r || o.dataLength ? (o.push(u),
                                o.dataLength >= r && i(t, n, o.flush(), e)) : i(t, n, u, e),
                                s()
                            }
                            )).catch((function() {
                                return Promise.reject()
                            }
                            ))
                        }()
                    }
                    ,
                    e
                }();
                function Hn(e, t) {
                    return new self.Request(e.url,t)
                }
                var qn = function(e) {
                    var t, n;
                    function r(t, n, r) {
                        var i;
                        return (i = e.call(this, t) || this).code = void 0,
                        i.details = void 0,
                        i.code = n,
                        i.details = r,
                        i
                    }
                    return n = e,
                    (t = r).prototype = Object.create(n.prototype),
                    t.prototype.constructor = t,
                    Un(t, n),
                    r
                }(xn(Error))
                  , Wn = Vn
                  , Gn = /\s/;
                function Yn() {
                    return (Yn = Object.assign ? Object.assign.bind() : function(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = arguments[t];
                            for (var r in n)
                                Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                        }
                        return e
                    }
                    ).apply(this, arguments)
                }
                function Kn(e, t) {
                    var n = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var r = Object.getOwnPropertySymbols(e);
                        t && (r = r.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        n.push.apply(n, r)
                    }
                    return n
                }
                function zn(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? Kn(Object(n), !0).forEach((function(t) {
                            Qn(e, t, n[t])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Kn(Object(n)).forEach((function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        }
                        ))
                    }
                    return e
                }
                function Qn(e, t, n) {
                    return t in e ? Object.defineProperty(e, t, {
                        value: n,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }) : e[t] = n,
                    e
                }
                var Jn = zn(zn({
                    autoStartLoad: !0,
                    startPosition: -1,
                    defaultAudioCodec: void 0,
                    debug: !1,
                    capLevelOnFPSDrop: !1,
                    capLevelToPlayerSize: !1,
                    ignoreDevicePixelRatio: !1,
                    initialLiveManifestSize: 1,
                    maxBufferLength: 30,
                    backBufferLength: 1 / 0,
                    maxBufferSize: 6e7,
                    maxBufferHole: .1,
                    highBufferWatchdogPeriod: 2,
                    nudgeOffset: .1,
                    nudgeMaxRetry: 3,
                    maxFragLookUpTolerance: .25,
                    liveSyncDurationCount: 3,
                    liveMaxLatencyDurationCount: 1 / 0,
                    liveSyncDuration: void 0,
                    liveMaxLatencyDuration: void 0,
                    maxLiveSyncPlaybackRate: 1,
                    liveDurationInfinity: !1,
                    liveBackBufferLength: null,
                    maxMaxBufferLength: 600,
                    enableWorker: !0,
                    enableSoftwareAES: !0,
                    manifestLoadingTimeOut: 1e4,
                    manifestLoadingMaxRetry: 1,
                    manifestLoadingRetryDelay: 1e3,
                    manifestLoadingMaxRetryTimeout: 64e3,
                    startLevel: void 0,
                    levelLoadingTimeOut: 1e4,
                    levelLoadingMaxRetry: 4,
                    levelLoadingRetryDelay: 1e3,
                    levelLoadingMaxRetryTimeout: 64e3,
                    fragLoadingTimeOut: 2e4,
                    fragLoadingMaxRetry: 6,
                    fragLoadingRetryDelay: 1e3,
                    fragLoadingMaxRetryTimeout: 64e3,
                    startFragPrefetch: !1,
                    fpsDroppedMonitoringPeriod: 5e3,
                    fpsDroppedMonitoringThreshold: .2,
                    appendErrorMaxRetry: 3,
                    loader: Nn,
                    fLoader: void 0,
                    pLoader: void 0,
                    xhrSetup: void 0,
                    licenseXhrSetup: void 0,
                    licenseResponseCallback: void 0,
                    abrController: at,
                    bufferController: St,
                    capLevelController: En,
                    fpsController: Tn,
                    stretchShortVideoTrack: !1,
                    maxAudioFramesDrift: 1,
                    forceKeyFrameOnDiscontinuity: !0,
                    abrEwmaFastLive: 3,
                    abrEwmaSlowLive: 9,
                    abrEwmaFastVoD: 3,
                    abrEwmaSlowVoD: 9,
                    abrEwmaDefaultEstimate: 5e5,
                    abrBandWidthFactor: .95,
                    abrBandWidthUpFactor: .7,
                    abrMaxWithRealBitrate: !1,
                    maxStarvationDelay: 4,
                    maxLoadingDelay: 4,
                    minAutoBitrate: 0,
                    emeEnabled: !1,
                    widevineLicenseUrl: void 0,
                    drmSystemOptions: {},
                    requestMediaKeySystemAccessFunc: bn,
                    testBandwidth: !0,
                    progressive: !1,
                    lowLatencyMode: !0,
                    cmcd: void 0,
                    enableDateRangeMetadataCues: !0,
                    enableEmsgMetadataCues: !0,
                    enableID3MetadataCues: !0
                }, {
                    cueHandler: {
                        newCue: function(e, t, n, r) {
                            for (var i, o, a, s, u, c = [], l = self.VTTCue || self.TextTrackCue, f = 0; f < r.rows.length; f++)
                                if (a = !0,
                                s = 0,
                                u = "",
                                !(i = r.rows[f]).isEmpty()) {
                                    for (var d = 0; d < i.chars.length; d++)
                                        Gn.test(i.chars[d].uchar) && a ? s++ : (u += i.chars[d].uchar,
                                        a = !1);
                                    i.cueStartTime = t,
                                    t === n && (n += 1e-4),
                                    s >= 16 ? s-- : s++;
                                    var h = Jt(u.trim())
                                      , p = rn(t, n, h);
                                    e && e.cues && e.cues.getCueById(p) || ((o = new l(t,n,h)).id = p,
                                    o.line = f + 1,
                                    o.align = "left",
                                    o.position = 10 + Math.min(80, 10 * Math.floor(8 * s / 32)),
                                    c.push(o))
                                }
                            return e && c.length && (c.sort((function(e, t) {
                                return "auto" === e.line || "auto" === t.line ? 0 : e.line > 8 && t.line > 8 ? t.line - e.line : e.line - t.line
                            }
                            )),
                            c.forEach((function(t) {
                                return x(e, t)
                            }
                            ))),
                            c
                        }
                    },
                    enableWebVTT: !0,
                    enableIMSC1: !0,
                    enableCEA708Captions: !0,
                    captionsTextTrack1Label: "English",
                    captionsTextTrack1LanguageCode: "en",
                    captionsTextTrack2Label: "Spanish",
                    captionsTextTrack2LanguageCode: "es",
                    captionsTextTrack3Label: "Unknown CC",
                    captionsTextTrack3LanguageCode: "",
                    captionsTextTrack4Label: "Unknown CC",
                    captionsTextTrack4LanguageCode: "",
                    renderTextTracksNatively: !0
                }), {}, {
                    subtitleStreamController: pt,
                    subtitleTrackController: Et,
                    timelineController: mn,
                    audioStreamController: lt,
                    audioTrackController: dt,
                    emeController: wn,
                    cmcdController: In
                });
                function Xn(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                        "value"in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                    }
                }
                var Zn = function() {
                    function e(t) {
                        void 0 === t && (t = {}),
                        this.config = void 0,
                        this.userConfig = void 0,
                        this.coreComponents = void 0,
                        this.networkControllers = void 0,
                        this._emitter = new Ze.EventEmitter,
                        this._autoLevelCapping = void 0,
                        this.abrController = void 0,
                        this.bufferController = void 0,
                        this.capLevelController = void 0,
                        this.latencyController = void 0,
                        this.levelController = void 0,
                        this.streamController = void 0,
                        this.audioTrackController = void 0,
                        this.subtitleTrackController = void 0,
                        this.emeController = void 0,
                        this.cmcdController = void 0,
                        this._media = null,
                        this.url = null;
                        var n = this.config = function(e, t) {
                            if ((t.liveSyncDurationCount || t.liveMaxLatencyDurationCount) && (t.liveSyncDuration || t.liveMaxLatencyDuration))
                                throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");
                            if (void 0 !== t.liveMaxLatencyDurationCount && (void 0 === t.liveSyncDurationCount || t.liveMaxLatencyDurationCount <= t.liveSyncDurationCount))
                                throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');
                            if (void 0 !== t.liveMaxLatencyDuration && (void 0 === t.liveSyncDuration || t.liveMaxLatencyDuration <= t.liveSyncDuration))
                                throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');
                            return Yn({}, e, t)
                        }(e.DefaultConfig, t);
                        this.userConfig = t,
                        Object(u.a)(n.debug),
                        this._autoLevelCapping = -1,
                        n.progressive && function(e) {
                            var t = e.loader;
                            t !== Wn && t !== Nn ? (u.b.log("[config]: Custom loader detected, cannot enable progressive streaming"),
                            e.progressive = !1) : function() {
                                if (self.fetch && self.AbortController && self.ReadableStream && self.Request)
                                    try {
                                        return new self.ReadableStream({}),
                                        !0
                                    } catch (e) {}
                                return !1
                            }() && (e.loader = Wn,
                            e.progressive = !0,
                            e.enableSoftwareAES = !0,
                            u.b.log("[config]: Progressive streaming enabled, using FetchLoader"))
                        }(n);
                        var r = n.abrController
                          , i = n.bufferController
                          , o = n.capLevelController
                          , a = n.fpsController
                          , s = this.abrController = new r(this)
                          , c = this.bufferController = new i(this)
                          , l = this.capLevelController = new o(this)
                          , f = new a(this)
                          , d = new D(this)
                          , h = new k(this)
                          , p = new H(this)
                          , v = this.levelController = new ae(this)
                          , m = new se(this)
                          , g = this.streamController = new rt(this,m);
                        l.setStreamController(g),
                        f.setStreamController(g);
                        var y = [d, h, v, g];
                        this.networkControllers = y;
                        var E = [s, c, l, f, p, m];
                        this.audioTrackController = this.createController(n.audioTrackController, null, y),
                        this.createController(n.audioStreamController, m, y),
                        this.subtitleTrackController = this.createController(n.subtitleTrackController, null, y),
                        this.createController(n.subtitleStreamController, m, y),
                        this.createController(n.timelineController, null, E),
                        this.emeController = this.createController(n.emeController, null, E),
                        this.cmcdController = this.createController(n.cmcdController, null, E),
                        this.latencyController = this.createController(W, null, E),
                        this.coreComponents = E
                    }
                    e.isSupported = function() {
                        return function() {
                            var e = ze();
                            if (!e)
                                return !1;
                            var t = Qe()
                              , n = e && "function" == typeof e.isTypeSupported && e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')
                              , r = !t || t.prototype && "function" == typeof t.prototype.appendBuffer && "function" == typeof t.prototype.remove;
                            return !!n && !!r
                        }()
                    }
                    ;
                    var t, n, r, o = e.prototype;
                    return o.createController = function(e, t, n) {
                        if (e) {
                            var r = t ? new e(this,t) : new e(this);
                            return n && n.push(r),
                            r
                        }
                        return null
                    }
                    ,
                    o.on = function(e, t, n) {
                        void 0 === n && (n = this),
                        this._emitter.on(e, t, n)
                    }
                    ,
                    o.once = function(e, t, n) {
                        void 0 === n && (n = this),
                        this._emitter.once(e, t, n)
                    }
                    ,
                    o.removeAllListeners = function(e) {
                        this._emitter.removeAllListeners(e)
                    }
                    ,
                    o.off = function(e, t, n, r) {
                        void 0 === n && (n = this),
                        this._emitter.off(e, t, n, r)
                    }
                    ,
                    o.listeners = function(e) {
                        return this._emitter.listeners(e)
                    }
                    ,
                    o.emit = function(e, t, n) {
                        return this._emitter.emit(e, t, n)
                    }
                    ,
                    o.trigger = function(e, t) {
                        if (this.config.debug)
                            return this.emit(e, e, t);
                        try {
                            return this.emit(e, e, t)
                        } catch (t) {
                            u.b.error("An internal error happened while handling event " + e + '. Error message: "' + t.message + '". Here is a stacktrace:', t),
                            this.trigger(a.a.ERROR, {
                                type: s.b.OTHER_ERROR,
                                details: s.a.INTERNAL_EXCEPTION,
                                fatal: !1,
                                event: e,
                                error: t
                            })
                        }
                        return !1
                    }
                    ,
                    o.listenerCount = function(e) {
                        return this._emitter.listenerCount(e)
                    }
                    ,
                    o.destroy = function() {
                        u.b.log("destroy"),
                        this.trigger(a.a.DESTROYING, void 0),
                        this.detachMedia(),
                        this.removeAllListeners(),
                        this._autoLevelCapping = -1,
                        this.url = null,
                        this.networkControllers.forEach((function(e) {
                            return e.destroy()
                        }
                        )),
                        this.networkControllers.length = 0,
                        this.coreComponents.forEach((function(e) {
                            return e.destroy()
                        }
                        )),
                        this.coreComponents.length = 0
                    }
                    ,
                    o.attachMedia = function(e) {
                        u.b.log("attachMedia"),
                        this._media = e,
                        this.trigger(a.a.MEDIA_ATTACHING, {
                            media: e
                        })
                    }
                    ,
                    o.detachMedia = function() {
                        u.b.log("detachMedia"),
                        this.trigger(a.a.MEDIA_DETACHING, void 0),
                        this._media = null
                    }
                    ,
                    o.loadSource = function(e) {
                        this.stopLoad();
                        var t = this.media
                          , n = this.url
                          , r = this.url = i.buildAbsoluteURL(self.location.href, e, {
                            alwaysNormalize: !0
                        });
                        u.b.log("loadSource:" + r),
                        t && n && n !== r && this.bufferController.hasSourceTypes() && (this.detachMedia(),
                        this.attachMedia(t)),
                        this.trigger(a.a.MANIFEST_LOADING, {
                            url: e
                        })
                    }
                    ,
                    o.startLoad = function(e) {
                        void 0 === e && (e = -1),
                        u.b.log("startLoad(" + e + ")"),
                        this.networkControllers.forEach((function(t) {
                            t.startLoad(e)
                        }
                        ))
                    }
                    ,
                    o.stopLoad = function() {
                        u.b.log("stopLoad"),
                        this.networkControllers.forEach((function(e) {
                            e.stopLoad()
                        }
                        ))
                    }
                    ,
                    o.swapAudioCodec = function() {
                        u.b.log("swapAudioCodec"),
                        this.streamController.swapAudioCodec()
                    }
                    ,
                    o.recoverMediaError = function() {
                        u.b.log("recoverMediaError");
                        var e = this._media;
                        this.detachMedia(),
                        e && this.attachMedia(e)
                    }
                    ,
                    o.removeLevel = function(e, t) {
                        void 0 === t && (t = 0),
                        this.levelController.removeLevel(e, t)
                    }
                    ,
                    t = e,
                    r = [{
                        key: "version",
                        get: function() {
                            return "1.2.4"
                        }
                    }, {
                        key: "Events",
                        get: function() {
                            return a.a
                        }
                    }, {
                        key: "ErrorTypes",
                        get: function() {
                            return s.b
                        }
                    }, {
                        key: "ErrorDetails",
                        get: function() {
                            return s.a
                        }
                    }, {
                        key: "DefaultConfig",
                        get: function() {
                            return e.defaultConfig ? e.defaultConfig : Jn
                        },
                        set: function(t) {
                            e.defaultConfig = t
                        }
                    }],
                    (n = [{
                        key: "levels",
                        get: function() {
                            return this.levelController.levels || []
                        }
                    }, {
                        key: "currentLevel",
                        get: function() {
                            return this.streamController.currentLevel
                        },
                        set: function(e) {
                            u.b.log("set currentLevel:" + e),
                            this.loadLevel = e,
                            this.abrController.clearTimer(),
                            this.streamController.immediateLevelSwitch()
                        }
                    }, {
                        key: "nextLevel",
                        get: function() {
                            return this.streamController.nextLevel
                        },
                        set: function(e) {
                            u.b.log("set nextLevel:" + e),
                            this.levelController.manualLevel = e,
                            this.streamController.nextLevelSwitch()
                        }
                    }, {
                        key: "loadLevel",
                        get: function() {
                            return this.levelController.level
                        },
                        set: function(e) {
                            u.b.log("set loadLevel:" + e),
                            this.levelController.manualLevel = e
                        }
                    }, {
                        key: "nextLoadLevel",
                        get: function() {
                            return this.levelController.nextLoadLevel
                        },
                        set: function(e) {
                            this.levelController.nextLoadLevel = e
                        }
                    }, {
                        key: "firstLevel",
                        get: function() {
                            return Math.max(this.levelController.firstLevel, this.minAutoLevel)
                        },
                        set: function(e) {
                            u.b.log("set firstLevel:" + e),
                            this.levelController.firstLevel = e
                        }
                    }, {
                        key: "startLevel",
                        get: function() {
                            return this.levelController.startLevel
                        },
                        set: function(e) {
                            u.b.log("set startLevel:" + e),
                            -1 !== e && (e = Math.max(e, this.minAutoLevel)),
                            this.levelController.startLevel = e
                        }
                    }, {
                        key: "capLevelToPlayerSize",
                        get: function() {
                            return this.config.capLevelToPlayerSize
                        },
                        set: function(e) {
                            var t = !!e;
                            t !== this.config.capLevelToPlayerSize && (t ? this.capLevelController.startCapping() : (this.capLevelController.stopCapping(),
                            this.autoLevelCapping = -1,
                            this.streamController.nextLevelSwitch()),
                            this.config.capLevelToPlayerSize = t)
                        }
                    }, {
                        key: "autoLevelCapping",
                        get: function() {
                            return this._autoLevelCapping
                        },
                        set: function(e) {
                            this._autoLevelCapping !== e && (u.b.log("set autoLevelCapping:" + e),
                            this._autoLevelCapping = e)
                        }
                    }, {
                        key: "bandwidthEstimate",
                        get: function() {
                            var e = this.abrController.bwEstimator;
                            return e ? e.getEstimate() : NaN
                        }
                    }, {
                        key: "autoLevelEnabled",
                        get: function() {
                            return -1 === this.levelController.manualLevel
                        }
                    }, {
                        key: "manualLevel",
                        get: function() {
                            return this.levelController.manualLevel
                        }
                    }, {
                        key: "minAutoLevel",
                        get: function() {
                            var e = this.levels
                              , t = this.config.minAutoBitrate;
                            if (!e)
                                return 0;
                            for (var n = e.length, r = 0; r < n; r++)
                                if (e[r].maxBitrate >= t)
                                    return r;
                            return 0
                        }
                    }, {
                        key: "maxAutoLevel",
                        get: function() {
                            var e = this.levels
                              , t = this.autoLevelCapping;
                            return -1 === t && e && e.length ? e.length - 1 : t
                        }
                    }, {
                        key: "nextAutoLevel",
                        get: function() {
                            return Math.min(Math.max(this.abrController.nextAutoLevel, this.minAutoLevel), this.maxAutoLevel)
                        },
                        set: function(e) {
                            this.abrController.nextAutoLevel = Math.max(this.minAutoLevel, e)
                        }
                    }, {
                        key: "playingDate",
                        get: function() {
                            return this.streamController.currentProgramDateTime
                        }
                    }, {
                        key: "mainForwardBufferInfo",
                        get: function() {
                            return this.streamController.getMainFwdBufferInfo()
                        }
                    }, {
                        key: "audioTracks",
                        get: function() {
                            var e = this.audioTrackController;
                            return e ? e.audioTracks : []
                        }
                    }, {
                        key: "audioTrack",
                        get: function() {
                            var e = this.audioTrackController;
                            return e ? e.audioTrack : -1
                        },
                        set: function(e) {
                            var t = this.audioTrackController;
                            t && (t.audioTrack = e)
                        }
                    }, {
                        key: "subtitleTracks",
                        get: function() {
                            var e = this.subtitleTrackController;
                            return e ? e.subtitleTracks : []
                        }
                    }, {
                        key: "subtitleTrack",
                        get: function() {
                            var e = this.subtitleTrackController;
                            return e ? e.subtitleTrack : -1
                        },
                        set: function(e) {
                            var t = this.subtitleTrackController;
                            t && (t.subtitleTrack = e)
                        }
                    }, {
                        key: "media",
                        get: function() {
                            return this._media
                        }
                    }, {
                        key: "subtitleDisplay",
                        get: function() {
                            var e = this.subtitleTrackController;
                            return !!e && e.subtitleDisplay
                        },
                        set: function(e) {
                            var t = this.subtitleTrackController;
                            t && (t.subtitleDisplay = e)
                        }
                    }, {
                        key: "lowLatencyMode",
                        get: function() {
                            return this.config.lowLatencyMode
                        },
                        set: function(e) {
                            this.config.lowLatencyMode = e
                        }
                    }, {
                        key: "liveSyncPosition",
                        get: function() {
                            return this.latencyController.liveSyncPosition
                        }
                    }, {
                        key: "latency",
                        get: function() {
                            return this.latencyController.latency
                        }
                    }, {
                        key: "maxLatency",
                        get: function() {
                            return this.latencyController.maxLatency
                        }
                    }, {
                        key: "targetLatency",
                        get: function() {
                            return this.latencyController.targetLatency
                        }
                    }, {
                        key: "drift",
                        get: function() {
                            return this.latencyController.drift
                        }
                    }, {
                        key: "forceStartLoad",
                        get: function() {
                            return this.streamController.forceStartLoad
                        }
                    }]) && Xn(t.prototype, n),
                    r && Xn(t, r),
                    Object.defineProperty(t, "prototype", {
                        writable: !1
                    }),
                    e
                }();
                Zn.defaultConfig = void 0
            }
            ]).default)
        }
        , function(e, t, n) {
            (function(t) {
                var n = function(e) {
                    return e && e.Math == Math && e
                };
                e.exports = n("object" == typeof globalThis && globalThis) || n("object" == typeof window && window) || n("object" == typeof self && self) || n("object" == typeof t && t) || function() {
                    return this
                }() || Function("return this")()
            }
            ).call(this, n(49))
        }
        , function(e, t) {
            e.exports = function(e) {
                try {
                    return !!e()
                } catch (e) {
                    return !0
                }
            }
        }
        , function(e, t, n) {
            var r = n(1)
              , i = n(27).f
              , o = n(9)
              , a = n(50)
              , s = n(18)
              , u = n(54)
              , c = n(59);
            e.exports = function(e, t) {
                var n, l, f, d, h, p = e.target, v = e.global, m = e.stat;
                if (n = v ? r : m ? r[p] || s(p, {}) : (r[p] || {}).prototype)
                    for (l in t) {
                        if (d = t[l],
                        f = e.noTargetGet ? (h = i(n, l)) && h.value : n[l],
                        !c(v ? l : p + (m ? "." : "#") + l, e.forced) && void 0 !== f) {
                            if (typeof d == typeof f)
                                continue;
                            u(d, f)
                        }
                        (e.sham || f && f.sham) && o(d, "sham", !0),
                        a(n, l, d, e)
                    }
            }
        }
        , function(e, t, n) {
            var r = n(2);
            e.exports = !r((function() {
                return 7 != Object.defineProperty({}, 1, {
                    get: function() {
                        return 7
                    }
                })[1]
            }
            ))
        }
        , function(e, t) {
            e.exports = function(e) {
                return "object" == typeof e ? null !== e : "function" == typeof e
            }
        }
        , function(e, t) {
            var n = {}.hasOwnProperty;
            e.exports = function(e, t) {
                return n.call(e, t)
            }
        }
        , function(e, t, n) {
            var r = n(4)
              , i = n(29)
              , o = n(11)
              , a = n(17)
              , s = Object.defineProperty;
            t.f = r ? s : function(e, t, n) {
                if (o(e),
                t = a(t, !0),
                o(n),
                i)
                    try {
                        return s(e, t, n)
                    } catch (e) {}
                if ("get"in n || "set"in n)
                    throw TypeError("Accessors not supported");
                return "value"in n && (e[t] = n.value),
                e
            }
        }
        , function(e, t, n) {
            var r = n(1)
              , i = n(33)
              , o = n(6)
              , a = n(34)
              , s = n(41)
              , u = n(61)
              , c = i("wks")
              , l = r.Symbol
              , f = u ? l : l && l.withoutSetter || a;
            e.exports = function(e) {
                return o(c, e) || (s && o(l, e) ? c[e] = l[e] : c[e] = f("Symbol." + e)),
                c[e]
            }
        }
        , function(e, t, n) {
            var r = n(4)
              , i = n(7)
              , o = n(13);
            e.exports = r ? function(e, t, n) {
                return i.f(e, t, o(1, n))
            }
            : function(e, t, n) {
                return e[t] = n,
                e
            }
        }
        , function(e, t) {
            e.exports = function(e) {
                if (null == e)
                    throw TypeError("Can't call method on " + e);
                return e
            }
        }
        , function(e, t, n) {
            var r = n(5);
            e.exports = function(e) {
                if (!r(e))
                    throw TypeError(String(e) + " is not an object");
                return e
            }
        }
        , function(e, t, n) {
            var r = n(10);
            e.exports = function(e) {
                return Object(r(e))
            }
        }
        , function(e, t) {
            e.exports = function(e, t) {
                return {
                    enumerable: !(1 & e),
                    configurable: !(2 & e),
                    writable: !(4 & e),
                    value: t
                }
            }
        }
        , function(e, t, n) {
            var r = n(15)
              , i = n(10);
            e.exports = function(e) {
                return r(i(e))
            }
        }
        , function(e, t, n) {
            var r = n(2)
              , i = n(16)
              , o = "".split;
            e.exports = r((function() {
                return !Object("z").propertyIsEnumerable(0)
            }
            )) ? function(e) {
                return "String" == i(e) ? o.call(e, "") : Object(e)
            }
            : Object
        }
        , function(e, t) {
            var n = {}.toString;
            e.exports = function(e) {
                return n.call(e).slice(8, -1)
            }
        }
        , function(e, t, n) {
            var r = n(5);
            e.exports = function(e, t) {
                if (!r(e))
                    return e;
                var n, i;
                if (t && "function" == typeof (n = e.toString) && !r(i = n.call(e)))
                    return i;
                if ("function" == typeof (n = e.valueOf) && !r(i = n.call(e)))
                    return i;
                if (!t && "function" == typeof (n = e.toString) && !r(i = n.call(e)))
                    return i;
                throw TypeError("Can't convert object to primitive value")
            }
        }
        , function(e, t, n) {
            var r = n(1)
              , i = n(9);
            e.exports = function(e, t) {
                try {
                    i(r, e, t)
                } catch (n) {
                    r[e] = t
                }
                return t
            }
        }
        , function(e, t, n) {
            var r = n(1)
              , i = n(18)
              , o = r["__core-js_shared__"] || i("__core-js_shared__", {});
            e.exports = o
        }
        , function(e, t) {
            e.exports = {}
        }
        , function(e, t, n) {
            var r = n(56)
              , i = n(1)
              , o = function(e) {
                return "function" == typeof e ? e : void 0
            };
            e.exports = function(e, t) {
                return arguments.length < 2 ? o(r[e]) || o(i[e]) : r[e] && r[e][t] || i[e] && i[e][t]
            }
        }
        , function(e, t, n) {
            var r = n(37)
              , i = Math.min;
            e.exports = function(e) {
                return e > 0 ? i(r(e), 9007199254740991) : 0
            }
        }
        , function(e, t) {
            e.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"]
        }
        , function(e, t, n) {
            var r = n(4)
              , i = n(2)
              , o = n(6)
              , a = Object.defineProperty
              , s = {}
              , u = function(e) {
                throw e
            };
            e.exports = function(e, t) {
                if (o(s, e))
                    return s[e];
                t || (t = {});
                var n = [][e]
                  , c = !!o(t, "ACCESSORS") && t.ACCESSORS
                  , l = o(t, 0) ? t[0] : u
                  , f = o(t, 1) ? t[1] : void 0;
                return s[e] = !!n && !i((function() {
                    if (c && !r)
                        return !0;
                    var e = {
                        length: -1
                    };
                    c ? a(e, 1, {
                        enumerable: !0,
                        get: u
                    }) : e[1] = 1,
                    n.call(e, l, f)
                }
                ))
            }
        }
        , function(e, t, n) {
            var r = n(35)
              , i = n(23);
            e.exports = Object.keys || function(e) {
                return r(e, i)
            }
        }
        , function(e, t) {
            function n(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                    r.configurable = !0,
                    "value"in r && (r.writable = !0),
                    Object.defineProperty(e, r.key, r)
                }
            }
            e.exports = function(e, t, r) {
                return t && n(e.prototype, t),
                r && n(e, r),
                e
            }
        }
        , function(e, t, n) {
            var r = n(4)
              , i = n(28)
              , o = n(13)
              , a = n(14)
              , s = n(17)
              , u = n(6)
              , c = n(29)
              , l = Object.getOwnPropertyDescriptor;
            t.f = r ? l : function(e, t) {
                if (e = a(e),
                t = s(t, !0),
                c)
                    try {
                        return l(e, t)
                    } catch (e) {}
                if (u(e, t))
                    return o(!i.f.call(e, t), e[t])
            }
        }
        , function(e, t, n) {
            "use strict";
            var r = {}.propertyIsEnumerable
              , i = Object.getOwnPropertyDescriptor
              , o = i && !r.call({
                1: 2
            }, 1);
            t.f = o ? function(e) {
                var t = i(this, e);
                return !!t && t.enumerable
            }
            : r
        }
        , function(e, t, n) {
            var r = n(4)
              , i = n(2)
              , o = n(30);
            e.exports = !r && !i((function() {
                return 7 != Object.defineProperty(o("div"), "a", {
                    get: function() {
                        return 7
                    }
                }).a
            }
            ))
        }
        , function(e, t, n) {
            var r = n(1)
              , i = n(5)
              , o = r.document
              , a = i(o) && i(o.createElement);
            e.exports = function(e) {
                return a ? o.createElement(e) : {}
            }
        }
        , function(e, t, n) {
            var r = n(19)
              , i = Function.toString;
            "function" != typeof r.inspectSource && (r.inspectSource = function(e) {
                return i.call(e)
            }
            ),
            e.exports = r.inspectSource
        }
        , function(e, t, n) {
            var r = n(33)
              , i = n(34)
              , o = r("keys");
            e.exports = function(e) {
                return o[e] || (o[e] = i(e))
            }
        }
        , function(e, t, n) {
            var r = n(53)
              , i = n(19);
            (e.exports = function(e, t) {
                return i[e] || (i[e] = void 0 !== t ? t : {})
            }
            )("versions", []).push({
                version: "3.8.3",
                mode: r ? "pure" : "global",
                copyright: "© 2021 Denis Pushkarev (zloirock.ru)"
            })
        }
        , function(e, t) {
            var n = 0
              , r = Math.random();
            e.exports = function(e) {
                return "Symbol(" + String(void 0 === e ? "" : e) + ")_" + (++n + r).toString(36)
            }
        }
        , function(e, t, n) {
            var r = n(6)
              , i = n(14)
              , o = n(36).indexOf
              , a = n(20);
            e.exports = function(e, t) {
                var n, s = i(e), u = 0, c = [];
                for (n in s)
                    !r(a, n) && r(s, n) && c.push(n);
                for (; t.length > u; )
                    r(s, n = t[u++]) && (~o(c, n) || c.push(n));
                return c
            }
        }
        , function(e, t, n) {
            var r = n(14)
              , i = n(22)
              , o = n(58)
              , a = function(e) {
                return function(t, n, a) {
                    var s, u = r(t), c = i(u.length), l = o(a, c);
                    if (e && n != n) {
                        for (; c > l; )
                            if ((s = u[l++]) != s)
                                return !0
                    } else
                        for (; c > l; l++)
                            if ((e || l in u) && u[l] === n)
                                return e || l || 0;
                    return !e && -1
                }
            };
            e.exports = {
                includes: a(!0),
                indexOf: a(!1)
            }
        }
        , function(e, t) {
            var n = Math.ceil
              , r = Math.floor;
            e.exports = function(e) {
                return isNaN(e = +e) ? 0 : (e > 0 ? r : n)(e)
            }
        }
        , function(e, t) {
            t.f = Object.getOwnPropertySymbols
        }
        , function(e, t, n) {
            var r = n(16);
            e.exports = Array.isArray || function(e) {
                return "Array" == r(e)
            }
        }
        , function(e, t, n) {
            var r = n(5)
              , i = n(39)
              , o = n(8)("species");
            e.exports = function(e, t) {
                var n;
                return i(e) && ("function" != typeof (n = e.constructor) || n !== Array && !i(n.prototype) ? r(n) && null === (n = n[o]) && (n = void 0) : n = void 0),
                new (void 0 === n ? Array : n)(0 === t ? 0 : t)
            }
        }
        , function(e, t, n) {
            var r = n(2);
            e.exports = !!Object.getOwnPropertySymbols && !r((function() {
                return !String(Symbol())
            }
            ))
        }
        , function(e, t, n) {
            var r, i, o = n(1), a = n(43), s = o.process, u = s && s.versions, c = u && u.v8;
            c ? i = (r = c.split("."))[0] + r[1] : a && (!(r = a.match(/Edge\/(\d+)/)) || r[1] >= 74) && (r = a.match(/Chrome\/(\d+)/)) && (i = r[1]),
            e.exports = i && +i
        }
        , function(e, t, n) {
            var r = n(21);
            e.exports = r("navigator", "userAgent") || ""
        }
        , function(e, t, n) {
            "use strict";
            var r = n(45).forEach
              , i = n(66)
              , o = n(24)
              , a = i("forEach")
              , s = o("forEach");
            e.exports = a && s ? [].forEach : function(e) {
                return r(this, e, arguments.length > 1 ? arguments[1] : void 0)
            }
        }
        , function(e, t, n) {
            var r = n(64)
              , i = n(15)
              , o = n(12)
              , a = n(22)
              , s = n(40)
              , u = [].push
              , c = function(e) {
                var t = 1 == e
                  , n = 2 == e
                  , c = 3 == e
                  , l = 4 == e
                  , f = 6 == e
                  , d = 7 == e
                  , h = 5 == e || f;
                return function(p, v, m, g) {
                    for (var y, E, T = o(p), b = i(T), _ = r(v, m, 3), S = a(b.length), R = 0, w = g || s, C = t ? w(p, S) : n || d ? w(p, 0) : void 0; S > R; R++)
                        if ((h || R in b) && (E = _(y = b[R], R, T),
                        e))
                            if (t)
                                C[R] = E;
                            else if (E)
                                switch (e) {
                                case 3:
                                    return !0;
                                case 5:
                                    return y;
                                case 6:
                                    return R;
                                case 2:
                                    u.call(C, y)
                                }
                            else
                                switch (e) {
                                case 4:
                                    return !1;
                                case 7:
                                    u.call(C, y)
                                }
                    return f ? -1 : c || l ? l : C
                }
            };
            e.exports = {
                forEach: c(0),
                map: c(1),
                filter: c(2),
                some: c(3),
                every: c(4),
                find: c(5),
                findIndex: c(6),
                filterOut: c(7)
            }
        }
        , function(e, t, n) {
            var r = n(8)
              , i = n(78)
              , o = n(7)
              , a = r("unscopables")
              , s = Array.prototype;
            null == s[a] && o.f(s, a, {
                configurable: !0,
                value: i(null)
            }),
            e.exports = function(e) {
                s[a][e] = !0
            }
        }
        , function(e, t) {
            e.exports = function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
        }
        , function(e, t, n) {
            "use strict";
            var r = n(3)
              , i = n(2)
              , o = n(39)
              , a = n(5)
              , s = n(12)
              , u = n(22)
              , c = n(60)
              , l = n(40)
              , f = n(62)
              , d = n(8)
              , h = n(42)
              , p = d("isConcatSpreadable")
              , v = h >= 51 || !i((function() {
                var e = [];
                return e[p] = !1,
                e.concat()[0] !== e
            }
            ))
              , m = f("concat")
              , g = function(e) {
                if (!a(e))
                    return !1;
                var t = e[p];
                return void 0 !== t ? !!t : o(e)
            };
            r({
                target: "Array",
                proto: !0,
                forced: !v || !m
            }, {
                concat: function(e) {
                    var t, n, r, i, o, a = s(this), f = l(a, 0), d = 0;
                    for (t = -1,
                    r = arguments.length; t < r; t++)
                        if (g(o = -1 === t ? a : arguments[t])) {
                            if (d + (i = u(o.length)) > 9007199254740991)
                                throw TypeError("Maximum allowed index exceeded");
                            for (n = 0; n < i; n++,
                            d++)
                                n in o && c(f, d, o[n])
                        } else {
                            if (d >= 9007199254740991)
                                throw TypeError("Maximum allowed index exceeded");
                            c(f, d++, o)
                        }
                    return f.length = d,
                    f
                }
            })
        }
        , function(e, t) {
            var n;
            n = function() {
                return this
            }();
            try {
                n = n || new Function("return this")()
            } catch (e) {
                "object" == typeof window && (n = window)
            }
            e.exports = n
        }
        , function(e, t, n) {
            var r = n(1)
              , i = n(9)
              , o = n(6)
              , a = n(18)
              , s = n(31)
              , u = n(51)
              , c = u.get
              , l = u.enforce
              , f = String(String).split("String");
            (e.exports = function(e, t, n, s) {
                var u, c = !!s && !!s.unsafe, d = !!s && !!s.enumerable, h = !!s && !!s.noTargetGet;
                "function" == typeof n && ("string" != typeof t || o(n, "name") || i(n, "name", t),
                (u = l(n)).source || (u.source = f.join("string" == typeof t ? t : ""))),
                e !== r ? (c ? !h && e[t] && (d = !0) : delete e[t],
                d ? e[t] = n : i(e, t, n)) : d ? e[t] = n : a(t, n)
            }
            )(Function.prototype, "toString", (function() {
                return "function" == typeof this && c(this).source || s(this)
            }
            ))
        }
        , function(e, t, n) {
            var r, i, o, a = n(52), s = n(1), u = n(5), c = n(9), l = n(6), f = n(19), d = n(32), h = n(20), p = s.WeakMap;
            if (a) {
                var v = f.state || (f.state = new p)
                  , m = v.get
                  , g = v.has
                  , y = v.set;
                r = function(e, t) {
                    return t.facade = e,
                    y.call(v, e, t),
                    t
                }
                ,
                i = function(e) {
                    return m.call(v, e) || {}
                }
                ,
                o = function(e) {
                    return g.call(v, e)
                }
            } else {
                var E = d("state");
                h[E] = !0,
                r = function(e, t) {
                    return t.facade = e,
                    c(e, E, t),
                    t
                }
                ,
                i = function(e) {
                    return l(e, E) ? e[E] : {}
                }
                ,
                o = function(e) {
                    return l(e, E)
                }
            }
            e.exports = {
                set: r,
                get: i,
                has: o,
                enforce: function(e) {
                    return o(e) ? i(e) : r(e, {})
                },
                getterFor: function(e) {
                    return function(t) {
                        var n;
                        if (!u(t) || (n = i(t)).type !== e)
                            throw TypeError("Incompatible receiver, " + e + " required");
                        return n
                    }
                }
            }
        }
        , function(e, t, n) {
            var r = n(1)
              , i = n(31)
              , o = r.WeakMap;
            e.exports = "function" == typeof o && /native code/.test(i(o))
        }
        , function(e, t) {
            e.exports = !1
        }
        , function(e, t, n) {
            var r = n(6)
              , i = n(55)
              , o = n(27)
              , a = n(7);
            e.exports = function(e, t) {
                for (var n = i(t), s = a.f, u = o.f, c = 0; c < n.length; c++) {
                    var l = n[c];
                    r(e, l) || s(e, l, u(t, l))
                }
            }
        }
        , function(e, t, n) {
            var r = n(21)
              , i = n(57)
              , o = n(38)
              , a = n(11);
            e.exports = r("Reflect", "ownKeys") || function(e) {
                var t = i.f(a(e))
                  , n = o.f;
                return n ? t.concat(n(e)) : t
            }
        }
        , function(e, t, n) {
            var r = n(1);
            e.exports = r
        }
        , function(e, t, n) {
            var r = n(35)
              , i = n(23).concat("length", "prototype");
            t.f = Object.getOwnPropertyNames || function(e) {
                return r(e, i)
            }
        }
        , function(e, t, n) {
            var r = n(37)
              , i = Math.max
              , o = Math.min;
            e.exports = function(e, t) {
                var n = r(e);
                return n < 0 ? i(n + t, 0) : o(n, t)
            }
        }
        , function(e, t, n) {
            var r = n(2)
              , i = /#|\.prototype\./
              , o = function(e, t) {
                var n = s[a(e)];
                return n == c || n != u && ("function" == typeof t ? r(t) : !!t)
            }
              , a = o.normalize = function(e) {
                return String(e).replace(i, ".").toLowerCase()
            }
              , s = o.data = {}
              , u = o.NATIVE = "N"
              , c = o.POLYFILL = "P";
            e.exports = o
        }
        , function(e, t, n) {
            "use strict";
            var r = n(17)
              , i = n(7)
              , o = n(13);
            e.exports = function(e, t, n) {
                var a = r(t);
                a in e ? i.f(e, a, o(0, n)) : e[a] = n
            }
        }
        , function(e, t, n) {
            var r = n(41);
            e.exports = r && !Symbol.sham && "symbol" == typeof Symbol.iterator
        }
        , function(e, t, n) {
            var r = n(2)
              , i = n(8)
              , o = n(42)
              , a = i("species");
            e.exports = function(e) {
                return o >= 51 || !r((function() {
                    var t = [];
                    return (t.constructor = {})[a] = function() {
                        return {
                            foo: 1
                        }
                    }
                    ,
                    1 !== t[e](Boolean).foo
                }
                ))
            }
        }
        , function(e, t, n) {
            "use strict";
            var r = n(3)
              , i = n(44);
            r({
                target: "Array",
                proto: !0,
                forced: [].forEach != i
            }, {
                forEach: i
            })
        }
        , function(e, t, n) {
            var r = n(65);
            e.exports = function(e, t, n) {
                if (r(e),
                void 0 === t)
                    return e;
                switch (n) {
                case 0:
                    return function() {
                        return e.call(t)
                    }
                    ;
                case 1:
                    return function(n) {
                        return e.call(t, n)
                    }
                    ;
                case 2:
                    return function(n, r) {
                        return e.call(t, n, r)
                    }
                    ;
                case 3:
                    return function(n, r, i) {
                        return e.call(t, n, r, i)
                    }
                }
                return function() {
                    return e.apply(t, arguments)
                }
            }
        }
        , function(e, t) {
            e.exports = function(e) {
                if ("function" != typeof e)
                    throw TypeError(String(e) + " is not a function");
                return e
            }
        }
        , function(e, t, n) {
            "use strict";
            var r = n(2);
            e.exports = function(e, t) {
                var n = [][e];
                return !!n && r((function() {
                    n.call(null, t || function() {
                        throw 1
                    }
                    , 1)
                }
                ))
            }
        }
        , function(e, t, n) {
            var r = n(4)
              , i = n(7).f
              , o = Function.prototype
              , a = o.toString
              , s = /^\s*function ([^ (]*)/;
            r && !("name"in o) && i(o, "name", {
                configurable: !0,
                get: function() {
                    try {
                        return a.call(this).match(s)[1]
                    } catch (e) {
                        return ""
                    }
                }
            })
        }
        , function(e, t, n) {
            var r = n(3)
              , i = n(69);
            r({
                target: "Object",
                stat: !0,
                forced: Object.assign !== i
            }, {
                assign: i
            })
        }
        , function(e, t, n) {
            "use strict";
            var r = n(4)
              , i = n(2)
              , o = n(25)
              , a = n(38)
              , s = n(28)
              , u = n(12)
              , c = n(15)
              , l = Object.assign
              , f = Object.defineProperty;
            e.exports = !l || i((function() {
                if (r && 1 !== l({
                    b: 1
                }, l(f({}, "a", {
                    enumerable: !0,
                    get: function() {
                        f(this, "b", {
                            value: 3,
                            enumerable: !1
                        })
                    }
                }), {
                    b: 2
                })).b)
                    return !0;
                var e = {}
                  , t = {}
                  , n = Symbol();
                return e[n] = 7,
                "abcdefghijklmnopqrst".split("").forEach((function(e) {
                    t[e] = e
                }
                )),
                7 != l({}, e)[n] || "abcdefghijklmnopqrst" != o(l({}, t)).join("")
            }
            )) ? function(e, t) {
                for (var n = u(e), i = arguments.length, l = 1, f = a.f, d = s.f; i > l; )
                    for (var h, p = c(arguments[l++]), v = f ? o(p).concat(f(p)) : o(p), m = v.length, g = 0; m > g; )
                        h = v[g++],
                        r && !d.call(p, h) || (n[h] = p[h]);
                return n
            }
            : l
        }
        , function(e, t, n) {
            var r = n(3)
              , i = n(12)
              , o = n(25);
            r({
                target: "Object",
                stat: !0,
                forced: n(2)((function() {
                    o(1)
                }
                ))
            }, {
                keys: function(e) {
                    return o(i(e))
                }
            })
        }
        , function(e, t, n) {
            "use strict";
            var r = n(3)
              , i = n(72);
            r({
                target: "String",
                proto: !0,
                forced: n(73)("sub")
            }, {
                sub: function() {
                    return i(this, "sub", "", "")
                }
            })
        }
        , function(e, t, n) {
            var r = n(10)
              , i = /"/g;
            e.exports = function(e, t, n, o) {
                var a = String(r(e))
                  , s = "<" + t;
                return "" !== n && (s += " " + n + '="' + String(o).replace(i, "&quot;") + '"'),
                s + ">" + a + "</" + t + ">"
            }
        }
        , function(e, t, n) {
            var r = n(2);
            e.exports = function(e) {
                return r((function() {
                    var t = ""[e]('"');
                    return t !== t.toLowerCase() || t.split('"').length > 3
                }
                ))
            }
        }
        , function(e, t, n) {
            var r = n(1)
              , i = n(75)
              , o = n(44)
              , a = n(9);
            for (var s in i) {
                var u = r[s]
                  , c = u && u.prototype;
                if (c && c.forEach !== o)
                    try {
                        a(c, "forEach", o)
                    } catch (e) {
                        c.forEach = o
                    }
            }
        }
        , function(e, t) {
            e.exports = {
                CSSRuleList: 0,
                CSSStyleDeclaration: 0,
                CSSValueList: 0,
                ClientRectList: 0,
                DOMRectList: 0,
                DOMStringList: 0,
                DOMTokenList: 1,
                DataTransferItemList: 0,
                FileList: 0,
                HTMLAllCollection: 0,
                HTMLCollection: 0,
                HTMLFormElement: 0,
                HTMLSelectElement: 0,
                MediaList: 0,
                MimeTypeArray: 0,
                NamedNodeMap: 0,
                NodeList: 1,
                PaintRequestList: 0,
                Plugin: 0,
                PluginArray: 0,
                SVGLengthList: 0,
                SVGNumberList: 0,
                SVGPathSegList: 0,
                SVGPointList: 0,
                SVGStringList: 0,
                SVGTransformList: 0,
                SourceBufferList: 0,
                StyleSheetList: 0,
                TextTrackCueList: 0,
                TextTrackList: 0,
                TouchList: 0
            }
        }
        , function(e, t, n) {
            var r = n(3)
              , i = n(1)
              , o = n(43)
              , a = [].slice
              , s = function(e) {
                return function(t, n) {
                    var r = arguments.length > 2
                      , i = r ? a.call(arguments, 2) : void 0;
                    return e(r ? function() {
                        ("function" == typeof t ? t : Function(t)).apply(this, i)
                    }
                    : t, n)
                }
            };
            r({
                global: !0,
                bind: !0,
                forced: /MSIE .\./.test(o)
            }, {
                setTimeout: s(i.setTimeout),
                setInterval: s(i.setInterval)
            })
        }
        , function(e, t, n) {
            "use strict";
            var r = n(3)
              , i = n(45).find
              , o = n(46)
              , a = n(24)
              , s = !0
              , u = a("find");
            "find"in [] && Array(1).find((function() {
                s = !1
            }
            )),
            r({
                target: "Array",
                proto: !0,
                forced: s || !u
            }, {
                find: function(e) {
                    return i(this, e, arguments.length > 1 ? arguments[1] : void 0)
                }
            }),
            o("find")
        }
        , function(e, t, n) {
            var r, i = n(11), o = n(79), a = n(23), s = n(20), u = n(80), c = n(30), l = n(32)("IE_PROTO"), f = function() {}, d = function(e) {
                return "<script>" + e + "<\/script>"
            }, h = function() {
                try {
                    r = document.domain && new ActiveXObject("htmlfile")
                } catch (e) {}
                var e, t;
                h = r ? function(e) {
                    e.write(d("")),
                    e.close();
                    var t = e.parentWindow.Object;
                    return e = null,
                    t
                }(r) : ((t = c("iframe")).style.display = "none",
                u.appendChild(t),
                t.src = String("javascript:"),
                (e = t.contentWindow.document).open(),
                e.write(d("document.F=Object")),
                e.close(),
                e.F);
                for (var n = a.length; n--; )
                    delete h.prototype[a[n]];
                return h()
            };
            s[l] = !0,
            e.exports = Object.create || function(e, t) {
                var n;
                return null !== e ? (f.prototype = i(e),
                n = new f,
                f.prototype = null,
                n[l] = e) : n = h(),
                void 0 === t ? n : o(n, t)
            }
        }
        , function(e, t, n) {
            var r = n(4)
              , i = n(7)
              , o = n(11)
              , a = n(25);
            e.exports = r ? Object.defineProperties : function(e, t) {
                o(e);
                for (var n, r = a(t), s = r.length, u = 0; s > u; )
                    i.f(e, n = r[u++], t[n]);
                return e
            }
        }
        , function(e, t, n) {
            var r = n(21);
            e.exports = r("document", "documentElement")
        }
        , function(e, t, n) {
            "use strict";
            var r = n(3)
              , i = n(36).includes
              , o = n(46);
            r({
                target: "Array",
                proto: !0,
                forced: !n(24)("indexOf", {
                    ACCESSORS: !0,
                    1: 0
                })
            }, {
                includes: function(e) {
                    return i(this, e, arguments.length > 1 ? arguments[1] : void 0)
                }
            }),
            o("includes")
        }
        , function(e, t, n) {
            "use strict";
            var r = n(3)
              , i = n(83)
              , o = n(10);
            r({
                target: "String",
                proto: !0,
                forced: !n(85)("includes")
            }, {
                includes: function(e) {
                    return !!~String(o(this)).indexOf(i(e), arguments.length > 1 ? arguments[1] : void 0)
                }
            })
        }
        , function(e, t, n) {
            var r = n(84);
            e.exports = function(e) {
                if (r(e))
                    throw TypeError("The method doesn't accept regular expressions");
                return e
            }
        }
        , function(e, t, n) {
            var r = n(5)
              , i = n(16)
              , o = n(8)("match");
            e.exports = function(e) {
                var t;
                return r(e) && (void 0 !== (t = e[o]) ? !!t : "RegExp" == i(e))
            }
        }
        , function(e, t, n) {
            var r = n(8)("match");
            e.exports = function(e) {
                var t = /./;
                try {
                    "/./"[e](t)
                } catch (n) {
                    try {
                        return t[r] = !1,
                        "/./"[e](t)
                    } catch (e) {}
                }
                return !1
            }
        }
        , function(e, t, n) {
            "use strict";
            n.r(t),
            n.d(t, "default", (function() {
                return v
            }
            )),
            n(48),
            n(63),
            n(67),
            n(68),
            n(70),
            n(71),
            n(74),
            n(76);
            var r, i, o = n(47), a = n.n(o), s = n(26), u = n.n(s), c = n(0), l = n.n(c);
            !function(e) {
                e.SRC_INVALID = "src_invalid",
                e.NATIVE_SUPPORT = "native_support_hls",
                e.HLSJS_SUPPORT = "hlsjs_support_hls",
                e.UNKNOWN_SUPOPORT = "unkonw_support_hls",
                e.HLS_FREEZE = "hls_freeze",
                e.HLS_ERROR = "hls_error",
                e.HLSJS_ERROR = "hlsjs_error",
                e.HLSJS_WARN = "hlsjs_warn",
                e.DRM_NOT_SUPPORT_HARDWARE = "drm_not_support_hardware",
                e.DRM_MODE = "drm_mode"
            }(r || (r = {})),
            function(e) {
                e.NATIVE = "native",
                e.HLSJS = "hlsjs",
                e.UNKNOWN = "unknown"
            }(i || (i = {}));
            var f = {
                enableRecoverMediaError: !0,
                recoverMediaErrorMaxRetry: 5,
                fragLoadingMaxRetry: 3
            }
              , d = (n(77),
            n(81),
            n(82),
            ["Google SwiftShader", "SwiftShader driver"])
              , h = /Version\/12.+Safari/.test(window.navigator.userAgent);
            function p() {
                var e = function() {
                    var e = {
                        alpha: !1,
                        antialias: !1,
                        depth: !1,
                        failIfMajorPerformanceCaveat: !1,
                        powerPreference: "high-performance",
                        stencil: !1
                    };
                    h && delete e.powerPreference;
                    var t = window.document.createElement("canvas")
                      , n = t.getContext("webgl", e) || t.getContext("experimental-webgl", e);
                    return null != n ? n : void 0
                }();
                if (!e)
                    return {
                        renderer: "",
                        hardwareAcceleration: !1
                    };
                var t = e.getExtension("WEBGL_debug_renderer_info")
                  , n = "";
                return t && (n = e.getParameter(t.UNMASKED_RENDERER_WEBGL)),
                n ? d.find((function(e) {
                    return n.includes(e)
                }
                )) ? {
                    renderer: n,
                    hardwareAcceleration: !1
                } : {
                    renderer: n,
                    hardwareAcceleration: !0
                } : {
                    renderer: "",
                    hardwareAcceleration: !1
                }
            }
            function v(e, t) {
                var n = e.message
                  , o = e.modeHandlers
                  , s = t.Constants
                  , c = s.ENS
                  , d = s.MediaEvents
                  , h = s.PlayerEvents
                  , v = t.Components.Resolution
                  , m = t.Utils.Browser
                  , g = t.log
                  , y = t.Error;
                c.HLS = "HLS",
                y.registerCode(24, "NETWORK_ERROR_HLSJS"),
                y.registerCode(25, "MEDIA_ERROR_RECOVER_FAIL_HLSJS"),
                y.registerCode(26, "MUX_ERROR_HLSJS"),
                y.registerCode(27, "OTHER_ERROR_HLSJS");
                var E = function() {
                    function t(i) {
                        var o = this;
                        a()(this, t),
                        this.lib = l.a || window.Hls,
                        this.name = "hls",
                        this.sessionId = void 0,
                        this.player = void 0,
                        this.client = void 0,
                        this.finalLevelsMenuConfig = void 0,
                        this.options = void 0,
                        this.resolution = void 0,
                        this.currentSource = void 0,
                        this.hlsRecoverMediaErrorRetry = 0,
                        this.recoverDecodingErrorDate = -1,
                        this.recoverAudioCodecErrorDate = -1,
                        this.updateStatDataTimerId = void 0,
                        this.fpsCal = {
                            lasttime: 0,
                            lastframe: 0
                        },
                        this.createHlsJsClient = function() {
                            if (o.player.options && o.player.options.hls) {
                                var e = o.options
                                  , t = e.hlsConfig
                                  , n = e.src;
                                if (null != t && t.emeEnabled) {
                                    if (!/Chrome/i.test(window.navigator.userAgent))
                                        return o.pub(r.DRM_NOT_SUPPORT_HARDWARE, "no chrome browser");
                                    var i = p()
                                      , a = i.renderer;
                                    if (!i.hardwareAcceleration)
                                        return o.pub(r.DRM_NOT_SUPPORT_HARDWARE, "renderer:".concat(a));
                                    o.pub(r.DRM_MODE)
                                }
                                o.client = new l.a(Object.assign(t || {}, f)),
                                o.bindLibEvent(),
                                o.subMessageForClient(),
                                o.client.loadSource(n),
                                o.client.attachMedia(o.player.mainVideo.el)
                            } else
                                g("warn", "player need hls options")
                        }
                        ,
                        this.pubHlsSupporting = function() {
                            t.isHlsjsSupported || t.isNativeSupported ? (t.isHlsjsSupported && o.pub(r.NATIVE_SUPPORT),
                            t.isNativeSupported && o.pub(r.HLSJS_SUPPORT)) : o.pub(r.UNKNOWN_SUPOPORT)
                        }
                        ,
                        this.useNativeHls = function(t) {
                            o.player.mainVideo.el ? (o.player.mainVideo.el.src = t,
                            o.player.mainVideo.el.load(),
                            o.player.play(),
                            e.hidePoster()) : g("error", "use Native hls but not found element")
                        }
                        ,
                        this.hlsjsMediaErrorHandler = function(t) {
                            var n = Date.now();
                            o.hlsRecoverMediaErrorRetry === o.options.recoverHlsjsMediaErrorMaxRetry ? e.emit(h.ERROR, new y(25,t)) : (!o.recoverDecodingErrorDate || n - o.recoverDecodingErrorDate > 2e3 ? (o.recoverDecodingErrorDate = n,
                            o.client.recoverMediaError()) : (!o.recoverAudioCodecErrorDate || n - o.recoverAudioCodecErrorDate > 2e3) && (o.recoverAudioCodecErrorDate = n,
                            o.client.swapAudioCodec(),
                            o.client.recoverMediaError()),
                            o.hlsRecoverMediaErrorRetry += 1)
                        }
                        ,
                        this.subMessageForClient = function() {
                            n.sub(d.LOADEDDATA, o.player.mainVideo.el, o.handleLoadedData),
                            n.sub(h.RESOLUTION_SWITCHING, o.resolution, o.handleResolutionSwitching)
                        }
                        ,
                        this.handleLoadedData = function() {
                            o.player.play(),
                            e.hidePoster()
                        }
                        ,
                        this.setResolution = function(e) {
                            if (e.levels.length > 1) {
                                var t = o.options
                                  , n = t.resolutionConfigAdapter
                                  , r = t.resolutionAutoConfig;
                                o.player.options.resolutionAutoConfig = o.player.options.resolutionAutoConfig || r || [{
                                    value: -1,
                                    label: "auto"
                                }];
                                try {
                                    if (o.finalLevelsMenuConfig = [],
                                    e.levels.forEach((function(e, t) {
                                        var n = e.width
                                          , r = e.height;
                                        o.finalLevelsMenuConfig.push({
                                            resolution: {
                                                width: n,
                                                height: r
                                            },
                                            value: t,
                                            label: r
                                        })
                                    }
                                    )),
                                    n)
                                        try {
                                            o.finalLevelsMenuConfig = n(o.finalLevelsMenuConfig)
                                        } catch (e) {
                                            g("warn", "hls resolutionAdapter error ".concat(JSON.stringify(e)))
                                        }
                                    o.resolution = new v(o.player,{
                                        resolutionConfig: o.finalLevelsMenuConfig
                                    }).render(o.player.controlBar, o.player.controlBar.playbackRate)
                                } catch (e) {
                                    g("warn", "hls resolution setting unkonwn error,".concat(JSON.stringify(e)))
                                }
                            }
                        }
                        ,
                        this.handleResolutionSwitching = function(e) {
                            var t = e.detail;
                            "number" == typeof (null == t ? void 0 : t.value) && o.client && (o.client.currentLevel = t.value,
                            o.client.currentLevel !== t.value && -1 !== t.value || o.resolution.resoltionSwitched({
                                value: o.client.manualLevel
                            }))
                        }
                        ,
                        this.startUpdateStatsData = function() {
                            o.updateStatDataTimerId && clearTimeout(o.updateStatDataTimerId),
                            o.updateStatData()
                        }
                        ,
                        this.updateStatData = function() {
                            o.updateStatDataTimerId = window.setTimeout((function() {
                                var e, n, r, i, a, s, u, c, l, f = null === (e = o.player) || void 0 === e || null === (n = e.mainVideo) || void 0 === n ? void 0 : n.el, d = f.videoWidth, h = f.videoHeight, p = null == f || null === (r = f.getVideoPlaybackQuality) || void 0 === r ? void 0 : r.call(f), v = (null == p ? void 0 : p.totalVideoFrames) || 0, m = (null == p ? void 0 : p.droppedVideoFrames) || 0, g = (null == p ? void 0 : p.creationTime) || 0, y = v - m || 0, E = g ? Math.round(1e3 * (y - o.fpsCal.lastframe) / (g - o.fpsCal.lasttime)) : 0, T = null === (i = o.client) || void 0 === i || null === (a = i.streamController) || void 0 === a || null === (s = a.fragPlaying) || void 0 === s ? void 0 : s.relurl, b = (null === (u = o.client) || void 0 === u ? void 0 : u.currentLevel) || "unkown";
                                o.player.qualityPannel.updateStatsData({
                                    hls: {
                                        fragStreamState: (null == o || null === (c = o.client) || void 0 === c ? void 0 : c.streamController.state) || "unkown",
                                        droppedVideoFrames: m,
                                        totalVideoFrames: v,
                                        shouldUseHlsWay: t.shouldUseHlsWay,
                                        videoWidth: d,
                                        videoHeight: h,
                                        fragLastKbps: "".concat((null == o || null === (l = o.client) || void 0 === l ? void 0 : l.streamController.fragLastKbps) || "-", "Kbps"),
                                        playingFragRelUrl: T,
                                        currentLevel: b,
                                        currentFPS: E
                                    }
                                }),
                                o.fpsCal.lastframe = y,
                                o.fpsCal.lasttime = g,
                                o.updateStatData()
                            }
                            ), 1e3)
                        }
                        ,
                        this.stopUpateStatsData = function() {
                            o.updateStatDataTimerId && (clearTimeout(o.updateStatDataTimerId),
                            o.player.qualityPannel.updateStatsData({
                                lastMode: c.HLS
                            }))
                        }
                        ,
                        this.player = i,
                        this.options = this.player.options.hls,
                        this.pubHlsSupporting(),
                        this.createClient()
                    }
                    return u()(t, null, [{
                        key: "checkHlsSupporting",
                        value: function() {
                            var e = m.IS_TBS
                              , n = m.IS_MQQB
                              , r = m.IS_MQQ
                              , o = m.IS_SAFARI
                              , a = m.IS_WECHAT
                              , s = m.IS_WINDOWS_WECHAT
                              , u = m.IS_IOS;
                            return t.isNativeSupported = (e || n || o || a || u) && !s,
                            t.isHlsjsSupported = !(u && r) && (null === l.a || void 0 === l.a ? void 0 : l.a.isSupported()),
                            document.createElement("video").canPlayType("application/vnd.apple.mpegurl") ? t.isNativeSupported = !0 : t.isNativeSupported = !1,
                            t.isNativeSupported ? i.NATIVE : t.isHlsjsSupported ? i.HLSJS : i.UNKNOWN
                        }
                    }]),
                    u()(t, [{
                        key: "loadSource",
                        value: function(e) {
                            if (this.isSourceValid(e))
                                if (this.options.forceHlsjs && t.isHlsjsSupported)
                                    this.client ? (this.client.loadSource(e),
                                    t.shouldUseHlsWay = i.HLSJS) : g("error", "loadSource but not found hlsjs client in force hlsjs");
                                else
                                    switch (t.shouldUseHlsWay) {
                                    case i.NATIVE:
                                        this.useNativeHls(e);
                                        break;
                                    case i.HLSJS:
                                        this.client ? this.client.loadSource(e) : g("error", "loadSource but not found hlsjs client");
                                        break;
                                    case i.UNKNOWN:
                                    default:
                                        this.useNativeHls(e)
                                    }
                        }
                    }, {
                        key: "dispose",
                        value: function() {
                            this.currentSource = "",
                            n.unsub(d.LOADEDDATA, this.player.mainVideo.el, this.handleLoadedData),
                            n.unsub(h.RESOLUTION_SWITCHING, this.player.mainVideo.el, this.handleResolutionSwitching),
                            this.client && (this.client.stopLoad(),
                            this.client.destroy()),
                            this.player.mainVideo.el.removeAttribute("src"),
                            this.player.mainVideo.el.load(),
                            this.resolution && this.resolution.remove(),
                            this.stopUpateStatsData()
                        }
                    }, {
                        key: "createClient",
                        value: function() {
                            var e = this.options.src;
                            if (this.isSourceValid(e)) {
                                if (this.startUpdateStatsData(),
                                this.options.forceHlsjs && t.isHlsjsSupported)
                                    return this.client && this.client.destroy(),
                                    void this.createHlsJsClient();
                                switch (t.shouldUseHlsWay) {
                                case i.NATIVE:
                                    this.pub(r.NATIVE_SUPPORT),
                                    this.useNativeHls(e);
                                    break;
                                case i.HLSJS:
                                    this.client && this.client.destroy(),
                                    this.createHlsJsClient();
                                    break;
                                case i.UNKNOWN:
                                default:
                                    this.useNativeHls(e)
                                }
                            }
                        }
                    }, {
                        key: "isSourceValid",
                        value: function(e) {
                            return /\.m3u8/i.test(e) ? (this.currentSource = e,
                            !0) : (g("error", "hls src url is invalid"),
                            this.pub(r.SRC_INVALID, {
                                src: e
                            }),
                            !1)
                        }
                    }, {
                        key: "bindLibEvent",
                        value: function() {
                            var t = this;
                            Object.keys(l.a.Events).forEach((function(e) {
                                var n = l.a.Events[e];
                                t.client.on(n, (function(e, n) {
                                    t.pub(e, n)
                                }
                                ))
                            }
                            )),
                            this.client.on(l.a.Events.MANIFEST_PARSED, (function(e, n) {
                                g("info", "Hls.js[".concat(e, "]"), n),
                                t.setResolution(n)
                            }
                            )),
                            this.client.on(l.a.Events.LEVEL_LOADED, (function(e, t) {
                                g("info", "Hls.js[".concat(e, "] level:").concat(t.level))
                            }
                            )),
                            this.client.on(l.a.Events.LEVEL_SWITCHING, (function(e, t) {
                                g("info", "Hls.js[".concat(e, "] level:").concat(t.level))
                            }
                            )),
                            this.client.on(l.a.Events.LEVEL_SWITCHED, (function(e, n) {
                                g("info", "Hls.js[".concat(e, "] level:").concat(n.level)),
                                t.resolution && t.resolution.resoltionSwitched({
                                    value: t.client.manualLevel
                                })
                            }
                            )),
                            this.client.on(l.a.Events.ERROR, (function(n, i) {
                                var o;
                                if (i.fatal) {
                                    switch (g("error", "Hls.js[".concat(n, "] ").concat(i.type, " ").concat(i.details), i.reason || "", i.response || ""),
                                    i.type) {
                                    case l.a.ErrorTypes.MEDIA_ERROR:
                                        null !== (o = t.options) && void 0 !== o && o.enableHlsjsRecoverMediaError ? t.hlsjsMediaErrorHandler(i) : e.emit(h.ERROR, new y(25,i));
                                        break;
                                    case l.a.ErrorTypes.NETWORK_ERROR:
                                        e.emit(h.ERROR, new y(24,i));
                                        break;
                                    case l.a.ErrorTypes.MUX_ERROR:
                                        e.emit(h.ERROR, new y(26,i));
                                        break;
                                    case l.a.ErrorTypes.OTHER_ERROR:
                                        e.emit(h.ERROR, new y(27,i))
                                    }
                                    t.pub(r.HLSJS_ERROR, i)
                                } else {
                                    switch (g("warn", "Hls.js[".concat(n, "] ").concat(i.type, " ").concat(i.details), i.reason || "", i.response || ""),
                                    i.details) {
                                    case l.a.ErrorDetails.KEY_LOAD_ERROR:
                                    }
                                    t.pub(r.HLSJS_WARN, i)
                                }
                            }
                            ))
                        }
                    }, {
                        key: "pub",
                        value: function(e, t) {
                            n.pub({
                                type: c.HLS,
                                src: this,
                                subType: e,
                                detail: t
                            }, this.player)
                        }
                    }]),
                    t
                }();
                E.isNativeSupported = !1,
                E.isHlsjsSupported = !1,
                E.shouldUseHlsWay = void 0,
                E.shouldUseHlsWay = E.checkHlsSupporting(),
                o.hls = E
            }
            "undefined" != typeof window && window.LokiPlayer && (window.LokiPlayer.HLSJS = l.a,
            window.LokiPlayer.install("hls", v))
        }
        ])
    },
    Lqgc: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("q1tI"))
          , o = r(n("TSYQ"))
          , a = r(n("YiKP"));
        function s(e) {
            var t = e.className
              , n = e.type
              , r = e.size
              , s = e.text
              , u = e.subText
              , c = (0,
            o.default)("s-msg-tips", t, {
                "s-msg-tips--s": "s" === r,
                "s-msg-tips--m": "m" === r,
                "s-msg-tips--l": "l" === r,
                "s-msg-tips--xl": "xl" === r
            });
            return i.default.createElement("div", {
                className: c
            }, i.default.createElement(a.default, {
                type: n,
                size: r
            }), s && !u ? i.default.createElement("div", {
                className: "msg-tips-txt text--only"
            }, s) : i.default.createElement("div", {
                className: "msg-tips-bd"
            }, i.default.createElement("div", {
                className: "msg-tips-txt"
            }, s), u && i.default.createElement("div", {
                className: "msg-tips-sub-txt"
            }, u)))
        }
        n("ke98"),
        s.defaultProps = {
            type: "info",
            size: "m"
        };
        var u = s;
        t.default = u
    },
    LyJQ: function(e, t, n) {
        "use strict";
        var r = n("TqRt")
          , i = n("cDf5");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var o = r(n("rePB"))
          , a = r(n("U8pU"))
          , s = r(n("1OyB"))
          , u = r(n("vuIU"))
          , c = r(n("Ji7U"))
          , l = r(n("md7G"))
          , f = r(n("foSv"))
          , d = function(e, t) {
            if (!t && e && e.__esModule)
                return e;
            if (null === e || "object" !== i(e) && "function" != typeof e)
                return {
                    default: e
                };
            var n = m(t);
            if (n && n.has(e))
                return n.get(e);
            var r = {}
              , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var a in e)
                if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                    var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                    s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                }
            r.default = e,
            n && n.set(e, r);
            return r
        }(n("q1tI"))
          , h = r(n("i8i4"))
          , p = r(n("TSYQ"));
        n("zJX/");
        var v = r(n("HzbS"));
        function m(e) {
            if ("function" != typeof WeakMap)
                return null;
            var t = new WeakMap
              , n = new WeakMap;
            return (m = function(e) {
                return e ? n : t
            }
            )(e)
        }
        function g(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }
                ))),
                n.push.apply(n, r)
            }
            return n
        }
        function y(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? g(Object(n), !0).forEach((function(t) {
                    (0,
                    o.default)(e, t, n[t])
                }
                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : g(Object(n)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                }
                ))
            }
            return e
        }
        function E(e) {
            var t = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                    ))),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var n, r = (0,
                f.default)(e);
                if (t) {
                    var i = (0,
                    f.default)(this).constructor;
                    n = Reflect.construct(r, arguments, i)
                } else
                    n = r.apply(this, arguments);
                return (0,
                l.default)(this, n)
            }
        }
        var T = function(e) {
            (0,
            c.default)(n, e);
            var t = E(n);
            function n(e) {
                var r;
                return (0,
                s.default)(this, n),
                (r = t.call(this, e)).dialogRef = d.default.createRef(),
                r
            }
            return (0,
            u.default)(n, [{
                key: "componentDidMount",
                value: function() {
                    this.props.visible && this.setFocusDialog(!0)
                }
            }, {
                key: "componentDidUpdate",
                value: function(e) {
                    var t = this.props.visible;
                    if (t !== e.visible) {
                        var n = t && !e.visible;
                        this.setFocusDialog(n)
                    }
                }
            }, {
                key: "componentWillUnmount",
                value: function() {
                    this.defaultNode && this.props.portal && (document.body.removeChild(this.defaultNode),
                    this.defaultNode = null),
                    this.setFocusDialog(!1)
                }
            }, {
                key: "setFocusDialog",
                value: function(e) {
                    var t = this;
                    if (e)
                        return this.lastFocusElm = document.activeElement,
                        void setTimeout((function() {
                            var e = t.dialogRef.current;
                            e && e.focus()
                        }
                        ), 300);
                    this.lastFocusElm && setTimeout((function() {
                        t.lastFocusElm.focus()
                    }
                    ), 200)
                }
            }, {
                key: "btnClick",
                value: function(e) {
                    var t = this.props.onBtnClick;
                    t && t(e)
                }
            }, {
                key: "renderFt",
                value: function() {
                    var e = this
                      , t = this.props
                      , n = t.btnsText
                      , r = t.fullBar ? "dialog-ft ft--full" : "dialog-ft";
                    return n && "string" == typeof n ? d.default.createElement("div", {
                        className: r
                    }, d.default.createElement("span", {
                        className: "ft-btn ft-btn--ok ft-btn--primary",
                        onClick: function() {
                            return e.btnClick("ok")
                        },
                        role: "button",
                        tabIndex: 0
                    }, n)) : n && Array.isArray(n) && "object" === (0,
                    a.default)(n[0]) ? d.default.createElement("div", {
                        className: r
                    }, n.map((function(t, n) {
                        var r = t.className
                          , i = t.text
                          , o = t.isPrimary
                          , a = t.disabled
                          , s = {
                            className: (0,
                            p.default)("ft-btn ft-btn--".concat(r), {
                                "ft-btn--primary": o,
                                disabled: a
                            }),
                            onClick: function() {
                                return e.btnClick(t.className)
                            },
                            key: n.toString(),
                            role: "button",
                            "aria-disabled": a ? "true" : void 0
                        };
                        return d.default.createElement("span", s, i)
                    }
                    ))) : d.default.createElement("div", {
                        className: r
                    }, d.default.createElement("span", {
                        className: "ft-btn ft-btn--cancel",
                        onClick: function() {
                            return e.btnClick("cancel")
                        },
                        key: "cancel",
                        role: "button",
                        tabIndex: 0
                    }, n ? n[0] : "取消"), d.default.createElement("span", {
                        className: "ft-btn ft-btn--ok ft-btn--primary",
                        onClick: function() {
                            return e.btnClick("ok")
                        },
                        key: "ok",
                        role: "button",
                        tabIndex: 0
                    }, n ? n[1] : "确定"))
                }
            }, {
                key: "renderBd",
                value: function() {
                    var e = this.props
                      , t = e.title
                      , n = e.bd
                      , r = e.children;
                    return r ? d.default.createElement("div", {
                        className: "dialog-bd"
                    }, r) : d.default.createElement("div", {
                        className: "dialog-bd"
                    }, t && d.default.createElement("h3", {
                        className: "bd-tt"
                    }, t), n && d.default.isValidElement(n) ? n : d.default.createElement("div", {
                        className: "bd-txt"
                    }, n))
                }
            }, {
                key: "renderDialog",
                value: function() {
                    var e = this
                      , t = this.props
                      , n = t.className
                      , r = t.visible
                      , i = t.hasBtn
                      , o = (0,
                    p.default)("s-dialog-wrap", {
                        active: r
                    })
                      , a = (0,
                    p.default)("s-dialog ", n, {
                        "dialog--close": !i
                    });
                    return d.default.createElement("section", {
                        className: o
                    }, d.default.createElement("div", {
                        ref: this.dialogRef,
                        className: a,
                        role: "dialog",
                        tabIndex: -1,
                        "aria-modal": "true"
                    }, this.renderBd(), i && this.renderFt(), !i && d.default.createElement("i", {
                        className: "icon-css-cross",
                        role: "button",
                        tabIndex: 0,
                        "aria-label": "关闭",
                        onClick: function() {
                            return e.btnClick("close")
                        }
                    })))
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.portal
                      , n = e.parentNode;
                    if (t && !n && !this.defaultNode) {
                        var r = document.createElement("div");
                        document.body.appendChild(r),
                        this.defaultNode = r
                    }
                    return t ? h.default.createPortal(this.renderDialog(), this.props.parentNode || this.defaultNode) : d.default.createElement(d.Fragment, null, this.renderDialog())
                }
            }]),
            n
        }(d.PureComponent);
        T.defaultProps = {
            portal: !0,
            hasBtn: !0
        },
        T.confirm = function(e) {
            (0,
            v.default)(y({}, e), T)
        }
        ,
        T.alert = function(e) {
            (0,
            v.default)(y({
                type: "alert"
            }, e), T)
        }
        ,
        T.close = function(e) {
            (0,
            v.default)(y({
                type: "close"
            }, e), T)
        }
        ,
        T.api = T.confirm;
        var b = T;
        t.default = b
    },
    M6XO: function(e, t, n) {
        e.exports = function() {
            "use strict";
            var e, t;
            function n(t) {
                this.name = "__st" + (1e9 * Math.random() >>> 0) + e + "__",
                null != t && t.forEach(this.add, this),
                e += 1
            }
            Array.prototype.find || Object.defineProperty(Array.prototype, "find", {
                configurable: !0,
                writable: !0,
                value: function(e) {
                    if (null === this)
                        throw new TypeError('"this" is null or not defined');
                    var t = Object(this)
                      , n = t.length >>> 0;
                    if ("function" != typeof e)
                        throw new TypeError("predicate must be a function");
                    for (var r = arguments[1], i = 0; i < n; ) {
                        var o = t[i];
                        if (e.call(r, o, i, t))
                            return o;
                        i += 1
                    }
                }
            }),
            String.prototype.startsWith || Object.defineProperty(String.prototype, "startsWith", {
                value: function(e, t) {
                    return this.substring(t = !t || t < 0 ? 0 : +t, t + e.length) === e
                }
            }),
            window.WeakSet || (e = Date.now() % 1e9,
            n.prototype.add = function(e) {
                var t = this.name;
                return e[t] || Object.defineProperty(e, t, {
                    value: !0,
                    writable: !0
                }),
                this
            }
            ,
            n.prototype.delete = function(e) {
                return !!e[this.name] && !(e[this.name] = void 0)
            }
            ,
            n.prototype.has = function(e) {
                return !!e[this.name]
            }
            ,
            t = n,
            Object.defineProperty(window, "WeakSet", {
                value: function(e) {
                    return new t(e)
                }
            })),
            Object.assign || Object.defineProperty(Object, "assign", {
                enumerable: !1,
                configurable: !0,
                writable: !0,
                value: function(e) {
                    if (null == e)
                        throw new TypeError("Cannot convert first argument to object");
                    for (var t = Object(e), n = 1; n < arguments.length; n++)
                        if (null != (r = arguments[n]))
                            for (var r = Object(r), i = Object.keys(Object(r)), o = 0, a = i.length; o < a; o++) {
                                var s = i[o]
                                  , u = Object.getOwnPropertyDescriptor(r, s);
                                null != u && u.enumerable && (t[s] = r[s])
                            }
                    return t
                }
            });
            var r = function(e, t) {
                return (r = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(e, t) {
                    e.__proto__ = t
                }
                || function(e, t) {
                    for (var n in t)
                        Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
                }
                )(e, t)
            }
              , i = function() {
                return (i = Object.assign || function(e) {
                    for (var t, n = 1, r = arguments.length; n < r; n++)
                        for (var i in t = arguments[n])
                            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                    return e
                }
                ).apply(this, arguments)
            };
            function o() {
                for (var e = 0, t = 0, n = arguments.length; t < n; t++)
                    e += arguments[t].length;
                var r = Array(e)
                  , i = 0;
                for (t = 0; t < n; t++)
                    for (var o = arguments[t], a = 0, s = o.length; a < s; a++,
                    i++)
                        r[i] = o[a];
                return r
            }
            function a(e) {
                try {
                    return encodeURIComponent(decodeURIComponent(e))
                } catch (t) {
                    return e
                }
            }
            l.prototype.indexOf = function(e, t) {
                for (var n = 0; n < e.length; n++)
                    if (e[n].callback === t)
                        return n;
                return -1
            }
            ,
            l.prototype.on = function(e, t, n) {
                var r;
                if (void 0 === n && (n = 0),
                this)
                    return (r = this.eventsList[e]) || (this.eventsList[e] = [],
                    r = this.eventsList[e]),
                    -1 === this.indexOf(r, t) && r.push({
                        name: e,
                        type: n || 0,
                        callback: t
                    }),
                    this
            }
            ,
            l.prototype.one = function(e, t) {
                this.on(e, t, 1)
            }
            ,
            l.prototype.remove = function(e, t) {
                if (this) {
                    var n = this.eventsList[e];
                    if (!n)
                        return null;
                    if (t)
                        return n.length && (t = this.indexOf(n, t),
                        n.splice(t, 1)),
                        this;
                    try {
                        delete this.eventsList[e]
                    } catch (e) {}
                    return null
                }
            }
            ,
            l.prototype.clear = function() {
                this.eventsList = {}
            }
            ;
            var s, u = l, c = function(e) {
                return (e = Array.isArray(e) ? e : [e]).map((function(e, t) {
                    return Object.getOwnPropertyNames(e).map((function(n) {
                        return a(n) + "[" + t + "]=" + (void 0 === e[n] ? "" : a(e[n]))
                    }
                    )).join("&")
                }
                )).join("&") + (e.length ? "&count=" + e.length : "")
            };
            function l() {
                var e = this;
                this.emit = function(t, n) {
                    if (e) {
                        var r;
                        if (null != (i = e.eventsList[t]) && i.length)
                            for (var i = i.slice(), o = 0; o < i.length; o++) {
                                r = i[o];
                                try {
                                    var a = r.callback.apply(e, [n]);
                                    if (1 === r.type && e.remove(t, r.callback),
                                    !1 === a)
                                        break
                                } catch (t) {
                                    throw t
                                }
                            }
                        return e
                    }
                }
                ,
                this.eventsList = {}
            }
            function f(e, t) {
                return "number" == typeof e || "string" == typeof e ? e : t ? s.string : s.number
            }
            function d(e, t) {
                return "string" == typeof e ? e.split("?")[t ? 1 : 0] || "" : e
            }
            function h(e) {
                return "string" == typeof e && e.startsWith("//") ? "undefined" != typeof location && "https:" === location.protocol : /^https/.test(e)
            }
            function p(e) {
                return T.some((function(t) {
                    return -1 !== e.indexOf(t)
                }
                ))
            }
            function v(e, t, n) {
                var r, i;
                try {
                    if ("function" == typeof (null == t ? void 0 : t.retCodeHandler))
                        return {
                            code: void 0 === (o = (i = t.retCodeHandler(e, null == n ? void 0 : n.url, null == n ? void 0 : n.ctx) || {}).code) ? "unknown" : o,
                            isErr: i.isErr
                        };
                    "string" == typeof e && (e = JSON.parse(e)),
                    "function" == typeof (null == (r = null == t ? void 0 : t.ret) ? void 0 : r.join) && (b = [].concat(t.ret.map((function(e) {
                        return e.toLowerCase()
                    }
                    ))));
                    var o, a = Object.getOwnPropertyNames(e).filter((function(e) {
                        return -1 !== b.indexOf(e.toLowerCase())
                    }
                    ));
                    return a.length ? {
                        code: "" + (o = Number(e[a[0]])),
                        isErr: 0 !== o
                    } : {
                        code: "unknown",
                        isErr: !1
                    }
                } catch (e) {
                    return {
                        code: "unknown",
                        isErr: !1
                    }
                }
            }
            function m(e, t) {
                void 0 === t && (t = 3);
                var n, r, i, o = "";
                return Array.isArray(e) ? (o += "[",
                n = e.length,
                e.forEach((function(e, r) {
                    var i, a;
                    o = (o += "object" == typeof e && 1 < t ? m(e, t - 1) : (a = "",
                    a += "undefined" == (i = typeof (e = e)) || "symbol" == i || "function" == i ? "null" : "string" == i || "object" == i ? '"' + e + '"' : e)) + (r === n - 1 ? "" : ",")
                }
                )),
                o += "]") : e instanceof Object ? (o = "{",
                r = Object.keys(e),
                i = r.length,
                r.forEach((function(n, a) {
                    var s, u, c;
                    "object" == typeof e[n] && 1 < t ? o += '"' + n + '":' + m(e[n], t - 1) : o += (c = "",
                    "string" == (u = typeof (s = e[n = n])) || "object" == u ? c += '"' + n + '":"' + s + '"' : "function" == typeof s ? c += '"' + n + '":"function ' + s.name + '"' : "symbol" == typeof s ? c += '"' + n + '":"symbol"' : "number" != typeof s && "boolean" != u || (c += '"' + n + '": ' + s),
                    c),
                    o += a === i - 1 || a < i - 1 && void 0 === e[r[a + 1]] ? "" : ","
                }
                )),
                o += "}") : o += e,
                o
            }
            (G = s = s || {})[G.number = -1] = "number",
            G.string = "";
            var g, y, E, T = ["application/octet-stream", "application/xhtml+xml", "application/xml", "application/pdf", "application/pkcs12", "application/javascript", "application/ecmascript", "application/vnd.mspowerpoint", "application/ogg", "text/css", "text/javascript", "image", "audio", "video"], b = ["ret", "retcode", "code", "errcode"], _ = function() {
                var e = new WeakSet;
                return function(t, n) {
                    if (n instanceof Error)
                        return "Error.message: " + n.message + " \n  Error.stack: " + n.stack;
                    if ("object" == typeof n && null !== n) {
                        if (e.has(n))
                            return "[Circular " + (t || "root") + "]";
                        e.add(n)
                    }
                    return n
                }
            }, S = function(e) {
                if ("string" == typeof e)
                    return e;
                try {
                    return e instanceof Error ? (JSON.stringify(e, _(), 4) || "undefined").replace(/"/gim, "") : JSON.stringify(e, _(), 4) || "undefined"
                } catch (e) {
                    return "error happen when aegis stringify: \n " + e.message + " \n " + e.stack
                }
            }, R = (O.prototype.sourceURL = function() {
                return this.data.responseURL
            }
            ,
            O.prototype.status = function() {
                return Number(this.data.status)
            }
            ,
            O.prototype.headers = function() {
                var e = this.data.getAllResponseHeaders().split("\n")
                  , t = {};
                return e.forEach((function(e) {
                    var n;
                    e && (n = (e = e.split(": "))[0],
                    e = e[1].trim(),
                    t[n] = e)
                }
                )),
                t
            }
            ,
            O), w = (C.prototype.sourceURL = function() {
                return this.data.url
            }
            ,
            C.prototype.status = function() {
                return Number(this.data.status)
            }
            ,
            C.prototype.headers = function() {
                var e = {};
                return this.data.headers.forEach((function(t, n) {
                    e[n] = t
                }
                )),
                e
            }
            ,
            C);
            function C(e, t) {
                this.type = "fetch",
                this.data = e || {},
                this.data.response = t
            }
            function O(e) {
                this.type = "xhr",
                this.data = e
            }
            function L(e, t) {
                var n, r = [], i = e.config;
                return e.lifeCycle.on("destroy", (function() {
                    r.length = 0
                }
                )),
                function(o, a) {
                    if (Array.isArray(o) ? r = r.concat(o) : r.push(o),
                    t && r.length >= t || e.sendNow && 0 < r.length)
                        return r = j(r),
                        a(r.splice(0, r.length)),
                        void (n && clearTimeout(n));
                    n && clearTimeout(n),
                    n = setTimeout((function() {
                        n = null,
                        0 < (r = j(r)).length && a(r.splice(0, r.length))
                    }
                    ), i.delay)
                }
            }
            function A(e, t) {
                return Array.isArray(e) ? t(e.map((function(e) {
                    return i(i({}, e), {
                        msg: "string" == typeof e.msg ? e.msg : [].concat(e.msg).map(S).join(" ")
                    })
                }
                ))) : t([i(i({}, e), {
                    msg: "string" == typeof e.msg ? e.msg : S(e.msg)
                })])
            }
            function P(e) {
                return function(t, n) {
                    e.lifeCycle.emit("modifyRequest", t);
                    var r = e.config.modifyRequest;
                    if ("function" == typeof r)
                        try {
                            var i = r(t);
                            "object" == typeof i && "url"in i && (t = i)
                        } catch (t) {}
                    n(t)
                }
            }
            function I(e) {
                return function(t, n) {
                    e.lifeCycle.emit("afterRequest", t);
                    var r = e.config.afterRequest;
                    "function" == typeof r && !1 === r(t) || n(t)
                }
            }
            function D(e) {
                if (e && e.reduce && e.length)
                    return 1 === e.length ? function(t, n) {
                        e[0](t, n || W)
                    }
                    : e.reduce((function(e, t) {
                        return function(n, r) {
                            return void 0 === r && (r = W),
                            e(n, (function(e) {
                                return null == t ? void 0 : t(e, r)
                            }
                            ))
                        }
                    }
                    ));
                throw new TypeError("createPipeline need at least one function param")
            }
            function k(e, t) {
                Object.getOwnPropertyNames(e).forEach((function(n) {
                    "function" == typeof e[n] && "constructor" !== n && (t ? t[n] = "sendPipeline" === n ? function() {
                        return function() {}
                    }
                    : function() {}
                    : e[n] = function() {}
                    )
                }
                ))
            }
            function N() {
                return void 0 !== window.performance && "function" == typeof performance.clearResourceTimings && "function" == typeof performance.getEntriesByType && "function" == typeof performance.now
            }
            function x(e, t) {
                function n(r) {
                    "pagehide" !== r.type && "hidden" !== document.visibilityState || (e(r),
                    t && (removeEventListener("visibilitychange", n, !0),
                    removeEventListener("pagehide", n, !0)))
                }
                addEventListener("visibilitychange", n, !0),
                addEventListener("pagehide", n, !0)
            }
            function M(e) {
                if (Z.find((function(t) {
                    return t.name === e.name
                }
                )))
                    throw new Error("name '" + e.name + "' is already in hackXHR option list");
                var t, n;
                Z.push(e),
                !X && window.XMLHttpRequest && (X = !0,
                t = window.XMLHttpRequest.prototype.send,
                n = window.XMLHttpRequest.prototype.open,
                window.XMLHttpRequest.prototype.open = function() {
                    if (this.aegisMethod = arguments[0],
                    this.aegisUrl = arguments[1],
                    this.aegisXhrStartTime = Date.now(),
                    !this.sendByAegis)
                        for (var e = 0; e < Z.length; e++) {
                            var t = Z[e];
                            try {
                                "function" == typeof t.open && t.open(this)
                            } catch (e) {}
                        }
                    return n.apply(this, arguments)
                }
                ,
                window.XMLHttpRequest.prototype.send = function() {
                    if (!this.sendByAegis)
                        for (var e = 0; e < Z.length; e++) {
                            var n = Z[e];
                            try {
                                "function" == typeof n.send && n.send(this, arguments[0])
                            } catch (e) {}
                        }
                    return t.apply(this, arguments)
                }
                )
            }
            function F(e) {
                var t = Z.findIndex((function(t) {
                    return t.name === e.name
                }
                ));
                -1 !== t && Z.splice(t, 1)
            }
            (G = g = g || {}).INFO_ALL = "-1",
            G.API_RESPONSE = "1",
            G.INFO = "2",
            G.ERROR = "4",
            G.PROMISE_ERROR = "8",
            G.AJAX_ERROR = "16",
            G.SCRIPT_ERROR = "32",
            G.IMAGE_ERROR = "64",
            G.CSS_ERROR = "128",
            G.CONSOLE_ERROR = "256",
            G.MEDIA_ERROR = "512",
            G.RET_ERROR = "1024",
            G.REPORT = "2048",
            G.PV = "4096",
            G.EVENT = "8192",
            G.PAGE_NOT_FOUND_ERROR = "16384",
            G.WEBSOCKET_ERROR = "32768",
            (G = y = y || {}).LOG = "log",
            G.SPEED = "speed",
            G.PERFORMANCE = "performance",
            G.OFFLINE = "offline",
            G.WHITE_LIST = "whiteList",
            G.VITALS = "vitals",
            G.PV = "pv",
            G.CUSTOM_PV = "customPV",
            G.EVENT = "event",
            G.CUSTOM = "custom",
            G.SDK_ERROR = "sdkError",
            G.SET_DATA = "setData",
            (G = E = E || {}).production = "production",
            G.gray = "gray",
            G.pre = "pre",
            G.daily = "daily",
            G.local = "local",
            G.test = "test",
            G.others = "others";
            var U, B, j = function(e) {
                return e.filter((function(t, n) {
                    return "static" !== t.type || !e.find((function(e, r) {
                        return t.url === e.url && 200 === t.status && n < r
                    }
                    ))
                }
                ))
            }, V = function(e) {
                e.level === g.INFO_ALL && (e.level = g.INFO)
            }, H = function(e) {
                return (Array.isArray(e) ? e : [e]).map((function(e) {
                    return Object.getOwnPropertyNames(e).reduce((function(t, n) {
                        return "ctx" !== n && (t[n] = e[n]),
                        t
                    }
                    ), {
                        level: g.INFO,
                        msg: ""
                    })
                }
                ))
            }, q = function(e) {
                return function(t) {
                    return e.sendPipeline([function(t, n) {
                        return n({
                            url: e.config.url || "",
                            data: c(H(t)),
                            method: "post",
                            contentType: "application/x-www-form-urlencoded",
                            type: y.LOG,
                            log: t,
                            requestConfig: {
                                timeout: 5e3
                            },
                            success: function() {
                                var r = e.config.onReport;
                                "function" == typeof r && t.forEach((function(e) {
                                    r(e)
                                }
                                )),
                                "function" == typeof n && n([])
                            },
                            fail: function(t) {
                                "403 forbidden" === t && e.destroy()
                            }
                        })
                    }
                    ], y.LOG)(t)
                }
            }, W = function() {}, G = (Object.defineProperty(re.prototype, "__version__", {
                get: function() {
                    return "1.36.16"
                },
                enumerable: !1,
                configurable: !0
            }),
            Object.defineProperty(re.prototype, "LogType", {
                get: function() {
                    return g
                },
                enumerable: !1,
                configurable: !0
            }),
            re.prototype.init = function(e) {
                this.setConfig(e);
                for (var t = 0; t < re.installedPlugins.length; t++)
                    try {
                        re.installedPlugins[t].patch(this)
                    } catch (e) {
                        this.sendSDKError(e)
                    }
                this.lifeCycle.emit("onInited")
            }
            ,
            re.prototype.setConfig = function(e) {
                Object.assign(this.config, e);
                var t = (e = this.config).id
                  , n = e.uin
                  , r = e.version
                  , i = e.ext1
                  , o = e.ext2
                  , a = e.ext3
                  , s = e.aid
                  , u = void 0 === (c = e.env) ? "production" : c
                  , c = e.pageUrl;
                return e = this.bean.id !== t || this.bean.uin !== n || this.bean.aid !== s,
                this.bean.id = t || "",
                this.bean.uin = n || "",
                this.bean.version = r || "1.36.16",
                this.bean.aid = s || "",
                this.bean.env = function() {
                    switch (u) {
                    case E.production:
                    case E.gray:
                    case E.pre:
                    case E.daily:
                    case E.local:
                    case E.test:
                    case E.others:
                        return 1;
                    default:
                        return
                    }
                }() ? u : E.others,
                c && this.extendBean("from", encodeURIComponent(c)),
                i && this.extendBean("ext1", encodeURIComponent(i)),
                o && this.extendBean("ext2", encodeURIComponent(o)),
                a && this.extendBean("ext3", encodeURIComponent(a)),
                e && this.lifeCycle.emit("onConfigChange", this.config),
                this.config
            }
            ,
            re.use = function(e) {
                -1 === re.installedPlugins.indexOf(e) && e.aegisPlugin && re.installedPlugins.push(e)
            }
            ,
            re.unuse = function(e) {
                -1 !== (e = re.installedPlugins.indexOf(e)) && re.installedPlugins.splice(e, 1)
            }
            ,
            re.prototype.info = function() {
                for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                var n = {
                    level: g.INFO,
                    msg: e
                };
                1 === e.length && e[0].msg && Object.assign(n, i({}, e[0]), {
                    level: g.INFO
                }),
                this.normalLogPipeline(n)
            }
            ,
            re.prototype.infoAll = function() {
                for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                var n = {
                    level: g.INFO_ALL,
                    msg: e
                };
                1 === e.length && e[0].msg && Object.assign(n, i({}, e[0]), {
                    level: g.INFO_ALL
                }),
                this.normalLogPipeline(n)
            }
            ,
            re.prototype.report = function() {
                for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                var n = {
                    level: g.REPORT,
                    msg: e
                };
                1 === e.length && e[0].msg && Object.assign(n, i({}, e[0])),
                this.normalLogPipeline(n)
            }
            ,
            re.prototype.error = function() {
                for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                var n = {
                    level: g.ERROR,
                    msg: e
                };
                1 === e.length && e[0].msg && Object.assign(n, i({}, e[0]), {
                    level: g.ERROR
                }),
                this.normalLogPipeline(n)
            }
            ,
            re.prototype.speedLogPipeline = function(e) {
                throw new Error('You need to override "speedLogPipeline" method')
            }
            ,
            re.prototype.reportPv = function(e) {
                var t, n = this;
                e && (t = "" + Object.getOwnPropertyNames(this.bean).filter((function(e) {
                    return "id" !== e
                }
                )).map((function(e) {
                    return e + "=" + n.bean[e]
                }
                )).join("&"),
                this.sendPipeline([function(r, i) {
                    i({
                        url: n.config.url + "/" + e + "?" + t,
                        addBean: !1,
                        type: y.CUSTOM_PV,
                        fail: function(e) {
                            "403 forbidden" === e && n.destroy()
                        }
                    })
                }
                ], y.CUSTOM_PV)(null))
            }
            ,
            re.prototype.reportEvent = function(e) {
                e && (e = "string" == typeof e ? {
                    name: e,
                    ext1: this.config.ext1 || "",
                    ext2: this.config.ext2 || "",
                    ext3: this.config.ext3 || ""
                } : e).name && this.eventPipeline(e)
            }
            ,
            re.prototype.reportTime = function(e, t) {
                if ("object" == typeof e)
                    return this.reportT(e);
                "string" == typeof e && "number" == typeof t && (t < 0 || 6e4 < t || this.submitCustomTime(e, t))
            }
            ,
            re.prototype.reportT = function(e) {
                var t = e.name
                  , n = e.duration
                  , r = void 0 === (r = e.ext1) ? "" : r
                  , i = void 0 === (i = e.ext2) ? "" : i
                  , o = void 0 === (o = e.ext3) ? "" : o;
                if (e = e.from,
                "string" == typeof t && "number" == typeof n && "string" == typeof r && "string" == typeof i && "string" == typeof o && !(n < 0 || 6e4 < n))
                    return this.submitCustomTime(t, n, r, i, o, void 0 === e ? "" : e)
            }
            ,
            re.prototype.time = function(e) {
                "string" == typeof e && (this.timeMap[e] || (this.timeMap[e] = Date.now()))
            }
            ,
            re.prototype.timeEnd = function(e) {
                "string" == typeof e && this.timeMap[e] && (this.submitCustomTime(e, Date.now() - this.timeMap[e]),
                delete this.timeMap[e])
            }
            ,
            re.prototype.submitCustomTime = function(e, t, n, r, i, o) {
                this.customTimePipeline({
                    name: e,
                    duration: t,
                    ext1: n || this.config.ext1,
                    ext2: r || this.config.ext2,
                    ext3: i || this.config.ext3,
                    from: o || void 0
                })
            }
            ,
            re.prototype.extendBean = function(e, t) {
                this.bean[e] = t
            }
            ,
            re.prototype.sendPipeline = function(e, t) {
                var n, r, a, s = this;
                return D(o([function(e, t) {
                    if ("number" != typeof n.config.random && (n.config.random = 1),
                    !n.isHidden || !n.isGetSample)
                        if (n.isGetSample)
                            n.isHidden || t(e);
                        else {
                            if (n.isGetSample = !0,
                            Math.random() < n.config.random)
                                return n.isHidden = !1,
                                t(e);
                            n.isHidden = !0
                        }
                }
                , (a = t,
                function(e, t) {
                    var n = Array.isArray(e)
                      , o = n ? e : [e]
                      , s = (r.lifeCycle.emit("beforeRequest", e),
                    r.config.beforeRequest);
                    (o = "function" == typeof s ? o.map((function(e) {
                        try {
                            var t = s({
                                logs: e,
                                logType: a
                            });
                            return (null == t ? void 0 : t.logType) === a && null != t && t.logs ? t.logs : !1 !== t && e
                        } catch (t) {
                            return e
                        }
                    }
                    )).filter((function(e) {
                        return !1 !== e
                    }
                    )) : o).length && (o = function(e, t) {
                        if (!Array.isArray(e) || e.length <= 1)
                            return e;
                        var n = []
                          , r = [];
                        return !(r = "string" == typeof t ? [t] : t) || r.length <= 0 || (r.forEach((function(t) {
                            e.forEach((function(e) {
                                null != e && e[t] && n.push(t)
                            }
                            ))
                        }
                        )),
                        0 < n.length && (e = e.map((function(e) {
                            var t = {};
                            return n.forEach((function(e) {
                                t[e] = ""
                            }
                            )),
                            i(i({}, t), e)
                        }
                        )))),
                        e
                    }(o, ["ext1", "ext2", "ext3", "level", "trace", "tag", "seq"]),
                    t(n ? o : o[0]))
                }
                )], e, [P(r = n = this), function(e, t) {
                    s.request(e, (function() {
                        for (var n, r = [], i = 0; i < arguments.length; i++)
                            r[i] = arguments[i];
                        s.failRequestCount = 0,
                        t({
                            isErr: !1,
                            result: r,
                            logType: null == e ? void 0 : e.type,
                            logs: null == e ? void 0 : e.log
                        }),
                        null != (n = null == e ? void 0 : e.success) && n.call.apply(n, o([e], r))
                    }
                    ), (function() {
                        for (var n, r = [], i = 0; i < arguments.length; i++)
                            r[i] = arguments[i];
                        10 <= ++s.failRequestCount && s.destroy(),
                        t({
                            isErr: !0,
                            result: r,
                            logType: null == e ? void 0 : e.type,
                            logs: null == e ? void 0 : e.log
                        }),
                        null != (n = null == e ? void 0 : e.fail) && n.call.apply(n, o([e], r))
                    }
                    ))
                }
                , I(this)]))
            }
            ,
            re.prototype.send = function(e, t, n) {
                var r = this;
                return D([P(this), function(e, i) {
                    r.request(e, (function() {
                        for (var n = [], r = 0; r < arguments.length; r++)
                            n[r] = arguments[r];
                        i({
                            isErr: !1,
                            result: n,
                            logType: e.type,
                            logs: e.log
                        }),
                        null != t && t.apply(void 0, n)
                    }
                    ), (function() {
                        for (var t = [], r = 0; r < arguments.length; r++)
                            t[r] = arguments[r];
                        i({
                            isErr: !0,
                            result: t,
                            logType: e.type,
                            logs: e.log
                        }),
                        null != n && n.apply(void 0, t)
                    }
                    ))
                }
                , I(this)])(e)
            }
            ,
            re.prototype.request = function(e, t, n) {
                throw new Error('You need to override "request" method')
            }
            ,
            re.prototype.sendSDKError = function(e) {
                var t = this;
                this.sendPipeline([function(e, n) {
                    n({
                        url: t.config.url + "?id=1085&msg[0]=" + encodeURIComponent(S(e)) + "&level[0]=2&from=" + t.config.id + "&count=1&version=" + t.config.id + "(1.36.16)",
                        addBean: !1,
                        method: "get",
                        type: y.SDK_ERROR,
                        log: e
                    })
                }
                ], y.SDK_ERROR)(e)
            }
            ,
            re.prototype.destroy = function(e) {
                void 0 === e && (e = !1);
                var t, n, r = re.instances.indexOf(this);
                -1 !== r && re.instances.splice(r, 1);
                for (var i = re.installedPlugins.length - 1; 0 <= i; i--)
                    try {
                        re.installedPlugins[i].unpatch(this)
                    } catch (e) {
                        this.sendSDKError(e)
                    }
                if (this.lifeCycle.emit("destroy"),
                this.lifeCycle.clear(),
                e)
                    t = this,
                    n = Object.getOwnPropertyDescriptors(t),
                    Object.keys(n).forEach((function(e) {
                        n[e].writable && (t[e] = null)
                    }
                    )),
                    Object.setPrototypeOf(this, null);
                else {
                    for (var o = this; o.constructor !== Object && k(o, this),
                    o = Object.getPrototypeOf(o); )
                        ;
                    0 === re.instances.length && (k(r = Object.getPrototypeOf(this).constructor),
                    k(re))
                }
            }
            ,
            re.version = "1.36.16",
            re.instances = [],
            re.logType = g,
            re.environment = E,
            re.installedPlugins = [],
            re), Y = (ne.prototype.patch = function(e) {
                this.canUse(e) && this.exist(e) && (this.instances.push(e),
                this.triggerInit(e),
                this.triggerOnNewAegis(e))
            }
            ,
            ne.prototype.unpatch = function(e) {
                -1 !== (e = this.instances.indexOf(e)) && this.instances.splice(e, 1)
            }
            ,
            ne.prototype.countInstance = function() {
                return this.instances.length
            }
            ,
            ne.prototype.uninstall = function() {
                var e;
                null != (e = null == (e = this.option) ? void 0 : e.destroy) && e.apply(this)
            }
            ,
            ne.prototype.walk = function(e) {
                var t = this;
                this.instances.forEach((function(n) {
                    var r = t.canUse(n);
                    r && e(n, r)
                }
                ))
            }
            ,
            ne.prototype.canUse = function(e) {
                return !(!(e = this.getConfig(e)) || "object" != typeof e) || !!e
            }
            ,
            ne.prototype.getConfig = function(e) {
                return null == (e = e.config) ? void 0 : e[this.name]
            }
            ,
            ne.prototype.exist = function(e) {
                return -1 === this.instances.indexOf(e)
            }
            ,
            ne.prototype.triggerInit = function(e) {
                var t;
                this.inited || (this.inited = !0,
                null != (t = null == (t = this.option) ? void 0 : t.init) && t.call(this.option, this.getConfig(e)))
            }
            ,
            ne.prototype.triggerOnNewAegis = function(e) {
                var t;
                null != (t = null == (t = this.option) ? void 0 : t.onNewAegis) && t.call(this.option, e, this.getConfig(e))
            }
            ,
            ne), K = new Y({
                name: "aid",
                aid: "",
                init: function(e) {
                    try {
                        var t = !0 !== e && e || window.localStorage.getItem("AEGIS_ID");
                        t || (t = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(e) {
                            var t = 16 * Math.random() | 0;
                            return ("x" === e ? t : 3 & t | 8).toString(16)
                        }
                        )),
                        window.localStorage.setItem("AEGIS_ID", t)),
                        this.aid = t
                    } catch (e) {}
                },
                onNewAegis: function(e) {
                    e.bean.aid = this.aid,
                    e.config.aid = this.aid
                }
            }), z = function(e) {
                var t;
                return e.payload ? (t = {},
                Object.keys(e).forEach((function(n) {
                    "payload" !== n && (t[n] = e[n])
                }
                )),
                t) : e
            }, Q = new Y({
                name: "reportAssetSpeed"
            }), J = Q = new Y({
                name: "reportAssetSpeed",
                collectCur: 0,
                collectEntryType: "resource",
                ASSETS_INITIATOR_TYPE: ["img", "css", "script", "link", "audio", "video"],
                onNewAegis: function(e) {
                    var t = this;
                    N() && (this.collectSuccessLog(e),
                    this.collectFailLog(e),
                    performance.onresourcetimingbufferfull = function() {
                        t.collectCur = 0,
                        performance.clearResourceTimings()
                    }
                    )
                },
                publish: function(e) {
                    this.$walk((function(t) {
                        t.speedLogPipeline(e)
                    }
                    ))
                },
                publishMany: function(e, t) {
                    for (var n = t.config, r = 0, i = e.length; r < i; r++) {
                        var o = e[r];
                        -1 !== this.ASSETS_INITIATOR_TYPE.indexOf(o.initiatorType) && -1 === o.name.indexOf("cdn-go.cn/aegis/aegis-sdk") && this.publish(this.generateLog(o, n))
                    }
                },
                collectSuccessLog: function(e) {
                    var t, n, r = this;
                    "function" == typeof window.PerformanceObserver ? (this.publishMany(performance.getEntriesByType(this.collectEntryType), e),
                    (t = new window.PerformanceObserver((function(t) {
                        r.publishMany(t.getEntries(), e)
                    }
                    ))).observe({
                        entryTypes: [this.collectEntryType]
                    }),
                    e.lifeCycle.on("destroy", (function() {
                        0 === Q.countInstance() && t.disconnect()
                    }
                    ))) : (n = setInterval((function() {
                        var t = performance.getEntriesByType(r.collectEntryType)
                          , n = t.slice(r.collectCur);
                        r.collectCur = t.length,
                        r.publishMany(n, e)
                    }
                    ), 3e3),
                    e.lifeCycle.on("destroy", (function() {
                        0 === Q.countInstance() && clearInterval(n)
                    }
                    )))
                },
                collectFailLog: function(e) {
                    function t(e) {
                        var t, i;
                        e && (e = e.target || e.srcElement,
                        t = (null == e ? void 0 : e.src) || (null == e ? void 0 : e.href),
                        e = null == e ? void 0 : e.tagName,
                        !t || "string" != typeof t || "IMG" === e && -1 < window.location.href.indexOf(t) || (e = "function" == typeof (null == (e = r.api) ? void 0 : e.resourceTypeHandler) ? null == (e = r.api) ? void 0 : e.resourceTypeHandler(t) : "",
                        i = performance.getEntriesByType(n.collectEntryType).find((function(e) {
                            return e.name === t
                        }
                        )),
                        i = {
                            url: d(t),
                            status: 400,
                            duration: Number(((null == i ? void 0 : i.duration) || 0).toFixed(2)),
                            method: "get",
                            type: e || "static",
                            isHttps: h(t),
                            urlQuery: d(t, !0),
                            domainLookup: 0,
                            connectTime: 0
                        },
                        n.publish(i)))
                    }
                    var n = this
                      , r = e.config;
                    window.document.addEventListener("error", t, !0),
                    e.lifeCycle.on("destroy", (function() {
                        0 === Q.countInstance() && window.document.removeEventListener("error", t, !0)
                    }
                    ))
                },
                generateLog: function(e, t) {
                    var n;
                    return t = "function" == typeof (null == (n = t.api) ? void 0 : n.resourceTypeHandler) ? null == (n = t.api) ? void 0 : n.resourceTypeHandler(e.name) : "",
                    {
                        url: d(e.name),
                        method: "get",
                        duration: Number(e.duration.toFixed(2)),
                        status: 200,
                        type: t || "static",
                        isHttps: h(e.name),
                        urlQuery: d(e.name, !0),
                        domainLookup: f(e.domainLookupEnd - e.domainLookupStart),
                        connectTime: f(e.connectEnd - e.connectStart)
                    }
                },
                collectNotReportedLog: function(e) {
                    var t = performance.getEntriesByType(this.collectEntryType)
                      , n = t.length;
                    "function" != typeof window.PerformanceObserver && this.collectCur !== n && (t = t.slice(this.collectCur),
                    this.collectCur = n,
                    this.publishMany(t, e, !0))
                },
                destroy: function() {
                    this.option.publish = function() {}
                }
            }), X = !1, Z = [], $ = !1, ee = [], te = (new Y({
                name: "reportApiSpeed"
            }),
            new Y({
                name: "reportApiSpeed",
                override: !1,
                onNewAegis: function(e) {
                    this.override || (this.override = !0,
                    this.overrideFetch(e.config),
                    this.overrideXhr(e.config))
                },
                overrideFetch: function(e) {
                    var t, n = this, r = {
                        name: this.name,
                        then: function(t, r, i, o) {
                            var a, u, c;
                            e.hostUrl && -1 < i.indexOf(e.hostUrl) || (a = {
                                url: t.url,
                                isHttps: h(t.url),
                                method: (null == o ? void 0 : o.method) || "get",
                                duration: r,
                                type: "fetch",
                                status: t.status || 0
                            },
                            "fetch" !== (c = "function" == typeof (null == (u = e.api) ? void 0 : u.resourceTypeHandler) ? null == (u = e.api) ? void 0 : u.resourceTypeHandler(t.url) : c) && "static" !== c && (u = t.headers ? t.headers.get("content-type") : "",
                            c = t.ok && "string" == typeof u && p(u) ? "static" : "fetch"),
                            "fetch" === c ? t.clone().text().then((function(s) {
                                var u = null == (u = e.api) ? void 0 : u.apiDetail
                                  , c = t.status <= 0 || 400 <= t.status
                                  , l = (f = v(s, e.api, {
                                    url: i,
                                    ctx: t
                                })).code
                                  , f = f.isErr;
                                u = (c ? "FETCH_ERROR: " + s + " \n\n" : "") + "req url: " + i + " \n                                \nreq method: " + ((null == o ? void 0 : o.method) || "get") + " \n                                \nreq param: " + (u ? m(null == o ? void 0 : o.body) : "") + " \n                                \nres duration: " + r + "ms \n                                \nres status: " + (t.status || 0) + " \n                                \nres retcode: " + l + "\n                                \nres data: " + (u ? s : ""),
                                a.payload = new w(t,s),
                                a.ret = l,
                                a.isErr = +f,
                                n.publishNormalLog({
                                    msg: u,
                                    level: c ? g.AJAX_ERROR : f ? g.RET_ERROR : g.API_RESPONSE,
                                    code: l,
                                    ctx: t
                                })
                            }
                            )) : Object.assign(a, {
                                type: "static",
                                urlQuery: d(t.url, !0),
                                domainLookup: s.number,
                                connectTime: s.number
                            }),
                            n.publishSpeed(a))
                        },
                        catch: function(t, r, i, o) {
                            var a;
                            if (!(e.hostUrl && -1 < i.indexOf(e.hostUrl)))
                                throw a = {
                                    url: i,
                                    isHttps: h(i),
                                    method: (null == o ? void 0 : o.method) || "get",
                                    duration: r,
                                    type: "fetch",
                                    status: 0
                                },
                                n.publishSpeed(a),
                                a = null == (a = e.api) ? void 0 : a.apiDetail,
                                r = "AJAX_ERROR: " + t + "\n                          \nres status: 0\n                          \nres duration: " + r + "ms\n                          \nreq url: " + i + "\n                          \nreq method: " + ((null == o ? void 0 : o.method) || "get") + "\n                          \nreq param: " + (a ? m(null == o ? void 0 : o.body) : ""),
                                n.publishNormalLog({
                                    msg: r,
                                    level: g.AJAX_ERROR,
                                    code: -400,
                                    ctx: t
                                }),
                                t
                        }
                    }, i = (this.hackFetchOptions = r,
                    this.hackFetchOptions);
                    if (ee.find((function(e) {
                        return e.name === i.name
                    }
                    )))
                        throw new Error("name '" + i.name + "' is already in hackFetch option list");
                    ee.push(i),
                    !$ && window.fetch && ($ = !0,
                    t = window.fetch,
                    window.fetch = function(e, n) {
                        void 0 === n && (n = {});
                        for (var r = "string" == typeof e ? e : e.url, i = 0; i < ee.length; i++) {
                            var o = ee[i];
                            try {
                                "function" == typeof o.beforeFetch && o.beforeFetch(r, n)
                            } catch (e) {}
                        }
                        var a = Date.now();
                        return t(e, n).then((function(e) {
                            for (var t = 0; t < ee.length; t++) {
                                var i = ee[t];
                                try {
                                    "function" == typeof i.then && i.then(e, Date.now() - a, r, n)
                                } catch (e) {}
                            }
                            return e
                        }
                        )).catch((function(e) {
                            for (var t = 0; t < ee.length; t++) {
                                var i = ee[t];
                                try {
                                    "function" == typeof i.catch && i.catch(e, Date.now() - a, r, n)
                                } catch (e) {}
                            }
                            throw e
                        }
                        ))
                    }
                    )
                },
                getRequestType: function(e, t, n) {
                    var r;
                    return "fetch" !== (e = "function" == typeof (null == (r = e.api) ? void 0 : r.resourceTypeHandler) ? null == (r = e.api) ? void 0 : r.resourceTypeHandler(n) : "") && "static" !== e && (r = t.getResponseHeader("content-type"),
                    e = 400 <= t.status || "string" != typeof r || !p(r) ? "fetch" : "static"),
                    e
                },
                overrideXhr: function(e) {
                    var t = this
                      , n = {
                        name: this.name,
                        send: function(n, r) {
                            var i = Date.now();
                            n.addEventListener("loadend", (function() {
                                var o, a = n.aegisUrl;
                                if (a) {
                                    var u = Date.now() - i
                                      , c = {
                                        url: a,
                                        isHttps: h(a),
                                        status: n.status || 0,
                                        method: n.aegisMethod || "get",
                                        type: "fetch",
                                        duration: u,
                                        payload: new R(n)
                                    };
                                    if ("fetch" === t.getRequestType(e, n, a))
                                        try {
                                            var l = null == (o = e.api) ? void 0 : o.apiDetail
                                              , f = v(n.response, e.api, {
                                                url: a,
                                                ctx: n
                                            })
                                              , p = f.code
                                              , y = f.isErr
                                              , E = "req url: " + a + " \n                                \nreq method: " + c.method + " \n                                \nreq param: " + (l ? m(r) : "") + " \n                                \nres duration: " + u + "ms \n                                \nres status: " + c.status + " \n                                \nres retcode: " + p + "\n                                \nres data: " + (l ? m(n.response) : "");
                                            c.ret = p,
                                            c.isErr = +y,
                                            t.publishNormalLog({
                                                msg: E,
                                                level: y ? g.RET_ERROR : g.API_RESPONSE,
                                                code: p,
                                                ctx: n
                                            })
                                        } catch (o) {
                                            c.ret = "unknown"
                                        }
                                    else
                                        Object.assign(c, {
                                            type: "static",
                                            urlQuery: d(a, !0),
                                            domainLookup: s.number,
                                            connectTime: s.number
                                        });
                                    t.publishSpeed(c)
                                }
                            }
                            ))
                        }
                    };
                    this.hackXHROptions = n,
                    M(this.hackXHROptions)
                },
                publishSpeed: function(e) {
                    var t = this;
                    e.url = d(e.url),
                    this.$walk((function(n) {
                        var r = t.$getConfig(n);
                        "fetch" === e.type && r && "function" == typeof r.urlHandler ? n.speedLogPipeline(i(i({}, e), {
                            url: encodeURIComponent(r.urlHandler(e.url, e.payload))
                        })) : n.speedLogPipeline(e)
                    }
                    ))
                },
                publishNormalLog: function(e) {
                    this.$walk((function(t) {
                        t.normalLogPipeline(e)
                    }
                    ))
                },
                destroy: function() {
                    var e, t;
                    this.option.publishSpeed = function() {}
                    ,
                    this.option.publishNormalLog = function() {}
                    ,
                    this.option.hackXHROptions && F(this.option.hackXHROptions),
                    this.option.hackFetchOptions && (e = this.option.hackFetchOptions,
                    -1 !== (t = ee.findIndex((function(t) {
                        return t.name === e.name
                    }
                    ))) && ee.splice(t, 1))
                }
            }));
            function ne(e) {
                this.aegisPlugin = !0,
                this.name = "",
                this.instances = [],
                this.inited = !1,
                e.$walk = this.walk.bind(this),
                e.$getConfig = this.getConfig.bind(this),
                this.option = e,
                this.name = e.name
            }
            function re(e) {
                var t, n, r, i, o, a, s, c, l, f, d, h, p, v, m, E = this;
                this.isGetSample = !1,
                this.isHidden = !1,
                this.config = {
                    version: 0,
                    delay: 1e3,
                    onError: !0,
                    repeat: 5,
                    random: 1,
                    aid: !0,
                    device: !0,
                    pagePerformance: !0,
                    webVitals: !0,
                    speedSample: !0,
                    onClose: !0,
                    hostUrl: "https://aegis.qq.com",
                    env: "production",
                    url: "",
                    offlineUrl: "",
                    whiteListUrl: "",
                    pvUrl: "",
                    speedUrl: "",
                    customTimeUrl: "",
                    performanceUrl: "",
                    webVitalsUrl: "",
                    eventUrl: "",
                    setDataReportUrl: ""
                },
                this.isWhiteList = !1,
                this.lifeCycle = new u,
                this.bean = {},
                this.normalLogPipeline = D([L(this, 5), A, function(e, n) {
                    var r = t.config;
                    n(e = e.map((function(e) {
                        var t, n = r.maxLength || 204800;
                        try {
                            if (!e.msg || e.msg.length <= n)
                                return e;
                            e.msg = null == (t = e.msg) ? void 0 : t.substring(0, n)
                        } catch (t) {
                            e.msg = S(e.msg).substring(0, r.maxLength)
                        }
                        return e
                    }
                    )))
                }
                , (v = (t = this).config,
                m = {},
                function(e, t) {
                    var n = "number" == typeof v.repeat ? v.repeat : 5;
                    if (0 === n)
                        return t(e);
                    t(e.filter((function(e) {
                        return e.level !== g.ERROR && e.level !== g.PROMISE_ERROR && e.level !== g.AJAX_ERROR && e.level !== g.SCRIPT_ERROR && e.level !== g.IMAGE_ERROR && e.level !== g.CSS_ERROR && e.level !== g.MEDIA_ERROR || (m[e.msg] = m[e.msg] || 0,
                        m[e.msg] += 1,
                        !(m[e.msg] > n))
                    }
                    )))
                }
                ), (h = this.lifeCycle.emit,
                p = this.config,
                function(e, t) {
                    var n, r = p.logCreated;
                    return "function" == typeof r ? (n = e.filter((function(e) {
                        return !1 !== r(e)
                    }
                    )),
                    h("beforeWrite", n),
                    t(n)) : (h("beforeWrite", e),
                    t(e))
                }
                ), (d = this,
                setTimeout((function() {
                    var e = d.config.pvUrl
                      , t = void 0 === e ? "" : e;
                    t && d.sendPipeline([function(e, n) {
                        n({
                            url: t,
                            type: y.PV,
                            fail: function(e) {
                                "403 forbidden" === e && d.destroy()
                            }
                        })
                    }
                    ], y.PV)(null)
                }
                ), 100),
                function(e, t) {
                    t(e)
                }
                ), (l = c = s = !1,
                f = [],
                (o = this).lifeCycle.on("onConfigChange", (function() {
                    a && clearTimeout(a),
                    a = setTimeout((function() {
                        var e, t;
                        !l && o.config && (l = !0,
                        e = o.config.whiteListUrl,
                        (t = void 0 === e ? "" : e) && o.sendPipeline([function(e, n) {
                            n({
                                url: t,
                                type: y.WHITE_LIST,
                                success: function(e) {
                                    c = !0;
                                    try {
                                        var t = e.data || JSON.parse(e)
                                          , n = t.retcode
                                          , r = t.result
                                          , i = void 0 === r ? {} : r;
                                        if (0 === n) {
                                            if (s = i.is_in_white_list,
                                            o.isWhiteList = s,
                                            i.shutdown)
                                                return void o.destroy();
                                            0 <= i.rate && i.rate <= 1 && (o.config.random = i.rate,
                                            o.isGetSample = !1)
                                        }
                                        o.isWhiteList && f.length ? q(o)(f.splice(0), (function() {}
                                        )) : !o.isWhiteList && f.length && (f.length = 0);
                                        var a = o.config.onWhitelist;
                                        "function" == typeof a && a(s)
                                    } catch (e) {}
                                },
                                fail: function(e) {
                                    "403 forbidden" === e && o.destroy(),
                                    c = !0
                                }
                            })
                        }
                        ], y.WHITE_LIST)(null),
                        l = !1)
                    }
                    ), o.config.uin ? 50 : 500)
                }
                )),
                o.lifeCycle.on("destroy", (function() {
                    f.length = 0
                }
                )),
                function(e, t) {
                    var n;
                    s || null != (n = null == (n = o.config) ? void 0 : n.api) && n.reportRequest ? t(e.concat(f.splice(0)).map((function(e) {
                        return V(e),
                        e
                    }
                    ))) : (n = e.filter((function(e) {
                        return e.level !== g.INFO && e.level !== g.API_RESPONSE ? (V(e),
                        !0) : (c || (f.push(e),
                        200 <= f.length && (f.length = 200)),
                        !1)
                    }
                    ))).length && t(n)
                }
                ), function(e, t) {
                    try {
                        var n = JSON.parse(JSON.stringify(e))
                          , r = (E.lifeCycle.emit("beforeReport", n),
                        E.config.beforeReport);
                        (e = "function" == typeof r ? e.filter((function(e) {
                            return !1 !== r(e)
                        }
                        )) : e).length && t(e)
                    } catch (e) {}
                }
                , q(this)]),
                this.eventPipeline = D([L(this, 5), (i = this,
                function(e) {
                    i.sendPipeline([function(e, t) {
                        var n = e.map((function(e) {
                            return {
                                name: e.name,
                                ext1: e.ext1 || i.config.ext1 || "",
                                ext2: e.ext2 || i.config.ext2 || "",
                                ext3: e.ext3 || i.config.ext3 || ""
                            }
                        }
                        ));
                        t({
                            url: i.config.eventUrl + "?payload=" + encodeURIComponent(JSON.stringify(n)),
                            type: y.EVENT,
                            log: e,
                            fail: function(e) {
                                "403 forbidden" === e && i.destroy()
                            }
                        })
                    }
                    ], y.EVENT)(e)
                }
                )]),
                this.timeMap = {},
                this.failRequestCount = 0,
                this.customTimePipeline = D([L(this, 5), (r = this,
                function(e) {
                    return r.sendPipeline([function(e, t) {
                        t({
                            url: r.config.customTimeUrl + "?payload=" + encodeURIComponent(JSON.stringify({
                                custom: e
                            })),
                            type: y.CUSTOM,
                            log: e,
                            fail: function(e) {
                                "403 forbidden" === e && r.destroy()
                            }
                        })
                    }
                    ], y.CUSTOM)(e)
                }
                )]),
                this.config = (n = this.config,
                void 0 === (e = e.hostUrl) && (e = "https://aegis.qq.com"),
                n.url = n.url || e + "/collect",
                n.offlineUrl = n.offlineUrl || e + "/offline",
                n.whiteListUrl = n.whiteListUrl || e + "/collect/whitelist",
                n.pvUrl = n.pvUrl || e + "/collect/pv",
                n.eventUrl = n.eventUrl || e + "/collect/events",
                n.speedUrl = n.speedUrl || e + "/speed",
                n.customTimeUrl = n.customTimeUrl || e + "/speed/custom",
                n.performanceUrl = n.performanceUrl || e + "/speed/performance",
                n.webVitalsUrl = n.webVitalsUrl || e + "/speed/webvitals",
                n.setDataReportUrl = n.SetDataReportUrl || e + "/speed/miniProgramData",
                n),
                re.instances.push(this)
            }
            function ie(e, t, n, r) {
                return void 0 === n && (n = 15e3),
                void 0 === r && (r = 0),
                (t = void 0 === t ? 0 : t) <= e && e <= n ? e : r
            }
            (pe = U = U || {})[pe.unknown = 100] = "unknown",
            pe[pe.wifi = 1] = "wifi",
            pe[pe.net2g = 2] = "net2g",
            pe[pe.net3g = 3] = "net3g",
            pe[pe.net4g = 4] = "net4g",
            pe[pe.net5g = 5] = "net5g",
            pe[pe.net6g = 6] = "net6g",
            (pe = B = B || {})[pe.android = 1] = "android",
            pe[pe.ios = 2] = "ios",
            pe[pe.windows = 3] = "windows",
            pe[pe.macos = 4] = "macos",
            pe[pe.linux = 5] = "linux",
            pe[pe.other = 100] = "other";
            var oe, ae, se, ue, ce, le, fe, de, he, pe = new Y({
                name: "device",
                onNewAegis: function(e) {
                    e.extendBean("platform", this.getPlatform()),
                    e.extendBean("netType", U.unknown),
                    this.getDpi(e),
                    this.refreshNetworkTypeToBean(e)
                },
                getDpi: function(e) {
                    e.extendBean("vp", Math.round(window.innerWidth) + " * " + Math.round(window.innerHeight)),
                    window.screen && e.extendBean("sr", Math.round(window.screen.width) + " * " + Math.round(window.screen.height))
                },
                getPlatform: function() {
                    var e = {
                        android: /\bAndroid\s*([^;]+)/,
                        ios: /\b(iPad|iPhone|iPod)\b.*? OS ([\d_]+)/,
                        windows: /\b(Windows NT)/,
                        macos: /\b(Mac OS)/,
                        linux: /\b(Linux)/i
                    }
                      , t = Object.keys(e).find((function(t) {
                        return e[t].test(navigator.userAgent)
                    }
                    ));
                    return t ? B[t] : B.other
                },
                refreshNetworkTypeToBean: function(e) {
                    var t = this
                      , n = e.config;
                    n && ("function" == typeof n.getNetworkType ? n.getNetworkType : ve)((function(n) {
                        U[n] || (n = U.unknown),
                        e.extendBean("netType", n),
                        t.NetworkRefreshTimer = setTimeout((function() {
                            t.refreshNetworkTypeToBean(e),
                            clearTimeout(t.NetworkRefreshTimer)
                        }
                        ), 1e4)
                    }
                    ))
                }
            }), ve = function(e) {
                var t = ""
                  , n = navigator.userAgent.match(/NetType\/(\w+)/);
                n ? t = n[1] : navigator.connection && (t = navigator.connection.effectiveType || navigator.connection.type),
                e((n = t = t || "unknown",
                0 <= (n = String(n).toLowerCase()).indexOf("4g") ? U.net4g : 0 <= n.indexOf("wifi") ? U.wifi : 0 <= n.indexOf("5g") ? U.net5g : 0 <= n.indexOf("6g") ? U.net6g : 0 <= n.indexOf("3g") ? U.net3g : 0 <= n.indexOf("2g") ? U.net2g : U.unknown))
            }, me = window.WebSocket, ge = [], ye = {
                construct: function(e, t) {
                    var n = new e(t[0],t[1]);
                    return n.originSend = n.send,
                    n.addEventListener("error", (function(e) {
                        var t = (e = null == e ? void 0 : e.currentTarget).url
                          , n = e.readyState;
                        null != ge && ge.forEach((function(e) {
                            null != (e = e.onErr) && e({
                                msg: "无法获知具体错误信息，需在浏览器控制台查看！",
                                readyState: n,
                                connectUrl: t
                            })
                        }
                        ))
                    }
                    )),
                    Object.defineProperty(n, "send", {
                        get: function() {
                            return function(e) {
                                null != (t = n.originSend) && t.call(n, e);
                                var t = n.readyState
                                  , r = (e = WebSocket.OPEN,
                                WebSocket.CLOSED)
                                  , o = WebSocket.CONNECTING
                                  , a = WebSocket.CLOSING;
                                if (t !== e) {
                                    var s = {
                                        readyState: t,
                                        connectUrl: n.url
                                    };
                                    switch (t) {
                                    case r:
                                        ge.forEach((function(e) {
                                            null != (e = e.sendErr) && e(i({
                                                msg: "消息发送失败，连接已关闭！"
                                            }, s))
                                        }
                                        ));
                                        break;
                                    case o:
                                        ge.forEach((function(e) {
                                            (0,
                                            e.sendErr)(i({
                                                msg: "消息发送失败，正在连接中！"
                                            }, s))
                                        }
                                        ));
                                        break;
                                    case a:
                                        ge.forEach((function(e) {
                                            (0,
                                            e.sendErr)(i({
                                                msg: "消息发送失败，连接正在关闭！"
                                            }, s))
                                        }
                                        ))
                                    }
                                }
                            }
                        }
                    }),
                    n.isHack = !0,
                    n
                }
            }, Ee = new Y({
                name: "onError"
            }), Te = Ee = new Y({
                name: "onError",
                onNewAegis: function(e) {
                    this.startListen(e)
                },
                startListen: function(e) {
                    function t(e) {
                        e = e && S(e.reason),
                        r.publishErrorLog({
                            msg: "PROMISE_ERROR: " + e,
                            level: g.PROMISE_ERROR
                        })
                    }
                    function n(e) {
                        if (e = (null == e ? void 0 : e.target) || (null == e ? void 0 : e.srcElement)) {
                            var t = e.src || e.href;
                            if (e = e.tagName,
                            "string" == typeof t && e) {
                                var n = {
                                    msg: e + " load fail: " + t,
                                    level: g.INFO
                                };
                                switch (e.toLowerCase()) {
                                case "script":
                                    n.level = g.SCRIPT_ERROR;
                                    break;
                                case "link":
                                    n.level = g.CSS_ERROR;
                                    break;
                                case "img":
                                    if (-1 < window.location.href.indexOf(t))
                                        return;
                                    n.level = g.IMAGE_ERROR;
                                    break;
                                case "audio":
                                case "video":
                                    n.level = g.MEDIA_ERROR;
                                    break;
                                default:
                                    return
                                }
                                r.publishErrorLog(n)
                            }
                        }
                    }
                    var r = this
                      , i = window.onerror
                      , a = (window.onerror = function() {
                        for (var e = [], t = 0; t < arguments.length; t++)
                            e[t] = arguments[t];
                        r.publishErrorLog({
                            msg: (S(e[0]) || "") + " @ (" + (S(e[1]) || "") + ":" + (e[2] || 0) + ":" + (e[3] || 0) + ")\n          \n" + S(e[4] || ""),
                            level: g.ERROR
                        }),
                        null != i && i.call.apply(i, o([window], e))
                    }
                    ,
                    window.addEventListener("unhandledrejection", t),
                    window.document.addEventListener("error", n, !0),
                    e.lifeCycle.on("destroy", (function() {
                        0 === Ee.countInstance() && (window.document.removeEventListener("unhandledrejection", t),
                        window.document.removeEventListener("error", n, !0))
                    }
                    )),
                    this)
                      , s = {
                        name: this.name,
                        send: function(t, n) {
                            t.addEventListener("loadend", (function() {
                                var r, i, o = "";
                                this.failType ? o = this.failType : this.status ? 400 <= this.status && (o = "error") : o = "failed",
                                e.config.hostUrl && this.aegisUrl && -1 < this.aegisUrl.indexOf(e.config.hostUrl) || (r = null == (r = e.config.api) ? void 0 : r.apiDetail,
                                o && (i = t.aegisUrl,
                                i = v(t.response, e.config.api, {
                                    url: i,
                                    ctx: t
                                }).code,
                                a.publishErrorLog({
                                    msg: "AJAX_ERROR: request " + o + "\n                      \nreq url: " + this.aegisUrl + "\n                      \nres status: " + (this.status || 0) + "\n                      \nres retcode: " + i + "\n                      \nres duration: " + (Date.now() - t.aegisXhrStartTime) + "ms\n                      \nreq method: " + this.aegisMethod + "\n                      \nreq param: " + (r ? m(n) : "") + "\n                      \nres data: " + (r ? null === (i = (o = t).responseType && "text" !== o.responseType ? "" : o.responseText) || void 0 === i ? void 0 : i.slice(0, 1e3) : ""),
                                    level: g.AJAX_ERROR,
                                    ctx: t
                                })))
                            }
                            )),
                            t.addEventListener("timeout", (function() {
                                t.failType = "timeout"
                            }
                            )),
                            t.addEventListener("error", (function() {
                                t.failType = "error"
                            }
                            )),
                            t.addEventListener("abort", (function() {
                                t.failType = "abort"
                            }
                            ))
                        }
                    };
                    if (this.hackXHROptions = s,
                    M(this.hackXHROptions),
                    this.hackWsKey = "watchWsErr",
                    s = {
                        key: this.hackWsKey,
                        onErr: function(e) {
                            var t;
                            null != (t = r.publishWsError) && t.call(r, e)
                        },
                        sendErr: function(e) {
                            var t;
                            null != (t = r.publishWsError) && t.call(r, e)
                        }
                    },
                    this.hackWebsocketConfig = s,
                    s = this.hackWebsocketConfig,
                    window.Proxy && window.WebSocket) {
                        var u = window.WebSocket
                          , c = (window && !u.isHack && (u = new Proxy(WebSocket,ye),
                        window.WebSocket = u),
                        s);
                        if (u = ge.find((function(e) {
                            return e.key === c.key
                        }
                        )))
                            throw new Error("key: '" + u.key + "' is already in HackWsConfig option list");
                        c && ge.push(c)
                    }
                },
                publishErrorLog: function(e) {
                    this.$walk((function(t) {
                        t.normalLogPipeline(e)
                    }
                    ))
                },
                publishWsError: function(e) {
                    var t = e.connectUrl
                      , n = e.msg;
                    e = e.readyState,
                    this.publishErrorLog({
                        msg: "WEBSOCKET_ERROR: \n              connect: " + t + "\n              readyState: " + e + "\n              msg: " + n,
                        level: g.WEBSOCKET_ERROR
                    })
                },
                destroy: function() {
                    var e, t;
                    this.option.publishErrorLog = function() {}
                    ,
                    this.option.hackXHROptions && F(this.option.hackXHROptions),
                    this.hackWebsocketConfig && (e = this.hackWebsocketConfig,
                    window.WebSocket = me,
                    -1 !== (t = ge.findIndex((function(t) {
                        return t.key === e.key
                    }
                    ))) && ge.splice(t, 1))
                }
            }), be = (new Y({
                name: "pagePerformance"
            }),
            1), _e = new Y({
                name: "pagePerformance",
                onNewAegis: function(e) {
                    var t = this;
                    if (N())
                        if (oe)
                            this.publish(oe, e);
                        else
                            try {
                                this.getFirstScreenTiming(e, (function(n) {
                                    var r = performance.timing;
                                    r && (oe = {
                                        dnsLookup: ie(r.domainLookupEnd - r.domainLookupStart),
                                        tcp: ie(r.connectEnd - r.connectStart),
                                        ssl: ie(0 === r.secureConnectionStart ? 0 : r.requestStart - r.secureConnectionStart),
                                        ttfb: ie(r.responseStart - r.requestStart),
                                        contentDownload: ie(r.responseEnd - r.responseStart),
                                        domParse: ie(r.domInteractive - r.domLoading),
                                        resourceDownload: ie(r.loadEventStart - r.domInteractive, 0, 15e3, 1070),
                                        firstScreenTiming: ie(Math.floor(n), 0, 6e4)
                                    },
                                    t.publish(oe, e))
                                }
                                ))
                            } catch (e) {}
                },
                publish: function(e, t) {
                    var n = this;
                    t.sendPipeline([function(e, r) {
                        var i, o = [];
                        for (i in e)
                            o.push(i + "=" + e[i]);
                        var a, s = n.$getConfig(t);
                        if (s)
                            return a = -1 === t.config.performanceUrl.indexOf("?") ? "?" : "&",
                            "function" == typeof s.urlHandler ? r({
                                url: t.config.performanceUrl + a + o.join("&") + "&from=" + (encodeURIComponent(s.urlHandler()) || window.location.href),
                                beanFilter: ["from"],
                                type: y.PERFORMANCE,
                                log: e
                            }) : r({
                                url: t.config.performanceUrl + a + o.join("&"),
                                type: y.PERFORMANCE,
                                log: e
                            })
                    }
                    ], y.PERFORMANCE)(e)
                },
                getFirstScreenTiming: function(e, t) {
                    e.lifeCycle.on("destroy", (function() {
                        u && clearTimeout(u)
                    }
                    ));
                    var n = ["script", "style", "link", "br"]
                      , r = []
                      , i = this
                      , o = {}
                      , a = new MutationObserver((function(e) {
                        var t = {
                            roots: [],
                            rootsDomNum: [],
                            time: performance.now()
                        };
                        e.forEach((function(e) {
                            e && e.addedNodes && e.addedNodes.forEach && e.addedNodes.forEach((function(e) {
                                1 === e.nodeType && (e.hasAttribute("AEGIS-FIRST-SCREEN-TIMING") || e.querySelector("[AEGIS-FIRST-SCREEN-TIMING]")) ? (Object.prototype.hasOwnProperty.apply(o, [t.time]) || (o[t.time] = []),
                                o[t.time].push(e)) : 1 !== e.nodeType || -1 !== n.indexOf(e.nodeName.toLocaleLowerCase()) || i.isEleInArray(e, t.roots) || e.hasAttribute("AEGIS-IGNORE-FIRST-SCREEN-TIMING") || (t.roots.push(e),
                                t.rootsDomNum.push(i.walkAndCount(e) || 0))
                            }
                            ))
                        }
                        )),
                        t.roots.length && r.push(t)
                    }
                    ))
                      , s = (a.observe(document, {
                        childList: !0,
                        subtree: !0
                    }),
                    function() {
                        var n = 0
                          , c = 0
                          , l = Object.keys(o).filter((function(e) {
                            return o[+e].find((function(e) {
                                return i.isInFirstScreen(e)
                            }
                            ))
                        }
                        ));
                        l.length ? (c = Math.max.apply(null, l),
                        ("object" != typeof (null == (l = e.config) ? void 0 : l.pagePerformance) || null != (l = e.config.pagePerformance) && l.firstScreenInfo) && (e.firstScreenInfo = {
                            element: null == (l = o[c]) ? void 0 : l[0],
                            timing: c,
                            markDoms: o
                        })) : r.forEach((function(t) {
                            for (var r, o = 0; o < t.roots.length; o++)
                                t.rootsDomNum[o] > n && i.isInFirstScreen(t.roots[o]) && (n = t.rootsDomNum[o],
                                c = t.time,
                                ("object" != typeof (null == (r = e.config) ? void 0 : r.pagePerformance) || null != (r = e.config.pagePerformance) && r.firstScreenInfo) && (e.firstScreenInfo = {
                                    element: t.roots[o],
                                    timing: c
                                }))
                        }
                        )),
                        !c && be ? u = setTimeout((function() {
                            return s()
                        }
                        ), 3e3) : (a.disconnect(),
                        null != t && t(c)),
                        --be
                    }
                    )
                      , u = setTimeout((function() {
                        return s()
                    }
                    ), 3e3)
                },
                isEleInArray: function(e, t) {
                    return !(!e || e === document.documentElement) && (-1 !== t.indexOf(e) || this.isEleInArray(e.parentElement, t))
                },
                isInFirstScreen: function(e) {
                    if (!e || "function" != typeof e.getBoundingClientRect)
                        return !1;
                    e = e.getBoundingClientRect();
                    var t = window.innerHeight
                      , n = window.innerWidth;
                    return 0 <= e.left && e.left < n && 0 <= e.top && e.top < t && 0 < e.width && 0 < e.height
                },
                walkAndCount: function(e) {
                    var t = 0;
                    if (e && 1 === e.nodeType) {
                        t += 1;
                        var n = e.children;
                        if (null != n && n.length)
                            for (var r = 0; r < n.length; r++)
                                t += this.walkAndCount(n[r])
                    }
                    return t
                }
            });
            function Se() {
                ce = [],
                se = -1,
                ae = null,
                Ce(addEventListener)
            }
            function Re(e, t) {
                ae || (ae = t,
                se = e,
                ue = new Date,
                Ce(removeEventListener),
                we())
            }
            function we() {
                var e;
                0 <= se && se < ue - fe && (e = {
                    entryType: "first-input",
                    name: ae.type,
                    target: ae.target,
                    cancelable: ae.cancelable,
                    startTime: ae.timeStamp,
                    processingStart: ae.timeStamp + se
                },
                ce.forEach((function(t) {
                    t(e)
                }
                )),
                ce = [])
            }
            function Ce(e) {
                ["mousedown", "keydown", "touchstart", "pointerdown"].forEach((function(t) {
                    return e(t, de, le)
                }
                ))
            }
            function Oe(e, t) {
                return {
                    name: e,
                    value: void 0 === t ? -1 : t,
                    delta: 0,
                    entries: [],
                    id: "v1-".concat(Date.now(), "-").concat(Math.floor(8999999999999 * Math.random()) + 1e12)
                }
            }
            function Le(e, t) {
                try {
                    if (PerformanceObserver.supportedEntryTypes.includes(e)) {
                        if ("first-input" === e && !("PerformanceEventTiming"in self))
                            return;
                        var n = new PerformanceObserver((function(e) {
                            return e.getEntries().map(t)
                        }
                        ));
                        return n.observe({
                            type: e,
                            buffered: !0
                        }),
                        n
                    }
                } catch (e) {}
            }
            function Ae(e) {
                addEventListener("pageshow", (function(t) {
                    t.persisted && e(t)
                }
                ), !0)
            }
            function Pe(e, t, n) {
                var r;
                return function() {
                    0 <= t.value && (n || Fe.has(t) || "hidden" === document.visibilityState) && (t.delta = t.value - (r || 0),
                    !t.delta && void 0 !== r || (r = t.value,
                    e(t)))
                }
            }
            function Ie() {
                Me((function(e) {
                    e = e.timeStamp,
                    Ue = e
                }
                ), !0)
            }
            function De() {
                return Ue < 0 && ((Ue = self.webVitals.firstHiddenTime) === 1 / 0 && Ie(),
                Ae((function() {
                    setTimeout((function() {
                        Ue = "hidden" === document.visibilityState ? 0 : 1 / 0,
                        Ie()
                    }
                    ), 0)
                }
                ))),
                {
                    get timeStamp() {
                        return Ue
                    }
                }
            }
            function ke(e) {
                var t = e.name;
                e = e.value,
                Be[t] = e
            }
            le = {
                passive: !0,
                capture: !0
            },
            fe = new Date,
            de = function(e) {
                var t, n, r, i;
                function o() {
                    Re(n, r),
                    i()
                }
                function a() {
                    i()
                }
                e.cancelable && (t = (1e12 < e.timeStamp ? new Date : performance.now()) - e.timeStamp,
                "pointerdown" == e.type ? (n = t,
                r = e,
                i = function() {
                    removeEventListener("pointerup", o, le),
                    removeEventListener("pointercancel", a, le)
                }
                ,
                addEventListener("pointerup", o, le),
                addEventListener("pointercancel", a, le)) : Re(t, e))
            }
            ,
            he = "hidden" === document.visibilityState ? 0 : 1 / 0,
            addEventListener("visibilitychange", (function e(t) {
                "hidden" === document.visibilityState && (he = t.timeStamp,
                removeEventListener("visibilitychange", e, !0))
            }
            ), !0),
            Se(),
            self.webVitals = {
                firstInputPolyfill: function(e) {
                    ce.push(e),
                    we()
                },
                resetFirstInputPolyfill: Se,
                get firstHiddenTime() {
                    return he
                }
            };
            var Ne, xe, Me = function(e, t) {
                function n(r) {
                    "pagehide" !== r.type && "hidden" !== document.visibilityState || (e(r),
                    t && (removeEventListener("visibilitychange", n, !0),
                    removeEventListener("pagehide", n, !0)))
                }
                addEventListener("visibilitychange", n, !0),
                addEventListener("pagehide", n, !0)
            }, Fe = new ("function" == typeof WeakSet ? WeakSet : Set), Ue = -1, Be = (new Y({
                name: "webVitals"
            }),
            {
                FCP: -1,
                LCP: -1,
                FID: -1,
                CLS: -1
            }), je = new Y({
                name: "webVitals",
                onNewAegis: function(e) {
                    if (N() && "function" == typeof window.PerformanceObserver)
                        try {
                            g = ke,
                            E = De(),
                            T = Oe("FCP"),
                            b = performance.getEntriesByName("first-contentful-paint")[0],
                            _ = b ? null : Le("paint", w),
                            (b || _) && (y = Pe(g, T, void 0),
                            b && w(b),
                            Ae((function(e) {
                                T = Oe("FCP"),
                                y = Pe(g, T, void 0),
                                requestAnimationFrame((function() {
                                    requestAnimationFrame((function() {
                                        T.value = performance.now() - e.timeStamp,
                                        Fe.add(T),
                                        y()
                                    }
                                    ))
                                }
                                ))
                            }
                            ))),
                            f = ke,
                            p = De(),
                            v = Oe("LCP"),
                            (m = Le("largest-contentful-paint", R)) && (d = Pe(f, v, void 0),
                            h = function() {
                                Fe.has(v) || (m.takeRecords().map(R),
                                m.disconnect(),
                                Fe.add(v),
                                d())
                            }
                            ,
                            ["keydown", "click"].forEach((function(e) {
                                addEventListener(e, h, {
                                    once: !0,
                                    capture: !0
                                })
                            }
                            )),
                            Me(h, !0),
                            Ae((function(e) {
                                v = Oe("LCP"),
                                d = Pe(f, v, void 0),
                                requestAnimationFrame((function() {
                                    requestAnimationFrame((function() {
                                        v.value = performance.now() - e.timeStamp,
                                        Fe.add(v),
                                        d()
                                    }
                                    ))
                                }
                                ))
                            }
                            ))),
                            a = ke,
                            s = De(),
                            u = Oe("FID"),
                            c = Le("first-input", S),
                            l = Pe(a, u, void 0),
                            c && Me((function() {
                                c.takeRecords().map(S),
                                c.disconnect()
                            }
                            ), !0),
                            c || window.webVitals.firstInputPolyfill(S),
                            Ae((function() {
                                u = Oe("FID"),
                                l = Pe(a, u, void 0),
                                window.webVitals.resetFirstInputPolyfill(),
                                window.webVitals.firstInputPolyfill(S)
                            }
                            )),
                            n = ke,
                            i = Oe("CLS", 0),
                            (o = Le("layout-shift", t)) && (r = Pe(n, i, void 0),
                            Me((function() {
                                o.takeRecords().map(t),
                                r()
                            }
                            )),
                            Ae((function() {
                                i = Oe("CLS", 0),
                                r = Pe(n, i, void 0)
                            }
                            ))),
                            x(this.publish.bind(this, e), !0)
                        } catch (e) {}
                    function t(e) {
                        e.hadRecentInput || (i.value += e.value,
                        i.entries.push(e),
                        r())
                    }
                    var n, r, i, o, a, s, u, c, l, f, d, h, p, v, m, g, y, E, T, b, _;
                    function S(e) {
                        e.startTime < s.timeStamp && (u.value = e.processingStart - e.startTime,
                        u.entries.push(e),
                        Fe.add(u),
                        l())
                    }
                    function R(e) {
                        var t = e.startTime;
                        t < p.timeStamp && (v.value = t,
                        v.entries.push(e)),
                        d()
                    }
                    function w(e) {
                        "first-contentful-paint" === e.name && (_ && _.disconnect(),
                        e.startTime < E.timeStamp && (T.value = e.startTime,
                        T.entries.push(e),
                        Fe.add(T),
                        y()))
                    }
                },
                publish: function(e) {
                    e.sendPipeline([function(t, n) {
                        var r, i = [];
                        for (r in t)
                            i.push(r + "=" + t[r]);
                        var o = -1 === e.config.performanceUrl.indexOf("?") ? "?" : "&";
                        n({
                            url: e.config.webVitalsUrl + o + i.join("&"),
                            type: y.VITALS,
                            log: t,
                            sendBeacon: !0
                        })
                    }
                    ], y.VITALS)(Be)
                },
                destroy: function() {
                    this.option.publish = function() {}
                }
            }), Ve = 0, He = (r(xe = Ge, G = Ne = G),
            xe.prototype = null === G ? Object.create(G) : (Ye.prototype = G.prototype,
            new Ye),
            Ge.prototype.getBean = function(e) {
                var t = this;
                return void 0 === e && (e = []),
                "" + Object.getOwnPropertyNames(this.bean).filter((function(t) {
                    return -1 === e.indexOf(t)
                }
                )).map((function(e) {
                    return e + "=" + t.bean[e]
                }
                )).join("&")
            }
            ,
            Ge.prototype.resetRequesting = function() {
                var e;
                this.sendNow || (this.requesting = !1,
                (e = this.requestQueue.shift()) && this.request(e.options, e.success, e.fail))
            }
            ,
            Ge.prototype.request = function(e, t, n) {
                var r, i = this;
                if (e && "string" == typeof e.url && "" !== e.url && this.bean.id)
                    if (this.sendNow || !this.requesting) {
                        this.requesting = !0;
                        var o = e.url
                          , a = (!1 !== e.addBean && (o = o + (-1 === o.indexOf("?") ? "?" : "&") + this.getBean(e.beanFilter)),
                        e.url = o,
                        o = e.method || "get",
                        this.config.onBeforeRequest);
                        if (!(e = a ? a(e, this) : e))
                            return void this.resetRequesting();
                        if (!e.url)
                            return void this.resetRequesting();
                        if ((e.sendBeacon || this.sendNow) && "function" == typeof navigator.sendBeacon)
                            return this.resetRequesting(),
                            void navigator.sendBeacon(e.url, e.data);
                        var s = new XMLHttpRequest;
                        s.sendByAegis = !0,
                        s.addEventListener("readystatechange", (function() {
                            4 === s.readyState && (i.resetRequesting(),
                            400 <= s.status || 0 === s.status ? null != n && n(s.response) : null != t && t(s.response))
                        }
                        )),
                        "get" === o.toLocaleLowerCase() ? (s.open("get", (a = e.url,
                        r = e.data,
                        "string" != typeof a ? "" : "object" == typeof r && r ? (o = Object.getOwnPropertyNames(r).map((function(e) {
                            var t = r[e];
                            return e + "=" + ("string" == typeof t ? encodeURIComponent(t) : encodeURIComponent(JSON.stringify(t)))
                        }
                        )).join("&").replace(/eval/gi, "evaI"),
                        a + (-1 === a.indexOf("?") ? "?" : "&") + o) : a)),
                        s.send()) : (s.open("post", e.url),
                        e.contentType && s.setRequestHeader("Content-Type", e.contentType),
                        "string" == typeof e.data && (e.data = e.data.replace(/eval/gi, "evaI")),
                        s.send(e.data))
                    } else
                        this.requestQueue.push({
                            options: e,
                            success: t,
                            fail: n
                        })
            }
            ,
            Ge.useAsyncPlugin = function(e, t) {
                var n, r = void 0 === (n = (t = void 0 === t ? {} : t).exportsConstructor) ? "aegis-plugin-" + Ve : n, i = void 0 === (n = t.onAegisInit) ? function() {}
                : n, o = void 0 === (n = t.onAegisInitAndPluginLoaded) ? function() {}
                : n;
                if (Ve += 1,
                "string" != typeof e)
                    throw new TypeError("useAsyncPlugin first param must be string");
                if ("function" != typeof i || "function" != typeof o)
                    throw new TypeError("onAegisInit and onAegisInitAndPluginLoaded must be function");
                this.use(new Y({
                    name: "asyncPlugin",
                    onNewAegis: function(t) {
                        try {
                            i(t),
                            Ge.asyncPlugin[e] ? o(t, window[Ge.asyncPlugin[e]]) : (n = e,
                            a = r,
                            s = function(n) {
                                n || (Ge.asyncPlugin[e] = r,
                                n = window[r],
                                o(t, n))
                            }
                            ,
                            u = document.createElement("script"),
                            c = document.head,
                            "function" == typeof a && (s = a,
                            a = ""),
                            u.src = n,
                            u.setAttribute("name", a),
                            u.name = a,
                            u.setAttribute("crossorigin", "anonymous"),
                            u.crossorigin = "anonymous",
                            u.defer = !0,
                            u.hasLoaded = !1,
                            u.onreadystatechange = function() {
                                u.hasLoaded || u.readyState && "loaded" !== u.readyState && "complete" !== u.readyState || (u.hasLoaded = !0,
                                "function" == typeof s && s(!1),
                                setTimeout((function() {
                                    c.contains(u) && c.removeChild(u)
                                }
                                )))
                            }
                            ,
                            u.onload = u.onreadystatechange,
                            u.onerror = function() {
                                "function" == typeof s && s(!0),
                                setTimeout((function() {
                                    c.contains(u) && c.removeChild(u)
                                }
                                ))
                            }
                            ,
                            "complete" === document.readyState ? c.appendChild(u) : window.addEventListener("load", (function() {
                                c.appendChild(u)
                            }
                            )))
                        } catch (n) {}
                        var n, a, s, u, c
                    }
                }))
            }
            ,
            Ge.prototype.publishPluginsLogs = function() {
                var e = Ge.installedPlugins.find((function(e) {
                    return "reportAssetSpeed" === e.name
                }
                ));
                null != e && e.option.collectNotReportedLog(this)
            }
            ,
            Ge.prototype.publishLogsQueue = function() {
                var e = this;
                this.sendNow = !0,
                this.requestQueue.forEach((function(t) {
                    t.option && (t.option = i(i({}, t.option), {
                        sendBeacon: !0
                    })),
                    e.request(t)
                }
                )),
                this.requestQueue = []
            }
            ,
            Ge.prototype.uploadLogs = function(e, t) {
                this.lifeCycle.emit("uploadLogs", e = void 0 === e ? {} : e, t = void 0 === t ? {} : t)
            }
            ,
            Ge.sessionID = "session-" + Date.now(),
            Ge.asyncPlugin = {},
            Ge.urls = {
                aegisCollect: "https://aegis.qq.com/collect",
                flog: "https://cdn-go.cn/vasdev/web_webpersistance_v2/v1.8.2/flog.core.min.js",
                shadowLog: ""
            },
            Ge), qe = new Y({
                name: "offlineLog"
            }), We = (G = qe = new Y({
                name: "offlineLog",
                onNewAegis: function(e) {
                    var t = He.urls.flog
                      , n = e.config
                      , r = []
                      , o = null
                      , a = null
                      , s = function(e) {
                        a = e
                    }
                      , u = function(e) {
                        r = r.concat(e)
                    }
                      , l = function(e, t) {
                        o = {
                            conds: e = void 0 === e ? {} : e,
                            params: t = void 0 === t ? {} : t
                        }
                    };
                    He.useAsyncPlugin(t, {
                        exportsConstructor: "Flog",
                        onAegisInit: function(e) {
                            e.lifeCycle.on("beforeWrite", u),
                            e.lifeCycle.on("uploadLogs", l),
                            e.lifeCycle.on("onConfigChange", s)
                        },
                        onAegisInitAndPluginLoaded: function(e, t) {
                            var f, d, h, p, v, m, E = void 0 === (E = n.dbConfig) ? {} : E, T = void 0 === (T = n.url) ? He.urls.aegisCollect : T, b = void 0 === (b = n.offlineLogExp) ? 3 : b, _ = n.id, R = n.uin;
                            null != (f = e.lifeCycle) && f.remove("beforeWrite", u),
                            null != (f = e.lifeCycle) && f.remove("uploadLogs", l),
                            null != (f = e.lifeCycle) && f.remove("onConfigChange", s),
                            T = Object.assign({
                                lookupUrl: T + "/offlineAuto?id=" + _,
                                preservedDay: b,
                                id: _,
                                uin: R,
                                aid: (null == (f = e.bean) ? void 0 : f.aid) || "",
                                beforeRequest: e.config.beforeRequest,
                                afterRequest: e.config.afterRequest
                            }, E, {
                                sessionId: He.sessionID
                            });
                            try {
                                var w = new t(T);
                                r.forEach((function(e) {
                                    w.add(i(i({}, e), {
                                        level: e.level === g.INFO_ALL ? g.INFO : e.level
                                    }))
                                }
                                )),
                                null != (d = e.lifeCycle) && d.on("beforeWrite", (function(e) {
                                    (e = void 0 === e ? [] : e).forEach((function(e) {
                                        w.add(i(i({}, e), {
                                            level: e.level === g.INFO_ALL ? g.INFO : e.level
                                        }))
                                    }
                                    ))
                                }
                                )),
                                null != (h = e.lifeCycle) && h.on("uploadLogs", (function(t, r) {
                                    var i;
                                    void 0 === t && (t = {}),
                                    void 0 === r && (r = {}),
                                    w.uploadLogs(Object.assign({
                                        id: n.id,
                                        uin: n.uin,
                                        aid: null == (i = e.bean) ? void 0 : i.aid
                                    }, t), r)
                                }
                                )),
                                null != (p = e.lifeCycle) && p.on("onConfigChange", (function(e) {
                                    w.setConfig(e)
                                }
                                )),
                                null != (v = e.lifeCycle) && v.on("destroy", (function() {
                                    0 === qe.countInstance() && (r.length = 0,
                                    "function" == typeof ((o = null) == w ? void 0 : w.destroy) && w.destroy())
                                }
                                )),
                                w.on("PERREVENT", (function(t) {
                                    e.sendPipeline([function(e, t) {
                                        var r = c({
                                            msg: S(e),
                                            level: g.INFO
                                        });
                                        t({
                                            type: y.OFFLINE,
                                            data: r,
                                            contentType: "application/x-www-form-urlencoded",
                                            method: "post",
                                            addBean: !1,
                                            url: n.url + "?id=893&sessionId=" + He.sessionID + "&uin=" + n.uin + "&from=" + n.id + "&count=1&version=1.36.16",
                                            log: e
                                        })
                                    }
                                    ], y.OFFLINE)(t)
                                }
                                )),
                                a && (w.setConfig(a),
                                a = null),
                                o && (null != (m = e.lifeCycle) && m.emit("uploadLogs", o.conds, o.params),
                                o = null),
                                e.flog = w
                            } catch (e) {}
                        }
                    })
                }
            }),
            new Y({
                name: "spa"
            }),
            new Y({
                name: "spa",
                init: function() {
                    history.pushState = this.wr("pushState") || history.pushState,
                    history.replaceState = this.wr("replaceState") || history.replaceState;
                    var e = (null == (e = location.href) ? void 0 : e.split("?"))[0];
                    this.$fireUrl = e,
                    this.sendPv = this.sendPv.bind(this),
                    this.onPageChange()
                },
                onPageChange: function() {
                    window.addEventListener("replaceState", this.sendPv),
                    window.addEventListener("pushState", this.sendPv),
                    window.addEventListener("popstate", this.sendPv)
                },
                wr: function(e) {
                    var t = history[e];
                    return "function" == typeof t && !history.__hasWrittenByTamSpa && (Object.defineProperty(history, "__hasWrittenByTamSpa", {
                        value: !0,
                        enumerable: !1
                    }),
                    function() {
                        var n = t.apply(this, arguments)
                          , r = null;
                        return "function" == typeof Event ? r = new Event(e) : (r = document.createEvent("HTMLEvents")).initEvent(e, !1, !0),
                        window.dispatchEvent(r),
                        n
                    }
                    )
                },
                sendPv: function() {
                    var e = this;
                    setTimeout((function() {
                        var t = location.href
                          , n = (null == (n = location.href) ? void 0 : n.split("?"))[0];
                        n && n !== e.$fireUrl && (e.$walk((function(e) {
                            e.sendPipeline([function(n, r) {
                                r({
                                    url: e.config.pvUrl + "?from=" + encodeURIComponent(t),
                                    beanFilter: ["from"],
                                    type: y.PV
                                })
                            }
                            ], y.PV)(null)
                        }
                        )),
                        e.$fireUrl = n)
                    }
                    ), 0)
                },
                destroy: function() {
                    window.removeEventListener("replaceState", this.option.sendPv),
                    window.removeEventListener("pushState", this.option.sendPv),
                    window.removeEventListener("popstate", this.option.sendPv)
                }
            }));
            function Ge(e) {
                var t, n, r, o, a, s = Ne.call(this, e) || this;
                s.sendNow = !1,
                s.requestQueue = [],
                s.requesting = !1,
                s.speedLogPipeline = D([L(s), (o = s.config,
                a = {},
                function(e, t) {
                    var n, r;
                    o.speedSample ? (r = "object" == typeof o.repeat ? o.repeat : {
                        repeat: o.repeat
                    },
                    n = +r.speed || +r.repeat || 5,
                    Array.isArray(e) ? (r = e.filter((function(e) {
                        var t = !a[e.url] || a[e.url] < n;
                        return a[e.url] = 1 + ~~a[e.url],
                        t
                    }
                    ))).length && t(r) : (!a[e.url] || a[e.url] < n) && (a[e.url] = 1 + ~~a[e.url],
                    t(e))) : t(e)
                }
                ), (r = s,
                function(e, t) {
                    ve((function(n) {
                        r.extendBean("netType", n),
                        t(e)
                    }
                    ))
                }
                ), function(e, t) {
                    s.lifeCycle.emit("beforeReportSpeed", e);
                    var n = s.config.beforeReportSpeed;
                    if ((e = "function" == typeof n ? e.filter((function(e) {
                        var t, r, i = !1 !== n(e);
                        return "fetch" === e.type && void 0 === e.ret && e.payload && (t = (r = v(e.payload.data.response, s.config.api, {
                            url: e.payload.data.url,
                            ctx: e.payload.data
                        }) || {}).code,
                        r = r.isErr,
                        e.ret = t,
                        e.isErr = +r),
                        i
                    }
                    )) : e).length)
                        return t(e)
                }
                , function(e) {
                    return s.sendPipeline([function(e, t) {
                        var n, r, o, a;
                        t({
                            type: y.SPEED,
                            url: "" + s.config.speedUrl,
                            method: "post",
                            data: (t = e,
                            n = s.bean,
                            o = {
                                fetch: [],
                                static: []
                            },
                            a = new FormData,
                            Array.isArray(t) ? t.forEach((function(e) {
                                var t = z(e);
                                o[e.type].push(t)
                            }
                            )) : (r = z(t),
                            o[t.type].push(r)),
                            a.append("payload", function(e) {
                                if ("string" == typeof e)
                                    return e;
                                try {
                                    return JSON.stringify(e, _()) || "undefined"
                                } catch (e) {
                                    return "error happen when aegis stringify: \n " + e.message + " \n " + e.stack
                                }
                            }(i({
                                duration: o
                            }, n))),
                            a),
                            log: e
                        })
                    }
                    ], y.SPEED)(e)
                }
                ]),
                e.asyncPlugin = !0;
                try {
                    "undefined" != typeof document && (e.uin = e.uin || (null != (t = document.cookie.match(/\buin=\D+(\d*)/)) ? t : [])[1] || (null != (n = document.cookie.match(/\bilive_uin=\D*(\d+)/)) ? n : [])[1] || ""),
                    s.init(e),
                    s.extendBean("sessionId", Ge.sessionID),
                    s.extendBean("from", encodeURIComponent(e.pageUrl || location.href)),
                    "undefined" != typeof document && s.extendBean("referer", encodeURIComponent(document.referrer || "")),
                    e.ext1 && s.extendBean("ext1", encodeURIComponent(e.ext1)),
                    e.ext2 && s.extendBean("ext2", encodeURIComponent(e.ext2)),
                    e.ext3 && s.extendBean("ext3", encodeURIComponent(e.ext3))
                } catch (e) {
                    s.sendSDKError(e)
                }
                return s
            }
            function Ye() {
                this.constructor = xe
            }
            function Ke(e) {
                return -1 !== ze.indexOf(e)
            }
            new Y({
                name: "ie"
            });
            var ze = window.navigator.userAgent.toLowerCase()
              , Qe = {}
              , Je = (Qe.macos = function() {
                return Ke("mac")
            }
            ,
            Qe.ios = function() {
                return Qe.iphone() || Qe.ipod() || Qe.ipad()
            }
            ,
            Qe.iphone = function() {
                return !Qe.windows() && Ke("iphone")
            }
            ,
            Qe.ipod = function() {
                return Ke("ipod")
            }
            ,
            Qe.ipad = function() {
                var e = "MacIntel" === navigator.platform && 1 < navigator.maxTouchPoints;
                return Ke("ipad") || e
            }
            ,
            Qe.android = function() {
                return !Qe.windows() && Ke("android")
            }
            ,
            Qe.androidPhone = function() {
                return Qe.android() && Ke("mobile")
            }
            ,
            Qe.androidTablet = function() {
                return Qe.android() && !Ke("mobile")
            }
            ,
            Qe.blackberry = function() {
                return Ke("blackberry") || Ke("bb10")
            }
            ,
            Qe.blackberryPhone = function() {
                return Qe.blackberry() && !Ke("tablet")
            }
            ,
            Qe.blackberryTablet = function() {
                return Qe.blackberry() && Ke("tablet")
            }
            ,
            Qe.windows = function() {
                return Ke("windows")
            }
            ,
            Qe.windowsPhone = function() {
                return Qe.windows() && Ke("phone")
            }
            ,
            Qe.windowsTablet = function() {
                return Qe.windows() && Ke("touch") && !Qe.windowsPhone()
            }
            ,
            Qe.fxos = function() {
                return (Ke("(mobile") || Ke("(tablet")) && Ke(" rv:")
            }
            ,
            Qe.fxosPhone = function() {
                return Qe.fxos() && Ke("mobile")
            }
            ,
            Qe.fxosTablet = function() {
                return Qe.fxos() && Ke("tablet")
            }
            ,
            Qe.meego = function() {
                return Ke("meego")
            }
            ,
            Qe.cordova = function() {
                return window.cordova && "file:" === location.protocol
            }
            ,
            Qe.nodeWebkit = function() {
                return "object" == typeof window.process
            }
            ,
            Qe.mobile = function() {
                return Qe.androidPhone() || Qe.iphone() || Qe.ipod() || Qe.windowsPhone() || Qe.blackberryPhone() || Qe.fxosPhone() || Qe.meego()
            }
            ,
            Qe.tablet = function() {
                return Qe.ipad() || Qe.androidTablet() || Qe.blackberryTablet() || Qe.windowsTablet() || Qe.fxosTablet()
            }
            ,
            Qe.desktop = function() {
                return !Qe.tablet() && !Qe.mobile()
            }
            ,
            new Y({
                name: "onClose"
            }),
            new Y({
                name: "onClose",
                onNewAegis: function() {
                    var e, t = this;
                    Qe.desktop() ? (e = window.onunload,
                    window.onunload = function() {
                        for (var n = [], r = 0; r < arguments.length; r++)
                            n[r] = arguments[r];
                        t.publishNotReportedLog(),
                        null != e && e.call.apply(e, o([window], n))
                    }
                    ) : x(this.publishNotReportedLog.bind(this), !0)
                },
                publishNotReportedLog: function() {
                    var e = this;
                    this.$walk((function(t) {
                        t.sendNow = !0,
                        t.publishPluginsLogs(),
                        t.publishLogsQueue(),
                        e.publishThrottlePipeLogs(t)
                    }
                    ))
                },
                publishThrottlePipeLogs: function(e) {
                    null != e && e.speedLogPipeline([]),
                    null != e && e.eventPipeline([]),
                    null != e && e.customTimePipeline([]),
                    null != e && e.normalLogPipeline([])
                }
            }));
            return He.use(Te),
            He.use(te),
            He.use(J),
            He.use(_e),
            He.use(je),
            He.use(K),
            He.use(pe),
            He.use(G),
            He.use(We),
            He.use(Je),
            He
        }()
    },
    MKBY: function(e, t) {
        var n = {
            url: "//tmapp.qq.com/cgi-bin/activity_platform/report/report_vm",
            delay: 100
        }
          , r = []
          , i = function() {
            r.length && ((new Image).src = n.url + "?monitors=[" + r.join(",") + "]&_t=" + (new Date).getTime(),
            r = [])
        };
        e.exports = {
            config: function(e) {
                for (var t in e)
                    e.hasOwnProperty(t) && (n[t] = e[t])
            },
            report: function(e, t) {
                if (e) {
                    if ((a = e) && "[object Array]" === Object.prototype.toString.call(a))
                        for (var o in e)
                            e[o] && r.push(e[o]);
                    else
                        r.push(e);
                    t ? i() : setTimeout((function() {
                        i()
                    }
                    ), n.delay)
                }
                var a
            }
        }
    },
    "O++Z": function(e, t, n) {},
    O7Zi: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = f;
        var i, o = r(n("lwsE")), a = r(n("W8MJ")), s = r(n("LBQ7")), u = r(n("vgmO")), c = n("8Dsa"), l = n("TeJb");
        function f(e, t) {
            var n = e.message
              , r = e.modeHandlers
              , u = t.Constants
              , f = u.ENS
              , d = u.MediaEvents
              , h = (u.PlayerEvents,
            t.Utils,
            t.log);
            f.WEBRTC = "WEBRTC",
            s.default.checkEnvAbility((function(e) {
                p.isWebRTCSupported = !0
            }
            )).catch((function() {
                p.isWebRTCSupported = !1
            }
            ));
            var p = function() {
                function t(e) {
                    var n = this;
                    (0,
                    o.default)(this, t),
                    this.player = void 0,
                    this.lib = s.default,
                    this.client = void 0,
                    this.mainStream = null,
                    this.viceStream = null,
                    this.anchorUserId = void 0,
                    this.studentStreams = new Map,
                    this.localStream = void 0,
                    this.isEnterRoom = !1,
                    this.defaultSignalProxyUrl = "webrtc.qq.com:8687",
                    this.reconnecting = !1,
                    this.handleClientError = function(e) {
                        var t = e.code;
                        n.pub(l.SubEventName.SDKERROR, t)
                    }
                    ,
                    this.handleKickOut = function(e) {
                        var t = e.type;
                        n.player.tip.showTip("房间登出,请尝试刷新新进入页面"),
                        n.pub(l.SubEventName.KICK_OUT, t)
                    }
                    ,
                    this.handleChannelEvent = function(e) {
                        var t, r;
                        if ("channel-state-change" === e.event)
                            switch (e.data.event) {
                            case "new":
                                n.pub(l.SubEventName.CHANNEL_NEW, e.data.data);
                                break;
                            case "open":
                                n.pub(l.SubEventName.CHANNEL_OPEN, e.data.data);
                                break;
                            case "close":
                                n.pub(l.SubEventName.CHANNEL_CLOSE, e.data.data)
                            }
                        "channel-need-reconnect" === e.event && (n.reconnecting = !0,
                        n.pub(l.SubEventName.CHANNEL_NEED_RECONNECT, null === (t = e.data) || void 0 === t ? void 0 : t.code));
                        "channel-failed" === e.event && n.pub(l.SubEventName.CHANNEL_FAIL, (null === (r = e.data) || void 0 === r ? void 0 : r.code) || -101)
                    }
                    ,
                    this.handleSignalEvent = function(e) {
                        var t = e.event
                          , r = e.data;
                        switch (t) {
                        case "signal_connect_success":
                            n.reconnecting && n.pub(l.SubEventName.CHANNEL_RECONNECT_SUCC);
                            break;
                        case "signal_connect_failed":
                            n.reconnecting && n.pub(l.SubEventName.CHANNEL_RECONNECT_FAIL);
                            break;
                        default:
                            n.pub(t, r)
                        }
                        n.reconnecting = !1
                    }
                    ,
                    this.handleRTCEvent = function(e) {
                        var t = e.event
                          , r = e.data;
                        switch (t) {
                        case "create_RTCPeerConnection":
                            0 === r.code ? n.pub(l.SubEventName.CREATEPEER_SUCC) : n.pub(l.SubEventName.CREATEPEER_FAIL, r);
                            break;
                        case "setRemoteDescription":
                            0 === r.code ? n.pub(l.SubEventName.SDP_SUCC) : n.pub(l.SubEventName.SDP_FAIL, r);
                            break;
                        case "oniceconnectionstatechange":
                            switch (null == r ? void 0 : r.data) {
                            case "checking":
                                n.pub(l.SubEventName.ICE_START);
                                break;
                            case "connected":
                                n.pub(l.SubEventName.ICE_SUCC);
                                break;
                            case "disconnected":
                                n.pub(l.SubEventName.ICE_DISCONNECT);
                                break;
                            case "failed":
                                n.pub(l.SubEventName.ICE_FAIL)
                            }
                        }
                    }
                    ,
                    this.addStream = function(e) {
                        var t = e.stream;
                        if (h("info", "<OLP> webrtc [addStream]  ".concat(t.srcopenid === n.anchorUserId || 0 == n.anchorUserId, "-isAnchorUser:").concat(t.srcopenid === n.anchorUserId, " -type:").concat(t.type, " -id:").concat(t.id)),
                        t.srcopenid === n.anchorUserId || 0 == n.anchorUserId)
                            switch (t.type) {
                            case "main":
                                n.mainStream = t;
                                break;
                            case "vice":
                                n.viceStream = t
                            }
                        n.assignStreamToVideos(),
                        n.pub(l.SubEventName.STREAM_ADD, t)
                    }
                    ,
                    this.updateStream = function(e) {
                        var t = e.stream;
                        if (h("info", "<OLP> webrtc [updateStream] ".concat(t.srcopenid === n.anchorUserId || 0 == n.anchorUserId, "-isAnchorUser:").concat(t.srcopenid === n.anchorUserId, " -type:").concat(t.type, " -id:").concat(t.id)),
                        t.srcopenid === n.anchorUserId || 0 == n.anchorUserId)
                            switch (t.type) {
                            case "main":
                                n.mainStream = t;
                                break;
                            case "vice":
                                n.viceStream = t
                            }
                        n.assignStreamToVideos(),
                        n.pub(l.SubEventName.STREAM_UPDATE, t)
                    }
                    ,
                    this.removeStream = function(e) {
                        var t = e.stream;
                        if (t) {
                            if (h("info", "<OLP> webrtc [removeStream] ".concat(t.srcopenid === n.anchorUserId || 0 == n.anchorUserId, "-isAnchorUser:").concat(t.srcopenid === n.anchorUserId, " -type:").concat(t.type, " -id:").concat(t.id)),
                            t.srcopenid === n.anchorUserId || 0 == n.anchorUserId)
                                switch (t.type) {
                                case "main":
                                    n.mainStream = null;
                                    break;
                                case "vice":
                                    n.viceStream = null
                                }
                            n.assignStreamToVideos(),
                            n.pub(l.SubEventName.STREAM_REMOVE, t)
                        } else
                            h("error", "<OLP> webrtc [removeStream] but cant find stream")
                    }
                    ,
                    this.mainPlay = function() {
                        h("info", "大画面LOADEDDATA"),
                        n.player.notAllowedPlays.size || n.player.mainVideo.checkAutoPlay().catch((function(e) {
                            n.player.catchPlayMethodError(e, n.player.mainVideo)
                        }
                        ))
                    }
                    ,
                    this.vicePlay = function() {
                        h("info", "小画面LOADEDDATA"),
                        n.player.notAllowedPlays.size || n.player.viceVideo.checkAutoPlay().catch((function(e) {
                            n.player.viceVideo.isPlaying() || (n.player.pause(),
                            n.player.catchPlayMethodError(e, n.player.viceVideo))
                        }
                        ))
                    }
                    ,
                    this.mainAudioPlay = function() {
                        h("info", "纯Audio LOADEDDATA"),
                        n.player.mainAudio.hasStream && n.player.mainAudio.checkAutoPlay().catch((function(e) {
                            n.player.mainAudio.isPlaying() || (n.player.pause(),
                            n.player.catchPlayMethodError(e, n.player.mainAudio))
                        }
                        ))
                    }
                    ,
                    this.mainAudioPause = function() {
                        n.player.mainAudio.hasStream && n.player.mainAudio.pause()
                    }
                    ,
                    this.clientLog = function(e) {
                        for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                            n[r - 1] = arguments[r];
                        if ("signalchannel" === n[0] && "onmessage" === n[2]) {
                            var i = n[3]
                              , o = i.cmd
                              , a = i.content;
                            23 !== o && h(e, "mode=webrtc", n[0], n[1], n[2], "cmd:".concat(o, " "), " tinyid:".concat((null == a ? void 0 : a.tinyid) || ""), " srctinyid:".concat((null == a ? void 0 : a.srctinyid) || ""))
                        } else
                            h.apply(void 0, [e, "mode=webrtc"].concat(n))
                    }
                    ,
                    this.handleQuality = function(e) {
                        if (e.report) {
                            var t, r, i = {};
                            if (e.report.receiverStats[0]) {
                                var o = e.report.receiverStats[0].video
                                  , a = Object.keys(o);
                                a.forEach((function(e, n) {
                                    i[n] = {
                                        "帧间延迟": o[e].avgInterFrameDelayInterval,
                                        "帧": "".concat(o[e].framesDecodedInterval / 2, "fps total:").concat(o[e].framesDecoded, " "),
                                        "收包": "".concat(o[e].packetsReceivedInterval / 2, "b/s total:").concat(o[e].packetsReceived, " "),
                                        "丢包": "".concat(o[e].packetsLostInterval / 2, "b/s total:").concat(o[e].packetsLost, " "),
                                        "分辨率宽": o[e].frameWidth,
                                        "分辨率高": o[e].frameHeight
                                    },
                                    n === a.length - 1 && (t = o[e])
                                }
                                )),
                                e.report.receiverStats[0].audio && (r = e.report.receiverStats[0].audio,
                                i[a.length] = {
                                    "收包": "".concat(r.packetsReceivedInterval / 2, "b/s total:").concat(r.packetsReceived, " "),
                                    "丢包": "".concat(r.packetsLostInterval / 2, "b/s total:").concat(r.packetsLost, " "),
                                    jitter: r.jitter
                                })
                            }
                            n.player.qualityPannel.updateStatsData({
                                webrtc: i
                            }),
                            n.pub(l.SubEventName.RTC_QUALITY, {
                                mainVideoStats: t,
                                mainAudioStats: r
                            }),
                            t && t.avgInterFrameDelayInterval > 500 && n.pub(l.SubEventName.RTC_FREEZE, t.avgInterFrameDelayInterval)
                        }
                    }
                    ,
                    this.player = e,
                    s.default.checkEnvAbility((function(e) {
                        n.pub(l.SubEventName.SUPPORT_WEBRTC),
                        s.default.openLog(n.clientLog),
                        n.createClient()
                    }
                    )).catch((function() {
                        h("warn", "不支持webrtc"),
                        n.pub(l.SubEventName.NOT_SUPPORT_WEBRTC)
                    }
                    ))
                }
                return (0,
                a.default)(t, [{
                    key: "createClient",
                    value: function() {
                        var e = this;
                        if (this.player.options && this.player.options.webrtc) {
                            var t = this.player.options.webrtc
                              , n = t.roomId
                              , r = t.userSig
                              , i = t.privMapEncrypt
                              , o = t.userId
                              , a = t.sdkAppId
                              , u = t.signalProxyUrl
                              , c = t.anchorUserId
                              , f = t.privMap;
                            this.anchorUserId = c,
                            h("info", "<OLP> webrtc [createClient] sdkAppId:".concat(a, ",userId:").concat(o, ",privMap:").concat(f, ",anchorUserId:").concat(this.anchorUserId)),
                            this.client = s.default.createClient({
                                userSig: r,
                                privMapEncrypt: i,
                                userId: o,
                                sdkAppId: a,
                                signalProxyUrl: u || this.defaultSignalProxyUrl
                            }),
                            this.bindLibEvent(),
                            this.handlMessage(),
                            this.pub(l.SubEventName.CHANNEL_START),
                            this.client.initChannel().then((function() {
                                e.pub(l.SubEventName.CHANNEL_SUCC),
                                e.enterRoom(n, "audience", i, f)
                            }
                            )).catch((function(t) {
                                e.pub(l.SubEventName.CHANNEL_FAIL, t),
                                h("error", "initChannel failed", t instanceof Error ? t.message : t)
                            }
                            ))
                        } else
                            h("warn", "player need webrtc options")
                    }
                }, {
                    key: "enterRoom",
                    value: function(e) {
                        var t = this
                          , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "audience"
                          , r = arguments.length > 2 ? arguments[2] : void 0
                          , i = arguments.length > 3 ? arguments[3] : void 0;
                        this.pub(l.SubEventName.ENTERROOM_START, {
                            roomId: e,
                            role: n
                        }),
                        this.client.enterRoom({
                            roomId: e,
                            role: n,
                            privMapEncrypt: r,
                            privMap: Number(i)
                        }).then((function(e) {
                            t.isEnterRoom = !0,
                            t.pub(l.SubEventName.ENTERROOM_SUCC, e)
                        }
                        )).catch((function(e) {
                            t.pub(l.SubEventName.ENTERROOM_FAIL, e instanceof Error ? e.message : e)
                        }
                        ))
                    }
                }, {
                    key: "reconnectChannel",
                    value: function(e) {
                        this.reconnecting = !0,
                        this.pub(l.SubEventName.CHANNEL_RECONNECT),
                        this.client.reconnectChannel(e)
                    }
                }, {
                    key: "dispose",
                    value: function() {
                        var e, t = this.player, r = t.mainVideo, i = t.viceVideo;
                        this.unbindLibEvent(),
                        this.isEnterRoom = !1,
                        null === (e = this.client) || void 0 === e || e.quit(),
                        r.removeStream(),
                        i.removeStream(),
                        r.show(),
                        i.show(),
                        n.unsub(d.LOADEDDATA, r.el, this.mainPlay, this.player),
                        n.unsub(d.LOADEDDATA, i.el, this.mainPlay, this.player)
                    }
                }, {
                    key: "bindLibEvent",
                    value: function() {
                        var e = this.client;
                        e.on(i.STREAM_ADDED, this.addStream),
                        e.on(i.STREAM_UPDATED, this.updateStream),
                        e.on(i.STREAM_REMOVED, this.removeStream),
                        e.on(i.KICK_OUT, this.handleKickOut),
                        e.on(i.QUALITY_REPORT, this.handleQuality),
                        e.on(i.ERROR, this.handleClientError),
                        e.on("channel-event", this.handleChannelEvent),
                        e.on("signal-event", this.handleSignalEvent),
                        e.on("rtc-event", this.handleRTCEvent)
                    }
                }, {
                    key: "unbindLibEvent",
                    value: function() {
                        var e = this.client;
                        e && (e.off(i.STREAM_ADDED, this.addStream),
                        e.off(i.STREAM_UPDATED, this.updateStream),
                        e.off(i.STREAM_REMOVED, this.removeStream),
                        e.off(i.KICK_OUT, this.handleKickOut),
                        e.off(i.SIGNAL_QUALITY_REPORT, this.handleQuality),
                        e.on(i.ERROR, this.handleClientError),
                        e.off("channel-event", this.handleChannelEvent),
                        e.off("signal-event", this.handleSignalEvent),
                        e.off("rtc-event", this.handleRTCEvent))
                    }
                }, {
                    key: "pub",
                    value: function(e, t) {
                        n.pub({
                            type: f.WEBRTC,
                            src: this,
                            subType: e,
                            detail: t
                        }, this.player)
                    }
                }, {
                    key: "assignStreamToVideos",
                    value: function() {
                        var t, n;
                        h("info", "<OLP> webrtc [assignStreamToVideos] START main:".concat(null === (t = this.mainStream) || void 0 === t ? void 0 : t.id, " ,vice:").concat(null === (n = this.viceStream) || void 0 === n ? void 0 : n.id));
                        var r = this.player
                          , i = r.mainVideo
                          , o = r.viceVideo
                          , a = r.mainAudio;
                        this.mainStream && this.viceStream ? (this.mainStream.isHasVideo && this.viceStream.isHasVideo ? (i.addStream(this.viceStream.getMediaStream(), !0),
                        o.addStream(this.mainStream.getMediaStream(), !0),
                        a.removeStream()) : !this.mainStream.isHasVideo && this.viceStream.isHasVideo && (i.addStream(this.viceStream.getMediaStream(), !0),
                        a.addStream((0,
                        c.copyStream)(this.mainStream.getMediaStream(), "audio"), !0),
                        o.removeStream()),
                        e.hidePoster()) : this.mainStream && !this.viceStream ? (o.removeStream(),
                        a.removeStream(),
                        this.mainStream.isHasVideo ? i.addStream(this.mainStream.getMediaStream(), !0) : a.addStream((0,
                        c.copyStream)(this.mainStream.getMediaStream(), "audio"), !0),
                        e.hidePoster()) : this.viceStream && !this.mainStream ? (o.removeStream(),
                        i.addStream(this.viceStream.getMediaStream(), !0),
                        e.hidePoster()) : this.viceStream || this.mainStream || (h("info", "<OLP> webrtc [assignStreamToVideos] 完全没有流"),
                        o.removeStream(),
                        i.removeStream(),
                        a.removeStream()),
                        h("info", "<OLP> webrtc [assignStreamToVideos] END mainVideo:".concat(Boolean(i.el.srcObject), ",viceVideo:").concat(Boolean(o.el.srcObject), ",mainAudio:").concat(Boolean(a.el.srcObject)))
                    }
                }, {
                    key: "handlMessage",
                    value: function() {
                        var e = this.player
                          , t = e.mainVideo
                          , r = e.viceVideo
                          , i = e.mainAudio;
                        n.sub(d.LOADEDDATA, t.el, this.mainPlay, this.player),
                        n.sub(d.LOADEDDATA, r.el, this.vicePlay, this.player),
                        n.sub(d.LOADEDDATA, i.el, this.mainAudioPlay, this.player)
                    }
                }]),
                t
            }();
            p.isWebRTCSupported = void 0,
            r.webrtc = p
        }
        !function(e) {
            e.STREAM_ADDED = "stream-added",
            e.STREAM_UPDATED = "stream-updated",
            e.STREAM_REMOVED = "stream-removed",
            e.SIGNAL_QUALITY_REPORT = "signal-quality-report",
            e.QUALITY_REPORT = "quality-report",
            e.CHANNEL_EVENT = "channel-event",
            e.RTC_EVENT = "rtc-event",
            e.KICK_OUT = "kick-out",
            e.ERROR = "error"
        }(i || (i = {})),
        u.default.LokiPlayer && u.default.LokiPlayer.install("webrtc", f)
    },
    OLEe: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("w6AT"));
        var o = [];
        function a(e) {
            var t = e.target
              , n = i.default.closest(t, "a")
              , r = i.default.closest(t, ".js-report-link");
            if (n || r) {
                var a = n || r;
                o.forEach((function(t) {
                    t.apply(null, [a, e])
                }
                ))
            }
        }
        var s = {
            injectHref: function() {
                document.removeEventListener("click", a),
                document.addEventListener("click", a)
            },
            addListener: function(e) {
                i.default.isFunction(e) && o.push(e)
            },
            removeListener: function(e) {
                i.default.isFunction(e) && o.forEach((function(t, n) {
                    t === e && o.splice(n, 1)
                }
                ))
            }
        };
        t.default = s
    },
    OPyl: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("lSNA"))
          , o = r(n("3/DG"))
          , a = n("+aGj")
          , s = n("FsGU");
        function u(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }
                ))),
                n.push.apply(n, r)
            }
            return n
        }
        function c(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? u(Object(n), !0).forEach((function(t) {
                    (0,
                    i.default)(e, t, n[t])
                }
                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : u(Object(n)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                }
                ))
            }
            return e
        }
        var l = function(e) {
            var t = e.detail;
            if (t)
                return c(c({}, e), {}, {
                    detail: {
                        userId: t.getUserId(),
                        type: t.getType(),
                        hasAudio: t.hasAudio(),
                        hasVideo: t.hasVideo()
                    }
                })
        }
          , f = function(e, t, n) {
            var r, i, u, c, f, d, h, p, v, m, g, y, E, T, b = {
                STREAM_ADDED: !1,
                REPORT_FRIST_VIDEO: !1,
                REPORT_FRIST_CONNECTION_STATE: !1
            };
            t.exec("TRTC", "enter_trtc", "trtc", 0, "enter trtc ts:".concat(Date.now())),
            e.on("loadeddata", (function() {
                var e = Date.now();
                r = e;
                var i = h - d;
                if (i < 3e3 && i > 0 && !b.REPORT_FRIST_VIDEO) {
                    b.REPORT_FRIST_VIDEO = !0;
                    var o = e - n;
                    t.exec("TRTC", "first_video_enter_mode", o, 0, "首帧:进入webrtc模式-ts:".concat(e, "，耗时").concat(o));
                    var a = e - f;
                    t.exec("TRTC", "first_video_enterroom", a, 0, "首帧:进房-ts:".concat(e, "，耗时").concat(a), {
                        ver5: i
                    });
                    var s = e - u;
                    t.exec("TRTC", "first_video_enterroom_channelsucc", s, 0, "首帧:进房WS成功-ts:".concat(e, "，耗时").concat(s), {
                        ver5: i
                    });
                    var c = e - m;
                    t.exec("TRTC", "first_video_start_ice", c, 0, "首帧:ice连接-ts:".concat(e, "，耗时").concat(c), {
                        ver5: i
                    });
                    var l = e - v;
                    t.exec("TRTC", "first_video_connected", l, 0, "首帧:connection连接-ts:".concat(e, "，耗时").concat(l), {
                        ver5: i
                    })
                }
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.SUPPORT_WEBRTC), (function(e) {
                t.commonReport("TRTC", e, "支持 WebRTC")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.NOT_SUPPORT_WEBRTC), (function(e) {
                t.commonReport("TRTC", e, "不支持 WebRTC")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.CHANNEL_START), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts;
                t.exec("TRTC", n, r, 0, "开始链接信令通道-ts:".concat(r)),
                i = r
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.CHANNEL_SUCC), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts
                  , o = (u = r) - i;
                t.exec("TRTC", n, o, 0, "信令通道链接成功-ts:".concat(r, "，耗时").concat(o))
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.CHANNEL_FAIL), (function(e) {
                t.commonReport("TRTC", e, "信令通道连接失败")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.CHANNEL_RECONNECT), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts;
                t.exec("TRTC", n, r, 0, "开始重连信令通道-ts:".concat(r)),
                c = r
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.CHANNEL_RECONNECT_SUCC), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts
                  , i = r - c;
                t.exec("TRTC", n, i, 0, "信令通道重连成功-ts:".concat(r, "，耗时").concat(i))
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.CHANNEL_RECONNECT_FAIL), (function(e) {
                t.commonReport("TRTC", e, "信令通道重连失败")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.ENTERROOM_START), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts;
                t.exec("TRTC", n, r, 0, "开始进房-ts:".concat(r)),
                f = r
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.ENTERROOM_SUCC), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts
                  , i = r - f;
                t.exec("TRTC", n, i, 0, "进房成功-ts:".concat(r, "，耗时").concat(i));
                var o = r - u;
                t.exec("TRTC", n, i, 0, "进房成功-channelSucc-ts:".concat(r, "，耗时").concat(o)),
                d = r
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.ENTERROOM_FAIL), (function(e) {
                t.commonReport("TRTC", e, "进房失败")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.ENTERROOM_ABORT), (function(e) {
                t.commonReport("TRTC", e, "进房打断结束")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.DOWNLINK_CONNECTION_FAIL), (function(e) {
                if (!E) {
                    var n = e.ts
                      , r = (e.type,
                    e.subType)
                      , i = e.detail ? (0,
                    o.default)(e.detail) : "";
                    t.exec("TRTC", r, n, 0, "TRTC 下行connection重连失败-ts:".concat(n, "-detail:").concat(i)),
                    E = !0
                }
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.ICE_START), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts;
                t.exec("TRTC", n, r, 0, "ICE连接开始-ts:".concat(r)),
                r
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.ICE_SUCC), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts;
                g || (t.exec("TRTC", n, r, 0, "ICE连接成功-ts:".concat(r)),
                m = r),
                g = !0
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.ICE_FAIL), (function(e) {
                var n = e.ts
                  , r = (e.type,
                e.subType)
                  , i = e.detail ? (0,
                o.default)(e.detail) : "";
                y ? t.exec("TRTC", r, n, 0, "ICE连接失败-ts:".concat(n, "-detail:").concat(i)) : E ? t.exec("TRTC", r, n, 0, "ICE连接失败-first-ts:".concat(n, "detail:").concat(i), {
                    ver11: 1
                }) : t.exec("TRTC", "icefail_not_disconnected", n, 0, "ICE连接失败-ts:".concat(n, "-detail:").concat(i), {
                    ver11: 1
                }),
                y = !0
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.ICE_DISCONNECT), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts
                  , i = e.detail ? (0,
                o.default)(e.detail) : "";
                T ? t.exec("TRTC", n, r, 0, "ICE连接断开-ts:".concat(r, "-detail:").concat(i)) : t.exec("TRTC", n, r, 0, "ICE连接断开-first-ts:".concat(r, "-detail:").concat(i), {
                    ver11: 1
                }),
                T = !0
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.STREAM_ADD), (function(e) {
                b.STREAM_ADDED || (h = Date.now()),
                b.STREAM_ADDED = !0,
                t.commonReport("TRTC", l(e), "流添加")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.STREAM_REMOVE), (function(e) {
                t.commonReport("TRTC", l(e), "流删除")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.STREAM_UPDATE), (function(e) {
                t.commonReport("TRTC", l(e), "流更新")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.SDKERROR), (function(e) {
                t.commonReport("TRTC", e, "TRTC SDK错误")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.CONNECTED), (function(e) {
                if (b.REPORT_FRIST_CONNECTION_STATE)
                    t.commonReport("TRTC", e, "connection连接成功");
                else {
                    var n = e.ts
                      , r = e.subType
                      , i = e.detail
                      , o = n - p;
                    v = n,
                    t.exec("TRTC", r, o, 0, "connection连接成功-ts:".concat(n, "-detail:").concat(JSON.stringify(i), ",耗时:").concat(o))
                }
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.DISCONNECTED), (function(e) {
                t.commonReport("TRTC", e, "connection连接断开")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.CONNECTING), (function(e) {
                p = e.ts,
                t.commonReport("TRTC", e, "connection连接中")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.RECONNECTING), (function(e) {
                p = e.ts,
                t.commonReport("TRTC", e, "connection重连中")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.SUBSCRIBE_SUCC), (function(e) {
                t.commonReport("TRTC", e, "订阅成功")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.SUBSCRIBE_FAIL), (function(e) {
                t.commonReport("TRTC", e, "订阅失败")
            }
            )),
            e.on((0,
            s.playerEventName)("TRTC", a.TRTC_EVENTS.RTC_FREEZE), (function(e) {
                var n = Date.now()
                  , i = e.detail.toFixed(0)
                  , o = n - r;
                r = n,
                t.exec("TRTC", e.subType, i, 0, "卡顿-ts".concat(n, ",卡顿时间").concat(i, ",播放时间").concat(o), {
                    ver5: o
                })
            }
            ))
        };
        t.default = f
    },
    OZV6: function(e, t, n) {},
    OjZ3: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = l;
        var i, o = r(n("lwsE")), a = r(n("W8MJ")), s = r(n("vgmO")), u = r(n("/Hi2")), c = n("kX8k");
        function l(e, t) {
            var n = e.message
              , r = e.modeHandlers
              , i = t.Constants.ENS
              , l = t.log;
            i.FLV = "FLV";
            var f = function() {
                function t(n) {
                    var r = this;
                    if ((0,
                    o.default)(this, t),
                    this.lib = u.default || s.default.flvjs,
                    this.name = "flv",
                    this.player = void 0,
                    this.client = void 0,
                    this.currentMediaInfo = void 0,
                    this.fpsCal = {
                        lasttime: 0,
                        lastframe: 0
                    },
                    this.createClient = function() {
                        if (r.player.options && r.player.options.flv) {
                            var t = r.player.options.flv
                              , n = t.flvConfig
                              , i = void 0 === n ? {} : n;
                            l("info", "flv创建", t, i),
                            r.client = u.default.createPlayer(t, i),
                            r.bindLibEvent(),
                            r.client.attachMediaElement(r.player.mainVideo.el),
                            r.client.load(),
                            e.hidePoster()
                        } else
                            l("warn", "player need flv options")
                    }
                    ,
                    this.stopUpateStatsData = function() {
                        r.player.qualityPannel.updateStatsData({
                            lastMode: i.FLV
                        })
                    }
                    ,
                    this.errorHandler = function(e, t, n) {
                        r.pub(c.SubEventName.SDK_ERROR, {
                            errorType: e,
                            errorDetail: t,
                            msg: n
                        })
                    }
                    ,
                    this.player = n,
                    !t.isFlvSupported)
                        return l("warn", "不支持flv"),
                        void this.pub(c.SubEventName.NOT_SUPPORT_FLV);
                    l("info", "支持flv"),
                    this.pub(c.SubEventName.SUPPORT_FLV),
                    this.client && (l("info", "flv销毁并重新创建"),
                    this.client.unload(),
                    this.client.destroy(),
                    this.client = null),
                    this.createClient()
                }
                return (0,
                a.default)(t, [{
                    key: "dispose",
                    value: function() {
                        l("info", "flv销毁dispose"),
                        this.client.unload(),
                        this.client.detachMediaElement(),
                        this.client.destroy(),
                        this.client = null,
                        this.stopUpateStatsData()
                    }
                }, {
                    key: "bindLibEvent",
                    value: function() {
                        var e = this;
                        Object.keys(u.default.Events).forEach((function(t) {
                            var n = u.default.Events[t];
                            e.client.on(n, (function() {
                                for (var t = arguments.length, r = new Array(t), i = 0; i < t; i++)
                                    r[i] = arguments[i];
                                e.pub(n, r)
                            }
                            ))
                        }
                        )),
                        this.client.on(u.default.Events.METADATA_ARRIVED, (function() {
                            e.player.play()
                        }
                        )),
                        this.client.on(u.default.Events.ERROR, this.errorHandler),
                        this.client.on(u.default.Events.STATISTICS_INFO, (function(t) {
                            var n = t.decodedFrames
                              , r = t.droppedFrames
                              , i = t.playerType
                              , o = t.totalSegmentCount
                              , a = t.speed
                              , s = e.client.mediaInfo
                              , u = s.audioSampleRate
                              , c = s.audioCodec
                              , l = s.audioChannelCount
                              , f = (s.fps,
                            s.height)
                              , d = s.width
                              , h = s.videoCodec
                              , p = s.mimeType
                              , v = s.profile
                              , m = (s.duration,
                            Date.now());
                            e.player.qualityPannel.updateStatsData({
                                flv: {
                                    playerType: i,
                                    audioCodec: c,
                                    videoCodec: h,
                                    mimeType: p,
                                    audioChannelCount: l,
                                    audioSampleRate: u,
                                    height: f,
                                    width: d,
                                    profile: v,
                                    totalSegmentCount: o,
                                    decodedFrames: n,
                                    droppedFrames: r,
                                    currentFPS: Math.round(1e3 * (n - e.fpsCal.lastframe) / (m - e.fpsCal.lasttime)),
                                    speed: "".concat(Math.round(a), "KBps")
                                }
                            }),
                            e.fpsCal.lastframe = n,
                            e.fpsCal.lasttime = m
                        }
                        )),
                        this.client.on(u.default.Events.MEDIA_INFO, (function(t) {
                            e.currentMediaInfo = t
                        }
                        ))
                    }
                }, {
                    key: "pub",
                    value: function(e, t) {
                        n.pub({
                            type: i.FLV,
                            src: this,
                            subType: e,
                            detail: t
                        }, this.player)
                    }
                }]),
                t
            }();
            f.instance = void 0,
            f.isFlvSupported = void 0,
            f.checkFlvSupported = function() {
                return f.isFlvSupported = u.default.isSupported(),
                f.isFlvSupported
            }
            ,
            f.checkFlvSupported(),
            r.flv = f
        }
        s.default.LokiPlayer && s.default.LokiPlayer.install("flv", l),
        function(e) {
            e.HLS = "FLV"
        }(i || (i = {}))
    },
    OuAn: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("Ff2n"))
          , o = r(n("q1tI"))
          , a = r(n("TSYQ"));
        n("Uz5K");
        var s = ["className", "theme"];
        function u(e) {
            var t = e.className
              , n = e.theme
              , r = (0,
            i.default)(e, s)
              , u = (0,
            a.default)("s-icon-loading", t, {
                "icon-loading--light": "light" === n
            });
            return o.default.createElement("div", Object.assign({
                className: u
            }, r), o.default.createElement("div", {
                className: "loading-stage"
            }, o.default.createElement("div", {
                className: "loading-inner"
            }, o.default.createElement("div", {
                className: "loading-face face--1"
            }), o.default.createElement("div", {
                className: "loading-face face--2"
            }), o.default.createElement("div", {
                className: "loading-face face--3"
            }), o.default.createElement("div", {
                className: "loading-face face--4"
            }), o.default.createElement("div", {
                className: "loading-face face--5"
            }), o.default.createElement("div", {
                className: "loading-face face--6"
            }))))
        }
        u.defaultProps = {
            theme: "dark"
        };
        var c = u;
        t.default = c
    },
    P0H5: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.initFLVReport = void 0;
        var r = n("e6Hx")
          , i = n("AMcO");
        t.initFLVReport = function(e, t) {
            var n = e.options.flv.isLive ? "live_play" : "vod_play"
              , o = (0,
            i.playerEventName)("FLV", r.FLV_EVENTS.NOT_SUPPORT);
            e.once(o, (function(e) {
                var r;
                (0,
                i.consolelog)(n, e, "不支持 FLV"),
                t.updateLivePlayMetrics((0,
                i.getMetricItem)("NotSupportMSE", 0)),
                null === (r = t.reportStartPlayFail) || void 0 === r || r.call(t, n)
            }
            )),
            e.on((0,
            i.playerEventName)("FLV", r.FLV_EVENTS.SDK_ERROR), (function(e) {
                var r;
                (0,
                i.consolelog)(n, e, "FLV SDK 错误:".concat(JSON.stringify(e.detail))),
                null === (r = t.reportStartPlayFail) || void 0 === r || r.call(t, n)
            }
            )),
            e.on((0,
            i.playerEventName)("FLV", r.FLV_EVENTS.FLV_NO_STREAM), (function(e) {
                var r;
                ((0,
                i.consolelog)(n, e, "FLV 拉流失败:".concat(JSON.stringify(e))),
                "live_play" === n) && (null === (r = t.reportLiveDisconnectReason) || void 0 === r || r.call(t, 2, "FLV_NO_STREAM"))
            }
            )),
            e.on((0,
            i.playerEventName)("FLV", r.FLV_EVENTS.SUPPORT_FLV), (function(e) {
                var r;
                "live_play" === n && (null === (r = t.updateLivePlayMetrics) || void 0 === r || r.call(t, (0,
                i.getMetricItem)("SupportMSE", 0)))
            }
            ))
        }
    },
    PbxP: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.getCookieData = function() {
            var e;
            try {
                e = o.get(a),
                e = JSON.parse(e)
            } catch (t) {
                e = {}
            }
            return e
        }
        ,
        t.setCookieData = function(e) {
            i.default.isPlainObject(e) && (t = e,
            n = {},
            Object.keys(t).forEach((function(e) {
                n[e] = encodeURIComponent(t[e] || "")
            }
            )),
            e = n,
            e = JSON.stringify(e));
            var t, n;
            o.setSession(a, e, s, u)
        }
        ;
        var i = r(n("Wl3z"))
          , o = n("kNBA")
          , a = "tdw_data_new_2"
          , s = "ke.qq.com"
          , u = "/"
    },
    REY6: function(e, t, n) {
        var r = n("VY1G")
          , i = n("TsPY")
          , o = {
            whiteDomain: [],
            iframeUrl: "",
            crossDomain: !1
        };
        function a(e, t) {
            return {
                get: function(n, r) {
                    t ? e.get(n, (function(e) {
                        r && r(e && e.value)
                    }
                    )) : r && r(e.get(n))
                },
                set: function(n, r, i) {
                    try {
                        t ? e.set(n, r, i) : (e.set(n, r),
                        i && i())
                    } catch (e) {
                        "QuotaExceededError" === e.name && window.BJ_REPORT && BJ_REPORT.debug({
                            msg: "local-write-overflow",
                            ext: {
                                msid: 2514080
                            }
                        })
                    }
                },
                remove: function(n, r) {
                    t ? e.remove(n, r) : (e.remove(n),
                    r && r())
                },
                filter: function(n, r) {
                    t ? e.filter(n, (function(e) {
                        r && r(e && e.value)
                    }
                    )) : r && r(e.filter(n))
                },
                clear: function(n) {
                    t ? e.clear(n) : (e.clear(),
                    n && n())
                },
                wasInit: function() {
                    return !t || e.wasInit()
                },
                isCross: function() {
                    return t
                }
            }
        }
        e.exports = {
            getLocal: function(e, t) {
                !function(e, t) {
                    var n, r = t || {};
                    for (n in e)
                        e.hasOwnProperty(n) && (r[n] = e[n])
                }(e, o),
                !function() {
                    var e = document.domain
                      , t = o.whiteDomain
                      , n = !1;
                    if (!o.crossDomain)
                        return !1;
                    if (0 === t.length)
                        return !1;
                    for (var r = 0; r < t.length && e !== t[r]; r++)
                        ;
                    return r === t.length && (n = !0),
                    n
                }() ? t && t(a(r)) : (r = i).init({
                    iframeUrl: o.iframeUrl,
                    initCallback: function() {
                        t && t(a(r, !0))
                    }
                })
            }
        }
    },
    RrNe: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("q1tI"))
          , o = r(n("U/K1"))
          , a = r(n("IZoY"))
          , s = r(n("iGo8"));
        var u = function(e) {
            var t = e.status
              , n = e.isEmpty
              , r = e.children
              , u = e.textLoading
              , c = e.textEmpty
              , l = e.textFail
              , f = e.textRetry
              , d = e.faiAgainHandler;
            return "loading" === t ? i.default.createElement(o.default, {
                text: u
            }) : "success" === t ? n ? i.default.createElement(s.default, {
                text: c
            }) : i.default.Children.only(r) : i.default.createElement(a.default, {
                againHandler: d,
                text: l,
                textRetry: f
            })
        };
        t.default = u
    },
    Rzsm: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("ODXe"))
          , o = r(n("Ff2n"))
          , a = r(n("q1tI"))
          , s = r(n("TSYQ"));
        n("dnBF");
        var u = ["className", "imgUrl", "title", "noTitle", "fullRadius", "width", "height", "tag", "defaultImg"];
        function c(e) {
            var t = e.className
              , n = e.imgUrl
              , r = e.title
              , c = e.noTitle
              , l = e.fullRadius
              , f = e.width
              , d = e.height
              , h = e.tag
              , p = void 0 === h ? "span" : h
              , v = e.defaultImg
              , m = void 0 === v ? "//8.idqqimg.com/edu/edu_modules/edu-ui/img/bg/empty-avator.171fd695.png#unsprite" : v
              , g = (0,
            o.default)(e, u)
              , y = a.default.useState(n)
              , E = (0,
            i.default)(y, 2)
              , T = E[0]
              , b = E[1]
              , _ = (0,
            s.default)("avatar-img", {
                "img--full-radius": l
            });
            return a.default.createElement(p, Object.assign({
                className: (0,
                s.default)("s-avatar", t)
            }, g), a.default.createElement("img", {
                className: _,
                src: T,
                alt: r,
                width: f,
                height: d || f,
                onError: function() {
                    T !== m && b(m)
                }
            }), !c && a.default.createElement("p", {
                className: "avatar-tt"
            }, r))
        }
        c.defaultProps = {
            tag: "div",
            width: "100"
        };
        var l = c;
        t.default = l
    },
    S59c: function(e, t, n) {},
    SOkj: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var r = {
            set: function(e, t) {
                this.del(e);
                var n = e + "=" + t;
                window.name = window.name ? window.name + "&" + n : n
            },
            get: function(e) {
                var t = window.name && window.name.match(new RegExp("(^|&)" + e + "=([^&]*)(&|$)"));
                return t ? decodeURIComponent(t[2]) : ""
            },
            del: function(e) {
                this.get(e) && (window.name = window.name.replace(new RegExp("(^|&)" + e + "=([^&]*)(&|$)"), "$3"))
            }
        };
        t.default = r
    },
    TeJb: function(e, t, n) {
        "use strict";
        var r;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.SubEventName = void 0,
        t.SubEventName = r,
        function(e) {
            e.SDKERROR = "sdkerror",
            e.SUPPORT_WEBRTC = "support_webrtc",
            e.NOT_SUPPORT_WEBRTC = "not_support_webrtc",
            e.CHANNEL_START = "channel_start",
            e.CHANNEL_FAIL = "channel_fail",
            e.CHANNEL_SUCC = "channel_succ",
            e.CHANNEL_NEED_RECONNECT = "channel_need_reconnnected",
            e.CHANNEL_RECONNECT = "channel_reconnnect",
            e.CHANNEL_RECONNECT_SUCC = "channel_reconnnect_succ",
            e.CHANNEL_RECONNECT_FAIL = "channel_reconnnect_fail",
            e.CHANNEL_NEW = "channel_new",
            e.CHANNEL_OPEN = "channel_open",
            e.CHANNEL_CLOSE = "channel_close",
            e.ENTERROOM_START = "enterroomstart",
            e.ENTERROOM_FAIL = "enterroomfail",
            e.ENTERROOM_SUCC = "enterroomsucc",
            e.CREATEPEER_SUCC = "createpeersucc",
            e.CREATEPEER_FAIL = "createpeerfail",
            e.LOCAL_SDP = "localsdp",
            e.REMOTE_SDP = "remotesdp",
            e.SDP_FAIL = "sdpfail",
            e.SDP_SUCC = "sdpsucc",
            e.STREAM_ADD = "stream_add",
            e.STREAM_REMOVE = "stream_remove",
            e.STREAM_UPDATE = "stream_update",
            e.LOCAL_CANDIDATE = "local_candidate",
            e.REMOTE_CANDIDATE = "remote_candidate",
            e.ICE_START = "icestart",
            e.ICE_SUCC = "icesucc",
            e.ICE_FAIL = "icefail",
            e.ICE_DISCONNECT = "icedisconnect",
            e.FIRST_VIDEO = "firstvideo",
            e.FIRST_AUDIO = "firstaudio",
            e.LOADED_VIDEO = "loadedvideo",
            e.LOADED_AUDIO = "loadedaudio",
            e.KICK_OUT = "kickout",
            e.RTC_FREEZE = "freeze",
            e.RTC_QUALITY = "rtc_quality"
        }(r || (t.SubEventName = r = {}))
    },
    TsPY: function(e, t) {
        var n, r = {
            iframeId: "cross-domain-iframe",
            iframeUrl: void 0,
            initCallback: function() {}
        }, i = -1, o = {}, a = !1, s = !0;
        function u(e) {
            var t = e.origin;
            if (/(\.|^)qq\.com$/.test(t)) {
                var n;
                try {
                    n = JSON.parse(e.data)
                } catch (e) {}
                n && "cross-domain-local-message" === n.namespace && ("iframe-ready" === n.id ? (s = !0,
                r.initCallback()) : function(e) {
                    o[e.id] && (o[e.id](e),
                    delete o[e.id])
                }(n))
            }
        }
        function c(e, t, r, a) {
            i++,
            o[i] = a;
            var s = {
                namespace: "cross-domain-local-message",
                id: i,
                action: e,
                key: t,
                value: r
            };
            n.contentWindow.postMessage(JSON.stringify(s), "*")
        }
        function l(e) {
            r = function(e, t) {
                var n, r = t || {};
                for (n in e)
                    e.hasOwnProperty(n) && (r[n] = e[n]);
                return r
            }(e, r);
            var t = document.createElement("div");
            window.addEventListener ? window.addEventListener("message", u, !1) : window.attachEvent("onmessage", u),
            t.innerHTML = '<iframe id="' + r.iframeId + '" src=' + r.iframeUrl + ' style="display: none;"></iframe>',
            document.body.appendChild(t),
            n = document.getElementById(r.iframeId)
        }
        function f() {
            return !!a && !!s
        }
        e.exports = {
            init: function(e) {
                if (!e.iframeUrl)
                    throw "必须指定iframe的url";
                a || (a = !0,
                "complete" === document.readyState ? l(e) : window.onload = function() {
                    l(e)
                }
                )
            },
            set: function(e, t, n) {
                f() && c("set", e, t, n)
            },
            get: function(e, t) {
                f() && c("get", e, null, t)
            },
            remove: function(e, t) {
                f() && c("remove", e, null, t)
            },
            clear: function(e) {
                f() && c("clear", null, null, e)
            },
            filter: function(e, t) {
                f() && c("filter", e.toString().replace(/(^\/)|(\/$)/g, ""), null, t)
            },
            wasInit: function() {
                return a
            }
        }
    },
    "U/K1": function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("q1tI"));
        function o(e) {
            var t = e.text
              , n = e.className
              , r = n ? "s-loading ".concat(n) : "s-loading";
            return i.default.isValidElement(t) ? i.default.createElement("div", {
                className: r
            }, t) : i.default.createElement("div", {
                className: r
            }, i.default.createElement("i", {
                className: "s-loading-icon"
            }), i.default.createElement("p", {
                className: "loading-msg"
            }, t))
        }
        o.defaultProps = {
            text: "加载中..."
        };
        var a = o;
        t.default = a
    },
    UdNI: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = function(e, t) {
            i = t,
            a.default.addListener(u);
            var n = o.default.getPositionData() || {};
            return ["url_page", "url_module", "url_position"].forEach((function(t) {
                e[t] = n[t] || ""
            }
            )),
            e
        }
        ;
        var i, o = r(n("Jt4Q")), a = r(n("OLEe")), s = r(n("w6AT")), u = function(e) {
            var t = s.default.closest(e, "[data-report-position]")
              , n = s.default.closest(e, "[data-report-module]")
              , r = encodeURIComponent(t && t.getAttribute("data-report-position") || "")
              , a = encodeURIComponent(n && n.getAttribute("data-report-module") || "");
            o.default.setPositionData({
                url_position: r,
                url_module: a,
                url_page: encodeURIComponent(i && i.getReportData("page") || "")
            })
        }
    },
    UdQk: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("q1tI"))
          , o = r(n("i8i4"));
        var a = function(e, t) {
            var n = null
              , r = document.createElement("div");
            document.body.appendChild(r);
            var a = function() {
                o.default.unmountComponentAtNode(r) && r.parentNode && r.parentNode.removeChild(r)
            };
            return o.default.render(i.default.createElement(t, Object.assign({
                visible: !0
            }, e)), r),
            n = setTimeout((function() {
                a(),
                clearTimeout(n)
            }
            ), e.time || 3e3),
            {
                destroy: a
            }
        };
        t.default = a
    },
    Uz5K: function(e, t, n) {},
    VXgy: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("Ff2n"))
          , o = r(n("q1tI"))
          , a = r(n("TSYQ"));
        n("ewv3");
        var s = ["className", "theme", "size", "fullRadius", "children", "onClick", "disabled", "fullWidth", "tag"];
        function u(e) {
            var t = e.className
              , n = e.theme
              , r = e.size
              , u = e.fullRadius
              , c = e.children
              , l = e.onClick
              , f = e.disabled
              , d = e.fullWidth
              , h = e.tag
              , p = void 0 === h ? "span" : h
              , v = (0,
            i.default)(e, s);
            return o.default.createElement(p, Object.assign({
                className: (0,
                a.default)("s-btn", "s-btn--".concat(n), "s-btn--".concat(r), t, {
                    "s-btn--full-radius": u,
                    "s-btn--full-width": d,
                    disabled: f
                })
            }, v, {
                onClick: function(e) {
                    !f && l && l(e)
                }
            }), c)
        }
        u.defaultProps = {
            tag: "span",
            theme: "primary",
            size: "m"
        };
        var c = u;
        t.default = c
    },
    VY1G: function(e, t) {
        var n, r = function() {
            var e, t, n = document.getElementsByTagName("head")[0], r = window.location.hostname || "edu_database", i = new Date;
            if (n.addBehavior) {
                try {
                    (t = new ActiveXObject("htmlfile")).open(),
                    t.write('<script>document.w=window;<\/script><iframe src="/favicon.ico"></frame>'),
                    t.close(),
                    e = t.w.frames[0].document
                } catch (t) {
                    e = document
                }
                n = e.createElement("head"),
                e.appendChild(n),
                i.setDate(i.getDate() + 30),
                n.addBehavior("#default#userData"),
                n.expires = i.toUTCString(),
                n.load(r);
                var o = n.XMLDocument.documentElement
                  , a = o.attributes
                  , s = /^[-\d]/
                  , u = new RegExp("^prefix_____hack__")
                  , c = function(e) {
                    return s.test(e) ? "prefix_____hack__" + e : e
                };
                return {
                    length: a.length,
                    notNativeCode: !0,
                    getItem: function(e) {
                        return (a.getNamedItem(c(e)) || {
                            nodeValue: null
                        }).nodeValue || o.getAttribute(c(e))
                    },
                    setItem: function(e, t) {
                        o.setAttribute(c(e), t),
                        n.save(r),
                        this.length = a.length
                    },
                    removeItem: function(e) {
                        o.removeAttribute(c(e)),
                        n.save(r),
                        this.length = a.length
                    },
                    clear: function() {
                        for (; a.length; )
                            this.removeItem(a[0].nodeName);
                        this.length = 0
                    },
                    key: function(e) {
                        return a[e] ? function(e) {
                            return e.replace(u, "")
                        }(a[e].nodeName) : void 0
                    }
                }
            }
        };
        try {
            (n = window.localStorage) || (n = r())
        } catch (e) {
            n = r()
        }
        var i = function(e) {
            var t = function() {
                return null
            };
            return e ? {
                set: function(t, n) {
                    void 0 !== this.get(t) && this.remove(t);
                    try {
                        e.setItem(t, n)
                    } catch (e) {
                        this.clear()
                    }
                },
                get: function(t) {
                    var n = e.getItem(t);
                    return null === n ? void 0 : n
                },
                remove: function(t) {
                    e.removeItem(t)
                },
                clear: function() {
                    e.clear()
                },
                each: function(e) {
                    var t, n = this.obj(), r = e || function() {}
                    ;
                    for (t in n)
                        if (!1 === r.call(this, t, this.get(t)))
                            break
                },
                obj: function() {
                    var t, n, r = {}, i = 0;
                    if (e.isVirtualObject)
                        r = e.key(-1);
                    else
                        for (t = e.length; i < t; i++)
                            r[n = e.key(i)] = this.get(n);
                    return r
                },
                filter: function(t) {
                    var n, r, i = [], o = 0;
                    if (e.isVirtualObject)
                        i = [];
                    else
                        for (n = e.length; o < n; o++)
                            r = e.key(o),
                            t.test(r) && i.push({
                                key: r,
                                value: this.get(r)
                            });
                    return i
                }
            } : {
                set: t,
                get: t,
                remove: t,
                clear: t,
                each: t,
                obj: t,
                filter: t
            }
        }(n);
        e.exports = i
    },
    VZYt: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.generateRandomId = function() {
            return "".concat((new Date).getTime()) + "".concat(Math.random()).substring(8)
        }
        ,
        t.getCookie = function(e) {
            if ("undefined" == typeof document)
                return window.request.cookies[e];
            var t = new RegExp("(^| )".concat(e, "=([^;]*)(;|$)"))
              , n = document.cookie.match(t);
            return n ? decodeURIComponent(n[2]) : ""
        }
        ,
        t.getParam = i,
        t.getRefer = function() {
            return o() ? document.referrer : window.request.headers.referer || ""
        }
        ,
        t.getSessionConfig = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "sessionPath";
            return r[e]
        }
        ,
        t.getUA = a,
        t.getUrlProperty = function(e) {
            return o() ? location[e] : window.request && window.request.REQUEST && window.request.REQUEST[e] || ""
        }
        ,
        t.getWord = function(e, t) {
            var n = t.match(/\/course\/list\/([^/]+)/);
            if (n && n[1])
                return n[1];
            return i(e, "word") || ""
        }
        ,
        t.isBrowser = o,
        t.isMobile = function() {
            return /iPhone|iPod|Android|iPad/i.test(a())
        }
        ,
        t.parseURL = function(e) {
            if (o()) {
                var t = document.createElement("a");
                return t.href = e,
                {
                    domain: t.hostname,
                    pathname: t.pathname,
                    search: t.search,
                    hash: t.hash
                }
            }
            return {}
        }
        ,
        t.setCookie = function(e, t, n, r, i) {
            if (!o())
                return;
            var a = Date.now() + 36e5 * i
              , s = i ? "; expires=".concat(new Date(a).toUTCString()) : ""
              , u = " path=".concat(r || "/")
              , c = n ? " domain=".concat(n, ";") : "";
            document.cookie = "".concat(e, "=").concat(t).concat(s, ";").concat(u, ";").concat(c)
        }
        ;
        var r = {
            sessionid: {
                name: "tdw_data_sessionid",
                domain: "ke.qq.com",
                path: "/"
            },
            sessionPath: {
                name: "sessionPath",
                domain: "ke.qq.com",
                path: "/"
            }
        };
        function i(e, t) {
            var n = e.match(new RegExp("(\\?|#|&)" + t + "=([^&#]*)(&|#|$)"));
            return n ? decodeURIComponent(n[2]) : ""
        }
        function o() {
            return "undefined" != typeof document
        }
        function a() {
            var e = o() ? window.navigator.userAgent : window.request.headers["user-agent"];
            return e = e.toLowerCase()
        }
    },
    WdUr: function(e, t, n) {},
    Wl3z: function(e, t, n) {
        "use strict";
        var r = n("TqRt")
          , i = n("cDf5");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var o = function(e, t) {
            if (!t && e && e.__esModule)
                return e;
            if (null === e || "object" !== i(e) && "function" != typeof e)
                return {
                    default: e
                };
            var n = s(t);
            if (n && n.has(e))
                return n.get(e);
            var r = {}
              , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var a in e)
                if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                    var u = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                    u && (u.get || u.set) ? Object.defineProperty(r, a, u) : r[a] = e[a]
                }
            r.default = e,
            n && n.set(e, r);
            return r
        }(n("dyw7"))
          , a = r(n("3l9H"));
        function s(e) {
            if ("function" != typeof WeakMap)
                return null;
            var t = new WeakMap
              , n = new WeakMap;
            return (s = function(e) {
                return e ? n : t
            }
            )(e)
        }
        function u(e) {
            return e && "[object Object]" === e.toString() || !1
        }
        function c(e) {
            return e && "function" == typeof e || !1
        }
        "function" != typeof Object.assign && (Object.assign = function(e, t) {
            if (null == e)
                throw new TypeError("Cannot convert undefined or null to object");
            for (var n = Object(e), r = 1; r < arguments.length; r++) {
                var i = arguments[r];
                if (null != i)
                    for (var o in i)
                        Object.prototype.hasOwnProperty.call(i, o) && (n[o] = i[o])
            }
            return n
        }
        ),
        "undefined" != typeof Element && null == Element.prototype.getAttributeNames && (Element.prototype.getAttributeNames = function() {
            for (var e = this.attributes, t = e.length, n = new Array(t), r = 0; r < t; r++)
                n[r] = e[r].name;
            return n
        }
        );
        var l = Object.assign({
            isPlainObject: function(e) {
                if (!u(e) || e.nodeType || e.setInterval)
                    return !1;
                if (e.constructor && !e.hasOwnProperty("constructor") && !e.constructor.prototype.hasOwnProperty("isPrototypeOf"))
                    return !1;
                var t;
                for (t in e)
                    ;
                return void 0 === t || e.hasOwnProperty(t)
            },
            isFunction: c,
            isObject: u,
            isArray: function(e) {
                return "[object Array]" === Object.prototype.toString.call(e)
            },
            loadJSONP: a.default.loadJSONP,
            closest: function e(t, n) {
                if (t)
                    return function(e, t) {
                        var n = e.matches || e.matchesSelector || e.msMatchesSelector || e.mozMatchesSelector || e.webkitMatchesSelector || e.oMatchesSelector;
                        if (n)
                            return n.call(e, t);
                        if (e.parentNode) {
                            for (var r = e.parentNode.querySelectorAll(t), i = r.length; i--; 0)
                                if (r[i] === e)
                                    return !0;
                            return !1
                        }
                    }(t, n) ? t : e(t.parentNode, n)
            },
            each: function(e, t) {
                if (c(t))
                    if (u(e))
                        for (var n in e)
                            t(n, e[n], e);
                    else if (Array.isArray(e))
                        for (var r = 0, i = e.length; r < i; r++)
                            t(r, e[r], e)
            },
            delParam: function(e, t) {
                var n = new RegExp("(\\?|#|&)" + t + "=([^&]*)(&|$)","g");
                return e.replace(n, "$1$3").replace(/(\?|#|&)$/, "").replace(/(#|\?)&/g, "$1")
            },
            getPlatform: function() {
                var e = o.isMobile()
                  , t = o.isApp()
                  , n = o.isMiniProgram()
                  , r = o.isPCClient()
                  , i = o.isWinClient()
                  , a = o.isMacClient()
                  , s = o.isWinClientLite()
                  , u = o.isMacClientLite()
                  , c = o.isAndroid()
                  , l = o.isIOS()
                  , f = {
                    1: !e && !r,
                    2: e && !t && !n,
                    3: e && t && c,
                    4: e && t && l,
                    5: !e && i,
                    6: !e && a,
                    7: e && n,
                    9: !e && s,
                    10: !e && u
                };
                return parseInt(Object.keys(f).filter((function(e) {
                    return f[e]
                }
                ))[0], 10) || 1
            },
            parseHref: function(e) {
                var t = document.createElement("a");
                return t.href = e,
                {
                    domain: t.hostname,
                    pathname: t.pathname,
                    search: t.search,
                    hash: t.hash
                }
            },
            getEnvironment: function() {
                return o.qqVersion() ? "QQ" : o.isWeixin() ? "WX" : o.isBaiduApp() ? "Baidu" : o.isWeiboApp() ? "Sina" : o.isApp() ? "edu_APP" : "other"
            },
            isInIframe: function() {
                return window.top && window.top.window !== window
            }
        }, o);
        t.default = l
    },
    Wss8: function(e, t, n) {
        e.exports = n("tN72")
    },
    WxBE: function(e, t, n) {
        var r = n("cDf5")
          , i = function() {
            var e = /&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g
              , t = /['<> "&]/g
              , n = /['<>"&]/g
              , o = {
                "&quot;": '"',
                "&lt;": "<",
                "&gt;": ">",
                "&amp;": "&",
                "&nbsp;": " "
            }
              , a = /\u00a0/g
              , s = /<br\s*\/?>/gi
              , u = /\r?\n/g
              , c = /\s/g
              , l = {};
            for (var f in o)
                l[o[f]] = f;
            function d(e, t, n) {
                return t || n ? String.fromCharCode(t || n) : o[e] || e
            }
            function h(e) {
                return l[e]
            }
            return o["&apos;"] = "'",
            l["'"] = "&#39;",
            {
                encode: function(e) {
                    return e ? ("" + e).replace(t, h).replace(u, "<br/>").replace(c, "&nbsp;") : ""
                },
                encodeNoSpace: function(e) {
                    return e ? ("" + e).replace(n, h).replace(u, "<br/>") : ""
                },
                decode: function(t) {
                    return t ? ("" + t).replace(s, "\n").replace(e, d).replace(a, " ") : ""
                },
                encodeBase16: function(e) {
                    if (!e)
                        return e;
                    for (var t = [], n = 0, r = (e += "").length; n < r; n++)
                        t.push(e.charCodeAt(n).toString(16).toUpperCase());
                    return t.join("")
                },
                encodeBase16forJSON: function(e) {
                    if (!e)
                        return e;
                    e = e.replace(/[\u4E00-\u9FBF]/gi, (function(e) {
                        return escape(e).replace("%u", "\\u")
                    }
                    ));
                    for (var t = [], n = 0, r = e.length; n < r; n++)
                        t.push(e.charCodeAt(n).toString(16).toUpperCase());
                    return t.join("")
                },
                decodeBase16: function(e) {
                    if (!e)
                        return e;
                    for (var t = [], n = 0, r = (e += "").length; n < r; n += 2)
                        t.push(String.fromCharCode("0x" + e.slice(n, n + 2)));
                    return t.join("")
                },
                encodeObject: function(e) {
                    if (e instanceof Array)
                        for (var t = 0, n = e.length; t < n; t++)
                            e[t] = i.encodeObject(e[t]);
                    else if ("object" === r(e))
                        for (var o in e)
                            e[o] = i.encodeObject(e[o]);
                    else if ("string" == typeof e)
                        return i.encode(e);
                    return e
                }
            }
        }();
        e.exports = i
    },
    XUM0: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("U8pU"));
        function o(e) {
            if (!e)
                return "";
            var t = [];
            for (var n in e)
                e.hasOwnProperty(n) && t.push(n + "=" + encodeURIComponent(e[n]));
            return t.join("&")
        }
        var a = {
            loadJSONP: function(e, t, n, r) {
                "object" === (0,
                i.default)(t) ? e = [e, o(t)].join("?") : (r = n,
                n = t);
                var a = "_jsonp_" + function(e) {
                    for (var t = "", n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", r = 0; r < e; r++)
                        t += n.charAt(Math.floor(Math.random() * n.length));
                    return t
                }(5);
                e.match(/\?/) ? e += "&callback=" + a : e += "?callback=" + a;
                var s = document.createElement("script");
                s.type = "text/javascript",
                s.src = e,
                window[a] = function(e) {
                    n.call(r || window, e),
                    document.getElementsByTagName("head")[0].removeChild(s),
                    s = null,
                    delete window[a]
                }
                ,
                document.getElementsByTagName("head")[0].appendChild(s)
            }
        };
        t.default = a
    },
    XeFI: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.getSessionFlowid = function() {
            var e = "";
            try {
                e = i.default.get(s) || ""
            } catch (e) {}
            return l(""),
            e
        }
        ;
        var i = r(n("kNBA"))
          , o = r(n("OLEe"))
          , a = r(n("w6AT"))
          , s = "tdw_data_flowid"
          , u = "ke.qq.com"
          , c = "/";
        function l() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
            i.default.setSession(s, e, u, c)
        }
        o.default.addListener((function(e, t) {
            var n = t.target
              , r = a.default.closest(n, "[".concat("data-report-session-flowid", "]"));
            l(r && r.getAttribute("data-report-session-flowid") || "")
        }
        ))
    },
    Y5mo: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.getHash = function(e) {
            var t = window.location.hash.match(new RegExp("(#|&)" + e + "=([^&]*)(&|$)"));
            return t ? decodeURIComponent(t[2]) : ""
        }
        ,
        t.parseHref = function(e) {
            var t = document.createElement("a");
            return t.href = e,
            {
                domain: t.hostname,
                pathname: t.pathname,
                search: t.search,
                hash: t.hash
            }
        }
        ,
        t.query = function(e) {
            var t = window.location.search.match(new RegExp("(\\?|&)" + e + "=([^&]*)(&|$)"));
            return t ? decodeURIComponent(t[2]) : ""
        }
    },
    YiKP: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("Ff2n"))
          , o = r(n("q1tI"));
        n("5EQH");
        var a = ["className", "type", "size"];
        var s = function(e) {
            var t = e.className
              , n = e.type
              , r = e.size
              , s = (0,
            i.default)(e, a)
              , u = t ? "icon-tips icon-css-".concat(n, " ").concat(t) : "icon-tips icon-css-".concat(n);
            return u = r ? "".concat(u, " icon-tips--").concat(r) : "".concat(u),
            "loading" !== n ? o.default.createElement("i", Object.assign({
                className: u
            }, s)) : o.default.createElement("div", {
                className: u
            }, o.default.createElement("div", {
                className: "loading-spinner-wrap"
            }, o.default.createElement("span", {
                className: "loading-spinner"
            }), o.default.createElement("span", {
                className: "loading-spinner"
            }), o.default.createElement("span", {
                className: "loading-spinner"
            }), o.default.createElement("span", {
                className: "loading-spinner"
            }), o.default.createElement("span", {
                className: "loading-spinner"
            }), o.default.createElement("span", {
                className: "loading-spinner"
            }), o.default.createElement("span", {
                className: "loading-spinner"
            }), o.default.createElement("span", {
                className: "loading-spinner"
            }), o.default.createElement("span", {
                className: "loading-spinner"
            }), o.default.createElement("span", {
                className: "loading-spinner"
            }), o.default.createElement("span", {
                className: "loading-spinner"
            }), o.default.createElement("span", {
                className: "loading-spinner"
            })))
        };
        t.default = s
    },
    YrbB: function(e, t, n) {
        var r = n("6bHo")
          , i = n("5hiR")
          , o = {
            whiteDomain: [],
            iframeUrl: "",
            crossDomain: !1
        };
        function a(e, t) {
            return {
                get: function(n, r) {
                    t ? e.get(n, (function(e) {
                        r && r(e && e.value)
                    }
                    )) : r && r(e.get(n))
                },
                set: function(n, r, i) {
                    try {
                        t ? e.set(n, r, i) : (e.set(n, r),
                        i && i())
                    } catch (e) {
                        "QuotaExceededError" === e.name && window.BJ_REPORT && BJ_REPORT.debug({
                            msg: "local-write-overflow",
                            ext: {
                                msid: 2514080
                            }
                        })
                    }
                },
                remove: function(n, r) {
                    t ? e.remove(n, r) : (e.remove(n),
                    r && r())
                },
                filter: function(n, r) {
                    t ? e.filter(n, (function(e) {
                        r && r(e && e.value)
                    }
                    )) : r && r(e.filter(n))
                },
                clear: function(n) {
                    t ? e.clear(n) : (e.clear(),
                    n && n())
                },
                wasInit: function() {
                    return !t || e.wasInit()
                },
                isCross: function() {
                    return t
                }
            }
        }
        e.exports = {
            getLocal: function(e, t) {
                !function(e, t) {
                    var n, r = t || {};
                    for (n in e)
                        e.hasOwnProperty(n) && (r[n] = e[n])
                }(e, o),
                !function() {
                    var e = document.domain
                      , t = o.whiteDomain
                      , n = !1;
                    if (!o.crossDomain)
                        return !1;
                    if (0 === t.length)
                        return !1;
                    for (var r = 0; r < t.length && e !== t[r]; r++)
                        ;
                    return r === t.length && (n = !0),
                    n
                }() ? t && t(a(r)) : (r = i).init({
                    iframeUrl: o.iframeUrl,
                    initCallback: function() {
                        t && t(a(r, !0))
                    }
                })
            }
        }
    },
    YuVz: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("Ff2n"))
          , o = r(n("q1tI"))
          , a = r(n("TSYQ"))
          , s = r(n("8H4/"))
          , u = ["className", "children", "values", "checkMsg", "onChange"];
        var c = function(e) {
            var t = e.className
              , n = e.children
              , r = e.values
              , c = e.checkMsg
              , l = e.onChange
              , f = (0,
            i.default)(e, u)
              , d = (0,
            a.default)("s-form", t)
              , h = {
                values: r,
                checkMsg: c,
                onChange: l
            };
            return o.default.createElement(s.default.Provider, {
                value: h
            }, o.default.createElement("form", Object.assign({
                className: d
            }, f), n))
        };
        t.default = c
    },
    "Z/I/": function(e, t) {
        var n;
        !function() {
            function e(e) {
                this.mode = r.MODE_8BIT_BYTE,
                this.data = e,
                this.parsedData = [];
                for (var t = 0, n = this.data.length; t < n; t++) {
                    var i = []
                      , o = this.data.charCodeAt(t);
                    o > 65536 ? (i[0] = 240 | (1835008 & o) >>> 18,
                    i[1] = 128 | (258048 & o) >>> 12,
                    i[2] = 128 | (4032 & o) >>> 6,
                    i[3] = 128 | 63 & o) : o > 2048 ? (i[0] = 224 | (61440 & o) >>> 12,
                    i[1] = 128 | (4032 & o) >>> 6,
                    i[2] = 128 | 63 & o) : o > 128 ? (i[0] = 192 | (1984 & o) >>> 6,
                    i[1] = 128 | 63 & o) : i[0] = o,
                    this.parsedData.push(i)
                }
                this.parsedData = Array.prototype.concat.apply([], this.parsedData),
                this.parsedData.length != this.data.length && (this.parsedData.unshift(191),
                this.parsedData.unshift(187),
                this.parsedData.unshift(239))
            }
            function t(e, t) {
                this.typeNumber = e,
                this.errorCorrectLevel = t,
                this.modules = null,
                this.moduleCount = 0,
                this.dataCache = null,
                this.dataList = []
            }
            e.prototype = {
                getLength: function(e) {
                    return this.parsedData.length
                },
                write: function(e) {
                    for (var t = 0, n = this.parsedData.length; t < n; t++)
                        e.put(this.parsedData[t], 8)
                }
            },
            t.prototype = {
                addData: function(t) {
                    var n = new e(t);
                    this.dataList.push(n),
                    this.dataCache = null
                },
                isDark: function(e, t) {
                    if (e < 0 || this.moduleCount <= e || t < 0 || this.moduleCount <= t)
                        throw new Error(e + "," + t);
                    return this.modules[e][t]
                },
                getModuleCount: function() {
                    return this.moduleCount
                },
                make: function() {
                    this.makeImpl(!1, this.getBestMaskPattern())
                },
                makeImpl: function(e, n) {
                    this.moduleCount = 4 * this.typeNumber + 17,
                    this.modules = new Array(this.moduleCount);
                    for (var r = 0; r < this.moduleCount; r++) {
                        this.modules[r] = new Array(this.moduleCount);
                        for (var i = 0; i < this.moduleCount; i++)
                            this.modules[r][i] = null
                    }
                    this.setupPositionProbePattern(0, 0),
                    this.setupPositionProbePattern(this.moduleCount - 7, 0),
                    this.setupPositionProbePattern(0, this.moduleCount - 7),
                    this.setupPositionAdjustPattern(),
                    this.setupTimingPattern(),
                    this.setupTypeInfo(e, n),
                    this.typeNumber >= 7 && this.setupTypeNumber(e),
                    null == this.dataCache && (this.dataCache = t.createData(this.typeNumber, this.errorCorrectLevel, this.dataList)),
                    this.mapData(this.dataCache, n)
                },
                setupPositionProbePattern: function(e, t) {
                    for (var n = -1; n <= 7; n++)
                        if (!(e + n <= -1 || this.moduleCount <= e + n))
                            for (var r = -1; r <= 7; r++)
                                t + r <= -1 || this.moduleCount <= t + r || (this.modules[e + n][t + r] = 0 <= n && n <= 6 && (0 == r || 6 == r) || 0 <= r && r <= 6 && (0 == n || 6 == n) || 2 <= n && n <= 4 && 2 <= r && r <= 4)
                },
                getBestMaskPattern: function() {
                    for (var e = 0, t = 0, n = 0; n < 8; n++) {
                        this.makeImpl(!0, n);
                        var r = h.getLostPoint(this);
                        (0 == n || e > r) && (e = r,
                        t = n)
                    }
                    return t
                },
                createMovieClip: function(e, t, n) {
                    var r = e.createEmptyMovieClip(t, n);
                    this.make();
                    for (var i = 0; i < this.modules.length; i++)
                        for (var o = 1 * i, a = 0; a < this.modules[i].length; a++) {
                            var s = 1 * a;
                            this.modules[i][a] && (r.beginFill(0, 100),
                            r.moveTo(s, o),
                            r.lineTo(s + 1, o),
                            r.lineTo(s + 1, o + 1),
                            r.lineTo(s, o + 1),
                            r.endFill())
                        }
                    return r
                },
                setupTimingPattern: function() {
                    for (var e = 8; e < this.moduleCount - 8; e++)
                        null == this.modules[e][6] && (this.modules[e][6] = e % 2 == 0);
                    for (var t = 8; t < this.moduleCount - 8; t++)
                        null == this.modules[6][t] && (this.modules[6][t] = t % 2 == 0)
                },
                setupPositionAdjustPattern: function() {
                    for (var e = h.getPatternPosition(this.typeNumber), t = 0; t < e.length; t++)
                        for (var n = 0; n < e.length; n++) {
                            var r = e[t]
                              , i = e[n];
                            if (null == this.modules[r][i])
                                for (var o = -2; o <= 2; o++)
                                    for (var a = -2; a <= 2; a++)
                                        this.modules[r + o][i + a] = -2 == o || 2 == o || -2 == a || 2 == a || 0 == o && 0 == a
                        }
                },
                setupTypeNumber: function(e) {
                    for (var t = h.getBCHTypeNumber(this.typeNumber), n = 0; n < 18; n++) {
                        var r = !e && 1 == (t >> n & 1);
                        this.modules[Math.floor(n / 3)][n % 3 + this.moduleCount - 8 - 3] = r
                    }
                    for (n = 0; n < 18; n++) {
                        r = !e && 1 == (t >> n & 1);
                        this.modules[n % 3 + this.moduleCount - 8 - 3][Math.floor(n / 3)] = r
                    }
                },
                setupTypeInfo: function(e, t) {
                    for (var n = this.errorCorrectLevel << 3 | t, r = h.getBCHTypeInfo(n), i = 0; i < 15; i++) {
                        var o = !e && 1 == (r >> i & 1);
                        i < 6 ? this.modules[i][8] = o : i < 8 ? this.modules[i + 1][8] = o : this.modules[this.moduleCount - 15 + i][8] = o
                    }
                    for (i = 0; i < 15; i++) {
                        o = !e && 1 == (r >> i & 1);
                        i < 8 ? this.modules[8][this.moduleCount - i - 1] = o : i < 9 ? this.modules[8][15 - i - 1 + 1] = o : this.modules[8][15 - i - 1] = o
                    }
                    this.modules[this.moduleCount - 8][8] = !e
                },
                mapData: function(e, t) {
                    for (var n = -1, r = this.moduleCount - 1, i = 7, o = 0, a = this.moduleCount - 1; a > 0; a -= 2)
                        for (6 == a && a--; ; ) {
                            for (var s = 0; s < 2; s++)
                                if (null == this.modules[r][a - s]) {
                                    var u = !1;
                                    o < e.length && (u = 1 == (e[o] >>> i & 1)),
                                    h.getMask(t, r, a - s) && (u = !u),
                                    this.modules[r][a - s] = u,
                                    -1 == --i && (o++,
                                    i = 7)
                                }
                            if ((r += n) < 0 || this.moduleCount <= r) {
                                r -= n,
                                n = -n;
                                break
                            }
                        }
                }
            },
            t.PAD0 = 236,
            t.PAD1 = 17,
            t.createData = function(e, n, r) {
                for (var i = g.getRSBlocks(e, n), o = new y, a = 0; a < r.length; a++) {
                    var s = r[a];
                    o.put(s.mode, 4),
                    o.put(s.getLength(), h.getLengthInBits(s.mode, e)),
                    s.write(o)
                }
                var u = 0;
                for (a = 0; a < i.length; a++)
                    u += i[a].dataCount;
                if (o.getLengthInBits() > 8 * u)
                    throw new Error("code length overflow. (" + o.getLengthInBits() + ">" + 8 * u + ")");
                for (o.getLengthInBits() + 4 <= 8 * u && o.put(0, 4); o.getLengthInBits() % 8 != 0; )
                    o.putBit(!1);
                for (; !(o.getLengthInBits() >= 8 * u || (o.put(t.PAD0, 8),
                o.getLengthInBits() >= 8 * u)); )
                    o.put(t.PAD1, 8);
                return t.createBytes(o, i)
            }
            ,
            t.createBytes = function(e, t) {
                for (var n = 0, r = 0, i = 0, o = new Array(t.length), a = new Array(t.length), s = 0; s < t.length; s++) {
                    var u = t[s].dataCount
                      , c = t[s].totalCount - u;
                    r = Math.max(r, u),
                    i = Math.max(i, c),
                    o[s] = new Array(u);
                    for (var l = 0; l < o[s].length; l++)
                        o[s][l] = 255 & e.buffer[l + n];
                    n += u;
                    var f = h.getErrorCorrectPolynomial(c)
                      , d = new m(o[s],f.getLength() - 1).mod(f);
                    a[s] = new Array(f.getLength() - 1);
                    for (l = 0; l < a[s].length; l++) {
                        var p = l + d.getLength() - a[s].length;
                        a[s][l] = p >= 0 ? d.get(p) : 0
                    }
                }
                var v = 0;
                for (l = 0; l < t.length; l++)
                    v += t[l].totalCount;
                var g = new Array(v)
                  , y = 0;
                for (l = 0; l < r; l++)
                    for (s = 0; s < t.length; s++)
                        l < o[s].length && (g[y++] = o[s][l]);
                for (l = 0; l < i; l++)
                    for (s = 0; s < t.length; s++)
                        l < a[s].length && (g[y++] = a[s][l]);
                return g
            }
            ;
            for (var r = {
                MODE_NUMBER: 1,
                MODE_ALPHA_NUM: 2,
                MODE_8BIT_BYTE: 4,
                MODE_KANJI: 8
            }, i = {
                L: 1,
                M: 0,
                Q: 3,
                H: 2
            }, o = 0, a = 1, s = 2, u = 3, c = 4, l = 5, f = 6, d = 7, h = {
                PATTERN_POSITION_TABLE: [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]],
                G15: 1335,
                G18: 7973,
                G15_MASK: 21522,
                getBCHTypeInfo: function(e) {
                    for (var t = e << 10; h.getBCHDigit(t) - h.getBCHDigit(h.G15) >= 0; )
                        t ^= h.G15 << h.getBCHDigit(t) - h.getBCHDigit(h.G15);
                    return (e << 10 | t) ^ h.G15_MASK
                },
                getBCHTypeNumber: function(e) {
                    for (var t = e << 12; h.getBCHDigit(t) - h.getBCHDigit(h.G18) >= 0; )
                        t ^= h.G18 << h.getBCHDigit(t) - h.getBCHDigit(h.G18);
                    return e << 12 | t
                },
                getBCHDigit: function(e) {
                    for (var t = 0; 0 != e; )
                        t++,
                        e >>>= 1;
                    return t
                },
                getPatternPosition: function(e) {
                    return h.PATTERN_POSITION_TABLE[e - 1]
                },
                getMask: function(e, t, n) {
                    switch (e) {
                    case o:
                        return (t + n) % 2 == 0;
                    case a:
                        return t % 2 == 0;
                    case s:
                        return n % 3 == 0;
                    case u:
                        return (t + n) % 3 == 0;
                    case c:
                        return (Math.floor(t / 2) + Math.floor(n / 3)) % 2 == 0;
                    case l:
                        return t * n % 2 + t * n % 3 == 0;
                    case f:
                        return (t * n % 2 + t * n % 3) % 2 == 0;
                    case d:
                        return (t * n % 3 + (t + n) % 2) % 2 == 0;
                    default:
                        throw new Error("bad maskPattern:" + e)
                    }
                },
                getErrorCorrectPolynomial: function(e) {
                    for (var t = new m([1],0), n = 0; n < e; n++)
                        t = t.multiply(new m([1, p.gexp(n)],0));
                    return t
                },
                getLengthInBits: function(e, t) {
                    if (1 <= t && t < 10)
                        switch (e) {
                        case r.MODE_NUMBER:
                            return 10;
                        case r.MODE_ALPHA_NUM:
                            return 9;
                        case r.MODE_8BIT_BYTE:
                        case r.MODE_KANJI:
                            return 8;
                        default:
                            throw new Error("mode:" + e)
                        }
                    else if (t < 27)
                        switch (e) {
                        case r.MODE_NUMBER:
                            return 12;
                        case r.MODE_ALPHA_NUM:
                            return 11;
                        case r.MODE_8BIT_BYTE:
                            return 16;
                        case r.MODE_KANJI:
                            return 10;
                        default:
                            throw new Error("mode:" + e)
                        }
                    else {
                        if (!(t < 41))
                            throw new Error("type:" + t);
                        switch (e) {
                        case r.MODE_NUMBER:
                            return 14;
                        case r.MODE_ALPHA_NUM:
                            return 13;
                        case r.MODE_8BIT_BYTE:
                            return 16;
                        case r.MODE_KANJI:
                            return 12;
                        default:
                            throw new Error("mode:" + e)
                        }
                    }
                },
                getLostPoint: function(e) {
                    for (var t = e.getModuleCount(), n = 0, r = 0; r < t; r++)
                        for (var i = 0; i < t; i++) {
                            for (var o = 0, a = e.isDark(r, i), s = -1; s <= 1; s++)
                                if (!(r + s < 0 || t <= r + s))
                                    for (var u = -1; u <= 1; u++)
                                        i + u < 0 || t <= i + u || 0 == s && 0 == u || a == e.isDark(r + s, i + u) && o++;
                            o > 5 && (n += 3 + o - 5)
                        }
                    for (r = 0; r < t - 1; r++)
                        for (i = 0; i < t - 1; i++) {
                            var c = 0;
                            e.isDark(r, i) && c++,
                            e.isDark(r + 1, i) && c++,
                            e.isDark(r, i + 1) && c++,
                            e.isDark(r + 1, i + 1) && c++,
                            0 != c && 4 != c || (n += 3)
                        }
                    for (r = 0; r < t; r++)
                        for (i = 0; i < t - 6; i++)
                            e.isDark(r, i) && !e.isDark(r, i + 1) && e.isDark(r, i + 2) && e.isDark(r, i + 3) && e.isDark(r, i + 4) && !e.isDark(r, i + 5) && e.isDark(r, i + 6) && (n += 40);
                    for (i = 0; i < t; i++)
                        for (r = 0; r < t - 6; r++)
                            e.isDark(r, i) && !e.isDark(r + 1, i) && e.isDark(r + 2, i) && e.isDark(r + 3, i) && e.isDark(r + 4, i) && !e.isDark(r + 5, i) && e.isDark(r + 6, i) && (n += 40);
                    var l = 0;
                    for (i = 0; i < t; i++)
                        for (r = 0; r < t; r++)
                            e.isDark(r, i) && l++;
                    return n += 10 * (Math.abs(100 * l / t / t - 50) / 5)
                }
            }, p = {
                glog: function(e) {
                    if (e < 1)
                        throw new Error("glog(" + e + ")");
                    return p.LOG_TABLE[e]
                },
                gexp: function(e) {
                    for (; e < 0; )
                        e += 255;
                    for (; e >= 256; )
                        e -= 255;
                    return p.EXP_TABLE[e]
                },
                EXP_TABLE: new Array(256),
                LOG_TABLE: new Array(256)
            }, v = 0; v < 8; v++)
                p.EXP_TABLE[v] = 1 << v;
            for (v = 8; v < 256; v++)
                p.EXP_TABLE[v] = p.EXP_TABLE[v - 4] ^ p.EXP_TABLE[v - 5] ^ p.EXP_TABLE[v - 6] ^ p.EXP_TABLE[v - 8];
            for (v = 0; v < 255; v++)
                p.LOG_TABLE[p.EXP_TABLE[v]] = v;
            function m(e, t) {
                if (null == e.length)
                    throw new Error(e.length + "/" + t);
                for (var n = 0; n < e.length && 0 == e[n]; )
                    n++;
                this.num = new Array(e.length - n + t);
                for (var r = 0; r < e.length - n; r++)
                    this.num[r] = e[r + n]
            }
            function g(e, t) {
                this.totalCount = e,
                this.dataCount = t
            }
            function y() {
                this.buffer = [],
                this.length = 0
            }
            m.prototype = {
                get: function(e) {
                    return this.num[e]
                },
                getLength: function() {
                    return this.num.length
                },
                multiply: function(e) {
                    for (var t = new Array(this.getLength() + e.getLength() - 1), n = 0; n < this.getLength(); n++)
                        for (var r = 0; r < e.getLength(); r++)
                            t[n + r] ^= p.gexp(p.glog(this.get(n)) + p.glog(e.get(r)));
                    return new m(t,0)
                },
                mod: function(e) {
                    if (this.getLength() - e.getLength() < 0)
                        return this;
                    for (var t = p.glog(this.get(0)) - p.glog(e.get(0)), n = new Array(this.getLength()), r = 0; r < this.getLength(); r++)
                        n[r] = this.get(r);
                    for (r = 0; r < e.getLength(); r++)
                        n[r] ^= p.gexp(p.glog(e.get(r)) + t);
                    return new m(n,0).mod(e)
                }
            },
            g.RS_BLOCK_TABLE = [[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], [1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], [1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], [1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], [1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], [2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], [2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], [2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], [2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], [2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], [4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], [2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], [4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], [3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], [5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12], [5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], [1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], [5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], [3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], [3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], [4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], [2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], [4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], [6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], [8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], [10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], [8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], [3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], [7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], [5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], [13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], [17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], [17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], [13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], [12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], [6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], [17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], [4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], [20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], [19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]],
            g.getRSBlocks = function(e, t) {
                var n = g.getRsBlockTable(e, t);
                if (null == n)
                    throw new Error("bad rs block @ typeNumber:" + e + "/errorCorrectLevel:" + t);
                for (var r = n.length / 3, i = [], o = 0; o < r; o++)
                    for (var a = n[3 * o + 0], s = n[3 * o + 1], u = n[3 * o + 2], c = 0; c < a; c++)
                        i.push(new g(s,u));
                return i
            }
            ,
            g.getRsBlockTable = function(e, t) {
                switch (t) {
                case i.L:
                    return g.RS_BLOCK_TABLE[4 * (e - 1) + 0];
                case i.M:
                    return g.RS_BLOCK_TABLE[4 * (e - 1) + 1];
                case i.Q:
                    return g.RS_BLOCK_TABLE[4 * (e - 1) + 2];
                case i.H:
                    return g.RS_BLOCK_TABLE[4 * (e - 1) + 3];
                default:
                    return
                }
            }
            ,
            y.prototype = {
                get: function(e) {
                    var t = Math.floor(e / 8);
                    return 1 == (this.buffer[t] >>> 7 - e % 8 & 1)
                },
                put: function(e, t) {
                    for (var n = 0; n < t; n++)
                        this.putBit(1 == (e >>> t - n - 1 & 1))
                },
                getLengthInBits: function() {
                    return this.length
                },
                putBit: function(e) {
                    var t = Math.floor(this.length / 8);
                    this.buffer.length <= t && this.buffer.push(0),
                    e && (this.buffer[t] |= 128 >>> this.length % 8),
                    this.length++
                }
            };
            var E = [[17, 14, 11, 7], [32, 26, 20, 14], [53, 42, 32, 24], [78, 62, 46, 34], [106, 84, 60, 44], [134, 106, 74, 58], [154, 122, 86, 64], [192, 152, 108, 84], [230, 180, 130, 98], [271, 213, 151, 119], [321, 251, 177, 137], [367, 287, 203, 155], [425, 331, 241, 177], [458, 362, 258, 194], [520, 412, 292, 220], [586, 450, 322, 250], [644, 504, 364, 280], [718, 560, 394, 310], [792, 624, 442, 338], [858, 666, 482, 382], [929, 711, 509, 403], [1003, 779, 565, 439], [1091, 857, 611, 461], [1171, 911, 661, 511], [1273, 997, 715, 535], [1367, 1059, 751, 593], [1465, 1125, 805, 625], [1528, 1190, 868, 658], [1628, 1264, 908, 698], [1732, 1370, 982, 742], [1840, 1452, 1030, 790], [1952, 1538, 1112, 842], [2068, 1628, 1168, 898], [2188, 1722, 1228, 958], [2303, 1809, 1283, 983], [2431, 1911, 1351, 1051], [2563, 1989, 1423, 1093], [2699, 2099, 1499, 1139], [2809, 2213, 1579, 1219], [2953, 2331, 1663, 1273]];
            function T() {
                var e = !1
                  , t = navigator.userAgent;
                return /android/i.test(t) && (e = !0,
                aMat = t.toString().match(/android ([0-9]\.[0-9])/i),
                aMat && aMat[1] && (e = parseFloat(aMat[1]))),
                e
            }
            var b = function() {
                var e = function(e, t) {
                    this._el = e,
                    this._htOption = t
                };
                return e.prototype.draw = function(e) {
                    var t = this._htOption
                      , n = this._el
                      , r = e.getModuleCount();
                    Math.floor(t.width / r),
                    Math.floor(t.height / r);
                    function i(e, t) {
                        var n = document.createElementNS("http://www.w3.org/2000/svg", e);
                        for (var r in t)
                            t.hasOwnProperty(r) && n.setAttribute(r, t[r]);
                        return n
                    }
                    this.clear();
                    var o = i("svg", {
                        viewBox: "0 0 " + String(r) + " " + String(r),
                        width: "100%",
                        height: "100%",
                        fill: t.colorLight
                    });
                    o.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink"),
                    n.appendChild(o),
                    o.appendChild(i("rect", {
                        fill: t.colorDark,
                        width: "1",
                        height: "1",
                        id: "template"
                    }));
                    for (var a = 0; a < r; a++)
                        for (var s = 0; s < r; s++)
                            if (e.isDark(a, s)) {
                                var u = i("use", {
                                    x: String(a),
                                    y: String(s)
                                });
                                u.setAttributeNS("http://www.w3.org/1999/xlink", "href", "#template"),
                                o.appendChild(u)
                            }
                }
                ,
                e.prototype.clear = function() {
                    for (; this._el.hasChildNodes(); )
                        this._el.removeChild(this._el.lastChild)
                }
                ,
                e
            }()
              , _ = "svg" === document.documentElement.tagName.toLowerCase() ? b : "undefined" == typeof CanvasRenderingContext2D ? function() {
                var e = function(e, t) {
                    this._el = e,
                    this._htOption = t
                };
                return e.prototype.draw = function(e) {
                    for (var t = this._htOption, n = this._el, r = e.getModuleCount(), i = Math.floor(t.width / r), o = Math.floor(t.height / r), a = ['<table style="border:0;border-collapse:collapse;">'], s = 0; s < r; s++) {
                        a.push("<tr>");
                        for (var u = 0; u < r; u++)
                            a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:' + i + "px;height:" + o + "px;background-color:" + (e.isDark(s, u) ? t.colorDark : t.colorLight) + ';"></td>');
                        a.push("</tr>")
                    }
                    a.push("</table>"),
                    n.innerHTML = a.join("");
                    var c = n.childNodes[0]
                      , l = (t.width - c.offsetWidth) / 2
                      , f = (t.height - c.offsetHeight) / 2;
                    l > 0 && f > 0 && (c.style.margin = f + "px " + l + "px")
                }
                ,
                e.prototype.clear = function() {
                    this._el.innerHTML = ""
                }
                ,
                e
            }() : function() {
                function e() {
                    this._elImage.src = this._elCanvas.toDataURL("image/png"),
                    this._elImage.style.display = "block",
                    this._elCanvas.style.display = "none"
                }
                if (this._android && this._android <= 2.1) {
                    var t = 1 / window.devicePixelRatio
                      , n = CanvasRenderingContext2D.prototype.drawImage;
                    CanvasRenderingContext2D.prototype.drawImage = function(e, r, i, o, a, s, u, c, l) {
                        if ("nodeName"in e && /img/i.test(e.nodeName))
                            for (var f = arguments.length - 1; f >= 1; f--)
                                arguments[f] = arguments[f] * t;
                        else
                            void 0 === c && (arguments[1] *= t,
                            arguments[2] *= t,
                            arguments[3] *= t,
                            arguments[4] *= t);
                        n.apply(this, arguments)
                    }
                }
                function r(e, t) {
                    var n = this;
                    if (n._fFail = t,
                    n._fSuccess = e,
                    null === n._bSupportDataURI) {
                        var r = document.createElement("img")
                          , i = function() {
                            n._bSupportDataURI = !1,
                            n._fFail && _fFail.call(n)
                        };
                        return r.onabort = i,
                        r.onerror = i,
                        r.onload = function() {
                            n._bSupportDataURI = !0,
                            n._fSuccess && n._fSuccess.call(n)
                        }
                        ,
                        void (r.src = "data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")
                    }
                    !0 === n._bSupportDataURI && n._fSuccess ? n._fSuccess.call(n) : !1 === n._bSupportDataURI && n._fFail && n._fFail.call(n)
                }
                var i = function(e, t) {
                    this._bIsPainted = !1,
                    this._android = T(),
                    this._htOption = t,
                    this._elCanvas = document.createElement("canvas"),
                    this._elCanvas.width = t.width,
                    this._elCanvas.height = t.height,
                    e.appendChild(this._elCanvas),
                    this._el = e,
                    this._oContext = this._elCanvas.getContext("2d"),
                    this._bIsPainted = !1,
                    this._elImage = document.createElement("img"),
                    this._elImage.alt = "Scan me!",
                    this._elImage.style.display = "none",
                    this._el.appendChild(this._elImage),
                    this._bSupportDataURI = null
                };
                return i.prototype.draw = function(e) {
                    var t = this._elImage
                      , n = this._oContext
                      , r = this._htOption
                      , i = e.getModuleCount()
                      , o = r.width / i
                      , a = r.height / i
                      , s = Math.round(o)
                      , u = Math.round(a);
                    t.style.display = "none",
                    this.clear();
                    for (var c = 0; c < i; c++)
                        for (var l = 0; l < i; l++) {
                            var f = e.isDark(c, l)
                              , d = l * o
                              , h = c * a;
                            n.strokeStyle = f ? r.colorDark : r.colorLight,
                            n.lineWidth = 1,
                            n.fillStyle = f ? r.colorDark : r.colorLight,
                            n.fillRect(d, h, o, a),
                            n.strokeRect(Math.floor(d) + .5, Math.floor(h) + .5, s, u),
                            n.strokeRect(Math.ceil(d) - .5, Math.ceil(h) - .5, s, u)
                        }
                    this._bIsPainted = !0
                }
                ,
                i.prototype.makeImage = function() {
                    this._bIsPainted && r.call(this, e)
                }
                ,
                i.prototype.isPainted = function() {
                    return this._bIsPainted
                }
                ,
                i.prototype.clear = function() {
                    this._oContext.clearRect(0, 0, this._elCanvas.width, this._elCanvas.height),
                    this._bIsPainted = !1
                }
                ,
                i.prototype.round = function(e) {
                    return e ? Math.floor(1e3 * e) / 1e3 : e
                }
                ,
                i
            }
            .bind(window)();
            function S(e, t) {
                for (var n = 1, r = function(e) {
                    var t = encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g, "a");
                    return t.length + (t.length != e ? 3 : 0)
                }(e), o = 0, a = E.length; o <= a; o++) {
                    var s = 0;
                    switch (t) {
                    case i.L:
                        s = E[o][0];
                        break;
                    case i.M:
                        s = E[o][1];
                        break;
                    case i.Q:
                        s = E[o][2];
                        break;
                    case i.H:
                        s = E[o][3]
                    }
                    if (r <= s)
                        break;
                    n++
                }
                if (n > E.length)
                    throw new Error("Too long data");
                return n
            }
            (n = function(e, t) {
                if (this._htOption = {
                    width: 256,
                    height: 256,
                    typeNumber: 4,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: i.H
                },
                "string" == typeof t && (t = {
                    text: t
                }),
                t)
                    for (var n in t)
                        this._htOption[n] = t[n];
                "string" == typeof e && (e = document.getElementById(e)),
                this._android = T(),
                this._el = e,
                this._oQRCode = null,
                this._oDrawing = new _(this._el,this._htOption),
                this._htOption.text && this.makeCode(this._htOption.text)
            }
            ).prototype.makeCode = function(e) {
                this._oQRCode = new t(S(e, this._htOption.correctLevel),this._htOption.correctLevel),
                this._oQRCode.addData(e),
                this._oQRCode.make(),
                this._el.title = e,
                this._oDrawing.draw(this._oQRCode),
                this.makeImage()
            }
            ,
            n.prototype.makeImage = function() {
                "function" == typeof this._oDrawing.makeImage && (!this._android || this._android >= 3) && this._oDrawing.makeImage()
            }
            ,
            n.prototype.clear = function() {
                this._oDrawing.clear()
            }
            ,
            n.CorrectLevel = i
        }(),
        e.exports = n
    },
    ZMu0: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.generateSessionFlowId = l,
        t.getSessionFlowid = function() {
            a || (a = l());
            return a
        }
        ,
        t.getSessionId = f,
        t.sessionPathProcess = function(e) {
            var t = (0,
            u.getSessionConfig)("sessionPath").name
              , n = f("sessionPath");
            return Object.assign(e, (0,
            s.default)({}, t, n)),
            d({
                sessionId: n
            }, "sessionPath"),
            e
        }
        ,
        t.setSessionId = d;
        var i, o, a, s = r(n("rePB")), u = n("VZYt");
        function c(e) {
            if (!(0,
            u.isBrowser)())
                return o = (0,
                u.generateRandomId)(e),
                a = l(),
                o;
            var t = (0,
            u.getRefer)()
              , n = (0,
            u.parseURL)(t)
              , r = (0,
            u.getWord)((0,
            u.getUrlProperty)("href"), (0,
            u.getUrlProperty)("pathname"))
              , s = i || (0,
            u.getWord)(t, n.pathname)
              , c = function(e) {
                var t = ""
                  , n = (0,
                u.getSessionConfig)(e);
                try {
                    t = (0,
                    u.getCookie)(n.name) || ""
                } catch (e) {}
                return t
            }(e);
            return r !== s || !(0,
            u.isMobile)() && (!c || (0,
            u.isBrowser)() && window.performance && window.performance.navigation && 1 === window.performance.navigation.type) ? (i = r,
            o = (0,
            u.generateRandomId)(),
            a = l(),
            o) : (o || (o = c || (0,
            u.generateRandomId)()),
            o)
        }
        function l() {
            return a = [o, (0,
            u.generateRandomId)()].join("-")
        }
        function f() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "sessionid";
            return c(e)
        }
        function d(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "sessionid";
            o = e.sessionId || "",
            a = e.sessionFlowId || "";
            var n = (0,
            u.getSessionConfig)(t);
            (0,
            u.setCookie)(n.name, o, n.domain, n.path)
        }
    },
    bFKZ: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = function(e) {
            var t, n = e.ver9, o = r.realUin(), a = e.visitor_id || i();
            n && !o && (a = i());
            o && !n && document.referrer && (t = "login");
            return Object.assign(e, {
                ver9: o || void 0,
                uin: r.uin() || "",
                visitor_id: a,
                ver10: t
            }),
            e
        }
        ;
        var r = n("kNBA");
        function i() {
            return ("" + Math.random()).substring(2)
        }
    },
    bFh4: function(e, t) {
        var n = function() {
            var e = {};
            return {
                listen: function(t, n) {
                    return e[t] = e[t] || [],
                    e[t].push(n),
                    this
                },
                remove: function(t) {
                    var n = e[t];
                    return n ? n.length = 0 : e[t] = void 0,
                    this
                },
                one: function(e, t) {
                    return this.remove(e),
                    this.listen(e, t)
                },
                trigger: function() {
                    var t, n;
                    n = Array.prototype.shift.call(arguments);
                    for (var r = 0, i = (t = e[n] ? e[n] : e[n] = []).length; r < i; r++)
                        if (!1 === t[r].apply(this, arguments))
                            return this;
                    return this
                }
            }
        }
          , r = {}
          , i = n();
        i.get = function(e) {
            return r[e] || (r[e] = n()),
            r[e]
        }
        ,
        e.exports = i
    },
    bKDu: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.getTestid = function() {
            var e = "";
            try {
                e = (0,
                a.query)("url_testid") || i.default.get(u) || ""
            } catch (e) {}
            return f(""),
            e
        }
        ;
        var i = r(n("kNBA"))
          , o = r(n("w6AT"))
          , a = n("zpTf")
          , s = r(n("OLEe"))
          , u = "tdw_data_testid"
          , c = "ke.qq.com"
          , l = "/";
        function f() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
            i.default.setSession(u, e, c, l)
        }
        s.default.addListener((function(e, t) {
            var n = t.target
              , r = o.default.closest(n, "[".concat("data-report-testid", "]"));
            f(r && r.getAttribute("data-report-testid") || "")
        }
        ))
    },
    c1Ye: function(e, t, n) {
        "use strict";
        var r = n("TqRt")
          , i = r(n("pdxu"))
          , o = n("PbxP")
          , a = r(n("gBRh"))
          , s = r(n("bFKZ"))
          , u = r(n("2qLn"))
          , c = r(n("3HpZ"))
          , l = r(n("Wl3z"))
          , f = n("cLX2")
          , d = n("xKLw")
          , h = n("ZMu0")
          , p = n("Y5mo")
          , v = location.pathname
          , m = window.location
          , g = {}
          , y = window.isReportorInit
          , E = !1;
        function T(e) {
            e.config({
                opername: "edu",
                platform: l.default.getPlatform(),
                url: m.href,
                refer: document.referrer
            }, {
                table: "dc03514",
                pr_ip: "clientip",
                pr_t: "reporttime",
                slicer: 4
            })
        }
        g.config = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            i.default.config(Object.assign({}, e)),
            !0 === e.closeLocal || E || (E = !0,
            i.default.initLocal && i.default.initLocal({
                whiteDomain: ["ke.qq.com"],
                crossProxy: "//ke.qq.com/storage_proxy.html",
                crossDomain: !0
            }))
        }
        ,
        g.tdw = function(e, t) {
            i.default[t ? "reportSync" : "report"](e)
        }
        ,
        g.tdwAsync = function(e, t) {
            i.default.reportSync(e, t)
        }
        ,
        g.getReportData = i.default.getCommonData,
        g.reportPageView = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            ~v.indexOf("/storage_proxy.html") || g.tdw(Object.assign({
                action: "pageview",
                url_testid: (0,
                f.getTestid)(),
                url_session_flowid: (0,
                d.getSessionFlowid)(),
                pushid: (0,
                p.query)("push_id")
            }, e))
        }
        ,
        function() {
            if (y)
                T(g = window.reportorHandler);
            else {
                window.isReportorInit = !0,
                window.reportorHandler = g,
                T(i.default),
                c.default.injectHref();
                var e = (0,
                o.getCookieData)();
                (0,
                a.default)(e),
                (0,
                s.default)(e),
                (0,
                u.default)(e, g),
                (0,
                h.sessionPathProcess)(e),
                i.default.config(e),
                (0,
                o.setCookieData)(e)
            }
        }(),
        e.exports = g
    },
    cCHk: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("FsUY"))
          , o = r(n("Wl3z"))
          , a = "report_position_key_lastpage"
          , s = "report_position_key_lasturl"
          , u = ["ui.ptlogin2.qq.com/cgi-bin/login", "open.weixin.qq.com/connect/oauth2/authorize"]
          , c = document.referrer;
        var l = o.default.parseHref(c)
          , f = l.domain + l.pathname
          , d = {
            get: function() {
                var e;
                this.del();
                try {
                    e = i.default.get(a),
                    e = JSON.parse(e)
                } catch (e) {}
                return e
            },
            set: function(e) {
                var t = location.href;
                i.default.set(a, JSON.stringify(e)),
                i.default.set(s, encodeURIComponent(t))
            },
            del: function() {
                this.shouldClear() && i.default.del(a)
            },
            shouldClear: function() {
                var e, t, n = location.href, r = i.default.get(s);
                return e = n,
                t = r,
                !(o.default.delParam(e, "tuin") === o.default.delParam(t, "tuin") || u.indexOf(f) >= 0)
            }
        };
        t.default = d
    },
    cLX2: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.getTestid = function() {
            var e = "";
            try {
                e = (0,
                o.query)("url_testid") || s.get(u) || ""
            } catch (e) {}
            return f(""),
            e
        }
        ;
        var i = r(n("Wl3z"))
          , o = n("Y5mo")
          , a = r(n("3HpZ"))
          , s = n("kNBA")
          , u = "tdw_data_testid"
          , c = "ke.qq.com"
          , l = "/";
        function f() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
            s.setSession(u, e, c, l)
        }
        a.default.addListener((function(e, t) {
            var n = t.target
              , r = i.default.closest(n, "[".concat("data-report-testid", "]"));
            f(r && r.getAttribute("data-report-testid") || "")
        }
        ))
    },
    cYNR: function(e, t, n) {},
    d5di: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("q1tI"))
          , o = r(n("TSYQ"))
          , a = r(n("YiKP"));
        function s(e) {
            var t = e.type
              , n = e.size
              , r = e.text
              , s = e.className
              , u = (0,
            o.default)("s-msg-tips", s, {
                "s-msg-tips--m": "m" === t,
                "s-msg-tips--l": "l" === t
            });
            return i.default.createElement("div", {
                className: u
            }, i.default.createElement(a.default, {
                type: t,
                size: n
            }), i.default.isValidElement(r) ? r : r && i.default.createElement("p", {
                className: "msg-tips-txt"
            }, r))
        }
        n("2UBB"),
        s.defaultProps = {
            type: "info",
            size: "s"
        };
        var u = s;
        t.default = u
    },
    dnBF: function(e, t, n) {},
    dyw7: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.isAndroid = function() {
            if (i.indexOf("android") > 0)
                return !0;
            return !1
        }
        ,
        t.isApp = function() {
            return -1 != i.indexOf("educationapp") || -1 != i.indexOf("eduapp")
        }
        ,
        t.isBaiduApp = function() {
            return -1 != i.indexOf("baiduboxapp")
        }
        ,
        t.isIOS = s,
        t.isIOSMiniProgram = function() {
            return s() && u()
        }
        ,
        t.isMacClient = o,
        t.isMacClientLite = function() {
            return o() && /EduLite/.test(navigator.userAgent)
        }
        ,
        t.isMiniProgram = u,
        t.isMobile = function() {
            return /iPhone|iPod|Android|iPad/i.test(i)
        }
        ,
        t.isPCClient = function() {
            return o() || a() || !!(0,
            r.getHash)("client")
        }
        ,
        t.isWeAppke = function() {
            return "weappke" === (0,
            r.query)("sfrom")
        }
        ,
        t.isWeiboApp = function() {
            return -1 != i.indexOf(" weibo ")
        }
        ,
        t.isWeixin = function() {
            return -1 != i.indexOf("micromessenger")
        }
        ,
        t.isWinClient = a,
        t.isWinClientLite = function() {
            return a() && /EduLite/.test(navigator.userAgent)
        }
        ,
        t.qqVersion = function() {
            var e = i.match(/qq\/(\d+\.\d+(\.\d+)?)/i);
            return e && e[1] || 0
        }
        ;
        var r = n("Y5mo")
          , i = navigator.userAgent.toLowerCase() || "";
        function o() {
            return /EduMac/i.test(i)
        }
        function a() {
            var e = window.external && window.external.CallHummerApi;
            return /EduWin/i.test(i) || /TXEdu/i.test(i) || !!e
        }
        function s() {
            return !!/iPhone|iPod/i.test(i)
        }
        function u() {
            var e = !!window.location.search.match(new RegExp("(\\?|&)mp=([^&]*)(&|$)"))
              , t = window.localStorage && !!localStorage.getItem("webViewIsMp");
            return "miniprogram" === window.__wxjs_environment || e || t
        }
    },
    e6Hx: function(e, t, n) {
        "use strict";
        var r, i, o, a, s, u, c, l, f;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.ReportLevel = t.HLS_ERROR_MONITORID = t.QCLOUD_VOD_EVENTS = t.PLAYBACK_EVENTS = t.FLV_EVENTS = t.HLSErrorTypes = t.HLS_EVENTS = t.LEB_EVENTS = t.QWEBRTC_EVENTS = t.TRTC_EVENTS = t.WEBRTC_EVENTS = void 0,
        t.WEBRTC_EVENTS = r,
        function(e) {
            e.SDKERROR = "sdkerror",
            e.SUPPORT_WEBRTC = "support_webrtc",
            e.NOT_SUPPORT_WEBRTC = "not_support_webrtc",
            e.CHANNEL_START = "channel_start",
            e.CHANNEL_FAIL = "channel_fail",
            e.CHANNEL_SUCC = "channel_succ",
            e.CHANNEL_NEED_RECONNECT = "channel_need_reconnnected",
            e.CHANNEL_RECONNECT = "channel_reconnnect",
            e.CHANNEL_RECONNECT_SUCC = "channel_reconnnect_succ",
            e.CHANNEL_RECONNECT_FAIL = "channel_reconnnect_fail",
            e.ENTERROOM_START = "enterroomstart",
            e.ENTERROOM_FAIL = "enterroomfail",
            e.ENTERROOM_SUCC = "enterroomsucc",
            e.CREATEPEER_SUCC = "createpeersucc",
            e.CREATEPEER_FAIL = "createpeerfail",
            e.LOCAL_SDP = "localsdp",
            e.REMOTE_SDP = "remotesdp",
            e.SDP_FAIL = "sdpfail",
            e.SDP_SUCC = "sdpsucc",
            e.STREAM_ADD = "stream_add",
            e.STREAM_REMOVE = "stream_remove",
            e.STREAM_UPDATE = "stream_update",
            e.LOCAL_CANDIDATE = "local_candidate",
            e.REMOTE_CANDIDATE = "remote_candidate",
            e.ICE_START = "icestart",
            e.ICE_SUCC = "icesucc",
            e.ICE_FAIL = "icefail",
            e.ICE_DISCONNECT = "icedisconnect",
            e.FIRST_VIDEO = "firstvideo",
            e.FIRST_AUDIO = "firstaudio",
            e.LOADED_VIDEO = "loadedvideo",
            e.LOADED_AUDIO = "loadedaudio",
            e.KICK_OUT = "kickout",
            e.RTC_FREEZE = "freeze",
            e.WAITING_RTC_FREEZE = "waiting_rtc_freeze"
        }(r || (t.WEBRTC_EVENTS = r = {})),
        t.TRTC_EVENTS = i,
        function(e) {
            e.SDKERROR = "sdkerror",
            e.SUPPORT_WEBRTC = "support_webrtc",
            e.NOT_SUPPORT_WEBRTC = "not_support_webrtc",
            e.CHANNEL_START = "channel_start",
            e.CHANNEL_FAIL = "channel_fail",
            e.CHANNEL_SUCC = "channel_succ",
            e.CHANNEL_NEED_RECONNECT = "channel_need_reconnnected",
            e.CHANNEL_RECONNECT = "channel_reconnnect",
            e.CHANNEL_RECONNECT_SUCC = "channel_reconnnect_succ",
            e.CHANNEL_RECONNECT_FAIL = "channel_reconnnect_fail",
            e.ENTERROOM_START = "enterroomstart",
            e.ENTERROOM_FAIL = "enterroomfail",
            e.ENTERROOM_SUCC = "enterroomsucc",
            e.ENTERROOM_ABORT = "enterroomabort",
            e.ICE_START = "icestart",
            e.ICE_SUCC = "icesucc",
            e.ICE_FAIL = "icefail",
            e.ICE_DISCONNECT = "icedisconnect",
            e.STREAM_ADD = "stream_add",
            e.STREAM_REMOVE = "stream_remove",
            e.STREAM_UPDATE = "stream_update",
            e.SUBSCRIBE_SUCC = "subscribe_succ",
            e.SUBSCRIBE_FAIL = "subscribe_fail",
            e.DISCONNECTED = "disconnect",
            e.CONNECTING = "connecting",
            e.RECONNECTING = "reconnecting",
            e.CONNECTED = "connected",
            e.KICK_OUT = "kickout",
            e.RTC_FREEZE = "freeze",
            e.RTC_QUALITY = "rtc_quality",
            e.DOWNLINK_CONNECTION_FAIL = "downlink_connection_fail",
            e.UPLINK_CONNECTION_FAIL = "uplink_connection_fail"
        }(i || (t.TRTC_EVENTS = i = {})),
        t.QWEBRTC_EVENTS = o,
        function(e) {
            e.SDKERROR = "sdkerror",
            e.SUPPORT_WEBRTC = "support_webrtc",
            e.NOT_SUPPORT_WEBRTC = "not_support_webrtc",
            e.SESSION = "session",
            e.CHANNEL_START = "channel_start",
            e.CHANNEL_FAIL = "channel_fail",
            e.CHANNEL_SUCC = "channel_succ",
            e.CHANNEL_NEED_RECONNECT = "channel_need_reconnnected",
            e.CHANNEL_RECONNECT = "channel_reconnnect",
            e.CHANNEL_RECONNECT_SUCC = "channel_reconnnect_succ",
            e.CHANNEL_RECONNECT_FAIL = "channel_reconnnect_fail",
            e.ENTERROOM_START = "enterroomstart",
            e.ENTERROOM_FAIL = "enterroomfail",
            e.ENTERROOM_SUCC = "enterroomsucc",
            e.CREATEPEER_SUCC = "createpeersucc",
            e.CREATEPEER_FAIL = "createpeerfail",
            e.LOCAL_SDP = "localsdp",
            e.REMOTE_SDP = "remotesdp",
            e.SDP_FAIL = "sdpfail",
            e.SDP_SUCC = "sdpsucc",
            e.STREAM_ADD = "stream_add",
            e.STREAM_REMOVE = "stream_remove",
            e.STREAM_UPDATE = "stream_update",
            e.LOCAL_CANDIDATE = "local_candidate",
            e.REMOTE_CANDIDATE = "remote_candidate",
            e.ICE_START = "icestart",
            e.ICE_SUCC = "icesucc",
            e.ICE_FAIL = "icefail",
            e.ICE_DISCONNECT = "icedisconnect",
            e.FIRST_VIDEO = "firstvideo",
            e.FIRST_AUDIO = "firstaudio",
            e.LOADED_VIDEO = "loadedvideo",
            e.LOADED_AUDIO = "loadedaudio",
            e.KICK_OUT = "kickout",
            e.RTC_FREEZE = "freeze",
            e.WAITING_RTC_FREEZE = "waiting_rtc_freeze",
            e.HTTP_SIGNAL_PULL_START = "http_signal_pull_start",
            e.HTTP_SIGNAL_PULL_SUCC = "http_signal_pull_succ",
            e.HTTP_SIGNAL_PULL_FAIL = "http_signal_pull_fail",
            e.HTTP_SIGNAL_STOP_START = "http_signal_stop_start",
            e.HTTP_SIGNAL_STOP_SUCC = "http_signal_stop_succ",
            e.HTTP_SIGNAL_STOP_FAIL = "http_signal_stop_fail"
        }(o || (t.QWEBRTC_EVENTS = o = {})),
        t.LEB_EVENTS = a,
        function(e) {
            e.SUPPORT_WEBRTC = "support_webrtc",
            e.NOT_SUPPORT_WEBRTC = "not_support_webrtc",
            e.CLIENT_READY = "client_ready",
            e.STREAM_ADD = "stream_add",
            e.STREAM_REMOVE = "stream_remove",
            e.STREAM_EMPTY_PACKAGE = "stream_empty_package",
            e.REQUEST_PULL_BEGIN = "request_pull_begin",
            e.REQUEST_FIRST_PULL_BEGIN = "request_first_pull_begin",
            e.REQUEST_PULL_SUCCESS = "request_pull_succ",
            e.REQUEST_PULL_FAIL = "request_pull_fail",
            e.REQUEST_PULL_RETRY = "request_pull_retry",
            e.REQUEST_PULL_RETRY_SUCCESS = "request_pull_retry_succ",
            e.REQUEST_PULL_RETRY_FAIL = "request_pull_retry_fail",
            e.FREEZE_START = "freeze_start",
            e.FREEZE_END = "freeze_end",
            e.STREAM_BEGIN = "stream_begin",
            e.SERVER_CONNECTED = "server_connected",
            e.SERVER_RECONNECT = "server_reconnected",
            e.SERVER_DISCONNECTED = "server_disconnected",
            e.PLAY_FAIL = "play_fail",
            e.PLAY_DECODE_ERROR = "play_decode_error",
            e.NO_FRAME_DECODED = "no_frame_decoded"
        }(a || (t.LEB_EVENTS = a = {})),
        t.HLS_EVENTS = s,
        function(e) {
            e.SRC_INVALID = "src_invalid",
            e.NATIVE_SUPPORT = "native_support_hls",
            e.HLSJS_SUPPORT = "hlsjs_support_hls",
            e.UNKNOWN_SUPOPORT = "unkonw_support_hls",
            e.HLS_FREEZE = "hls_freeze",
            e.HLS_ERROR = "hls_error",
            e.HLSJS_ERROR = "hlsjs_error",
            e.MANIFEST_LOADING = "hlsManifestLoading",
            e.MANIFEST_LOADED = "hlsManifestLoaded",
            e.FRAG_LOADING = "hlsFragLoading",
            e.FRAG_LOADED = "hlsFragLoaded",
            e.KEY_LOADING = "hlsKeyLoading",
            e.KEY_LOADED = "hlsKeyLoaded",
            e.FRAG_DECRYPT_ERROR = "fragDecryptError",
            e.FRAG_LOAD_ERROR = "fragLoadError",
            e.FRAG_LOAD_TIMEOUT = "fragLoadTimeOut",
            e.FRAG_PARSING_ERROR = "fragParsingError",
            e.MANIFEST_LOAD_ERROR = "manifestLoadError",
            e.MANIFEST_LOAD_TIMEOUT = "manifestLoadTimeOut",
            e.LEVEL_LOAD_ERROR = "levelLoadError",
            e.LEVEL_LOAD_TIMEOUT = "levelLoadTimeOut",
            e.BUFFER_APPENDING = "hlsBufferAppending",
            e.BUFFER_APPENDED = "hlsBufferAppended",
            e.BUFFER_CREATED = "hlsBufferCreated",
            e.FRAG_BUFFERED = "hlsFragBuffered",
            e.FRAG_CHANGED = "hlsFragChanged",
            e.BUFFER_FLUSHED = "hlsBufferFlushed",
            e.BUFFER_FLUSHING = "hlsBufferFlushing"
        }(s || (t.HLS_EVENTS = s = {})),
        t.HLSErrorTypes = u,
        function(e) {
            e[e.NETWORK_ERROR = 24] = "NETWORK_ERROR",
            e[e.MEDIA_ERROR = 25] = "MEDIA_ERROR",
            e[e.MUX_ERROR = 26] = "MUX_ERROR",
            e[e.OTHER_ERROR = 27] = "OTHER_ERROR"
        }(u || (t.HLSErrorTypes = u = {})),
        t.FLV_EVENTS = c,
        function(e) {
            e.FLV_FREEZE = "flv_freeze",
            e.FLV_QUALITY = "flv_quality",
            e.FLV_VIDEO_PACKET_LOST = "flv_video_packetlost",
            e.FLV_SDK_EVT = "flv_sdk_evt",
            e.FLV_NO_STREAM = "flv_no_stream",
            e.WAITING_FLV_FREEZE = "waiting_flv_freeze",
            e.FLV_SDK_ERROR = "sdk_error",
            e.NOT_SUPPORT = "not_support_flv",
            e.SUPPORT_FLV = "support_flv",
            e.SDK_ERROR = "sdk_error"
        }(c || (t.FLV_EVENTS = c = {})),
        t.PLAYBACK_EVENTS = l,
        function(e) {
            e.FETCH_INFO_TRY = "fetch_info_try",
            e.FETCH_INFO_ERROR = "fetch_info_error",
            e.FETCH_INFO_RETURN_ERROR = "fetch_info_return_error",
            e.FETCH_INFO_FAIL_AFTER_RETRY = "fetch_info_fail_after_retry",
            e.FETCH_INFO_SUCC = "fetch_info_succ",
            e.ERROR_NO_PLAYLIST = "error_no_playlist",
            e.HLS_ERROR_NOSRC = "hls_error_nosrc",
            e.HLS_ERROR_SDK = "hls_error_sdk",
            e.PLAYBACK_FREEZE = "playback_freeze"
        }(l || (t.PLAYBACK_EVENTS = l = {})),
        t.QCLOUD_VOD_EVENTS = f,
        function(e) {
            e.FETCH_INFO_TRY = "fetch_info_try",
            e.FETCH_INFO_RETRY = "fetch_info_retry",
            e.FETCH_INFO_ERROR = "fetch_info_error",
            e.FETCH_INFO_RETURN_ERROR = "fetch_info_return_error",
            e.FETCH_INFO_FAIL_AFTER_RETRY = "fetch_info_fail_after_retry",
            e.FETCH_INFO_SUCC = "fetch_info_succ",
            e.ERROR_NO_PLAYLIST = "error_no_playlist",
            e.FETCH_DURATION = "fetch_duration"
        }(f || (t.QCLOUD_VOD_EVENTS = f = {}));
        t.HLS_ERROR_MONITORID = {
            manifestLoadError: 240001,
            levelLoadError: 240002,
            fragLoadError: 240003
        };
        t.ReportLevel = {
            live_play: 1,
            live_disconnect: 2,
            vod_play: 1,
            vod_stop: 2,
            vod_continue: 1,
            vod_block: 2,
            vod_seek: 1
        }
    },
    eLoO: function(e, t, n) {
        "use strict";
        var r = n("TqRt")
          , i = n("cDf5");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var o = r(n("1OyB"))
          , a = r(n("vuIU"))
          , s = r(n("JX7q"))
          , u = r(n("Ji7U"))
          , c = r(n("md7G"))
          , l = r(n("foSv"))
          , f = r(n("rePB"))
          , d = function(e, t) {
            if (!t && e && e.__esModule)
                return e;
            if (null === e || "object" !== i(e) && "function" != typeof e)
                return {
                    default: e
                };
            var n = p(t);
            if (n && n.has(e))
                return n.get(e);
            var r = {}
              , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var a in e)
                if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                    var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                    s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                }
            r.default = e,
            n && n.set(e, r);
            return r
        }(n("q1tI"))
          , h = r(n("EGJm"));
        function p(e) {
            if ("function" != typeof WeakMap)
                return null;
            var t = new WeakMap
              , n = new WeakMap;
            return (p = function(e) {
                return e ? n : t
            }
            )(e)
        }
        function v(e) {
            var t = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                    ))),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var n, r = (0,
                l.default)(e);
                if (t) {
                    var i = (0,
                    l.default)(this).constructor;
                    n = Reflect.construct(r, arguments, i)
                } else
                    n = r.apply(this, arguments);
                return (0,
                c.default)(this, n)
            }
        }
        var m = function(e) {
            (0,
            u.default)(n, e);
            var t = v(n);
            function n(e) {
                var r;
                return (0,
                o.default)(this, n),
                r = t.call(this, e),
                (0,
                f.default)((0,
                s.default)(r), "clickHandler", (function() {
                    var e = r.state.checked
                      , t = r.props
                      , n = t.value
                      , i = t.onChange;
                    i && i(!e, n),
                    r.setState({
                        checked: !e
                    })
                }
                )),
                r.state = {
                    checked: e.checked || !1
                },
                r
            }
            return (0,
            a.default)(n, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.className
                      , n = e.name
                      , r = e.label
                      , i = e.disabled
                      , o = e.value;
                    return d.default.createElement(h.default, {
                        name: n,
                        className: t,
                        isChecked: this.state.checked,
                        type: "checkbox",
                        prefixIcon: "icon",
                        label: r,
                        value: o,
                        disabled: i,
                        onChange: this.clickHandler
                    })
                }
            }], [{
                key: "getDerivedStateFromProps",
                value: function(e, t) {
                    var n = e.checked;
                    return void 0 !== n && n !== t.checked ? {
                        checked: e.checked
                    } : {
                        checked: t.checked
                    }
                }
            }]),
            n
        }(d.Component);
        t.default = m
    },
    eiuo: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.LEBErrorEvents = t.LEBEvents = t.SubEventName = t.ENS_VALUE = void 0;
        var r;
        t.ENS_VALUE = "LEB",
        t.SubEventName = r,
        function(e) {
            e.SUPPORT_WEBRTC = "support_webrtc",
            e.NOT_SUPPORT_WEBRTC = "not_support_webrtc",
            e.CLIENT_READY = "client_ready",
            e.STREAM_ADD = "stream_add",
            e.STREAM_REMOVE = "stream_remove",
            e.STREAM_EMPTY_PACKAGE = "stream_empty_package",
            e.REQUEST_PULL_BEGIN = "request_pull_begin",
            e.REQUEST_FIRST_PULL_BEGIN = "request_first_pull_begin",
            e.REQUEST_PULL_SUCCESS = "request_pull_succ",
            e.REQUEST_PULL_FAIL = "request_pull_fail",
            e.REQUEST_PULL_RETRY = "request_pull_retry",
            e.REQUEST_PULL_RETRY_SUCCESS = "request_pull_retry_succ",
            e.REQUEST_PULL_RETRY_FAIL = "request_pull_retry_fail",
            e.FREEZE_START = "freeze_start",
            e.FREEZE_END = "freeze_end",
            e.STREAM_BEGIN = "stream_begin",
            e.SERVER_CONNECTED = "server_connected",
            e.SERVER_RECONNECT = "server_reconnected",
            e.SERVER_DISCONNECTED = "server_disconnected",
            e.PLAY_FAIL = "play_fail",
            e.PLAY_DECODE_ERROR = "play_decode_error",
            e.NO_FRAME_DECODED = "no_frame_decoded"
        }(r || (t.SubEventName = r = {}));
        t.LEBEvents = {
            PLAY_EVT_STREAM_BEGIN: 1001,
            PLAY_EVT_SERVER_CONNECTED: 1002,
            PLAY_EVT_PLAY_BEGIN: 1003,
            PLAY_EVT_PLAY_STOP: 1004,
            PLAY_EVT_SERVER_RECONNECT: 1005,
            PLAY_EVT_STREAM_EMPTY: 1006,
            PLAY_EVT_REQUEST_PULL_BEGIN: 1007,
            PLAY_EVT_REQUEST_PULL_SUCCESS: 1008,
            PLAY_EVT_PLAY_WAITING_BEGIN: 1009,
            PLAY_EVT_PLAY_WAITING_STOP: 1010
        };
        t.LEBErrorEvents = {
            PLAY_ERR_WEBRTC_FAIL: -2001,
            PLAY_ERR_REQUEST_PULL_FAIL: -2002,
            PLAY_ERR_PLAY_FAIL: -2003,
            PLAY_ERR_SERVER_DISCONNECT: -2004,
            PLAY_ERR_DECODE_FAIL: -2005
        }
    },
    ewv3: function(e, t, n) {},
    faUm: function(e, t, n) {
        e.exports = n("49vy")
    },
    fyvy: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.initQWebrtcReporterEvent = t.initWebrtcReporterEvent = void 0;
        var i = r(n("3/DG"))
          , o = n("e6Hx")
          , a = n("AMcO");
        t.initWebrtcReporterEvent = function(e, t, n) {
            var r, s, u, c, l, f;
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.ICE_FAIL), (function(e) {
                var n;
                if (!r && s) {
                    var o = e.ts
                      , u = e.subType
                      , c = e.detail ? (0,
                    i.default)(e.detail) : "";
                    (0,
                    a.consolelog)("WEBRTC", u, o, 0, "ICE连接失败-ts:".concat(o, "-detail:").concat(c)),
                    null === (n = t.reportLiveDisconnectReason) || void 0 === n || n.call(t, 2),
                    r = !0
                }
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.ICE_DISCONNECT), (function(e) {
                if (s)
                    return !1;
                var t = e.subType
                  , n = e.ts
                  , r = e.detail ? (0,
                i.default)(e.detail) : "";
                (0,
                a.consolelog)("WEBRTC", t, n, 0, "ICE连接断开-ts:".concat(n, "-detail:").concat(r)),
                s = !0
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.ENTERROOM_START), (function(e) {
                var n, r = e.ts;
                u = r,
                null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                a.getMetricItem)("EnterRoomStart", 0))
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.ENTERROOM_SUCC), (function(e) {
                var n, r = e.ts;
                c = r,
                null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                a.getMetricItem)("EnterRoomSucc", Date.now() - u))
            }
            )),
            e.on("loadedmetadata", (function() {
                var e, n;
                null === (e = t.updateLivePlayMetrics) || void 0 === e || e.call(t, (0,
                a.getMetricItem)("LoadMetadataFromEnterRoomStart", Date.now() - u)),
                null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                a.getMetricItem)("LoadMetadataFromEnterRoomSucc", Date.now() - c))
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.SUPPORT_WEBRTC), (function() {
                var e;
                null === (e = t.updateLivePlayMetrics) || void 0 === e || e.call(t, (0,
                a.getMetricItem)("SupportWebRTC", 0))
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.NOT_SUPPORT_WEBRTC), (function() {
                var e, n;
                null === (e = t.updateLivePlayMetrics) || void 0 === e || e.call(t, (0,
                a.getMetricItem)("NotSupportWebRTC", 0)),
                null === (n = t.reportStartPlayFail) || void 0 === n || n.call(t, "live_play")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.ICE_START), (function(e) {
                var t = e.ts;
                l = t
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.ICE_SUCC), (function(e) {
                var n, r = e.ts;
                f || (null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                a.getMetricItem)("ICECost", r - l)));
                f = !0
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.STREAM_ADD), (function(e) {
                var t = e.ts;
                n.streamAddTime = t
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.ENTERROOM_FAIL), (function(e) {
                var n, r;
                null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                a.getMetricItem)("EnterRoomFail", 0)),
                null === (r = t.reportStartPlayFail) || void 0 === r || r.call(t, "live_play")
            }
            ))
        }
        ;
        t.initQWebrtcReporterEvent = function(e, t, n) {
            var r, s, u = Boolean(null === (r = e.options) || void 0 === r || null === (s = r.qwebrtc) || void 0 === s ? void 0 : s.useHttp) ? "HTTP_QWEBRTC" : "QWEBRTC", c = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.CHANNEL_RECONNECT_FAIL);
            e.on(c, (function(e) {
                (0,
                a.consolelog)(u, e, "信令通道重连失败")
            }
            ));
            var l, f, d, h, p = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.ICE_FAIL), v = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.ICE_DISCONNECT);
            e.on(p, (function(e) {
                var n, r, o = e.ts, s = e.subType, c = e.detail ? (0,
                i.default)(e.detail) : "";
                !l && f ? ((0,
                a.consolelog)(u, s, o, 0, "ICE连接失败-ts:".concat(o, "-detail:").concat(c)),
                null === (n = t.reportLiveDisconnectReason) || void 0 === n || n.call(t, 2),
                l = !0) : l || ((0,
                a.consolelog)(u, "icefail_not_disconnected", o, 0, "ICE连接失败-ts:".concat(o, "-detail:").concat(c)),
                null === (r = t.reportLiveDisconnectReason) || void 0 === r || r.call(t, 2))
            }
            )),
            e.on(v, (function(e) {
                var n;
                if (f)
                    return !1;
                var r = e.subType
                  , o = e.ts
                  , s = e.detail ? (0,
                i.default)(e.detail) : "";
                (0,
                a.consolelog)(u, r, o, 0, "ICE连接断开-ts:".concat(o, "-detail:").concat(s)),
                null === (n = t.reportLiveDisconnectReason) || void 0 === n || n.call(t, 2),
                f = !0
            }
            )),
            e.on((0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.SUPPORT_WEBRTC), (function() {
                var e;
                null === (e = t.updateLivePlayMetrics) || void 0 === e || e.call(t, (0,
                a.getMetricItem)("SupportWebRTC", 0))
            }
            )),
            e.on((0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.NOT_SUPPORT_WEBRTC), (function() {
                var e, n;
                null === (e = t.updateLivePlayMetrics) || void 0 === e || e.call(t, (0,
                a.getMetricItem)("NotSupportWebRTC", 0)),
                null === (n = t.reportStartPlayFail) || void 0 === n || n.call(t, "live_play")
            }
            )),
            e.on((0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.ICE_START), (function(e) {
                var t = e.ts;
                d = t
            }
            )),
            e.on((0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.ICE_SUCC), (function(e) {
                var n, r = e.ts;
                h || (null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                a.getMetricItem)("ICECost", r - d)));
                h = !0
            }
            )),
            e.on((0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.STREAM_ADD), (function(e) {
                var t = e.ts;
                n.streamAddTime = t
            }
            ));
            var m = {};
            e.on((0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.HTTP_SIGNAL_PULL_START), (function(e) {
                var n;
                m[e.detail] = Date.now(),
                null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                a.getMetricItem)("PullStreamStart", 0))
            }
            )),
            e.on((0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.HTTP_SIGNAL_PULL_SUCC), (function(e) {
                try {
                    var n, r = e.detail.data.reqBody.streamurl;
                    m[r];
                    var i = Date.now()
                      , o = m[r] ? i - m[r] : -1;
                    null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                    a.getMetricItem)("PullStreamSucc", o)),
                    delete m[r]
                } catch (e) {
                    var s;
                    null === (s = t.updateLivePlayMetrics) || void 0 === s || s.call(t, (0,
                    a.getMetricItem)("PullStreamFail", 0))
                }
            }
            )),
            e.on((0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.HTTP_SIGNAL_PULL_FAIL), (function(e) {
                var n, r = e.detail, i = r.message, o = r.reqBody;
                null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                a.getMetricItem)("PullStreamFail", 0, "http pull stream信令失败:err-".concat(i, ",streamurl-").concat(null == o ? void 0 : o.streamurl)))
            }
            ));
            var g = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.RTC_FREEZE);
            e.on(g, (function(e) {
                var r, i, s = Date.now(), u = e.detail.toFixed(0), c = s - n.playStart;
                n.playStart = s,
                null === (r = t.updateLivePlayMetrics) || void 0 === r || r.call(t, (0,
                a.getMetricItem)("QwebrtcFreezeTime", u, "快直播卡顿时长 ".concat(u, ", 播放时长 ").concat(c, ", 触发时间 ").concat(s))),
                null === (i = t.updateLivePlayMetrics) || void 0 === i || i.call(t, (0,
                a.getMetricItem)("QwebrtcPlayTime", c, "快直播卡顿时长 ".concat(u, ", 播放时长 ").concat(c, ", 触发时间 ").concat(s))),
                (0,
                a.newReport)("live_play", o.ReportLevel.live_play, t.getLivePlay()).then((function() {
                    t.resetFields()
                }
                ))
            }
            ))
        }
    },
    gBRh: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = function(e) {
            e = e || {};
            var t = function() {
                for (var e = ["saleToken", "flowToken", "tuin", "from"], t = 0, n = e.length; t < n; t++) {
                    var i = e[t]
                      , o = (0,
                    r.query)(i);
                    if (o)
                        return {
                            sourcetype: i,
                            sourcefrom: o
                        }
                }
                return {}
            }()
              , n = +("0x" + ((0,
            r.query)("tuin") || (0,
            r.getHash)("tuin"))).toString(10);
            return e.auin = e.auin || n || "-",
            e.sourcetype = e.sourcetype || t.sourcetype || "",
            e.sourcefrom = e.sourcefrom || t.sourcefrom || "",
            e
        }
        ;
        var r = n("Y5mo")
    },
    gSsk: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        Object.defineProperty(t, "Form", {
            enumerable: !0,
            get: function() {
                return o.default
            }
        }),
        Object.defineProperty(t, "FormContext", {
            enumerable: !0,
            get: function() {
                return a.default
            }
        }),
        Object.defineProperty(t, "FormItem", {
            enumerable: !0,
            get: function() {
                return i.default
            }
        }),
        Object.defineProperty(t, "withFormContext", {
            enumerable: !0,
            get: function() {
                return s.default
            }
        });
        var i = r(n("tJIr"))
          , o = r(n("YuVz"))
          , a = r(n("8H4/"))
          , s = r(n("AlOd"))
    },
    gswl: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("Ff2n"))
          , o = r(n("q1tI"));
        n("+1wN");
        var a = ["className", "type", "size"];
        var s = function(e) {
            var t = e.className
              , n = e.type
              , r = e.size
              , s = (0,
            i.default)(e, a)
              , u = t ? "icon-css icon-css-".concat(n, " ").concat(t) : "icon-css icon-css-".concat(n);
            return u = r ? "".concat(u, " icon-css--").concat(r) : "".concat(u),
            o.default.createElement("i", Object.assign({
                className: u
            }, s))
        };
        t.default = s
    },
    hFGo: function(e, t, n) {
        "use strict";
        var r = n("TqRt")
          , i = n("cDf5");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var o = r(n("1OyB"))
          , a = r(n("vuIU"))
          , s = r(n("JX7q"))
          , u = r(n("Ji7U"))
          , c = r(n("md7G"))
          , l = r(n("foSv"))
          , f = r(n("rePB"))
          , d = function(e, t) {
            if (!t && e && e.__esModule)
                return e;
            if (null === e || "object" !== i(e) && "function" != typeof e)
                return {
                    default: e
                };
            var n = v(t);
            if (n && n.has(e))
                return n.get(e);
            var r = {}
              , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var a in e)
                if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                    var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                    s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                }
            r.default = e,
            n && n.set(e, r);
            return r
        }(n("q1tI"))
          , h = r(n("i8i4"))
          , p = r(n("TSYQ"));
        function v(e) {
            if ("function" != typeof WeakMap)
                return null;
            var t = new WeakMap
              , n = new WeakMap;
            return (v = function(e) {
                return e ? n : t
            }
            )(e)
        }
        function m(e) {
            var t = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                    ))),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var n, r = (0,
                l.default)(e);
                if (t) {
                    var i = (0,
                    l.default)(this).constructor;
                    n = Reflect.construct(r, arguments, i)
                } else
                    n = r.apply(this, arguments);
                return (0,
                c.default)(this, n)
            }
        }
        n("OZV6");
        var g = function(e) {
            (0,
            u.default)(n, e);
            var t = m(n);
            function n(e) {
                var r;
                return (0,
                o.default)(this, n),
                r = t.call(this, e),
                (0,
                f.default)((0,
                s.default)(r), "toggleShow", (function(e, t) {
                    var n = r.state.active
                      , i = r.props.trigger;
                    n || r.calcTipsPosition(t.target),
                    "hover" === i ? r.setState({
                        active: "mouseEnter" === e
                    }) : r.setState({
                        active: !n
                    })
                }
                )),
                r.tooltips = d.default.createRef(),
                r.triggerNode = d.default.createRef(),
                r.state = {
                    active: e.visible || !1
                },
                r
            }
            return (0,
            a.default)(n, [{
                key: "componentDidMount",
                value: function() {
                    this.props.defaultShow && this.calcTipsPosition(this.triggerNode.current)
                }
            }, {
                key: "componentWillUnmount",
                value: function() {
                    this.defaultNode && (document.body.removeChild(this.defaultNode),
                    this.defaultNode = null)
                }
            }, {
                key: "getNodeRect",
                value: function(e) {
                    var t = e.getBoundingClientRect()
                      , n = document.documentElement.scrollTop || document.body.scrollTop
                      , r = document.documentElement.scrollLeft || document.body.scrollLeft;
                    return {
                        top: t.top + n,
                        right: t.right + r,
                        left: t.left + r,
                        bottom: t.bottom + n,
                        width: t.width,
                        height: t.height
                    }
                }
            }, {
                key: "calcTipsPosition",
                value: function(e) {
                    var t = this.props.placement
                      , n = {
                        top: "auto",
                        right: "atuo",
                        bottom: "auto",
                        left: "auto"
                    }
                      , r = {}
                      , i = this.getNodeRect(e);
                    function o(e) {
                        r = Object.assign({}, n, e)
                    }
                    switch (t) {
                    case "top":
                    default:
                        o({
                            top: i.top,
                            left: i.left + i.width / 2
                        });
                        break;
                    case "topLeft":
                        o({
                            top: i.top,
                            left: i.left
                        });
                        break;
                    case "topRight":
                        o({
                            top: i.top,
                            left: i.left + i.width
                        });
                        break;
                    case "bottom":
                        o({
                            top: i.top + i.height,
                            left: i.left + i.width / 2
                        });
                        break;
                    case "bottomLeft":
                        o({
                            top: i.top + i.height,
                            left: i.left
                        });
                        break;
                    case "bottomRight":
                        o({
                            top: i.top + i.height,
                            left: i.left + i.width
                        });
                        break;
                    case "right":
                        o({
                            left: i.left + i.width,
                            top: i.top + i.height / 2
                        });
                        break;
                    case "rightTop":
                        o({
                            left: i.left + i.width,
                            top: i.top
                        });
                        break;
                    case "rightBottom":
                        o({
                            left: i.left + i.width,
                            top: i.top + i.height
                        });
                        break;
                    case "left":
                        o({
                            left: i.left,
                            top: i.top + i.height / 2
                        });
                        break;
                    case "leftTop":
                        o({
                            left: i.left,
                            top: i.top
                        });
                        break;
                    case "leftBottom":
                        o({
                            left: i.left,
                            top: i.top + i.height
                        })
                    }
                    var a = this.tooltips.current;
                    Object.keys(r).forEach((function(e) {
                        var t = r[e];
                        a.style[e] = "auto" === t ? "auto" : "".concat(t, "px")
                    }
                    ))
                }
            }, {
                key: "handleEvent",
                value: function(e, t, n) {
                    var r = n["on".concat(e[0].toUpperCase()).concat(e.slice(1))];
                    r && r(t),
                    this.toggleShow(e, t)
                }
            }, {
                key: "renderTooltips",
                value: function() {
                    var e = this.props
                      , t = e.className
                      , n = e.placement
                      , r = e.bd
                      , i = (0,
                    p.default)("s-tooltips", t, {
                        active: this.state.active,
                        "tooltips--top": "top" === n,
                        "tooltips--right": "right" === n,
                        "tooltips--bottom": "bottom" === n,
                        "tooltips--left": "left" === n,
                        "tooltips--top-left": "topLeft" === n,
                        "tooltips--top-right": "topRight" === n,
                        "tooltips--right-top": "rightTop" === n,
                        "tooltips--right-bottom": "rightBottom" === n,
                        "tooltips--bottom-left": "bottomLeft" === n,
                        "tooltips--bottom-right": "bottomRight" === n,
                        "tooltips--left-top": "leftTop" === n,
                        "tooltips--left-bottom": "leftBottom" === n
                    });
                    return d.default.createElement("div", {
                        className: i,
                        ref: this.tooltips
                    }, d.default.createElement("div", {
                        className: "tooltips-arrow"
                    }), d.default.createElement("div", {
                        className: "tooltips-bd"
                    }, r))
                }
            }, {
                key: "renderPortal",
                value: function() {
                    if (!this.props.parentNode && !this.defaultNode) {
                        var e = document.createElement("div");
                        document.body.appendChild(e),
                        this.defaultNode = e
                    }
                    return h.default.createPortal(this.renderTooltips(), this.props.parentNode || this.defaultNode)
                }
            }, {
                key: "renderReplace",
                value: function() {
                    var e = this
                      , t = this.props
                      , n = t.children
                      , r = t.trigger
                      , i = n.props
                      , o = {};
                    switch (r) {
                    case "click":
                        o = {
                            onClick: function(t) {
                                e.handleEvent("click", t, i)
                            }
                        };
                        break;
                    case "hover":
                    default:
                        o = {
                            onMouseEnter: function(t) {
                                e.handleEvent("mouseEnter", t, i)
                            },
                            onMouseLeave: function(t) {
                                e.handleEvent("mouseLeave", t, i)
                            }
                        };
                        break;
                    case "focus":
                        o = {
                            onFocus: function(t) {
                                e.handleEvent("focus", t, i)
                            },
                            onBlur: function(t) {
                                e.handleEvent("blur", t, i)
                            }
                        };
                        break;
                    case "null":
                    }
                    return d.default.cloneElement(n, Object.assign({}, {
                        key: "trigger-node",
                        ref: this.triggerNode
                    }, o))
                }
            }, {
                key: "render",
                value: function() {
                    return d.default.createElement(d.default.Fragment, null, this.renderReplace(), this.renderPortal())
                }
            }]),
            n
        }(d.Component);
        g.defaultProps = {
            placement: "top",
            trigger: "hover"
        };
        var y = g;
        t.default = y
    },
    iGo8: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("q1tI"));
        function o(e) {
            var t = e.text
              , n = e.className
              , r = n ? "s-loaded-empty ".concat(n) : "s-loaded-empty";
            return i.default.isValidElement(t) ? i.default.createElement("div", {
                className: r
            }, t) : i.default.createElement("div", {
                className: r
            }, i.default.createElement("i", {
                className: "icon-empty"
            }), i.default.createElement("p", {
                className: "empty-msg"
            }, t))
        }
        o.defaultProps = {
            text: "内容为空"
        };
        var a = o;
        t.default = a
    },
    inNd: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = function(e) {
            var t, n = e.ver9, r = i.default.realUin(), a = e.visitor_id || o();
            n && !r && (a = o());
            r && !n && document.referrer && (t = "login");
            return Object.assign(e, {
                ver9: r || void 0,
                uin: i.default.uin() || "",
                visitor_id: a,
                ver10: t
            }),
            e
        }
        ;
        var i = r(n("kNBA"));
        function o() {
            return ("" + Math.random()).substring(2)
        }
    },
    iq6K: function(e, t, n) {
        (function(e) {
            var r, i, o, a, s = n("cDf5");
            window,
            a = function() {
                return function(e) {
                    var t = {};
                    function n(r) {
                        if (t[r])
                            return t[r].exports;
                        var i = t[r] = {
                            i: r,
                            l: !1,
                            exports: {}
                        };
                        return e[r].call(i.exports, i, i.exports, n),
                        i.l = !0,
                        i.exports
                    }
                    return n.m = e,
                    n.c = t,
                    n.d = function(e, t, r) {
                        n.o(e, t) || Object.defineProperty(e, t, {
                            enumerable: !0,
                            get: r
                        })
                    }
                    ,
                    n.r = function(e) {
                        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                            value: "Module"
                        }),
                        Object.defineProperty(e, "__esModule", {
                            value: !0
                        })
                    }
                    ,
                    n.t = function(e, t) {
                        if (1 & t && (e = n(e)),
                        8 & t)
                            return e;
                        if (4 & t && "object" == s(e) && e && e.__esModule)
                            return e;
                        var r = Object.create(null);
                        if (n.r(r),
                        Object.defineProperty(r, "default", {
                            enumerable: !0,
                            value: e
                        }),
                        2 & t && "string" != typeof e)
                            for (var i in e)
                                n.d(r, i, function(t) {
                                    return e[t]
                                }
                                .bind(null, i));
                        return r
                    }
                    ,
                    n.n = function(e) {
                        var t = e && e.__esModule ? function() {
                            return e.default
                        }
                        : function() {
                            return e
                        }
                        ;
                        return n.d(t, "a", t),
                        t
                    }
                    ,
                    n.o = function(e, t) {
                        return Object.prototype.hasOwnProperty.call(e, t)
                    }
                    ,
                    n.p = "",
                    n(n.s = 32)
                }([function(e, t, n) {
                    (function(t) {
                        var n = function(e) {
                            return e && e.Math == Math && e
                        };
                        e.exports = n("object" == ("undefined" == typeof globalThis ? "undefined" : s(globalThis)) && globalThis) || n("object" == ("undefined" == typeof window ? "undefined" : s(window)) && window) || n("object" == ("undefined" == typeof self ? "undefined" : s(self)) && self) || n("object" == s(t) && t) || function() {
                            return this
                        }() || Function("return this")()
                    }
                    ).call(this, n(11))
                }
                , function(e, t) {
                    e.exports = function(e) {
                        try {
                            return !!e()
                        } catch (e) {
                            return !0
                        }
                    }
                }
                , function(e, t) {
                    var n = {}.hasOwnProperty;
                    e.exports = function(e, t) {
                        return n.call(e, t)
                    }
                }
                , function(e, t, n) {
                    var r = n(1);
                    e.exports = !r((function() {
                        return 7 != Object.defineProperty({}, 1, {
                            get: function() {
                                return 7
                            }
                        })[1]
                    }
                    ))
                }
                , function(e, t) {
                    e.exports = function(e) {
                        return "object" == s(e) ? null !== e : "function" == typeof e
                    }
                }
                , function(e, t, n) {
                    var r = n(3)
                      , i = n(20)
                      , o = n(14);
                    e.exports = r ? function(e, t, n) {
                        return i.f(e, t, o(1, n))
                    }
                    : function(e, t, n) {
                        return e[t] = n,
                        e
                    }
                }
                , function(e, t, n) {
                    var r = n(15)
                      , i = n(17);
                    e.exports = function(e) {
                        return r(i(e))
                    }
                }
                , function(e, t, n) {
                    var r = n(0)
                      , i = n(5);
                    e.exports = function(e, t) {
                        try {
                            i(r, e, t)
                        } catch (n) {
                            r[e] = t
                        }
                        return t
                    }
                }
                , function(e, t, n) {
                    var r = n(0)
                      , i = n(7)
                      , o = r["__core-js_shared__"] || i("__core-js_shared__", {});
                    e.exports = o
                }
                , function(e, t, n) {
                    (function(t) {
                        var n;
                        n = "undefined" != typeof window ? window : void 0 !== t ? t : "undefined" != typeof self ? self : {},
                        e.exports = n
                    }
                    ).call(this, n(11))
                }
                , function(e, t, n) {
                    var r = n(0)
                      , i = n(12).f
                      , o = n(5)
                      , a = n(35)
                      , u = n(7)
                      , c = n(40)
                      , l = n(48);
                    e.exports = function(e, t) {
                        var n, f, d, h, p, v = e.target, m = e.global, g = e.stat;
                        if (n = m ? r : g ? r[v] || u(v, {}) : (r[v] || {}).prototype)
                            for (f in t) {
                                if (h = t[f],
                                d = e.noTargetGet ? (p = i(n, f)) && p.value : n[f],
                                !l(m ? f : v + (g ? "." : "#") + f, e.forced) && void 0 !== d) {
                                    if (s(h) == s(d))
                                        continue;
                                    c(h, d)
                                }
                                (e.sham || d && d.sham) && o(h, "sham", !0),
                                a(n, f, h, e)
                            }
                    }
                }
                , function(e, t) {
                    var n;
                    n = function() {
                        return this
                    }();
                    try {
                        n = n || new Function("return this")()
                    } catch (e) {
                        "object" == ("undefined" == typeof window ? "undefined" : s(window)) && (n = window)
                    }
                    e.exports = n
                }
                , function(e, t, n) {
                    var r = n(3)
                      , i = n(13)
                      , o = n(14)
                      , a = n(6)
                      , s = n(18)
                      , u = n(2)
                      , c = n(19)
                      , l = Object.getOwnPropertyDescriptor;
                    t.f = r ? l : function(e, t) {
                        if (e = a(e),
                        t = s(t, !0),
                        c)
                            try {
                                return l(e, t)
                            } catch (e) {}
                        if (u(e, t))
                            return o(!i.f.call(e, t), e[t])
                    }
                }
                , function(e, t, n) {
                    "use strict";
                    var r = {}.propertyIsEnumerable
                      , i = Object.getOwnPropertyDescriptor
                      , o = i && !r.call({
                        1: 2
                    }, 1);
                    t.f = o ? function(e) {
                        var t = i(this, e);
                        return !!t && t.enumerable
                    }
                    : r
                }
                , function(e, t) {
                    e.exports = function(e, t) {
                        return {
                            enumerable: !(1 & e),
                            configurable: !(2 & e),
                            writable: !(4 & e),
                            value: t
                        }
                    }
                }
                , function(e, t, n) {
                    var r = n(1)
                      , i = n(16)
                      , o = "".split;
                    e.exports = r((function() {
                        return !Object("z").propertyIsEnumerable(0)
                    }
                    )) ? function(e) {
                        return "String" == i(e) ? o.call(e, "") : Object(e)
                    }
                    : Object
                }
                , function(e, t) {
                    var n = {}.toString;
                    e.exports = function(e) {
                        return n.call(e).slice(8, -1)
                    }
                }
                , function(e, t) {
                    e.exports = function(e) {
                        if (null == e)
                            throw TypeError("Can't call method on " + e);
                        return e
                    }
                }
                , function(e, t, n) {
                    var r = n(4);
                    e.exports = function(e, t) {
                        if (!r(e))
                            return e;
                        var n, i;
                        if (t && "function" == typeof (n = e.toString) && !r(i = n.call(e)))
                            return i;
                        if ("function" == typeof (n = e.valueOf) && !r(i = n.call(e)))
                            return i;
                        if (!t && "function" == typeof (n = e.toString) && !r(i = n.call(e)))
                            return i;
                        throw TypeError("Can't convert object to primitive value")
                    }
                }
                , function(e, t, n) {
                    var r = n(3)
                      , i = n(1)
                      , o = n(34);
                    e.exports = !r && !i((function() {
                        return 7 != Object.defineProperty(o("div"), "a", {
                            get: function() {
                                return 7
                            }
                        }).a
                    }
                    ))
                }
                , function(e, t, n) {
                    var r = n(3)
                      , i = n(19)
                      , o = n(21)
                      , a = n(18)
                      , s = Object.defineProperty;
                    t.f = r ? s : function(e, t, n) {
                        if (o(e),
                        t = a(t, !0),
                        o(n),
                        i)
                            try {
                                return s(e, t, n)
                            } catch (e) {}
                        if ("get"in n || "set"in n)
                            throw TypeError("Accessors not supported");
                        return "value"in n && (e[t] = n.value),
                        e
                    }
                }
                , function(e, t, n) {
                    var r = n(4);
                    e.exports = function(e) {
                        if (!r(e))
                            throw TypeError(String(e) + " is not an object");
                        return e
                    }
                }
                , function(e, t, n) {
                    var r = n(8)
                      , i = Function.toString;
                    "function" != typeof r.inspectSource && (r.inspectSource = function(e) {
                        return i.call(e)
                    }
                    ),
                    e.exports = r.inspectSource
                }
                , function(e, t, n) {
                    var r = n(39)
                      , i = n(8);
                    (e.exports = function(e, t) {
                        return i[e] || (i[e] = void 0 !== t ? t : {})
                    }
                    )("versions", []).push({
                        version: "3.8.3",
                        mode: r ? "pure" : "global",
                        copyright: "© 2021 Denis Pushkarev (zloirock.ru)"
                    })
                }
                , function(e, t) {
                    var n = 0
                      , r = Math.random();
                    e.exports = function(e) {
                        return "Symbol(" + String(void 0 === e ? "" : e) + ")_" + (++n + r).toString(36)
                    }
                }
                , function(e, t) {
                    e.exports = {}
                }
                , function(e, t, n) {
                    var r = n(2)
                      , i = n(6)
                      , o = n(45).indexOf
                      , a = n(25);
                    e.exports = function(e, t) {
                        var n, s = i(e), u = 0, c = [];
                        for (n in s)
                            !r(a, n) && r(s, n) && c.push(n);
                        for (; t.length > u; )
                            r(s, n = t[u++]) && (~o(c, n) || c.push(n));
                        return c
                    }
                }
                , function(e, t, n) {
                    var r = n(28)
                      , i = Math.min;
                    e.exports = function(e) {
                        return e > 0 ? i(r(e), 9007199254740991) : 0
                    }
                }
                , function(e, t) {
                    var n = Math.ceil
                      , r = Math.floor;
                    e.exports = function(e) {
                        return isNaN(e = +e) ? 0 : (e > 0 ? r : n)(e)
                    }
                }
                , function(e, t) {
                    e.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"]
                }
                , function(e, t, n) {
                    "use strict";
                    var r = n(49).forEach
                      , i = n(57)
                      , o = n(58)
                      , a = i("forEach")
                      , s = o("forEach");
                    e.exports = a && s ? [].forEach : function(e) {
                        return r(this, e, arguments.length > 1 ? arguments[1] : void 0)
                    }
                }
                , function(e, t, n) {
                    var r = n(1);
                    e.exports = !!Object.getOwnPropertySymbols && !r((function() {
                        return !String(Symbol())
                    }
                    ))
                }
                , function(e, t, n) {
                    "use strict";
                    n.r(t),
                    n.d(t, "default", (function() {
                        return o
                    }
                    )),
                    n(33),
                    n(59),
                    n(62);
                    var r = n(9)
                      , i = n.n(r);
                    function o(e, t) {
                        var n = e
                          , r = (n.message,
                        n.modeHandlers,
                        t.Components)
                          , i = r.H5Video
                          , o = r.H5Audio
                          , a = t.Constants
                          , s = (a.ENS,
                        a.MediaEvents,
                        t.Utils);
                        t.log,
                        n.on("domReady", (function() {
                            var e = n.player;
                            e.viceVideo = new i(e,{
                                name: "vice"
                            }).render(e.container);
                            var t = s.Dom.createEl("div", {
                                id: "member-container",
                                className: "member-container"
                            }, {});
                            e.container.appendChild(t),
                            e.members = {},
                            e.addMemberItem = function(n) {
                                var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                                    video: !0,
                                    audio: !0
                                }
                                  , a = {}
                                  , u = s.Dom.createEl("div", {
                                    id: "".concat("member", "-").concat(n),
                                    className: "loki-member"
                                });
                                return r.video && (a.video = new i(e,{
                                    name: n
                                }).render(u)),
                                r.audio && (a.audio = new o(e,{
                                    name: n
                                }).render(u)),
                                e.members[n] = a,
                                t.appendChild(u),
                                {
                                    video: a.video,
                                    audio: a.audio
                                }
                            }
                            ,
                            e.getMemberItem = function(t) {
                                return e.members[t]
                            }
                            ,
                            e.removeMemberItem = function(n) {
                                var r = t.querySelector("#".concat("member", "-").concat(n));
                                r && t.removeChild(r),
                                e.members[n] && (e.members[n].video && (e.members[n].video.removeStream(),
                                e.members[n].video.el.src = ""),
                                e.members[n].audio && (e.members[n].audio.removeStream(),
                                e.members[n].audio.el.src = ""),
                                e.members[n].video = null,
                                e.members[n].audio = null,
                                delete e.members[n])
                            }
                            ;
                            var r = e.play.bind(e);
                            e.play = function() {
                                r(),
                                e.viceVideo.checkAutoPlay().catch((function(t) {
                                    e.catchPlayMethodError(t, e.viceVideo)
                                }
                                )),
                                Object.values(e.members).forEach((function(e) {
                                    e.audio && e.audio.play(),
                                    e.video && e.video.play()
                                }
                                ))
                            }
                            ,
                            n.on("volumechange", (function() {
                                var t = e.mainVideo.el.volume;
                                e.viceVideo.volume(t);
                                var n = e.mainVideo.mute();
                                e.viceVideo.mute(n),
                                Object.values(e.members).forEach((function(e) {
                                    e.audio && (e.audio.volume(t),
                                    e.audio.mute(n)),
                                    e.video && (e.video.volume(t),
                                    e.video.mute(n))
                                }
                                ))
                            }
                            )),
                            n.on("play", (function() {}
                            ))
                        }
                        ))
                    }
                    n(64),
                    i.a.LokiPlayer && i.a.LokiPlayer.install("multiVideos", o)
                }
                , function(e, t, n) {
                    "use strict";
                    var r = n(10)
                      , i = n(30);
                    r({
                        target: "Array",
                        proto: !0,
                        forced: [].forEach != i
                    }, {
                        forEach: i
                    })
                }
                , function(e, t, n) {
                    var r = n(0)
                      , i = n(4)
                      , o = r.document
                      , a = i(o) && i(o.createElement);
                    e.exports = function(e) {
                        return a ? o.createElement(e) : {}
                    }
                }
                , function(e, t, n) {
                    var r = n(0)
                      , i = n(5)
                      , o = n(2)
                      , a = n(7)
                      , s = n(22)
                      , u = n(36)
                      , c = u.get
                      , l = u.enforce
                      , f = String(String).split("String");
                    (e.exports = function(e, t, n, s) {
                        var u, c = !!s && !!s.unsafe, d = !!s && !!s.enumerable, h = !!s && !!s.noTargetGet;
                        "function" == typeof n && ("string" != typeof t || o(n, "name") || i(n, "name", t),
                        (u = l(n)).source || (u.source = f.join("string" == typeof t ? t : ""))),
                        e !== r ? (c ? !h && e[t] && (d = !0) : delete e[t],
                        d ? e[t] = n : i(e, t, n)) : d ? e[t] = n : a(t, n)
                    }
                    )(Function.prototype, "toString", (function() {
                        return "function" == typeof this && c(this).source || s(this)
                    }
                    ))
                }
                , function(e, t, n) {
                    var r, i, o, a = n(37), s = n(0), u = n(4), c = n(5), l = n(2), f = n(8), d = n(38), h = n(25), p = s.WeakMap;
                    if (a) {
                        var v = f.state || (f.state = new p)
                          , m = v.get
                          , g = v.has
                          , y = v.set;
                        r = function(e, t) {
                            return t.facade = e,
                            y.call(v, e, t),
                            t
                        }
                        ,
                        i = function(e) {
                            return m.call(v, e) || {}
                        }
                        ,
                        o = function(e) {
                            return g.call(v, e)
                        }
                    } else {
                        var E = d("state");
                        h[E] = !0,
                        r = function(e, t) {
                            return t.facade = e,
                            c(e, E, t),
                            t
                        }
                        ,
                        i = function(e) {
                            return l(e, E) ? e[E] : {}
                        }
                        ,
                        o = function(e) {
                            return l(e, E)
                        }
                    }
                    e.exports = {
                        set: r,
                        get: i,
                        has: o,
                        enforce: function(e) {
                            return o(e) ? i(e) : r(e, {})
                        },
                        getterFor: function(e) {
                            return function(t) {
                                var n;
                                if (!u(t) || (n = i(t)).type !== e)
                                    throw TypeError("Incompatible receiver, " + e + " required");
                                return n
                            }
                        }
                    }
                }
                , function(e, t, n) {
                    var r = n(0)
                      , i = n(22)
                      , o = r.WeakMap;
                    e.exports = "function" == typeof o && /native code/.test(i(o))
                }
                , function(e, t, n) {
                    var r = n(23)
                      , i = n(24)
                      , o = r("keys");
                    e.exports = function(e) {
                        return o[e] || (o[e] = i(e))
                    }
                }
                , function(e, t) {
                    e.exports = !1
                }
                , function(e, t, n) {
                    var r = n(2)
                      , i = n(41)
                      , o = n(12)
                      , a = n(20);
                    e.exports = function(e, t) {
                        for (var n = i(t), s = a.f, u = o.f, c = 0; c < n.length; c++) {
                            var l = n[c];
                            r(e, l) || s(e, l, u(t, l))
                        }
                    }
                }
                , function(e, t, n) {
                    var r = n(42)
                      , i = n(44)
                      , o = n(47)
                      , a = n(21);
                    e.exports = r("Reflect", "ownKeys") || function(e) {
                        var t = i.f(a(e))
                          , n = o.f;
                        return n ? t.concat(n(e)) : t
                    }
                }
                , function(e, t, n) {
                    var r = n(43)
                      , i = n(0)
                      , o = function(e) {
                        return "function" == typeof e ? e : void 0
                    };
                    e.exports = function(e, t) {
                        return arguments.length < 2 ? o(r[e]) || o(i[e]) : r[e] && r[e][t] || i[e] && i[e][t]
                    }
                }
                , function(e, t, n) {
                    var r = n(0);
                    e.exports = r
                }
                , function(e, t, n) {
                    var r = n(26)
                      , i = n(29).concat("length", "prototype");
                    t.f = Object.getOwnPropertyNames || function(e) {
                        return r(e, i)
                    }
                }
                , function(e, t, n) {
                    var r = n(6)
                      , i = n(27)
                      , o = n(46)
                      , a = function(e) {
                        return function(t, n, a) {
                            var s, u = r(t), c = i(u.length), l = o(a, c);
                            if (e && n != n) {
                                for (; c > l; )
                                    if ((s = u[l++]) != s)
                                        return !0
                            } else
                                for (; c > l; l++)
                                    if ((e || l in u) && u[l] === n)
                                        return e || l || 0;
                            return !e && -1
                        }
                    };
                    e.exports = {
                        includes: a(!0),
                        indexOf: a(!1)
                    }
                }
                , function(e, t, n) {
                    var r = n(28)
                      , i = Math.max
                      , o = Math.min;
                    e.exports = function(e, t) {
                        var n = r(e);
                        return n < 0 ? i(n + t, 0) : o(n, t)
                    }
                }
                , function(e, t) {
                    t.f = Object.getOwnPropertySymbols
                }
                , function(e, t, n) {
                    var r = n(1)
                      , i = /#|\.prototype\./
                      , o = function(e, t) {
                        var n = s[a(e)];
                        return n == c || n != u && ("function" == typeof t ? r(t) : !!t)
                    }
                      , a = o.normalize = function(e) {
                        return String(e).replace(i, ".").toLowerCase()
                    }
                      , s = o.data = {}
                      , u = o.NATIVE = "N"
                      , c = o.POLYFILL = "P";
                    e.exports = o
                }
                , function(e, t, n) {
                    var r = n(50)
                      , i = n(15)
                      , o = n(52)
                      , a = n(27)
                      , s = n(53)
                      , u = [].push
                      , c = function(e) {
                        var t = 1 == e
                          , n = 2 == e
                          , c = 3 == e
                          , l = 4 == e
                          , f = 6 == e
                          , d = 7 == e
                          , h = 5 == e || f;
                        return function(p, v, m, g) {
                            for (var y, E, T = o(p), b = i(T), _ = r(v, m, 3), S = a(b.length), R = 0, w = g || s, C = t ? w(p, S) : n || d ? w(p, 0) : void 0; S > R; R++)
                                if ((h || R in b) && (E = _(y = b[R], R, T),
                                e))
                                    if (t)
                                        C[R] = E;
                                    else if (E)
                                        switch (e) {
                                        case 3:
                                            return !0;
                                        case 5:
                                            return y;
                                        case 6:
                                            return R;
                                        case 2:
                                            u.call(C, y)
                                        }
                                    else
                                        switch (e) {
                                        case 4:
                                            return !1;
                                        case 7:
                                            u.call(C, y)
                                        }
                            return f ? -1 : c || l ? l : C
                        }
                    };
                    e.exports = {
                        forEach: c(0),
                        map: c(1),
                        filter: c(2),
                        some: c(3),
                        every: c(4),
                        find: c(5),
                        findIndex: c(6),
                        filterOut: c(7)
                    }
                }
                , function(e, t, n) {
                    var r = n(51);
                    e.exports = function(e, t, n) {
                        if (r(e),
                        void 0 === t)
                            return e;
                        switch (n) {
                        case 0:
                            return function() {
                                return e.call(t)
                            }
                            ;
                        case 1:
                            return function(n) {
                                return e.call(t, n)
                            }
                            ;
                        case 2:
                            return function(n, r) {
                                return e.call(t, n, r)
                            }
                            ;
                        case 3:
                            return function(n, r, i) {
                                return e.call(t, n, r, i)
                            }
                        }
                        return function() {
                            return e.apply(t, arguments)
                        }
                    }
                }
                , function(e, t) {
                    e.exports = function(e) {
                        if ("function" != typeof e)
                            throw TypeError(String(e) + " is not a function");
                        return e
                    }
                }
                , function(e, t, n) {
                    var r = n(17);
                    e.exports = function(e) {
                        return Object(r(e))
                    }
                }
                , function(e, t, n) {
                    var r = n(4)
                      , i = n(54)
                      , o = n(55)("species");
                    e.exports = function(e, t) {
                        var n;
                        return i(e) && ("function" != typeof (n = e.constructor) || n !== Array && !i(n.prototype) ? r(n) && null === (n = n[o]) && (n = void 0) : n = void 0),
                        new (void 0 === n ? Array : n)(0 === t ? 0 : t)
                    }
                }
                , function(e, t, n) {
                    var r = n(16);
                    e.exports = Array.isArray || function(e) {
                        return "Array" == r(e)
                    }
                }
                , function(e, t, n) {
                    var r = n(0)
                      , i = n(23)
                      , o = n(2)
                      , a = n(24)
                      , s = n(31)
                      , u = n(56)
                      , c = i("wks")
                      , l = r.Symbol
                      , f = u ? l : l && l.withoutSetter || a;
                    e.exports = function(e) {
                        return o(c, e) || (s && o(l, e) ? c[e] = l[e] : c[e] = f("Symbol." + e)),
                        c[e]
                    }
                }
                , function(e, t, n) {
                    var r = n(31);
                    e.exports = r && !Symbol.sham && "symbol" == s(Symbol.iterator)
                }
                , function(e, t, n) {
                    "use strict";
                    var r = n(1);
                    e.exports = function(e, t) {
                        var n = [][e];
                        return !!n && r((function() {
                            n.call(null, t || function() {
                                throw 1
                            }
                            , 1)
                        }
                        ))
                    }
                }
                , function(e, t, n) {
                    var r = n(3)
                      , i = n(1)
                      , o = n(2)
                      , a = Object.defineProperty
                      , s = {}
                      , u = function(e) {
                        throw e
                    };
                    e.exports = function(e, t) {
                        if (o(s, e))
                            return s[e];
                        t || (t = {});
                        var n = [][e]
                          , c = !!o(t, "ACCESSORS") && t.ACCESSORS
                          , l = o(t, 0) ? t[0] : u
                          , f = o(t, 1) ? t[1] : void 0;
                        return s[e] = !!n && !i((function() {
                            if (c && !r)
                                return !0;
                            var e = {
                                length: -1
                            };
                            c ? a(e, 1, {
                                enumerable: !0,
                                get: u
                            }) : e[1] = 1,
                            n.call(e, l, f)
                        }
                        ))
                    }
                }
                , function(e, t, n) {
                    var r = n(10)
                      , i = n(60).values;
                    r({
                        target: "Object",
                        stat: !0
                    }, {
                        values: function(e) {
                            return i(e)
                        }
                    })
                }
                , function(e, t, n) {
                    var r = n(3)
                      , i = n(61)
                      , o = n(6)
                      , a = n(13).f
                      , s = function(e) {
                        return function(t) {
                            for (var n, s = o(t), u = i(s), c = u.length, l = 0, f = []; c > l; )
                                n = u[l++],
                                r && !a.call(s, n) || f.push(e ? [n, s[n]] : s[n]);
                            return f
                        }
                    };
                    e.exports = {
                        entries: s(!0),
                        values: s(!1)
                    }
                }
                , function(e, t, n) {
                    var r = n(26)
                      , i = n(29);
                    e.exports = Object.keys || function(e) {
                        return r(e, i)
                    }
                }
                , function(e, t, n) {
                    var r = n(0)
                      , i = n(63)
                      , o = n(30)
                      , a = n(5);
                    for (var s in i) {
                        var u = r[s]
                          , c = u && u.prototype;
                        if (c && c.forEach !== o)
                            try {
                                a(c, "forEach", o)
                            } catch (e) {
                                c.forEach = o
                            }
                    }
                }
                , function(e, t) {
                    e.exports = {
                        CSSRuleList: 0,
                        CSSStyleDeclaration: 0,
                        CSSValueList: 0,
                        ClientRectList: 0,
                        DOMRectList: 0,
                        DOMStringList: 0,
                        DOMTokenList: 1,
                        DataTransferItemList: 0,
                        FileList: 0,
                        HTMLAllCollection: 0,
                        HTMLCollection: 0,
                        HTMLFormElement: 0,
                        HTMLSelectElement: 0,
                        MediaList: 0,
                        MimeTypeArray: 0,
                        NamedNodeMap: 0,
                        NodeList: 1,
                        PaintRequestList: 0,
                        Plugin: 0,
                        PluginArray: 0,
                        SVGLengthList: 0,
                        SVGNumberList: 0,
                        SVGPathSegList: 0,
                        SVGPointList: 0,
                        SVGStringList: 0,
                        SVGTransformList: 0,
                        SourceBufferList: 0,
                        StyleSheetList: 0,
                        TextTrackCueList: 0,
                        TextTrackList: 0,
                        TouchList: 0
                    }
                }
                , function(e, t, n) {
                    var r = n(65)
                      , i = n(66);
                    "string" == typeof (i = i.__esModule ? i.default : i) && (i = [[e.i, i, ""]]),
                    r(i, {
                        insert: "head",
                        singleton: !1
                    }),
                    e.exports = i.locals || {}
                }
                , function(e, t, n) {
                    "use strict";
                    var r, i = function() {
                        var e = {};
                        return function(t) {
                            if (void 0 === e[t]) {
                                var n = document.querySelector(t);
                                if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement)
                                    try {
                                        n = n.contentDocument.head
                                    } catch (e) {
                                        n = null
                                    }
                                e[t] = n
                            }
                            return e[t]
                        }
                    }(), o = [];
                    function a(e) {
                        for (var t = -1, n = 0; n < o.length; n++)
                            if (o[n].identifier === e) {
                                t = n;
                                break
                            }
                        return t
                    }
                    function s(e, t) {
                        for (var n = {}, r = [], i = 0; i < e.length; i++) {
                            var s = e[i]
                              , u = t.base ? s[0] + t.base : s[0]
                              , c = n[u] || 0
                              , l = "".concat(u, " ").concat(c);
                            n[u] = c + 1;
                            var f = a(l)
                              , d = {
                                css: s[1],
                                media: s[2],
                                sourceMap: s[3]
                            };
                            -1 !== f ? (o[f].references++,
                            o[f].updater(d)) : o.push({
                                identifier: l,
                                updater: v(d, t),
                                references: 1
                            }),
                            r.push(l)
                        }
                        return r
                    }
                    function u(e) {
                        var t = document.createElement("style")
                          , r = e.attributes || {};
                        if (void 0 === r.nonce) {
                            var o = n.nc;
                            o && (r.nonce = o)
                        }
                        if (Object.keys(r).forEach((function(e) {
                            t.setAttribute(e, r[e])
                        }
                        )),
                        "function" == typeof e.insert)
                            e.insert(t);
                        else {
                            var a = i(e.insert || "head");
                            if (!a)
                                throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
                            a.appendChild(t)
                        }
                        return t
                    }
                    var c, l = (c = [],
                    function(e, t) {
                        return c[e] = t,
                        c.filter(Boolean).join("\n")
                    }
                    );
                    function f(e, t, n, r) {
                        var i = n ? "" : r.media ? "@media ".concat(r.media, " {").concat(r.css, "}") : r.css;
                        if (e.styleSheet)
                            e.styleSheet.cssText = l(t, i);
                        else {
                            var o = document.createTextNode(i)
                              , a = e.childNodes;
                            a[t] && e.removeChild(a[t]),
                            a.length ? e.insertBefore(o, a[t]) : e.appendChild(o)
                        }
                    }
                    function d(e, t, n) {
                        var r = n.css
                          , i = n.media
                          , o = n.sourceMap;
                        if (i ? e.setAttribute("media", i) : e.removeAttribute("media"),
                        o && "undefined" != typeof btoa && (r += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o)))), " */")),
                        e.styleSheet)
                            e.styleSheet.cssText = r;
                        else {
                            for (; e.firstChild; )
                                e.removeChild(e.firstChild);
                            e.appendChild(document.createTextNode(r))
                        }
                    }
                    var h = null
                      , p = 0;
                    function v(e, t) {
                        var n, r, i;
                        if (t.singleton) {
                            var o = p++;
                            n = h || (h = u(t)),
                            r = f.bind(null, n, o, !1),
                            i = f.bind(null, n, o, !0)
                        } else
                            n = u(t),
                            r = d.bind(null, n, t),
                            i = function() {
                                !function(e) {
                                    if (null === e.parentNode)
                                        return !1;
                                    e.parentNode.removeChild(e)
                                }(n)
                            }
                            ;
                        return r(e),
                        function(t) {
                            if (t) {
                                if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap)
                                    return;
                                r(e = t)
                            } else
                                i()
                        }
                    }
                    e.exports = function(e, t) {
                        (t = t || {}).singleton || "boolean" == typeof t.singleton || (t.singleton = (void 0 === r && (r = Boolean(window && document && document.all && !window.atob)),
                        r));
                        var n = s(e = e || [], t);
                        return function(e) {
                            if (e = e || [],
                            "[object Array]" === Object.prototype.toString.call(e)) {
                                for (var r = 0; r < n.length; r++) {
                                    var i = a(n[r]);
                                    o[i].references--
                                }
                                for (var u = s(e, t), c = 0; c < n.length; c++) {
                                    var l = a(n[c]);
                                    0 === o[l].references && (o[l].updater(),
                                    o.splice(l, 1))
                                }
                                n = u
                            }
                        }
                    }
                }
                , function(e, t, n) {
                    (t = n(67)(!1)).push([e.i, ".loki-container #vice-video{position:absolute;width:200px;height:160px;bottom:4em;right:0;z-index:1;pointer-events:none}", ""]),
                    e.exports = t
                }
                , function(e, t, n) {
                    "use strict";
                    e.exports = function(e) {
                        var t = [];
                        return t.toString = function() {
                            return this.map((function(t) {
                                var n = function(e, t) {
                                    var n, r, i, o = e[1] || "", a = e[3];
                                    if (!a)
                                        return o;
                                    if (t && "function" == typeof btoa) {
                                        var s = (n = a,
                                        r = btoa(unescape(encodeURIComponent(JSON.stringify(n)))),
                                        i = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),
                                        "/*# ".concat(i, " */"))
                                          , u = a.sources.map((function(e) {
                                            return "/*# sourceURL=".concat(a.sourceRoot || "").concat(e, " */")
                                        }
                                        ));
                                        return [o].concat(u).concat([s]).join("\n")
                                    }
                                    return [o].join("\n")
                                }(t, e);
                                return t[2] ? "@media ".concat(t[2], " {").concat(n, "}") : n
                            }
                            )).join("")
                        }
                        ,
                        t.i = function(e, n, r) {
                            "string" == typeof e && (e = [[null, e, ""]]);
                            var i = {};
                            if (r)
                                for (var o = 0; o < this.length; o++) {
                                    var a = this[o][0];
                                    null != a && (i[a] = !0)
                                }
                            for (var s = 0; s < e.length; s++) {
                                var u = [].concat(e[s]);
                                r && i[u[0]] || (n && (u[2] ? u[2] = "".concat(n, " and ").concat(u[2]) : u[2] = n),
                                t.push(u))
                            }
                        }
                        ,
                        t
                    }
                }
                ]).default
            }
            ,
            "object" == s(t) && "object" == s(e) ? e.exports = a() : (i = [],
            void 0 === (o = "function" == typeof (r = a) ? r.apply(t, i) : r) || (e.exports = o))
        }
        ).call(this, n("YuTi")(e))
    },
    j389: function(e, t, n) {
        "use strict";
        var r = n("TqRt")
          , i = n("cDf5");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var o = r(n("rePB"))
          , a = r(n("Ff2n"))
          , s = function(e, t) {
            if (!t && e && e.__esModule)
                return e;
            if (null === e || "object" !== i(e) && "function" != typeof e)
                return {
                    default: e
                };
            var n = f(t);
            if (n && n.has(e))
                return n.get(e);
            var r = {}
              , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var a in e)
                if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                    var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                    s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                }
            r.default = e,
            n && n.set(e, r);
            return r
        }(n("q1tI"))
          , u = r(n("TSYQ"));
        n("DfAp");
        var c = r(n("UdQk"))
          , l = ["visible", "className", "text", "offset", "noAction"];
        function f(e) {
            if ("function" != typeof WeakMap)
                return null;
            var t = new WeakMap
              , n = new WeakMap;
            return (f = function(e) {
                return e ? n : t
            }
            )(e)
        }
        function d(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }
                ))),
                n.push.apply(n, r)
            }
            return n
        }
        function h(e) {
            var t = e.visible
              , n = e.className
              , r = e.text
              , i = e.offset
              , o = e.noAction
              , c = (0,
            a.default)(e, l)
              , f = (0,
            u.default)("s-toast-wrap", n, {
                active: t,
                "wrap--no-action": o
            });
            i && (c.style ? Object.assign(c.style, {
                top: i
            }) : Object.assign(c, {
                style: {
                    top: i
                }
            }));
            return s.default.createElement(s.Fragment, null, s.default.createElement("div", Object.assign({
                className: f
            }, c), s.default.createElement("div", {
                className: "s-toast"
            }, r)))
        }
        h.show = function(e) {
            return (0,
            c.default)(function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? d(Object(n), !0).forEach((function(t) {
                        (0,
                        o.default)(e, t, n[t])
                    }
                    )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : d(Object(n)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    }
                    ))
                }
                return e
            }({}, e), h)
        }
        ;
        var p = h;
        t.default = p
    },
    jVyV: function(e, t, n) {
        (function(e, r, i) {
            var o, a, s, u, c = n("cDf5");
            u = function() {
                return function() {
                    var t = {
                        579: function(t, n, r) {
                            function i(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                    "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                                }
                            }
                            function o(e) {
                                return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                                    return typeof e
                                }
                                : function(e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                                }
                                )(e)
                            }
                            var a = r(670)
                              , s = r(779)
                              , u = r(583)
                              , c = function(t) {
                                return "function" == typeof ArrayBuffer && t instanceof ArrayBuffer || "function" == typeof e && "function" == typeof e.isBuffer && e.isBuffer(t)
                            }
                              , l = function e(t, n) {
                                if (c(t))
                                    return function() {
                                        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                                            t[n] = arguments[n];
                                        return s.concat(t).toUTF8()
                                    }(t);
                                if (!t || "object" !== o(t))
                                    return t;
                                var r = t;
                                return n && (r = Array.isArray(t) ? [] : {}),
                                Object.keys(t).forEach((function(i) {
                                    r[i] = e(t[i], n)
                                }
                                )),
                                r
                            }
                              , f = function() {
                                function e(t) {
                                    !function(e, t) {
                                        if (!(e instanceof t))
                                            throw new TypeError("Cannot call a class as a function")
                                    }(this, e);
                                    var n = function(e) {
                                        return !e || e["/"] ? e : e.length > 0 ? {
                                            "/": e
                                        } : void 0
                                    }(t);
                                    if (!n)
                                        throw new Error("proto is empty.");
                                    var r = a.Util.fetch;
                                    a.Util.fetch = function(e) {
                                        var t = n[e];
                                        if (t)
                                            return t;
                                        for (var r = e.trim().split(/[/\\]/), i = 0, o = r.length; i < o; i++) {
                                            var a = r.slice(i).join("/");
                                            if (t = n[a] || n["./".concat(a)])
                                                return t
                                        }
                                    }
                                    ;
                                    var i = a.loadProtoFile("/");
                                    i.build("js"),
                                    this._builder = i,
                                    a.Util.fetch = r
                                }
                                var t, n, r;
                                return t = e,
                                (n = [{
                                    key: "lookup",
                                    value: function(e) {
                                        for (var t = e.split("."), n = this._builder.result, r = 0, i = t.length; r < i; r++)
                                            if (!(n = n[t[r]]))
                                                return;
                                        var o = n
                                          , a = o.encode
                                          , s = o.decode;
                                        return n.__encode__ || (n.__encode__ = a,
                                        n.__decode__ = s,
                                        n.encode = function(e, t) {
                                            return n.__encode__(e, null == t ? void 0 : t.buffer, null == t ? void 0 : t.noVerify)
                                        }
                                        ,
                                        n.decode = function(e, t) {
                                            var r, i, o, a = !0;
                                            return "string" == typeof t ? i = t : "number" == typeof t ? r = t : t && (r = t.length,
                                            i = t.encoding,
                                            o = t.binaryAsBase64,
                                            a = t.longsAsStrings || null == t.longsAsStrings),
                                            e = n.__decode__(e, r, i).toRaw(o, a),
                                            null != t && t.bufferAsStrings && l(e),
                                            e
                                        }
                                        ),
                                        n
                                    }
                                }, {
                                    key: "encode",
                                    value: function(e, t, n) {
                                        return this.lookup(e).encode(t, n)
                                    }
                                }, {
                                    key: "decode",
                                    value: function(e, t, n) {
                                        return this.lookup(e).decode(t, n)
                                    }
                                }]) && i(t.prototype, n),
                                r && i(t, r),
                                Object.defineProperty(t, "prototype", {
                                    writable: !1
                                }),
                                e
                            }();
                            f.ByteBuffer = s,
                            f.Long = u,
                            f.protobufjs = a,
                            f.isBuffer = c,
                            f.decodeBuffer = function(e, t) {
                                return l(e, t || null == t)
                            }
                            ,
                            t.exports = f
                        },
                        779: function(e, t, n) {
                            var r, i, o;
                            /**
           * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
           * Backing buffer: ArrayBuffer, Accessor: Uint8Array
           * Released under the Apache License, Version 2.0
           * see: https://github.com/dcodeIO/bytebuffer.js for details
           */
                            i = [n(666)],
                            void 0 === (o = "function" == typeof (r = function(e) {
                                "use strict";
                                var t = function e(t, n, i) {
                                    if (void 0 === t && (t = e.DEFAULT_CAPACITY),
                                    void 0 === n && (n = e.DEFAULT_ENDIAN),
                                    void 0 === i && (i = e.DEFAULT_NOASSERT),
                                    !i) {
                                        if ((t |= 0) < 0)
                                            throw RangeError("Illegal capacity");
                                        n = !!n,
                                        i = !!i
                                    }
                                    this.buffer = 0 === t ? r : new ArrayBuffer(t),
                                    this.view = 0 === t ? null : new Uint8Array(this.buffer),
                                    this.offset = 0,
                                    this.markedOffset = -1,
                                    this.limit = t,
                                    this.littleEndian = n,
                                    this.noAssert = i
                                };
                                t.VERSION = "5.0.1",
                                t.LITTLE_ENDIAN = !0,
                                t.BIG_ENDIAN = !1,
                                t.DEFAULT_CAPACITY = 16,
                                t.DEFAULT_ENDIAN = t.BIG_ENDIAN,
                                t.DEFAULT_NOASSERT = !1,
                                t.Long = e || null;
                                var n = t.prototype;
                                n.__isByteBuffer__,
                                Object.defineProperty(n, "__isByteBuffer__", {
                                    value: !0,
                                    enumerable: !1,
                                    configurable: !1
                                });
                                var r = new ArrayBuffer(0)
                                  , i = String.fromCharCode;
                                function o(e) {
                                    var t = 0;
                                    return function() {
                                        return t < e.length ? e.charCodeAt(t++) : null
                                    }
                                }
                                function a() {
                                    var e = []
                                      , t = [];
                                    return function() {
                                        if (0 === arguments.length)
                                            return t.join("") + i.apply(String, e);
                                        e.length + arguments.length > 1024 && (t.push(i.apply(String, e)),
                                        e.length = 0),
                                        Array.prototype.push.apply(e, arguments)
                                    }
                                }
                                function s(e, t, n, r, i) {
                                    var o, a, s = 8 * i - r - 1, u = (1 << s) - 1, c = u >> 1, l = -7, f = n ? i - 1 : 0, d = n ? -1 : 1, h = e[t + f];
                                    for (f += d,
                                    o = h & (1 << -l) - 1,
                                    h >>= -l,
                                    l += s; l > 0; o = 256 * o + e[t + f],
                                    f += d,
                                    l -= 8)
                                        ;
                                    for (a = o & (1 << -l) - 1,
                                    o >>= -l,
                                    l += r; l > 0; a = 256 * a + e[t + f],
                                    f += d,
                                    l -= 8)
                                        ;
                                    if (0 === o)
                                        o = 1 - c;
                                    else {
                                        if (o === u)
                                            return a ? NaN : 1 / 0 * (h ? -1 : 1);
                                        a += Math.pow(2, r),
                                        o -= c
                                    }
                                    return (h ? -1 : 1) * a * Math.pow(2, o - r)
                                }
                                function u(e, t, n, r, i, o) {
                                    var a, s, u, c = 8 * o - i - 1, l = (1 << c) - 1, f = l >> 1, d = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0, h = r ? 0 : o - 1, p = r ? 1 : -1, v = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
                                    for (t = Math.abs(t),
                                    isNaN(t) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0,
                                    a = l) : (a = Math.floor(Math.log(t) / Math.LN2),
                                    t * (u = Math.pow(2, -a)) < 1 && (a--,
                                    u *= 2),
                                    (t += a + f >= 1 ? d / u : d * Math.pow(2, 1 - f)) * u >= 2 && (a++,
                                    u /= 2),
                                    a + f >= l ? (s = 0,
                                    a = l) : a + f >= 1 ? (s = (t * u - 1) * Math.pow(2, i),
                                    a += f) : (s = t * Math.pow(2, f - 1) * Math.pow(2, i),
                                    a = 0)); i >= 8; e[n + h] = 255 & s,
                                    h += p,
                                    s /= 256,
                                    i -= 8)
                                        ;
                                    for (a = a << i | s,
                                    c += i; c > 0; e[n + h] = 255 & a,
                                    h += p,
                                    a /= 256,
                                    c -= 8)
                                        ;
                                    e[n + h - p] |= 128 * v
                                }
                                t.accessor = function() {
                                    return Uint8Array
                                }
                                ,
                                t.allocate = function(e, n, r) {
                                    return new t(e,n,r)
                                }
                                ,
                                t.concat = function(e, n, r, i) {
                                    "boolean" != typeof n && "string" == typeof n || (i = r,
                                    r = n,
                                    n = void 0);
                                    for (var o, a = 0, s = 0, u = e.length; s < u; ++s)
                                        t.isByteBuffer(e[s]) || (e[s] = t.wrap(e[s], n)),
                                        (o = e[s].limit - e[s].offset) > 0 && (a += o);
                                    if (0 === a)
                                        return new t(0,r,i);
                                    var c, l = new t(a,r,i);
                                    for (s = 0; s < u; )
                                        (o = (c = e[s++]).limit - c.offset) <= 0 || (l.view.set(c.view.subarray(c.offset, c.limit), l.offset),
                                        l.offset += o);
                                    return l.limit = l.offset,
                                    l.offset = 0,
                                    l
                                }
                                ,
                                t.isByteBuffer = function(e) {
                                    return !0 === (e && e.__isByteBuffer__)
                                }
                                ,
                                t.type = function() {
                                    return ArrayBuffer
                                }
                                ,
                                t.wrap = function(e, r, i, o) {
                                    if ("string" != typeof r && (o = i,
                                    i = r,
                                    r = void 0),
                                    "string" == typeof e)
                                        switch (void 0 === r && (r = "utf8"),
                                        r) {
                                        case "base64":
                                            return t.fromBase64(e, i);
                                        case "hex":
                                            return t.fromHex(e, i);
                                        case "binary":
                                            return t.fromBinary(e, i);
                                        case "utf8":
                                            return t.fromUTF8(e, i);
                                        case "debug":
                                            return t.fromDebug(e, i);
                                        default:
                                            throw Error("Unsupported encoding: " + r)
                                        }
                                    if (null === e || "object" !== c(e))
                                        throw TypeError("Illegal buffer");
                                    var a;
                                    if (t.isByteBuffer(e))
                                        return (a = n.clone.call(e)).markedOffset = -1,
                                        a;
                                    if (e instanceof Uint8Array)
                                        a = new t(0,i,o),
                                        e.length > 0 && (a.buffer = e.buffer,
                                        a.offset = e.byteOffset,
                                        a.limit = e.byteOffset + e.byteLength,
                                        a.view = new Uint8Array(e.buffer));
                                    else if (e instanceof ArrayBuffer)
                                        a = new t(0,i,o),
                                        e.byteLength > 0 && (a.buffer = e,
                                        a.offset = 0,
                                        a.limit = e.byteLength,
                                        a.view = e.byteLength > 0 ? new Uint8Array(e) : null);
                                    else {
                                        if ("[object Array]" !== Object.prototype.toString.call(e))
                                            throw TypeError("Illegal buffer");
                                        (a = new t(e.length,i,o)).limit = e.length;
                                        for (var s = 0; s < e.length; ++s)
                                            a.view[s] = e[s]
                                    }
                                    return a
                                }
                                ,
                                n.writeBitSet = function(e, t) {
                                    var n = void 0 === t;
                                    if (n && (t = this.offset),
                                    !this.noAssert) {
                                        if (!(e instanceof Array))
                                            throw TypeError("Illegal BitSet: Not an array");
                                        if ("number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    var r, i = t, o = e.length, a = o >> 3, s = 0;
                                    for (t += this.writeVarint32(o, t); a--; )
                                        r = 1 & !!e[s++] | (1 & !!e[s++]) << 1 | (1 & !!e[s++]) << 2 | (1 & !!e[s++]) << 3 | (1 & !!e[s++]) << 4 | (1 & !!e[s++]) << 5 | (1 & !!e[s++]) << 6 | (1 & !!e[s++]) << 7,
                                        this.writeByte(r, t++);
                                    if (s < o) {
                                        var u = 0;
                                        for (r = 0; s < o; )
                                            r |= (1 & !!e[s++]) << u++;
                                        this.writeByte(r, t++)
                                    }
                                    return n ? (this.offset = t,
                                    this) : t - i
                                }
                                ,
                                n.readBitSet = function(e) {
                                    var t = void 0 === e;
                                    t && (e = this.offset);
                                    var n, r = this.readVarint32(e), i = r.value, o = i >> 3, a = 0, s = [];
                                    for (e += r.length; o--; )
                                        n = this.readByte(e++),
                                        s[a++] = !!(1 & n),
                                        s[a++] = !!(2 & n),
                                        s[a++] = !!(4 & n),
                                        s[a++] = !!(8 & n),
                                        s[a++] = !!(16 & n),
                                        s[a++] = !!(32 & n),
                                        s[a++] = !!(64 & n),
                                        s[a++] = !!(128 & n);
                                    if (a < i) {
                                        var u = 0;
                                        for (n = this.readByte(e++); a < i; )
                                            s[a++] = !!(n >> u++ & 1)
                                    }
                                    return t && (this.offset = e),
                                    s
                                }
                                ,
                                n.readBytes = function(e, t) {
                                    var n = void 0 === t;
                                    if (n && (t = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + e > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+" + e + ") <= " + this.buffer.byteLength)
                                    }
                                    var r = this.slice(t, t + e);
                                    return n && (this.offset += e),
                                    r
                                }
                                ,
                                n.writeBytes = n.append,
                                n.writeInt8 = function(e, t) {
                                    var n = void 0 === t;
                                    if (n && (t = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal value: " + e + " (not an integer)");
                                        if (e |= 0,
                                        "number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    t += 1;
                                    var r = this.buffer.byteLength;
                                    return t > r && this.resize((r *= 2) > t ? r : t),
                                    t -= 1,
                                    this.view[t] = e,
                                    n && (this.offset += 1),
                                    this
                                }
                                ,
                                n.writeByte = n.writeInt8,
                                n.readInt8 = function(e) {
                                    var t = void 0 === e;
                                    if (t && (e = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal offset: " + e + " (not an integer)");
                                        if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + e + " (+1) <= " + this.buffer.byteLength)
                                    }
                                    var n = this.view[e];
                                    return 128 == (128 & n) && (n = -(255 - n + 1)),
                                    t && (this.offset += 1),
                                    n
                                }
                                ,
                                n.readByte = n.readInt8,
                                n.writeUint8 = function(e, t) {
                                    var n = void 0 === t;
                                    if (n && (t = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal value: " + e + " (not an integer)");
                                        if (e >>>= 0,
                                        "number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    t += 1;
                                    var r = this.buffer.byteLength;
                                    return t > r && this.resize((r *= 2) > t ? r : t),
                                    t -= 1,
                                    this.view[t] = e,
                                    n && (this.offset += 1),
                                    this
                                }
                                ,
                                n.writeUInt8 = n.writeUint8,
                                n.readUint8 = function(e) {
                                    var t = void 0 === e;
                                    if (t && (e = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal offset: " + e + " (not an integer)");
                                        if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + e + " (+1) <= " + this.buffer.byteLength)
                                    }
                                    var n = this.view[e];
                                    return t && (this.offset += 1),
                                    n
                                }
                                ,
                                n.readUInt8 = n.readUint8,
                                n.writeInt16 = function(e, t) {
                                    var n = void 0 === t;
                                    if (n && (t = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal value: " + e + " (not an integer)");
                                        if (e |= 0,
                                        "number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    t += 2;
                                    var r = this.buffer.byteLength;
                                    return t > r && this.resize((r *= 2) > t ? r : t),
                                    t -= 2,
                                    this.littleEndian ? (this.view[t + 1] = (65280 & e) >>> 8,
                                    this.view[t] = 255 & e) : (this.view[t] = (65280 & e) >>> 8,
                                    this.view[t + 1] = 255 & e),
                                    n && (this.offset += 2),
                                    this
                                }
                                ,
                                n.writeShort = n.writeInt16,
                                n.readInt16 = function(e) {
                                    var t = void 0 === e;
                                    if (t && (e = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal offset: " + e + " (not an integer)");
                                        if ((e >>>= 0) < 0 || e + 2 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + e + " (+2) <= " + this.buffer.byteLength)
                                    }
                                    var n = 0;
                                    return this.littleEndian ? (n = this.view[e],
                                    n |= this.view[e + 1] << 8) : (n = this.view[e] << 8,
                                    n |= this.view[e + 1]),
                                    32768 == (32768 & n) && (n = -(65535 - n + 1)),
                                    t && (this.offset += 2),
                                    n
                                }
                                ,
                                n.readShort = n.readInt16,
                                n.writeUint16 = function(e, t) {
                                    var n = void 0 === t;
                                    if (n && (t = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal value: " + e + " (not an integer)");
                                        if (e >>>= 0,
                                        "number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    t += 2;
                                    var r = this.buffer.byteLength;
                                    return t > r && this.resize((r *= 2) > t ? r : t),
                                    t -= 2,
                                    this.littleEndian ? (this.view[t + 1] = (65280 & e) >>> 8,
                                    this.view[t] = 255 & e) : (this.view[t] = (65280 & e) >>> 8,
                                    this.view[t + 1] = 255 & e),
                                    n && (this.offset += 2),
                                    this
                                }
                                ,
                                n.writeUInt16 = n.writeUint16,
                                n.readUint16 = function(e) {
                                    var t = void 0 === e;
                                    if (t && (e = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal offset: " + e + " (not an integer)");
                                        if ((e >>>= 0) < 0 || e + 2 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + e + " (+2) <= " + this.buffer.byteLength)
                                    }
                                    var n = 0;
                                    return this.littleEndian ? (n = this.view[e],
                                    n |= this.view[e + 1] << 8) : (n = this.view[e] << 8,
                                    n |= this.view[e + 1]),
                                    t && (this.offset += 2),
                                    n
                                }
                                ,
                                n.readUInt16 = n.readUint16,
                                n.writeInt32 = function(e, t) {
                                    var n = void 0 === t;
                                    if (n && (t = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal value: " + e + " (not an integer)");
                                        if (e |= 0,
                                        "number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    t += 4;
                                    var r = this.buffer.byteLength;
                                    return t > r && this.resize((r *= 2) > t ? r : t),
                                    t -= 4,
                                    this.littleEndian ? (this.view[t + 3] = e >>> 24 & 255,
                                    this.view[t + 2] = e >>> 16 & 255,
                                    this.view[t + 1] = e >>> 8 & 255,
                                    this.view[t] = 255 & e) : (this.view[t] = e >>> 24 & 255,
                                    this.view[t + 1] = e >>> 16 & 255,
                                    this.view[t + 2] = e >>> 8 & 255,
                                    this.view[t + 3] = 255 & e),
                                    n && (this.offset += 4),
                                    this
                                }
                                ,
                                n.writeInt = n.writeInt32,
                                n.readInt32 = function(e) {
                                    var t = void 0 === e;
                                    if (t && (e = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal offset: " + e + " (not an integer)");
                                        if ((e >>>= 0) < 0 || e + 4 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + e + " (+4) <= " + this.buffer.byteLength)
                                    }
                                    var n = 0;
                                    return this.littleEndian ? (n = this.view[e + 2] << 16,
                                    n |= this.view[e + 1] << 8,
                                    n |= this.view[e],
                                    n += this.view[e + 3] << 24 >>> 0) : (n = this.view[e + 1] << 16,
                                    n |= this.view[e + 2] << 8,
                                    n |= this.view[e + 3],
                                    n += this.view[e] << 24 >>> 0),
                                    n |= 0,
                                    t && (this.offset += 4),
                                    n
                                }
                                ,
                                n.readInt = n.readInt32,
                                n.writeUint32 = function(e, t) {
                                    var n = void 0 === t;
                                    if (n && (t = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal value: " + e + " (not an integer)");
                                        if (e >>>= 0,
                                        "number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    t += 4;
                                    var r = this.buffer.byteLength;
                                    return t > r && this.resize((r *= 2) > t ? r : t),
                                    t -= 4,
                                    this.littleEndian ? (this.view[t + 3] = e >>> 24 & 255,
                                    this.view[t + 2] = e >>> 16 & 255,
                                    this.view[t + 1] = e >>> 8 & 255,
                                    this.view[t] = 255 & e) : (this.view[t] = e >>> 24 & 255,
                                    this.view[t + 1] = e >>> 16 & 255,
                                    this.view[t + 2] = e >>> 8 & 255,
                                    this.view[t + 3] = 255 & e),
                                    n && (this.offset += 4),
                                    this
                                }
                                ,
                                n.writeUInt32 = n.writeUint32,
                                n.readUint32 = function(e) {
                                    var t = void 0 === e;
                                    if (t && (e = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal offset: " + e + " (not an integer)");
                                        if ((e >>>= 0) < 0 || e + 4 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + e + " (+4) <= " + this.buffer.byteLength)
                                    }
                                    var n = 0;
                                    return this.littleEndian ? (n = this.view[e + 2] << 16,
                                    n |= this.view[e + 1] << 8,
                                    n |= this.view[e],
                                    n += this.view[e + 3] << 24 >>> 0) : (n = this.view[e + 1] << 16,
                                    n |= this.view[e + 2] << 8,
                                    n |= this.view[e + 3],
                                    n += this.view[e] << 24 >>> 0),
                                    t && (this.offset += 4),
                                    n
                                }
                                ,
                                n.readUInt32 = n.readUint32,
                                e && (n.writeInt64 = function(t, n) {
                                    var r = void 0 === n;
                                    if (r && (n = this.offset),
                                    !this.noAssert) {
                                        if ("number" == typeof t)
                                            t = e.fromNumber(t);
                                        else if ("string" == typeof t)
                                            t = e.fromString(t);
                                        else if (!(t && t instanceof e))
                                            throw TypeError("Illegal value: " + t + " (not an integer or Long)");
                                        if ("number" != typeof n || n % 1 != 0)
                                            throw TypeError("Illegal offset: " + n + " (not an integer)");
                                        if ((n >>>= 0) < 0 || n + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + n + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    "number" == typeof t ? t = e.fromNumber(t) : "string" == typeof t && (t = e.fromString(t)),
                                    n += 8;
                                    var i = this.buffer.byteLength;
                                    n > i && this.resize((i *= 2) > n ? i : n),
                                    n -= 8;
                                    var o = t.low
                                      , a = t.high;
                                    return this.littleEndian ? (this.view[n + 3] = o >>> 24 & 255,
                                    this.view[n + 2] = o >>> 16 & 255,
                                    this.view[n + 1] = o >>> 8 & 255,
                                    this.view[n] = 255 & o,
                                    n += 4,
                                    this.view[n + 3] = a >>> 24 & 255,
                                    this.view[n + 2] = a >>> 16 & 255,
                                    this.view[n + 1] = a >>> 8 & 255,
                                    this.view[n] = 255 & a) : (this.view[n] = a >>> 24 & 255,
                                    this.view[n + 1] = a >>> 16 & 255,
                                    this.view[n + 2] = a >>> 8 & 255,
                                    this.view[n + 3] = 255 & a,
                                    n += 4,
                                    this.view[n] = o >>> 24 & 255,
                                    this.view[n + 1] = o >>> 16 & 255,
                                    this.view[n + 2] = o >>> 8 & 255,
                                    this.view[n + 3] = 255 & o),
                                    r && (this.offset += 8),
                                    this
                                }
                                ,
                                n.writeLong = n.writeInt64,
                                n.readInt64 = function(t) {
                                    var n = void 0 === t;
                                    if (n && (t = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 8 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+8) <= " + this.buffer.byteLength)
                                    }
                                    var r = 0
                                      , i = 0;
                                    this.littleEndian ? (r = this.view[t + 2] << 16,
                                    r |= this.view[t + 1] << 8,
                                    r |= this.view[t],
                                    r += this.view[t + 3] << 24 >>> 0,
                                    t += 4,
                                    i = this.view[t + 2] << 16,
                                    i |= this.view[t + 1] << 8,
                                    i |= this.view[t],
                                    i += this.view[t + 3] << 24 >>> 0) : (i = this.view[t + 1] << 16,
                                    i |= this.view[t + 2] << 8,
                                    i |= this.view[t + 3],
                                    i += this.view[t] << 24 >>> 0,
                                    t += 4,
                                    r = this.view[t + 1] << 16,
                                    r |= this.view[t + 2] << 8,
                                    r |= this.view[t + 3],
                                    r += this.view[t] << 24 >>> 0);
                                    var o = new e(r,i,!1);
                                    return n && (this.offset += 8),
                                    o
                                }
                                ,
                                n.readLong = n.readInt64,
                                n.writeUint64 = function(t, n) {
                                    var r = void 0 === n;
                                    if (r && (n = this.offset),
                                    !this.noAssert) {
                                        if ("number" == typeof t)
                                            t = e.fromNumber(t);
                                        else if ("string" == typeof t)
                                            t = e.fromString(t);
                                        else if (!(t && t instanceof e))
                                            throw TypeError("Illegal value: " + t + " (not an integer or Long)");
                                        if ("number" != typeof n || n % 1 != 0)
                                            throw TypeError("Illegal offset: " + n + " (not an integer)");
                                        if ((n >>>= 0) < 0 || n + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + n + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    "number" == typeof t ? t = e.fromNumber(t) : "string" == typeof t && (t = e.fromString(t)),
                                    n += 8;
                                    var i = this.buffer.byteLength;
                                    n > i && this.resize((i *= 2) > n ? i : n),
                                    n -= 8;
                                    var o = t.low
                                      , a = t.high;
                                    return this.littleEndian ? (this.view[n + 3] = o >>> 24 & 255,
                                    this.view[n + 2] = o >>> 16 & 255,
                                    this.view[n + 1] = o >>> 8 & 255,
                                    this.view[n] = 255 & o,
                                    n += 4,
                                    this.view[n + 3] = a >>> 24 & 255,
                                    this.view[n + 2] = a >>> 16 & 255,
                                    this.view[n + 1] = a >>> 8 & 255,
                                    this.view[n] = 255 & a) : (this.view[n] = a >>> 24 & 255,
                                    this.view[n + 1] = a >>> 16 & 255,
                                    this.view[n + 2] = a >>> 8 & 255,
                                    this.view[n + 3] = 255 & a,
                                    n += 4,
                                    this.view[n] = o >>> 24 & 255,
                                    this.view[n + 1] = o >>> 16 & 255,
                                    this.view[n + 2] = o >>> 8 & 255,
                                    this.view[n + 3] = 255 & o),
                                    r && (this.offset += 8),
                                    this
                                }
                                ,
                                n.writeUInt64 = n.writeUint64,
                                n.readUint64 = function(t) {
                                    var n = void 0 === t;
                                    if (n && (t = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 8 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+8) <= " + this.buffer.byteLength)
                                    }
                                    var r = 0
                                      , i = 0;
                                    this.littleEndian ? (r = this.view[t + 2] << 16,
                                    r |= this.view[t + 1] << 8,
                                    r |= this.view[t],
                                    r += this.view[t + 3] << 24 >>> 0,
                                    t += 4,
                                    i = this.view[t + 2] << 16,
                                    i |= this.view[t + 1] << 8,
                                    i |= this.view[t],
                                    i += this.view[t + 3] << 24 >>> 0) : (i = this.view[t + 1] << 16,
                                    i |= this.view[t + 2] << 8,
                                    i |= this.view[t + 3],
                                    i += this.view[t] << 24 >>> 0,
                                    t += 4,
                                    r = this.view[t + 1] << 16,
                                    r |= this.view[t + 2] << 8,
                                    r |= this.view[t + 3],
                                    r += this.view[t] << 24 >>> 0);
                                    var o = new e(r,i,!0);
                                    return n && (this.offset += 8),
                                    o
                                }
                                ,
                                n.readUInt64 = n.readUint64),
                                n.writeFloat32 = function(e, t) {
                                    var n = void 0 === t;
                                    if (n && (t = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e)
                                            throw TypeError("Illegal value: " + e + " (not a number)");
                                        if ("number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    t += 4;
                                    var r = this.buffer.byteLength;
                                    return t > r && this.resize((r *= 2) > t ? r : t),
                                    t -= 4,
                                    u(this.view, e, t, this.littleEndian, 23, 4),
                                    n && (this.offset += 4),
                                    this
                                }
                                ,
                                n.writeFloat = n.writeFloat32,
                                n.readFloat32 = function(e) {
                                    var t = void 0 === e;
                                    if (t && (e = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal offset: " + e + " (not an integer)");
                                        if ((e >>>= 0) < 0 || e + 4 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + e + " (+4) <= " + this.buffer.byteLength)
                                    }
                                    var n = s(this.view, e, this.littleEndian, 23, 4);
                                    return t && (this.offset += 4),
                                    n
                                }
                                ,
                                n.readFloat = n.readFloat32,
                                n.writeFloat64 = function(e, t) {
                                    var n = void 0 === t;
                                    if (n && (t = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e)
                                            throw TypeError("Illegal value: " + e + " (not a number)");
                                        if ("number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    t += 8;
                                    var r = this.buffer.byteLength;
                                    return t > r && this.resize((r *= 2) > t ? r : t),
                                    t -= 8,
                                    u(this.view, e, t, this.littleEndian, 52, 8),
                                    n && (this.offset += 8),
                                    this
                                }
                                ,
                                n.writeDouble = n.writeFloat64,
                                n.readFloat64 = function(e) {
                                    var t = void 0 === e;
                                    if (t && (e = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal offset: " + e + " (not an integer)");
                                        if ((e >>>= 0) < 0 || e + 8 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + e + " (+8) <= " + this.buffer.byteLength)
                                    }
                                    var n = s(this.view, e, this.littleEndian, 52, 8);
                                    return t && (this.offset += 8),
                                    n
                                }
                                ,
                                n.readDouble = n.readFloat64,
                                t.MAX_VARINT32_BYTES = 5,
                                t.calculateVarint32 = function(e) {
                                    return (e >>>= 0) < 128 ? 1 : e < 16384 ? 2 : e < 1 << 21 ? 3 : e < 1 << 28 ? 4 : 5
                                }
                                ,
                                t.zigZagEncode32 = function(e) {
                                    return ((e |= 0) << 1 ^ e >> 31) >>> 0
                                }
                                ,
                                t.zigZagDecode32 = function(e) {
                                    return e >>> 1 ^ -(1 & e) | 0
                                }
                                ,
                                n.writeVarint32 = function(e, n) {
                                    var r = void 0 === n;
                                    if (r && (n = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal value: " + e + " (not an integer)");
                                        if (e |= 0,
                                        "number" != typeof n || n % 1 != 0)
                                            throw TypeError("Illegal offset: " + n + " (not an integer)");
                                        if ((n >>>= 0) < 0 || n + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + n + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    var i, o = t.calculateVarint32(e);
                                    n += o;
                                    var a = this.buffer.byteLength;
                                    for (n > a && this.resize((a *= 2) > n ? a : n),
                                    n -= o,
                                    e >>>= 0; e >= 128; )
                                        i = 127 & e | 128,
                                        this.view[n++] = i,
                                        e >>>= 7;
                                    return this.view[n++] = e,
                                    r ? (this.offset = n,
                                    this) : o
                                }
                                ,
                                n.writeVarint32ZigZag = function(e, n) {
                                    return this.writeVarint32(t.zigZagEncode32(e), n)
                                }
                                ,
                                n.readVarint32 = function(e) {
                                    var t = void 0 === e;
                                    if (t && (e = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal offset: " + e + " (not an integer)");
                                        if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + e + " (+1) <= " + this.buffer.byteLength)
                                    }
                                    var n, r = 0, i = 0;
                                    do {
                                        if (!this.noAssert && e > this.limit) {
                                            var o = Error("Truncated");
                                            throw o.truncated = !0,
                                            o
                                        }
                                        n = this.view[e++],
                                        r < 5 && (i |= (127 & n) << 7 * r),
                                        ++r
                                    } while (0 != (128 & n));
                                    return i |= 0,
                                    t ? (this.offset = e,
                                    i) : {
                                        value: i,
                                        length: r
                                    }
                                }
                                ,
                                n.readVarint32ZigZag = function(e) {
                                    var n = this.readVarint32(e);
                                    return "object" === c(n) ? n.value = t.zigZagDecode32(n.value) : n = t.zigZagDecode32(n),
                                    n
                                }
                                ,
                                e && (t.MAX_VARINT64_BYTES = 10,
                                t.calculateVarint64 = function(t) {
                                    "number" == typeof t ? t = e.fromNumber(t) : "string" == typeof t && (t = e.fromString(t));
                                    var n = t.toInt() >>> 0
                                      , r = t.shiftRightUnsigned(28).toInt() >>> 0
                                      , i = t.shiftRightUnsigned(56).toInt() >>> 0;
                                    return 0 == i ? 0 == r ? n < 16384 ? n < 128 ? 1 : 2 : n < 1 << 21 ? 3 : 4 : r < 16384 ? r < 128 ? 5 : 6 : r < 1 << 21 ? 7 : 8 : i < 128 ? 9 : 10
                                }
                                ,
                                t.zigZagEncode64 = function(t) {
                                    return "number" == typeof t ? t = e.fromNumber(t, !1) : "string" == typeof t ? t = e.fromString(t, !1) : !1 !== t.unsigned && (t = t.toSigned()),
                                    t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()
                                }
                                ,
                                t.zigZagDecode64 = function(t) {
                                    return "number" == typeof t ? t = e.fromNumber(t, !1) : "string" == typeof t ? t = e.fromString(t, !1) : !1 !== t.unsigned && (t = t.toSigned()),
                                    t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()
                                }
                                ,
                                n.writeVarint64 = function(n, r) {
                                    var i = void 0 === r;
                                    if (i && (r = this.offset),
                                    !this.noAssert) {
                                        if ("number" == typeof n)
                                            n = e.fromNumber(n);
                                        else if ("string" == typeof n)
                                            n = e.fromString(n);
                                        else if (!(n && n instanceof e))
                                            throw TypeError("Illegal value: " + n + " (not an integer or Long)");
                                        if ("number" != typeof r || r % 1 != 0)
                                            throw TypeError("Illegal offset: " + r + " (not an integer)");
                                        if ((r >>>= 0) < 0 || r + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + r + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    "number" == typeof n ? n = e.fromNumber(n, !1) : "string" == typeof n ? n = e.fromString(n, !1) : !1 !== n.unsigned && (n = n.toSigned());
                                    var o = t.calculateVarint64(n)
                                      , a = n.toInt() >>> 0
                                      , s = n.shiftRightUnsigned(28).toInt() >>> 0
                                      , u = n.shiftRightUnsigned(56).toInt() >>> 0;
                                    r += o;
                                    var c = this.buffer.byteLength;
                                    switch (r > c && this.resize((c *= 2) > r ? c : r),
                                    r -= o,
                                    o) {
                                    case 10:
                                        this.view[r + 9] = u >>> 7 & 1;
                                    case 9:
                                        this.view[r + 8] = 9 !== o ? 128 | u : 127 & u;
                                    case 8:
                                        this.view[r + 7] = 8 !== o ? s >>> 21 | 128 : s >>> 21 & 127;
                                    case 7:
                                        this.view[r + 6] = 7 !== o ? s >>> 14 | 128 : s >>> 14 & 127;
                                    case 6:
                                        this.view[r + 5] = 6 !== o ? s >>> 7 | 128 : s >>> 7 & 127;
                                    case 5:
                                        this.view[r + 4] = 5 !== o ? 128 | s : 127 & s;
                                    case 4:
                                        this.view[r + 3] = 4 !== o ? a >>> 21 | 128 : a >>> 21 & 127;
                                    case 3:
                                        this.view[r + 2] = 3 !== o ? a >>> 14 | 128 : a >>> 14 & 127;
                                    case 2:
                                        this.view[r + 1] = 2 !== o ? a >>> 7 | 128 : a >>> 7 & 127;
                                    case 1:
                                        this.view[r] = 1 !== o ? 128 | a : 127 & a
                                    }
                                    return i ? (this.offset += o,
                                    this) : o
                                }
                                ,
                                n.writeVarint64ZigZag = function(e, n) {
                                    return this.writeVarint64(t.zigZagEncode64(e), n)
                                }
                                ,
                                n.readVarint64 = function(t) {
                                    var n = void 0 === t;
                                    if (n && (t = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 1 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+1) <= " + this.buffer.byteLength)
                                    }
                                    var r = t
                                      , i = 0
                                      , o = 0
                                      , a = 0
                                      , s = 0;
                                    if (i = 127 & (s = this.view[t++]),
                                    128 & s && (i |= (127 & (s = this.view[t++])) << 7,
                                    (128 & s || this.noAssert && void 0 === s) && (i |= (127 & (s = this.view[t++])) << 14,
                                    (128 & s || this.noAssert && void 0 === s) && (i |= (127 & (s = this.view[t++])) << 21,
                                    (128 & s || this.noAssert && void 0 === s) && (o = 127 & (s = this.view[t++]),
                                    (128 & s || this.noAssert && void 0 === s) && (o |= (127 & (s = this.view[t++])) << 7,
                                    (128 & s || this.noAssert && void 0 === s) && (o |= (127 & (s = this.view[t++])) << 14,
                                    (128 & s || this.noAssert && void 0 === s) && (o |= (127 & (s = this.view[t++])) << 21,
                                    (128 & s || this.noAssert && void 0 === s) && (a = 127 & (s = this.view[t++]),
                                    (128 & s || this.noAssert && void 0 === s) && (a |= (127 & (s = this.view[t++])) << 7,
                                    128 & s || this.noAssert && void 0 === s))))))))))
                                        throw Error("Buffer overrun");
                                    var u = e.fromBits(i | o << 28, o >>> 4 | a << 24, !1);
                                    return n ? (this.offset = t,
                                    u) : {
                                        value: u,
                                        length: t - r
                                    }
                                }
                                ,
                                n.readVarint64ZigZag = function(n) {
                                    var r = this.readVarint64(n);
                                    return r && r.value instanceof e ? r.value = t.zigZagDecode64(r.value) : r = t.zigZagDecode64(r),
                                    r
                                }
                                ),
                                n.writeCString = function(e, t) {
                                    var n = void 0 === t;
                                    n && (t = this.offset);
                                    var r, i = e.length;
                                    if (!this.noAssert) {
                                        if ("string" != typeof e)
                                            throw TypeError("Illegal str: Not a string");
                                        for (r = 0; r < i; ++r)
                                            if (0 === e.charCodeAt(r))
                                                throw RangeError("Illegal str: Contains NULL-characters");
                                        if ("number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    i = f.calculateUTF16asUTF8(o(e))[1],
                                    t += i + 1;
                                    var a = this.buffer.byteLength;
                                    return t > a && this.resize((a *= 2) > t ? a : t),
                                    t -= i + 1,
                                    f.encodeUTF16toUTF8(o(e), function(e) {
                                        this.view[t++] = e
                                    }
                                    .bind(this)),
                                    this.view[t++] = 0,
                                    n ? (this.offset = t,
                                    this) : i
                                }
                                ,
                                n.readCString = function(e) {
                                    var t = void 0 === e;
                                    if (t && (e = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal offset: " + e + " (not an integer)");
                                        if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + e + " (+1) <= " + this.buffer.byteLength)
                                    }
                                    var n, r = e, i = -1;
                                    return f.decodeUTF8toUTF16(function() {
                                        if (0 === i)
                                            return null;
                                        if (e >= this.limit)
                                            throw RangeError("Illegal range: Truncated data, " + e + " < " + this.limit);
                                        return 0 === (i = this.view[e++]) ? null : i
                                    }
                                    .bind(this), n = a(), !0),
                                    t ? (this.offset = e,
                                    n()) : {
                                        string: n(),
                                        length: e - r
                                    }
                                }
                                ,
                                n.writeIString = function(e, t) {
                                    var n = void 0 === t;
                                    if (n && (t = this.offset),
                                    !this.noAssert) {
                                        if ("string" != typeof e)
                                            throw TypeError("Illegal str: Not a string");
                                        if ("number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    var r, i = t;
                                    r = f.calculateUTF16asUTF8(o(e), this.noAssert)[1],
                                    t += 4 + r;
                                    var a = this.buffer.byteLength;
                                    if (t > a && this.resize((a *= 2) > t ? a : t),
                                    t -= 4 + r,
                                    this.littleEndian ? (this.view[t + 3] = r >>> 24 & 255,
                                    this.view[t + 2] = r >>> 16 & 255,
                                    this.view[t + 1] = r >>> 8 & 255,
                                    this.view[t] = 255 & r) : (this.view[t] = r >>> 24 & 255,
                                    this.view[t + 1] = r >>> 16 & 255,
                                    this.view[t + 2] = r >>> 8 & 255,
                                    this.view[t + 3] = 255 & r),
                                    t += 4,
                                    f.encodeUTF16toUTF8(o(e), function(e) {
                                        this.view[t++] = e
                                    }
                                    .bind(this)),
                                    t !== i + 4 + r)
                                        throw RangeError("Illegal range: Truncated data, " + t + " == " + (t + 4 + r));
                                    return n ? (this.offset = t,
                                    this) : t - i
                                }
                                ,
                                n.readIString = function(e) {
                                    var n = void 0 === e;
                                    if (n && (e = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal offset: " + e + " (not an integer)");
                                        if ((e >>>= 0) < 0 || e + 4 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + e + " (+4) <= " + this.buffer.byteLength)
                                    }
                                    var r = e
                                      , i = this.readUint32(e)
                                      , o = this.readUTF8String(i, t.METRICS_BYTES, e += 4);
                                    return e += o.length,
                                    n ? (this.offset = e,
                                    o.string) : {
                                        string: o.string,
                                        length: e - r
                                    }
                                }
                                ,
                                t.METRICS_CHARS = "c",
                                t.METRICS_BYTES = "b",
                                n.writeUTF8String = function(e, t) {
                                    var n, r = void 0 === t;
                                    if (r && (t = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: " + t + " (not an integer)");
                                        if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    var i = t;
                                    n = f.calculateUTF16asUTF8(o(e))[1],
                                    t += n;
                                    var a = this.buffer.byteLength;
                                    return t > a && this.resize((a *= 2) > t ? a : t),
                                    t -= n,
                                    f.encodeUTF16toUTF8(o(e), function(e) {
                                        this.view[t++] = e
                                    }
                                    .bind(this)),
                                    r ? (this.offset = t,
                                    this) : t - i
                                }
                                ,
                                n.writeString = n.writeUTF8String,
                                t.calculateUTF8Chars = function(e) {
                                    return f.calculateUTF16asUTF8(o(e))[0]
                                }
                                ,
                                t.calculateString = t.calculateUTF8Bytes = function(e) {
                                    return f.calculateUTF16asUTF8(o(e))[1]
                                }
                                ,
                                n.readUTF8String = function(e, n, r) {
                                    "number" == typeof n && (r = n,
                                    n = void 0);
                                    var i = void 0 === r;
                                    if (i && (r = this.offset),
                                    void 0 === n && (n = t.METRICS_CHARS),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal length: " + e + " (not an integer)");
                                        if (e |= 0,
                                        "number" != typeof r || r % 1 != 0)
                                            throw TypeError("Illegal offset: " + r + " (not an integer)");
                                        if ((r >>>= 0) < 0 || r + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + r + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    var o, s = 0, u = r;
                                    if (n === t.METRICS_CHARS) {
                                        if (o = a(),
                                        f.decodeUTF8(function() {
                                            return s < e && r < this.limit ? this.view[r++] : null
                                        }
                                        .bind(this), (function(e) {
                                            ++s,
                                            f.UTF8toUTF16(e, o)
                                        }
                                        )),
                                        s !== e)
                                            throw RangeError("Illegal range: Truncated data, " + s + " == " + e);
                                        return i ? (this.offset = r,
                                        o()) : {
                                            string: o(),
                                            length: r - u
                                        }
                                    }
                                    if (n === t.METRICS_BYTES) {
                                        if (!this.noAssert) {
                                            if ("number" != typeof r || r % 1 != 0)
                                                throw TypeError("Illegal offset: " + r + " (not an integer)");
                                            if ((r >>>= 0) < 0 || r + e > this.buffer.byteLength)
                                                throw RangeError("Illegal offset: 0 <= " + r + " (+" + e + ") <= " + this.buffer.byteLength)
                                        }
                                        var c = r + e;
                                        if (f.decodeUTF8toUTF16(function() {
                                            return r < c ? this.view[r++] : null
                                        }
                                        .bind(this), o = a(), this.noAssert),
                                        r !== c)
                                            throw RangeError("Illegal range: Truncated data, " + r + " == " + c);
                                        return i ? (this.offset = r,
                                        o()) : {
                                            string: o(),
                                            length: r - u
                                        }
                                    }
                                    throw TypeError("Unsupported metrics: " + n)
                                }
                                ,
                                n.readString = n.readUTF8String,
                                n.writeVString = function(e, n) {
                                    var r = void 0 === n;
                                    if (r && (n = this.offset),
                                    !this.noAssert) {
                                        if ("string" != typeof e)
                                            throw TypeError("Illegal str: Not a string");
                                        if ("number" != typeof n || n % 1 != 0)
                                            throw TypeError("Illegal offset: " + n + " (not an integer)");
                                        if ((n >>>= 0) < 0 || n + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + n + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    var i, a, s = n;
                                    i = f.calculateUTF16asUTF8(o(e), this.noAssert)[1],
                                    a = t.calculateVarint32(i),
                                    n += a + i;
                                    var u = this.buffer.byteLength;
                                    if (n > u && this.resize((u *= 2) > n ? u : n),
                                    n -= a + i,
                                    n += this.writeVarint32(i, n),
                                    f.encodeUTF16toUTF8(o(e), function(e) {
                                        this.view[n++] = e
                                    }
                                    .bind(this)),
                                    n !== s + i + a)
                                        throw RangeError("Illegal range: Truncated data, " + n + " == " + (n + i + a));
                                    return r ? (this.offset = n,
                                    this) : n - s
                                }
                                ,
                                n.readVString = function(e) {
                                    var n = void 0 === e;
                                    if (n && (e = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal offset: " + e + " (not an integer)");
                                        if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + e + " (+1) <= " + this.buffer.byteLength)
                                    }
                                    var r = e
                                      , i = this.readVarint32(e)
                                      , o = this.readUTF8String(i.value, t.METRICS_BYTES, e += i.length);
                                    return e += o.length,
                                    n ? (this.offset = e,
                                    o.string) : {
                                        string: o.string,
                                        length: e - r
                                    }
                                }
                                ,
                                n.append = function(e, n, r) {
                                    "number" != typeof n && "string" == typeof n || (r = n,
                                    n = void 0);
                                    var i = void 0 === r;
                                    if (i && (r = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof r || r % 1 != 0)
                                            throw TypeError("Illegal offset: " + r + " (not an integer)");
                                        if ((r >>>= 0) < 0 || r + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + r + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    e instanceof t || (e = t.wrap(e, n));
                                    var o = e.limit - e.offset;
                                    if (o <= 0)
                                        return this;
                                    r += o;
                                    var a = this.buffer.byteLength;
                                    return r > a && this.resize((a *= 2) > r ? a : r),
                                    r -= o,
                                    this.view.set(e.view.subarray(e.offset, e.limit), r),
                                    e.offset += o,
                                    i && (this.offset += o),
                                    this
                                }
                                ,
                                n.appendTo = function(e, t) {
                                    return e.append(this, t),
                                    this
                                }
                                ,
                                n.assert = function(e) {
                                    return this.noAssert = !e,
                                    this
                                }
                                ,
                                n.capacity = function() {
                                    return this.buffer.byteLength
                                }
                                ,
                                n.clear = function() {
                                    return this.offset = 0,
                                    this.limit = this.buffer.byteLength,
                                    this.markedOffset = -1,
                                    this
                                }
                                ,
                                n.clone = function(e) {
                                    var n = new t(0,this.littleEndian,this.noAssert);
                                    return e ? (n.buffer = new ArrayBuffer(this.buffer.byteLength),
                                    n.view = new Uint8Array(n.buffer)) : (n.buffer = this.buffer,
                                    n.view = this.view),
                                    n.offset = this.offset,
                                    n.markedOffset = this.markedOffset,
                                    n.limit = this.limit,
                                    n
                                }
                                ,
                                n.compact = function(e, t) {
                                    if (void 0 === e && (e = this.offset),
                                    void 0 === t && (t = this.limit),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal begin: Not an integer");
                                        if (e >>>= 0,
                                        "number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal end: Not an integer");
                                        if (t >>>= 0,
                                        e < 0 || e > t || t > this.buffer.byteLength)
                                            throw RangeError("Illegal range: 0 <= " + e + " <= " + t + " <= " + this.buffer.byteLength)
                                    }
                                    if (0 === e && t === this.buffer.byteLength)
                                        return this;
                                    var n = t - e;
                                    if (0 === n)
                                        return this.buffer = r,
                                        this.view = null,
                                        this.markedOffset >= 0 && (this.markedOffset -= e),
                                        this.offset = 0,
                                        this.limit = 0,
                                        this;
                                    var i = new ArrayBuffer(n)
                                      , o = new Uint8Array(i);
                                    return o.set(this.view.subarray(e, t)),
                                    this.buffer = i,
                                    this.view = o,
                                    this.markedOffset >= 0 && (this.markedOffset -= e),
                                    this.offset = 0,
                                    this.limit = n,
                                    this
                                }
                                ,
                                n.copy = function(e, n) {
                                    if (void 0 === e && (e = this.offset),
                                    void 0 === n && (n = this.limit),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal begin: Not an integer");
                                        if (e >>>= 0,
                                        "number" != typeof n || n % 1 != 0)
                                            throw TypeError("Illegal end: Not an integer");
                                        if (n >>>= 0,
                                        e < 0 || e > n || n > this.buffer.byteLength)
                                            throw RangeError("Illegal range: 0 <= " + e + " <= " + n + " <= " + this.buffer.byteLength)
                                    }
                                    if (e === n)
                                        return new t(0,this.littleEndian,this.noAssert);
                                    var r = n - e
                                      , i = new t(r,this.littleEndian,this.noAssert);
                                    return i.offset = 0,
                                    i.limit = r,
                                    i.markedOffset >= 0 && (i.markedOffset -= e),
                                    this.copyTo(i, 0, e, n),
                                    i
                                }
                                ,
                                n.copyTo = function(e, n, r, i) {
                                    var o, a;
                                    if (!this.noAssert && !t.isByteBuffer(e))
                                        throw TypeError("Illegal target: Not a ByteBuffer");
                                    if (n = (a = void 0 === n) ? e.offset : 0 | n,
                                    r = (o = void 0 === r) ? this.offset : 0 | r,
                                    i = void 0 === i ? this.limit : 0 | i,
                                    n < 0 || n > e.buffer.byteLength)
                                        throw RangeError("Illegal target range: 0 <= " + n + " <= " + e.buffer.byteLength);
                                    if (r < 0 || i > this.buffer.byteLength)
                                        throw RangeError("Illegal source range: 0 <= " + r + " <= " + this.buffer.byteLength);
                                    var s = i - r;
                                    return 0 === s ? e : (e.ensureCapacity(n + s),
                                    e.view.set(this.view.subarray(r, i), n),
                                    o && (this.offset += s),
                                    a && (e.offset += s),
                                    this)
                                }
                                ,
                                n.ensureCapacity = function(e) {
                                    var t = this.buffer.byteLength;
                                    return t < e ? this.resize((t *= 2) > e ? t : e) : this
                                }
                                ,
                                n.fill = function(e, t, n) {
                                    var r = void 0 === t;
                                    if (r && (t = this.offset),
                                    "string" == typeof e && e.length > 0 && (e = e.charCodeAt(0)),
                                    void 0 === t && (t = this.offset),
                                    void 0 === n && (n = this.limit),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal value: " + e + " (not an integer)");
                                        if (e |= 0,
                                        "number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal begin: Not an integer");
                                        if (t >>>= 0,
                                        "number" != typeof n || n % 1 != 0)
                                            throw TypeError("Illegal end: Not an integer");
                                        if (n >>>= 0,
                                        t < 0 || t > n || n > this.buffer.byteLength)
                                            throw RangeError("Illegal range: 0 <= " + t + " <= " + n + " <= " + this.buffer.byteLength)
                                    }
                                    if (t >= n)
                                        return this;
                                    for (; t < n; )
                                        this.view[t++] = e;
                                    return r && (this.offset = t),
                                    this
                                }
                                ,
                                n.flip = function() {
                                    return this.limit = this.offset,
                                    this.offset = 0,
                                    this
                                }
                                ,
                                n.mark = function(e) {
                                    if (e = void 0 === e ? this.offset : e,
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal offset: " + e + " (not an integer)");
                                        if ((e >>>= 0) < 0 || e + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + e + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    return this.markedOffset = e,
                                    this
                                }
                                ,
                                n.order = function(e) {
                                    if (!this.noAssert && "boolean" != typeof e)
                                        throw TypeError("Illegal littleEndian: Not a boolean");
                                    return this.littleEndian = !!e,
                                    this
                                }
                                ,
                                n.LE = function(e) {
                                    return this.littleEndian = void 0 === e || !!e,
                                    this
                                }
                                ,
                                n.BE = function(e) {
                                    return this.littleEndian = void 0 !== e && !e,
                                    this
                                }
                                ,
                                n.prepend = function(e, n, r) {
                                    "number" != typeof n && "string" == typeof n || (r = n,
                                    n = void 0);
                                    var i = void 0 === r;
                                    if (i && (r = this.offset),
                                    !this.noAssert) {
                                        if ("number" != typeof r || r % 1 != 0)
                                            throw TypeError("Illegal offset: " + r + " (not an integer)");
                                        if ((r >>>= 0) < 0 || r + 0 > this.buffer.byteLength)
                                            throw RangeError("Illegal offset: 0 <= " + r + " (+0) <= " + this.buffer.byteLength)
                                    }
                                    e instanceof t || (e = t.wrap(e, n));
                                    var o = e.limit - e.offset;
                                    if (o <= 0)
                                        return this;
                                    var a = o - r;
                                    if (a > 0) {
                                        var s = new ArrayBuffer(this.buffer.byteLength + a)
                                          , u = new Uint8Array(s);
                                        u.set(this.view.subarray(r, this.buffer.byteLength), o),
                                        this.buffer = s,
                                        this.view = u,
                                        this.offset += a,
                                        this.markedOffset >= 0 && (this.markedOffset += a),
                                        this.limit += a,
                                        r += a
                                    } else
                                        new Uint8Array(this.buffer);
                                    return this.view.set(e.view.subarray(e.offset, e.limit), r - o),
                                    e.offset = e.limit,
                                    i && (this.offset -= o),
                                    this
                                }
                                ,
                                n.prependTo = function(e, t) {
                                    return e.prepend(this, t),
                                    this
                                }
                                ,
                                n.printDebug = function(e) {
                                    "function" != typeof e && (e = void 0),
                                    e(this.toString() + "\n-------------------------------------------------------------------\n" + this.toDebug(!0))
                                }
                                ,
                                n.remaining = function() {
                                    return this.limit - this.offset
                                }
                                ,
                                n.reset = function() {
                                    return this.markedOffset >= 0 ? (this.offset = this.markedOffset,
                                    this.markedOffset = -1) : this.offset = 0,
                                    this
                                }
                                ,
                                n.resize = function(e) {
                                    if (!this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal capacity: " + e + " (not an integer)");
                                        if ((e |= 0) < 0)
                                            throw RangeError("Illegal capacity: 0 <= " + e)
                                    }
                                    if (this.buffer.byteLength < e) {
                                        var t = new ArrayBuffer(e)
                                          , n = new Uint8Array(t);
                                        n.set(this.view),
                                        this.buffer = t,
                                        this.view = n
                                    }
                                    return this
                                }
                                ,
                                n.reverse = function(e, t) {
                                    if (void 0 === e && (e = this.offset),
                                    void 0 === t && (t = this.limit),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal begin: Not an integer");
                                        if (e >>>= 0,
                                        "number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal end: Not an integer");
                                        if (t >>>= 0,
                                        e < 0 || e > t || t > this.buffer.byteLength)
                                            throw RangeError("Illegal range: 0 <= " + e + " <= " + t + " <= " + this.buffer.byteLength)
                                    }
                                    return e === t || Array.prototype.reverse.call(this.view.subarray(e, t)),
                                    this
                                }
                                ,
                                n.skip = function(e) {
                                    if (!this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal length: " + e + " (not an integer)");
                                        e |= 0
                                    }
                                    var t = this.offset + e;
                                    if (!this.noAssert && (t < 0 || t > this.buffer.byteLength))
                                        throw RangeError("Illegal length: 0 <= " + this.offset + " + " + e + " <= " + this.buffer.byteLength);
                                    return this.offset = t,
                                    this
                                }
                                ,
                                n.slice = function(e, t) {
                                    if (void 0 === e && (e = this.offset),
                                    void 0 === t && (t = this.limit),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal begin: Not an integer");
                                        if (e >>>= 0,
                                        "number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal end: Not an integer");
                                        if (t >>>= 0,
                                        e < 0 || e > t || t > this.buffer.byteLength)
                                            throw RangeError("Illegal range: 0 <= " + e + " <= " + t + " <= " + this.buffer.byteLength)
                                    }
                                    var n = this.clone();
                                    return n.offset = e,
                                    n.limit = t,
                                    n
                                }
                                ,
                                n.toBuffer = function(e) {
                                    var t = this.offset
                                      , n = this.limit;
                                    if (!this.noAssert) {
                                        if ("number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal offset: Not an integer");
                                        if (t >>>= 0,
                                        "number" != typeof n || n % 1 != 0)
                                            throw TypeError("Illegal limit: Not an integer");
                                        if (n >>>= 0,
                                        t < 0 || t > n || n > this.buffer.byteLength)
                                            throw RangeError("Illegal range: 0 <= " + t + " <= " + n + " <= " + this.buffer.byteLength)
                                    }
                                    if (!e && 0 === t && n === this.buffer.byteLength)
                                        return this.buffer;
                                    if (t === n)
                                        return r;
                                    var i = new ArrayBuffer(n - t);
                                    return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(t, n), 0),
                                    i
                                }
                                ,
                                n.toArrayBuffer = n.toBuffer,
                                n.toString = function(e, t, n) {
                                    if (void 0 === e)
                                        return "ByteBufferAB(offset=" + this.offset + ",markedOffset=" + this.markedOffset + ",limit=" + this.limit + ",capacity=" + this.capacity() + ")";
                                    switch ("number" == typeof e && (n = t = e = "utf8"),
                                    e) {
                                    case "utf8":
                                        return this.toUTF8(t, n);
                                    case "base64":
                                        return this.toBase64(t, n);
                                    case "hex":
                                        return this.toHex(t, n);
                                    case "binary":
                                        return this.toBinary(t, n);
                                    case "debug":
                                        return this.toDebug();
                                    case "columns":
                                        return this.toColumns();
                                    default:
                                        throw Error("Unsupported encoding: " + e)
                                    }
                                }
                                ;
                                var l = function() {
                                    for (var e = {}, t = [65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 43, 47], n = [], r = 0, i = t.length; r < i; ++r)
                                        n[t[r]] = r;
                                    return e.encode = function(e, n) {
                                        for (var r, i; null !== (r = e()); )
                                            n(t[r >> 2 & 63]),
                                            i = (3 & r) << 4,
                                            null !== (r = e()) ? (n(t[63 & ((i |= r >> 4 & 15) | r >> 4 & 15)]),
                                            i = (15 & r) << 2,
                                            null !== (r = e()) ? (n(t[63 & (i | r >> 6 & 3)]),
                                            n(t[63 & r])) : (n(t[63 & i]),
                                            n(61))) : (n(t[63 & i]),
                                            n(61),
                                            n(61))
                                    }
                                    ,
                                    e.decode = function(e, t) {
                                        var r, i, o;
                                        function a(e) {
                                            throw Error("Illegal character code: " + e)
                                        }
                                        for (; null !== (r = e()); )
                                            if (void 0 === (i = n[r]) && a(r),
                                            null !== (r = e()) && (void 0 === (o = n[r]) && a(r),
                                            t(i << 2 >>> 0 | (48 & o) >> 4),
                                            null !== (r = e()))) {
                                                if (void 0 === (i = n[r])) {
                                                    if (61 === r)
                                                        break;
                                                    a(r)
                                                }
                                                if (t((15 & o) << 4 >>> 0 | (60 & i) >> 2),
                                                null !== (r = e())) {
                                                    if (void 0 === (o = n[r])) {
                                                        if (61 === r)
                                                            break;
                                                        a(r)
                                                    }
                                                    t((3 & i) << 6 >>> 0 | o)
                                                }
                                            }
                                    }
                                    ,
                                    e.test = function(e) {
                                        return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)
                                    }
                                    ,
                                    e
                                }();
                                n.toBase64 = function(e, t) {
                                    if (void 0 === e && (e = this.offset),
                                    void 0 === t && (t = this.limit),
                                    t |= 0,
                                    (e |= 0) < 0 || t > this.capacity || e > t)
                                        throw RangeError("begin, end");
                                    var n;
                                    return l.encode(function() {
                                        return e < t ? this.view[e++] : null
                                    }
                                    .bind(this), n = a()),
                                    n()
                                }
                                ,
                                t.fromBase64 = function(e, n) {
                                    if ("string" != typeof e)
                                        throw TypeError("str");
                                    var r = new t(e.length / 4 * 3,n)
                                      , i = 0;
                                    return l.decode(o(e), (function(e) {
                                        r.view[i++] = e
                                    }
                                    )),
                                    r.limit = i,
                                    r
                                }
                                ,
                                t.btoa = function(e) {
                                    return t.fromBinary(e).toBase64()
                                }
                                ,
                                t.atob = function(e) {
                                    return t.fromBase64(e).toBinary()
                                }
                                ,
                                n.toBinary = function(e, t) {
                                    if (void 0 === e && (e = this.offset),
                                    void 0 === t && (t = this.limit),
                                    t |= 0,
                                    (e |= 0) < 0 || t > this.capacity() || e > t)
                                        throw RangeError("begin, end");
                                    if (e === t)
                                        return "";
                                    for (var n = [], r = []; e < t; )
                                        n.push(this.view[e++]),
                                        n.length >= 1024 && (r.push(String.fromCharCode.apply(String, n)),
                                        n = []);
                                    return r.join("") + String.fromCharCode.apply(String, n)
                                }
                                ,
                                t.fromBinary = function(e, n) {
                                    if ("string" != typeof e)
                                        throw TypeError("str");
                                    for (var r, i = 0, o = e.length, a = new t(o,n); i < o; ) {
                                        if ((r = e.charCodeAt(i)) > 255)
                                            throw RangeError("illegal char code: " + r);
                                        a.view[i++] = r
                                    }
                                    return a.limit = o,
                                    a
                                }
                                ,
                                n.toDebug = function(e) {
                                    for (var t, n = -1, r = this.buffer.byteLength, i = "", o = "", a = ""; n < r; ) {
                                        if (-1 !== n && (i += (t = this.view[n]) < 16 ? "0" + t.toString(16).toUpperCase() : t.toString(16).toUpperCase(),
                                        e && (o += t > 32 && t < 127 ? String.fromCharCode(t) : ".")),
                                        ++n,
                                        e && n > 0 && n % 16 == 0 && n !== r) {
                                            for (; i.length < 51; )
                                                i += " ";
                                            a += i + o + "\n",
                                            i = o = ""
                                        }
                                        n === this.offset && n === this.limit ? i += n === this.markedOffset ? "!" : "|" : n === this.offset ? i += n === this.markedOffset ? "[" : "<" : n === this.limit ? i += n === this.markedOffset ? "]" : ">" : i += n === this.markedOffset ? "'" : e || 0 !== n && n !== r ? " " : ""
                                    }
                                    if (e && " " !== i) {
                                        for (; i.length < 51; )
                                            i += " ";
                                        a += i + o + "\n"
                                    }
                                    return e ? a : i
                                }
                                ,
                                t.fromDebug = function(e, n, r) {
                                    for (var i, o, a = e.length, s = new t((a + 1) / 3 | 0,n,r), u = 0, c = 0, l = !1, f = !1, d = !1, h = !1, p = !1; u < a; ) {
                                        switch (i = e.charAt(u++)) {
                                        case "!":
                                            if (!r) {
                                                if (f || d || h) {
                                                    p = !0;
                                                    break
                                                }
                                                f = d = h = !0
                                            }
                                            s.offset = s.markedOffset = s.limit = c,
                                            l = !1;
                                            break;
                                        case "|":
                                            if (!r) {
                                                if (f || h) {
                                                    p = !0;
                                                    break
                                                }
                                                f = h = !0
                                            }
                                            s.offset = s.limit = c,
                                            l = !1;
                                            break;
                                        case "[":
                                            if (!r) {
                                                if (f || d) {
                                                    p = !0;
                                                    break
                                                }
                                                f = d = !0
                                            }
                                            s.offset = s.markedOffset = c,
                                            l = !1;
                                            break;
                                        case "<":
                                            if (!r) {
                                                if (f) {
                                                    p = !0;
                                                    break
                                                }
                                                f = !0
                                            }
                                            s.offset = c,
                                            l = !1;
                                            break;
                                        case "]":
                                            if (!r) {
                                                if (h || d) {
                                                    p = !0;
                                                    break
                                                }
                                                h = d = !0
                                            }
                                            s.limit = s.markedOffset = c,
                                            l = !1;
                                            break;
                                        case ">":
                                            if (!r) {
                                                if (h) {
                                                    p = !0;
                                                    break
                                                }
                                                h = !0
                                            }
                                            s.limit = c,
                                            l = !1;
                                            break;
                                        case "'":
                                            if (!r) {
                                                if (d) {
                                                    p = !0;
                                                    break
                                                }
                                                d = !0
                                            }
                                            s.markedOffset = c,
                                            l = !1;
                                            break;
                                        case " ":
                                            l = !1;
                                            break;
                                        default:
                                            if (!r && l) {
                                                p = !0;
                                                break
                                            }
                                            if (o = parseInt(i + e.charAt(u++), 16),
                                            !r && (isNaN(o) || o < 0 || o > 255))
                                                throw TypeError("Illegal str: Not a debug encoded string");
                                            s.view[c++] = o,
                                            l = !0
                                        }
                                        if (p)
                                            throw TypeError("Illegal str: Invalid symbol at " + u)
                                    }
                                    if (!r) {
                                        if (!f || !h)
                                            throw TypeError("Illegal str: Missing offset or limit");
                                        if (c < s.buffer.byteLength)
                                            throw TypeError("Illegal str: Not a debug encoded string (is it hex?) " + c + " < " + a)
                                    }
                                    return s
                                }
                                ,
                                n.toHex = function(e, t) {
                                    if (e = void 0 === e ? this.offset : e,
                                    t = void 0 === t ? this.limit : t,
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal begin: Not an integer");
                                        if (e >>>= 0,
                                        "number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal end: Not an integer");
                                        if (t >>>= 0,
                                        e < 0 || e > t || t > this.buffer.byteLength)
                                            throw RangeError("Illegal range: 0 <= " + e + " <= " + t + " <= " + this.buffer.byteLength)
                                    }
                                    for (var n, r = new Array(t - e); e < t; )
                                        (n = this.view[e++]) < 16 ? r.push("0", n.toString(16)) : r.push(n.toString(16));
                                    return r.join("")
                                }
                                ,
                                t.fromHex = function(e, n, r) {
                                    if (!r) {
                                        if ("string" != typeof e)
                                            throw TypeError("Illegal str: Not a string");
                                        if (e.length % 2 != 0)
                                            throw TypeError("Illegal str: Length not a multiple of 2")
                                    }
                                    for (var i, o = e.length, a = new t(o / 2 | 0,n), s = 0, u = 0; s < o; s += 2) {
                                        if (i = parseInt(e.substring(s, s + 2), 16),
                                        !r && (!isFinite(i) || i < 0 || i > 255))
                                            throw TypeError("Illegal str: Contains non-hex characters");
                                        a.view[u++] = i
                                    }
                                    return a.limit = u,
                                    a
                                }
                                ;
                                var f = function() {
                                    var e = {
                                        MAX_CODEPOINT: 1114111,
                                        encodeUTF8: function(e, t) {
                                            var n = null;
                                            for ("number" == typeof e && (n = e,
                                            e = function() {
                                                return null
                                            }
                                            ); null !== n || null !== (n = e()); )
                                                n < 128 ? t(127 & n) : n < 2048 ? (t(n >> 6 & 31 | 192),
                                                t(63 & n | 128)) : n < 65536 ? (t(n >> 12 & 15 | 224),
                                                t(n >> 6 & 63 | 128),
                                                t(63 & n | 128)) : (t(n >> 18 & 7 | 240),
                                                t(n >> 12 & 63 | 128),
                                                t(n >> 6 & 63 | 128),
                                                t(63 & n | 128)),
                                                n = null
                                        },
                                        decodeUTF8: function(e, t) {
                                            for (var n, r, i, o, a = function(e) {
                                                e = e.slice(0, e.indexOf(null));
                                                var t = Error(e.toString());
                                                throw t.name = "TruncatedError",
                                                t.bytes = e,
                                                t
                                            }; null !== (n = e()); )
                                                if (0 == (128 & n))
                                                    t(n);
                                                else if (192 == (224 & n))
                                                    null === (r = e()) && a([n, r]),
                                                    t((31 & n) << 6 | 63 & r);
                                                else if (224 == (240 & n))
                                                    (null === (r = e()) || null === (i = e())) && a([n, r, i]),
                                                    t((15 & n) << 12 | (63 & r) << 6 | 63 & i);
                                                else {
                                                    if (240 != (248 & n))
                                                        throw RangeError("Illegal starting byte: " + n);
                                                    (null === (r = e()) || null === (i = e()) || null === (o = e())) && a([n, r, i, o]),
                                                    t((7 & n) << 18 | (63 & r) << 12 | (63 & i) << 6 | 63 & o)
                                                }
                                        },
                                        UTF16toUTF8: function(e, t) {
                                            for (var n, r = null; null !== (n = null !== r ? r : e()); )
                                                n >= 55296 && n <= 57343 && null !== (r = e()) && r >= 56320 && r <= 57343 ? (t(1024 * (n - 55296) + r - 56320 + 65536),
                                                r = null) : t(n);
                                            null !== r && t(r)
                                        },
                                        UTF8toUTF16: function(e, t) {
                                            var n = null;
                                            for ("number" == typeof e && (n = e,
                                            e = function() {
                                                return null
                                            }
                                            ); null !== n || null !== (n = e()); )
                                                n <= 65535 ? t(n) : (t(55296 + ((n -= 65536) >> 10)),
                                                t(n % 1024 + 56320)),
                                                n = null
                                        },
                                        encodeUTF16toUTF8: function(t, n) {
                                            e.UTF16toUTF8(t, (function(t) {
                                                e.encodeUTF8(t, n)
                                            }
                                            ))
                                        },
                                        decodeUTF8toUTF16: function(t, n) {
                                            e.decodeUTF8(t, (function(t) {
                                                e.UTF8toUTF16(t, n)
                                            }
                                            ))
                                        },
                                        calculateCodePoint: function(e) {
                                            return e < 128 ? 1 : e < 2048 ? 2 : e < 65536 ? 3 : 4
                                        },
                                        calculateUTF8: function(e) {
                                            for (var t, n = 0; null !== (t = e()); )
                                                n += t < 128 ? 1 : t < 2048 ? 2 : t < 65536 ? 3 : 4;
                                            return n
                                        },
                                        calculateUTF16asUTF8: function(t) {
                                            var n = 0
                                              , r = 0;
                                            return e.UTF16toUTF8(t, (function(e) {
                                                ++n,
                                                r += e < 128 ? 1 : e < 2048 ? 2 : e < 65536 ? 3 : 4
                                            }
                                            )),
                                            [n, r]
                                        }
                                    };
                                    return e
                                }();
                                return n.toUTF8 = function(e, t) {
                                    if (void 0 === e && (e = this.offset),
                                    void 0 === t && (t = this.limit),
                                    !this.noAssert) {
                                        if ("number" != typeof e || e % 1 != 0)
                                            throw TypeError("Illegal begin: Not an integer");
                                        if (e >>>= 0,
                                        "number" != typeof t || t % 1 != 0)
                                            throw TypeError("Illegal end: Not an integer");
                                        if (t >>>= 0,
                                        e < 0 || e > t || t > this.buffer.byteLength)
                                            throw RangeError("Illegal range: 0 <= " + e + " <= " + t + " <= " + this.buffer.byteLength)
                                    }
                                    var n;
                                    try {
                                        f.decodeUTF8toUTF16(function() {
                                            return e < t ? this.view[e++] : null
                                        }
                                        .bind(this), n = a())
                                    } catch (n) {
                                        if (e !== t)
                                            throw RangeError("Illegal range: Truncated data, " + e + " != " + t)
                                    }
                                    return n()
                                }
                                ,
                                t.fromUTF8 = function(e, n, r) {
                                    if (!r && "string" != typeof e)
                                        throw TypeError("Illegal str: Not a string");
                                    var i = new t(f.calculateUTF16asUTF8(o(e), !0)[1],n,r)
                                      , a = 0;
                                    return f.encodeUTF16toUTF8(o(e), (function(e) {
                                        i.view[a++] = e
                                    }
                                    )),
                                    i.limit = a,
                                    i
                                }
                                ,
                                t
                            }
                            ) ? r.apply(t, i) : r) || (e.exports = o)
                        },
                        666: function(e, t) {
                            var n, r, i;
                            /**
           * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
           * Released under the Apache License, Version 2.0
           * see: https://github.com/dcodeIO/long.js for details
           */
                            r = [],
                            void 0 === (i = "function" == typeof (n = function() {
                                "use strict";
                                function e(e, t, n) {
                                    this.low = 0 | e,
                                    this.high = 0 | t,
                                    this.unsigned = !!n
                                }
                                function t(e) {
                                    return !0 === (e && e.__isLong__)
                                }
                                e.prototype.__isLong__,
                                Object.defineProperty(e.prototype, "__isLong__", {
                                    value: !0,
                                    enumerable: !1,
                                    configurable: !1
                                }),
                                e.isLong = t;
                                var n = {}
                                  , r = {};
                                function i(e, t) {
                                    var i, o, s;
                                    return t ? (s = 0 <= (e >>>= 0) && e < 256) && (o = r[e]) ? o : (i = a(e, (0 | e) < 0 ? -1 : 0, !0),
                                    s && (r[e] = i),
                                    i) : (s = -128 <= (e |= 0) && e < 128) && (o = n[e]) ? o : (i = a(e, e < 0 ? -1 : 0, !1),
                                    s && (n[e] = i),
                                    i)
                                }
                                function o(e, t) {
                                    if (isNaN(e) || !isFinite(e))
                                        return t ? v : p;
                                    if (t) {
                                        if (e < 0)
                                            return v;
                                        if (e >= f)
                                            return T
                                    } else {
                                        if (e <= -d)
                                            return b;
                                        if (e + 1 >= d)
                                            return E
                                    }
                                    return e < 0 ? o(-e, t).neg() : a(e % l | 0, e / l | 0, t)
                                }
                                function a(t, n, r) {
                                    return new e(t,n,r)
                                }
                                e.fromInt = i,
                                e.fromNumber = o,
                                e.fromBits = a;
                                var s = Math.pow;
                                function u(e, t, n) {
                                    if (0 === e.length)
                                        throw Error("empty string");
                                    if ("NaN" === e || "Infinity" === e || "+Infinity" === e || "-Infinity" === e)
                                        return p;
                                    if ("number" == typeof t ? (n = t,
                                    t = !1) : t = !!t,
                                    (n = n || 10) < 2 || 36 < n)
                                        throw RangeError("radix");
                                    var r;
                                    if ((r = e.indexOf("-")) > 0)
                                        throw Error("interior hyphen");
                                    if (0 === r)
                                        return u(e.substring(1), t, n).neg();
                                    for (var i = o(s(n, 8)), a = p, c = 0; c < e.length; c += 8) {
                                        var l = Math.min(8, e.length - c)
                                          , f = parseInt(e.substring(c, c + l), n);
                                        if (l < 8) {
                                            var d = o(s(n, l));
                                            a = a.mul(d).add(o(f))
                                        } else
                                            a = (a = a.mul(i)).add(o(f))
                                    }
                                    return a.unsigned = t,
                                    a
                                }
                                function c(t) {
                                    return t instanceof e ? t : "number" == typeof t ? o(t) : "string" == typeof t ? u(t) : a(t.low, t.high, t.unsigned)
                                }
                                e.fromString = u,
                                e.fromValue = c;
                                var l = 4294967296
                                  , f = l * l
                                  , d = f / 2
                                  , h = i(1 << 24)
                                  , p = i(0);
                                e.ZERO = p;
                                var v = i(0, !0);
                                e.UZERO = v;
                                var m = i(1);
                                e.ONE = m;
                                var g = i(1, !0);
                                e.UONE = g;
                                var y = i(-1);
                                e.NEG_ONE = y;
                                var E = a(-1, 2147483647, !1);
                                e.MAX_VALUE = E;
                                var T = a(-1, -1, !0);
                                e.MAX_UNSIGNED_VALUE = T;
                                var b = a(0, -2147483648, !1);
                                e.MIN_VALUE = b;
                                var _ = e.prototype;
                                return _.toInt = function() {
                                    return this.unsigned ? this.low >>> 0 : this.low
                                }
                                ,
                                _.toNumber = function() {
                                    return this.unsigned ? (this.high >>> 0) * l + (this.low >>> 0) : this.high * l + (this.low >>> 0)
                                }
                                ,
                                _.toString = function(e) {
                                    if ((e = e || 10) < 2 || 36 < e)
                                        throw RangeError("radix");
                                    if (this.isZero())
                                        return "0";
                                    if (this.isNegative()) {
                                        if (this.eq(b)) {
                                            var t = o(e)
                                              , n = this.div(t)
                                              , r = n.mul(t).sub(this);
                                            return n.toString(e) + r.toInt().toString(e)
                                        }
                                        return "-" + this.neg().toString(e)
                                    }
                                    for (var i = o(s(e, 6), this.unsigned), a = this, u = ""; ; ) {
                                        var c = a.div(i)
                                          , l = (a.sub(c.mul(i)).toInt() >>> 0).toString(e);
                                        if ((a = c).isZero())
                                            return l + u;
                                        for (; l.length < 6; )
                                            l = "0" + l;
                                        u = "" + l + u
                                    }
                                }
                                ,
                                _.getHighBits = function() {
                                    return this.high
                                }
                                ,
                                _.getHighBitsUnsigned = function() {
                                    return this.high >>> 0
                                }
                                ,
                                _.getLowBits = function() {
                                    return this.low
                                }
                                ,
                                _.getLowBitsUnsigned = function() {
                                    return this.low >>> 0
                                }
                                ,
                                _.getNumBitsAbs = function() {
                                    if (this.isNegative())
                                        return this.eq(b) ? 64 : this.neg().getNumBitsAbs();
                                    for (var e = 0 != this.high ? this.high : this.low, t = 31; t > 0 && 0 == (e & 1 << t); t--)
                                        ;
                                    return 0 != this.high ? t + 33 : t + 1
                                }
                                ,
                                _.isZero = function() {
                                    return 0 === this.high && 0 === this.low
                                }
                                ,
                                _.isNegative = function() {
                                    return !this.unsigned && this.high < 0
                                }
                                ,
                                _.isPositive = function() {
                                    return this.unsigned || this.high >= 0
                                }
                                ,
                                _.isOdd = function() {
                                    return 1 == (1 & this.low)
                                }
                                ,
                                _.isEven = function() {
                                    return 0 == (1 & this.low)
                                }
                                ,
                                _.equals = function(e) {
                                    return t(e) || (e = c(e)),
                                    (this.unsigned === e.unsigned || this.high >>> 31 != 1 || e.high >>> 31 != 1) && this.high === e.high && this.low === e.low
                                }
                                ,
                                _.eq = _.equals,
                                _.notEquals = function(e) {
                                    return !this.eq(e)
                                }
                                ,
                                _.neq = _.notEquals,
                                _.lessThan = function(e) {
                                    return this.comp(e) < 0
                                }
                                ,
                                _.lt = _.lessThan,
                                _.lessThanOrEqual = function(e) {
                                    return this.comp(e) <= 0
                                }
                                ,
                                _.lte = _.lessThanOrEqual,
                                _.greaterThan = function(e) {
                                    return this.comp(e) > 0
                                }
                                ,
                                _.gt = _.greaterThan,
                                _.greaterThanOrEqual = function(e) {
                                    return this.comp(e) >= 0
                                }
                                ,
                                _.gte = _.greaterThanOrEqual,
                                _.compare = function(e) {
                                    if (t(e) || (e = c(e)),
                                    this.eq(e))
                                        return 0;
                                    var n = this.isNegative()
                                      , r = e.isNegative();
                                    return n && !r ? -1 : !n && r ? 1 : this.unsigned ? e.high >>> 0 > this.high >>> 0 || e.high === this.high && e.low >>> 0 > this.low >>> 0 ? -1 : 1 : this.sub(e).isNegative() ? -1 : 1
                                }
                                ,
                                _.comp = _.compare,
                                _.negate = function() {
                                    return !this.unsigned && this.eq(b) ? b : this.not().add(m)
                                }
                                ,
                                _.neg = _.negate,
                                _.add = function(e) {
                                    t(e) || (e = c(e));
                                    var n = this.high >>> 16
                                      , r = 65535 & this.high
                                      , i = this.low >>> 16
                                      , o = 65535 & this.low
                                      , s = e.high >>> 16
                                      , u = 65535 & e.high
                                      , l = e.low >>> 16
                                      , f = 0
                                      , d = 0
                                      , h = 0
                                      , p = 0;
                                    return h += (p += o + (65535 & e.low)) >>> 16,
                                    d += (h += i + l) >>> 16,
                                    f += (d += r + u) >>> 16,
                                    f += n + s,
                                    a((h &= 65535) << 16 | (p &= 65535), (f &= 65535) << 16 | (d &= 65535), this.unsigned)
                                }
                                ,
                                _.subtract = function(e) {
                                    return t(e) || (e = c(e)),
                                    this.add(e.neg())
                                }
                                ,
                                _.sub = _.subtract,
                                _.multiply = function(e) {
                                    if (this.isZero())
                                        return p;
                                    if (t(e) || (e = c(e)),
                                    e.isZero())
                                        return p;
                                    if (this.eq(b))
                                        return e.isOdd() ? b : p;
                                    if (e.eq(b))
                                        return this.isOdd() ? b : p;
                                    if (this.isNegative())
                                        return e.isNegative() ? this.neg().mul(e.neg()) : this.neg().mul(e).neg();
                                    if (e.isNegative())
                                        return this.mul(e.neg()).neg();
                                    if (this.lt(h) && e.lt(h))
                                        return o(this.toNumber() * e.toNumber(), this.unsigned);
                                    var n = this.high >>> 16
                                      , r = 65535 & this.high
                                      , i = this.low >>> 16
                                      , s = 65535 & this.low
                                      , u = e.high >>> 16
                                      , l = 65535 & e.high
                                      , f = e.low >>> 16
                                      , d = 65535 & e.low
                                      , v = 0
                                      , m = 0
                                      , g = 0
                                      , y = 0;
                                    return g += (y += s * d) >>> 16,
                                    m += (g += i * d) >>> 16,
                                    g &= 65535,
                                    m += (g += s * f) >>> 16,
                                    v += (m += r * d) >>> 16,
                                    m &= 65535,
                                    v += (m += i * f) >>> 16,
                                    m &= 65535,
                                    v += (m += s * l) >>> 16,
                                    v += n * d + r * f + i * l + s * u,
                                    a((g &= 65535) << 16 | (y &= 65535), (v &= 65535) << 16 | (m &= 65535), this.unsigned)
                                }
                                ,
                                _.mul = _.multiply,
                                _.divide = function(e) {
                                    if (t(e) || (e = c(e)),
                                    e.isZero())
                                        throw Error("division by zero");
                                    if (this.isZero())
                                        return this.unsigned ? v : p;
                                    var n, r, i;
                                    if (this.unsigned) {
                                        if (e.unsigned || (e = e.toUnsigned()),
                                        e.gt(this))
                                            return v;
                                        if (e.gt(this.shru(1)))
                                            return g;
                                        i = v
                                    } else {
                                        if (this.eq(b))
                                            return e.eq(m) || e.eq(y) ? b : e.eq(b) ? m : (n = this.shr(1).div(e).shl(1)).eq(p) ? e.isNegative() ? m : y : (r = this.sub(e.mul(n)),
                                            i = n.add(r.div(e)));
                                        if (e.eq(b))
                                            return this.unsigned ? v : p;
                                        if (this.isNegative())
                                            return e.isNegative() ? this.neg().div(e.neg()) : this.neg().div(e).neg();
                                        if (e.isNegative())
                                            return this.div(e.neg()).neg();
                                        i = p
                                    }
                                    for (r = this; r.gte(e); ) {
                                        n = Math.max(1, Math.floor(r.toNumber() / e.toNumber()));
                                        for (var a = Math.ceil(Math.log(n) / Math.LN2), u = a <= 48 ? 1 : s(2, a - 48), l = o(n), f = l.mul(e); f.isNegative() || f.gt(r); )
                                            f = (l = o(n -= u, this.unsigned)).mul(e);
                                        l.isZero() && (l = m),
                                        i = i.add(l),
                                        r = r.sub(f)
                                    }
                                    return i
                                }
                                ,
                                _.div = _.divide,
                                _.modulo = function(e) {
                                    return t(e) || (e = c(e)),
                                    this.sub(this.div(e).mul(e))
                                }
                                ,
                                _.mod = _.modulo,
                                _.not = function() {
                                    return a(~this.low, ~this.high, this.unsigned)
                                }
                                ,
                                _.and = function(e) {
                                    return t(e) || (e = c(e)),
                                    a(this.low & e.low, this.high & e.high, this.unsigned)
                                }
                                ,
                                _.or = function(e) {
                                    return t(e) || (e = c(e)),
                                    a(this.low | e.low, this.high | e.high, this.unsigned)
                                }
                                ,
                                _.xor = function(e) {
                                    return t(e) || (e = c(e)),
                                    a(this.low ^ e.low, this.high ^ e.high, this.unsigned)
                                }
                                ,
                                _.shiftLeft = function(e) {
                                    return t(e) && (e = e.toInt()),
                                    0 == (e &= 63) ? this : e < 32 ? a(this.low << e, this.high << e | this.low >>> 32 - e, this.unsigned) : a(0, this.low << e - 32, this.unsigned)
                                }
                                ,
                                _.shl = _.shiftLeft,
                                _.shiftRight = function(e) {
                                    return t(e) && (e = e.toInt()),
                                    0 == (e &= 63) ? this : e < 32 ? a(this.low >>> e | this.high << 32 - e, this.high >> e, this.unsigned) : a(this.high >> e - 32, this.high >= 0 ? 0 : -1, this.unsigned)
                                }
                                ,
                                _.shr = _.shiftRight,
                                _.shiftRightUnsigned = function(e) {
                                    if (t(e) && (e = e.toInt()),
                                    0 == (e &= 63))
                                        return this;
                                    var n = this.high;
                                    return e < 32 ? a(this.low >>> e | n << 32 - e, n >>> e, this.unsigned) : a(32 === e ? n : n >>> e - 32, 0, this.unsigned)
                                }
                                ,
                                _.shru = _.shiftRightUnsigned,
                                _.toSigned = function() {
                                    return this.unsigned ? a(this.low, this.high, !1) : this
                                }
                                ,
                                _.toUnsigned = function() {
                                    return this.unsigned ? this : a(this.low, this.high, !0)
                                }
                                ,
                                _.toBytes = function(e) {
                                    return e ? this.toBytesLE() : this.toBytesBE()
                                }
                                ,
                                _.toBytesLE = function() {
                                    var e = this.high
                                      , t = this.low;
                                    return [255 & t, t >>> 8 & 255, t >>> 16 & 255, t >>> 24 & 255, 255 & e, e >>> 8 & 255, e >>> 16 & 255, e >>> 24 & 255]
                                }
                                ,
                                _.toBytesBE = function() {
                                    var e = this.high
                                      , t = this.low;
                                    return [e >>> 24 & 255, e >>> 16 & 255, e >>> 8 & 255, 255 & e, t >>> 24 & 255, t >>> 16 & 255, t >>> 8 & 255, 255 & t]
                                }
                                ,
                                e
                            }
                            ) ? n.apply(t, r) : n) || (e.exports = i)
                        },
                        670: function(e, t, n) {
                            var i, o, a;
                            /**
           * @license protobuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
           * Released under the Apache License, Version 2.0
           * see: https://github.com/dcodeIO/protobuf.js for details
           */
                            o = [n(779)],
                            void 0 === (a = "function" == typeof (i = function(e, t) {
                                "use strict";
                                var i, o = {};
                                return o.ByteBuffer = e,
                                o.Long = e.Long || null,
                                o.VERSION = "5.0.3",
                                o.WIRE_TYPES = {},
                                o.WIRE_TYPES.VARINT = 0,
                                o.WIRE_TYPES.BITS64 = 1,
                                o.WIRE_TYPES.LDELIM = 2,
                                o.WIRE_TYPES.STARTGROUP = 3,
                                o.WIRE_TYPES.ENDGROUP = 4,
                                o.WIRE_TYPES.BITS32 = 5,
                                o.PACKABLE_WIRE_TYPES = [o.WIRE_TYPES.VARINT, o.WIRE_TYPES.BITS64, o.WIRE_TYPES.BITS32],
                                o.TYPES = {
                                    int32: {
                                        name: "int32",
                                        wireType: o.WIRE_TYPES.VARINT,
                                        defaultValue: 0
                                    },
                                    uint32: {
                                        name: "uint32",
                                        wireType: o.WIRE_TYPES.VARINT,
                                        defaultValue: 0
                                    },
                                    sint32: {
                                        name: "sint32",
                                        wireType: o.WIRE_TYPES.VARINT,
                                        defaultValue: 0
                                    },
                                    int64: {
                                        name: "int64",
                                        wireType: o.WIRE_TYPES.VARINT,
                                        defaultValue: o.Long ? o.Long.ZERO : void 0
                                    },
                                    uint64: {
                                        name: "uint64",
                                        wireType: o.WIRE_TYPES.VARINT,
                                        defaultValue: o.Long ? o.Long.UZERO : void 0
                                    },
                                    sint64: {
                                        name: "sint64",
                                        wireType: o.WIRE_TYPES.VARINT,
                                        defaultValue: o.Long ? o.Long.ZERO : void 0
                                    },
                                    bool: {
                                        name: "bool",
                                        wireType: o.WIRE_TYPES.VARINT,
                                        defaultValue: !1
                                    },
                                    double: {
                                        name: "double",
                                        wireType: o.WIRE_TYPES.BITS64,
                                        defaultValue: 0
                                    },
                                    string: {
                                        name: "string",
                                        wireType: o.WIRE_TYPES.LDELIM,
                                        defaultValue: ""
                                    },
                                    bytes: {
                                        name: "bytes",
                                        wireType: o.WIRE_TYPES.LDELIM,
                                        defaultValue: null
                                    },
                                    fixed32: {
                                        name: "fixed32",
                                        wireType: o.WIRE_TYPES.BITS32,
                                        defaultValue: 0
                                    },
                                    sfixed32: {
                                        name: "sfixed32",
                                        wireType: o.WIRE_TYPES.BITS32,
                                        defaultValue: 0
                                    },
                                    fixed64: {
                                        name: "fixed64",
                                        wireType: o.WIRE_TYPES.BITS64,
                                        defaultValue: o.Long ? o.Long.UZERO : void 0
                                    },
                                    sfixed64: {
                                        name: "sfixed64",
                                        wireType: o.WIRE_TYPES.BITS64,
                                        defaultValue: o.Long ? o.Long.ZERO : void 0
                                    },
                                    float: {
                                        name: "float",
                                        wireType: o.WIRE_TYPES.BITS32,
                                        defaultValue: 0
                                    },
                                    enum: {
                                        name: "enum",
                                        wireType: o.WIRE_TYPES.VARINT,
                                        defaultValue: 0
                                    },
                                    message: {
                                        name: "message",
                                        wireType: o.WIRE_TYPES.LDELIM,
                                        defaultValue: null
                                    },
                                    group: {
                                        name: "group",
                                        wireType: o.WIRE_TYPES.STARTGROUP,
                                        defaultValue: null
                                    }
                                },
                                o.MAP_KEY_TYPES = [o.TYPES.int32, o.TYPES.sint32, o.TYPES.sfixed32, o.TYPES.uint32, o.TYPES.fixed32, o.TYPES.int64, o.TYPES.sint64, o.TYPES.sfixed64, o.TYPES.uint64, o.TYPES.fixed64, o.TYPES.bool, o.TYPES.string, o.TYPES.bytes],
                                o.ID_MIN = 1,
                                o.ID_MAX = 536870911,
                                o.convertFieldsToCamelCase = !1,
                                o.populateAccessors = !0,
                                o.populateDefaults = !0,
                                o.Util = ((i = {}).IS_NODE = !("object" !== (void 0 === r ? "undefined" : c(r)) || r + "" != "[object process]" || r.browser),
                                i.XHR = function() {
                                    for (var e = [function() {
                                        return new XMLHttpRequest
                                    }
                                    , function() {
                                        return new ActiveXObject("Msxml2.XMLHTTP")
                                    }
                                    , function() {
                                        return new ActiveXObject("Msxml3.XMLHTTP")
                                    }
                                    , function() {
                                        return new ActiveXObject("Microsoft.XMLHTTP")
                                    }
                                    ], t = null, n = 0; n < e.length; n++) {
                                        try {
                                            t = e[n]()
                                        } catch (e) {
                                            continue
                                        }
                                        break
                                    }
                                    if (!t)
                                        throw Error("XMLHttpRequest is not supported");
                                    return t
                                }
                                ,
                                i.fetch = function(e, t) {
                                    if (t && "function" != typeof t && (t = null),
                                    i.IS_NODE) {
                                        var r = n(147);
                                        if (t)
                                            r.readFile(e, (function(e, n) {
                                                t(e ? null : "" + n)
                                            }
                                            ));
                                        else
                                            try {
                                                return r.readFileSync(e)
                                            } catch (e) {
                                                return null
                                            }
                                    } else {
                                        var o = i.XHR();
                                        if (o.open("GET", e, !!t),
                                        o.setRequestHeader("Accept", "text/plain"),
                                        "function" == typeof o.overrideMimeType && o.overrideMimeType("text/plain"),
                                        !t)
                                            return o.send(null),
                                            200 == o.status || 0 == o.status && "string" == typeof o.responseText ? o.responseText : null;
                                        if (o.onreadystatechange = function() {
                                            4 == o.readyState && (200 == o.status || 0 == o.status && "string" == typeof o.responseText ? t(o.responseText) : t(null))
                                        }
                                        ,
                                        4 == o.readyState)
                                            return;
                                        o.send(null)
                                    }
                                }
                                ,
                                i.toCamelCase = function(e) {
                                    return e.replace(/_([a-zA-Z])/g, (function(e, t) {
                                        return t.toUpperCase()
                                    }
                                    ))
                                }
                                ,
                                i),
                                o.Lang = {
                                    DELIM: /[\s\{\}=;:\[\],'"\(\)<>]/g,
                                    RULE: /^(?:required|optional|repeated|map)$/,
                                    TYPE: /^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,
                                    NAME: /^[a-zA-Z_][a-zA-Z_0-9]*$/,
                                    TYPEDEF: /^[a-zA-Z][a-zA-Z_0-9]*$/,
                                    TYPEREF: /^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,
                                    FQTYPEREF: /^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/,
                                    NUMBER: /^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,
                                    NUMBER_DEC: /^(?:[1-9][0-9]*|0)$/,
                                    NUMBER_HEX: /^0[xX][0-9a-fA-F]+$/,
                                    NUMBER_OCT: /^0[0-7]+$/,
                                    NUMBER_FLT: /^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,
                                    BOOL: /^(?:true|false)$/i,
                                    ID: /^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,
                                    NEGID: /^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,
                                    WHITESPACE: /\s/,
                                    STRING: /(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,
                                    STRING_DQ: /(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,
                                    STRING_SQ: /(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g
                                },
                                o.DotProto = function(e, t) {
                                    var n = {}
                                      , r = function(e) {
                                        this.source = e + "",
                                        this.index = 0,
                                        this.line = 1,
                                        this.stack = [],
                                        this._stringOpen = null
                                    }
                                      , i = r.prototype;
                                    i._readString = function() {
                                        var e = '"' === this._stringOpen ? t.STRING_DQ : t.STRING_SQ;
                                        e.lastIndex = this.index - 1;
                                        var n = e.exec(this.source);
                                        if (!n)
                                            throw Error("unterminated string");
                                        return this.index = e.lastIndex,
                                        this.stack.push(this._stringOpen),
                                        this._stringOpen = null,
                                        n[1]
                                    }
                                    ,
                                    i.next = function() {
                                        if (this.stack.length > 0)
                                            return this.stack.shift();
                                        if (this.index >= this.source.length)
                                            return null;
                                        if (null !== this._stringOpen)
                                            return this._readString();
                                        var e, n, r;
                                        do {
                                            for (e = !1; t.WHITESPACE.test(r = this.source.charAt(this.index)); )
                                                if ("\n" === r && ++this.line,
                                                ++this.index === this.source.length)
                                                    return null;
                                            if ("/" === this.source.charAt(this.index))
                                                if (++this.index,
                                                "/" === this.source.charAt(this.index)) {
                                                    for (; "\n" !== this.source.charAt(++this.index); )
                                                        if (this.index == this.source.length)
                                                            return null;
                                                    ++this.index,
                                                    ++this.line,
                                                    e = !0
                                                } else {
                                                    if ("*" !== (r = this.source.charAt(this.index)))
                                                        return "/";
                                                    do {
                                                        if ("\n" === r && ++this.line,
                                                        ++this.index === this.source.length)
                                                            return null;
                                                        n = r,
                                                        r = this.source.charAt(this.index)
                                                    } while ("*" !== n || "/" !== r);
                                                    ++this.index,
                                                    e = !0
                                                }
                                        } while (e);
                                        if (this.index === this.source.length)
                                            return null;
                                        var i = this.index;
                                        if (t.DELIM.lastIndex = 0,
                                        !t.DELIM.test(this.source.charAt(i++)))
                                            for (; i < this.source.length && !t.DELIM.test(this.source.charAt(i)); )
                                                ++i;
                                        var o = this.source.substring(this.index, this.index = i);
                                        return '"' !== o && "'" !== o || (this._stringOpen = o),
                                        o
                                    }
                                    ,
                                    i.peek = function() {
                                        if (0 === this.stack.length) {
                                            var e = this.next();
                                            if (null === e)
                                                return null;
                                            this.stack.push(e)
                                        }
                                        return this.stack[0]
                                    }
                                    ,
                                    i.skip = function(e) {
                                        var t = this.next();
                                        if (t !== e)
                                            throw Error("illegal '" + t + "', '" + e + "' expected")
                                    }
                                    ,
                                    i.omit = function(e) {
                                        return this.peek() === e && (this.next(),
                                        !0)
                                    }
                                    ,
                                    i.toString = function() {
                                        return "Tokenizer (" + this.index + "/" + this.source.length + " at line " + this.line + ")"
                                    }
                                    ,
                                    n.Tokenizer = r;
                                    var o = function(e) {
                                        this.tn = new r(e),
                                        this.proto3 = !1
                                    }
                                      , a = o.prototype;
                                    function s(e, n) {
                                        var r = -1
                                          , i = 1;
                                        if ("-" == e.charAt(0) && (i = -1,
                                        e = e.substring(1)),
                                        t.NUMBER_DEC.test(e))
                                            r = parseInt(e);
                                        else if (t.NUMBER_HEX.test(e))
                                            r = parseInt(e.substring(2), 16);
                                        else {
                                            if (!t.NUMBER_OCT.test(e))
                                                throw Error("illegal id value: " + (i < 0 ? "-" : "") + e);
                                            r = parseInt(e.substring(1), 8)
                                        }
                                        if (r = i * r | 0,
                                        !n && r < 0)
                                            throw Error("illegal id value: " + (i < 0 ? "-" : "") + e);
                                        return r
                                    }
                                    function u(e) {
                                        var n = 1;
                                        if ("-" == e.charAt(0) && (n = -1,
                                        e = e.substring(1)),
                                        t.NUMBER_DEC.test(e))
                                            return n * parseInt(e, 10);
                                        if (t.NUMBER_HEX.test(e))
                                            return n * parseInt(e.substring(2), 16);
                                        if (t.NUMBER_OCT.test(e))
                                            return n * parseInt(e.substring(1), 8);
                                        if ("inf" === e)
                                            return n * (1 / 0);
                                        if ("nan" === e)
                                            return NaN;
                                        if (t.NUMBER_FLT.test(e))
                                            return n * parseFloat(e);
                                        throw Error("illegal number value: " + (n < 0 ? "-" : "") + e)
                                    }
                                    function c(e, t, n) {
                                        void 0 === e[t] ? e[t] = n : (Array.isArray(e[t]) || (e[t] = [e[t]]),
                                        e[t].push(n))
                                    }
                                    return a.parse = function() {
                                        var e, n, r = {
                                            name: "[ROOT]",
                                            package: null,
                                            messages: [],
                                            enums: [],
                                            imports: [],
                                            options: {},
                                            services: []
                                        }, i = !0;
                                        try {
                                            for (; e = this.tn.next(); )
                                                switch (e) {
                                                case "package":
                                                    if (!i || null !== r.package)
                                                        throw Error("unexpected 'package'");
                                                    if (e = this.tn.next(),
                                                    !t.TYPEREF.test(e))
                                                        throw Error("illegal package name: " + e);
                                                    this.tn.skip(";"),
                                                    r.package = e;
                                                    break;
                                                case "import":
                                                    if (!i)
                                                        throw Error("unexpected 'import'");
                                                    ("public" === (e = this.tn.peek()) || (n = "weak" === e)) && this.tn.next(),
                                                    e = this._readString(),
                                                    this.tn.skip(";"),
                                                    n || r.imports.push(e);
                                                    break;
                                                case "syntax":
                                                    if (!i)
                                                        throw Error("unexpected 'syntax'");
                                                    this.tn.skip("="),
                                                    "proto3" === (r.syntax = this._readString()) && (this.proto3 = !0),
                                                    this.tn.skip(";");
                                                    break;
                                                case "message":
                                                    this._parseMessage(r, null),
                                                    i = !1;
                                                    break;
                                                case "enum":
                                                    this._parseEnum(r),
                                                    i = !1;
                                                    break;
                                                case "option":
                                                    this._parseOption(r);
                                                    break;
                                                case "service":
                                                    this._parseService(r);
                                                    break;
                                                case "extend":
                                                    this._parseExtend(r);
                                                    break;
                                                default:
                                                    throw Error("unexpected '" + e + "'")
                                                }
                                        } catch (e) {
                                            throw e.message = "Parse error at line " + this.tn.line + ": " + e.message,
                                            e
                                        }
                                        return delete r.name,
                                        r
                                    }
                                    ,
                                    o.parse = function(e) {
                                        return new o(e).parse()
                                    }
                                    ,
                                    a._readString = function() {
                                        var e, t, n = "";
                                        do {
                                            if ("'" !== (t = this.tn.next()) && '"' !== t)
                                                throw Error("illegal string delimiter: " + t);
                                            n += this.tn.next(),
                                            this.tn.skip(t),
                                            e = this.tn.peek()
                                        } while ('"' === e || '"' === e);
                                        return n
                                    }
                                    ,
                                    a._readValue = function(e) {
                                        var n = this.tn.peek();
                                        if ('"' === n || "'" === n)
                                            return this._readString();
                                        if (this.tn.next(),
                                        t.NUMBER.test(n))
                                            return u(n);
                                        if (t.BOOL.test(n))
                                            return "true" === n.toLowerCase();
                                        if (e && t.TYPEREF.test(n))
                                            return n;
                                        throw Error("illegal value: " + n)
                                    }
                                    ,
                                    a._parseOption = function(e, n) {
                                        var r = this.tn.next()
                                          , i = !1;
                                        if ("(" === r && (i = !0,
                                        r = this.tn.next()),
                                        !t.TYPEREF.test(r))
                                            throw Error("illegal option name: " + r);
                                        var o = r;
                                        i && (this.tn.skip(")"),
                                        o = "(" + o + ")",
                                        r = this.tn.peek(),
                                        t.FQTYPEREF.test(r) && (o += r,
                                        this.tn.next())),
                                        this.tn.skip("="),
                                        this._parseOptionValue(e, o),
                                        n || this.tn.skip(";")
                                    }
                                    ,
                                    a._parseOptionValue = function(e, n) {
                                        var r = this.tn.peek();
                                        if ("{" !== r)
                                            c(e.options, n, this._readValue(!0));
                                        else
                                            for (this.tn.skip("{"); "}" !== (r = this.tn.next()); ) {
                                                if (!t.NAME.test(r))
                                                    throw Error("illegal option name: " + n + "." + r);
                                                this.tn.omit(":") ? c(e.options, n + "." + r, this._readValue(!0)) : this._parseOptionValue(e, n + "." + r)
                                            }
                                    }
                                    ,
                                    a._parseService = function(e) {
                                        var n = this.tn.next();
                                        if (!t.NAME.test(n))
                                            throw Error("illegal service name at line " + this.tn.line + ": " + n);
                                        var r = {
                                            name: n,
                                            rpc: {},
                                            options: {}
                                        };
                                        for (this.tn.skip("{"); "}" !== (n = this.tn.next()); )
                                            if ("option" === n)
                                                this._parseOption(r);
                                            else {
                                                if ("rpc" !== n)
                                                    throw Error("illegal service token: " + n);
                                                this._parseServiceRPC(r)
                                            }
                                        this.tn.omit(";"),
                                        e.services.push(r)
                                    }
                                    ,
                                    a._parseServiceRPC = function(e) {
                                        var n = this.tn.next();
                                        if (!t.NAME.test(n))
                                            throw Error("illegal rpc service method name: " + n);
                                        var r = n
                                          , i = {
                                            request: null,
                                            response: null,
                                            request_stream: !1,
                                            response_stream: !1,
                                            options: {}
                                        };
                                        if (this.tn.skip("("),
                                        "stream" === (n = this.tn.next()).toLowerCase() && (i.request_stream = !0,
                                        n = this.tn.next()),
                                        !t.TYPEREF.test(n))
                                            throw Error("illegal rpc service request type: " + n);
                                        if (i.request = n,
                                        this.tn.skip(")"),
                                        "returns" !== (n = this.tn.next()).toLowerCase())
                                            throw Error("illegal rpc service request type delimiter: " + n);
                                        if (this.tn.skip("("),
                                        "stream" === (n = this.tn.next()).toLowerCase() && (i.response_stream = !0,
                                        n = this.tn.next()),
                                        i.response = n,
                                        this.tn.skip(")"),
                                        "{" === (n = this.tn.peek())) {
                                            for (this.tn.next(); "}" !== (n = this.tn.next()); ) {
                                                if ("option" !== n)
                                                    throw Error("illegal rpc service token: " + n);
                                                this._parseOption(i)
                                            }
                                            this.tn.omit(";")
                                        } else
                                            this.tn.skip(";");
                                        void 0 === e.rpc && (e.rpc = {}),
                                        e.rpc[r] = i
                                    }
                                    ,
                                    a._parseMessage = function(e, n) {
                                        var r = !!n
                                          , i = this.tn.next()
                                          , o = {
                                            name: "",
                                            fields: [],
                                            enums: [],
                                            messages: [],
                                            options: {},
                                            services: [],
                                            oneofs: {}
                                        };
                                        if (!t.NAME.test(i))
                                            throw Error("illegal " + (r ? "group" : "message") + " name: " + i);
                                        for (o.name = i,
                                        r && (this.tn.skip("="),
                                        n.id = s(this.tn.next()),
                                        o.isGroup = !0),
                                        "[" === (i = this.tn.peek()) && n && this._parseFieldOptions(n),
                                        this.tn.skip("{"); "}" !== (i = this.tn.next()); )
                                            if (t.RULE.test(i))
                                                this._parseMessageField(o, i);
                                            else if ("oneof" === i)
                                                this._parseMessageOneOf(o);
                                            else if ("enum" === i)
                                                this._parseEnum(o);
                                            else if ("message" === i)
                                                this._parseMessage(o);
                                            else if ("option" === i)
                                                this._parseOption(o);
                                            else if ("service" === i)
                                                this._parseService(o);
                                            else if ("extensions" === i)
                                                o.hasOwnProperty("extensions") ? o.extensions = o.extensions.concat(this._parseExtensionRanges()) : o.extensions = this._parseExtensionRanges();
                                            else if ("reserved" === i)
                                                this._parseIgnored();
                                            else if ("extend" === i)
                                                this._parseExtend(o);
                                            else {
                                                if (!t.TYPEREF.test(i))
                                                    throw Error("illegal message token: " + i);
                                                if (!this.proto3)
                                                    throw Error("illegal field rule: " + i);
                                                this._parseMessageField(o, "optional", i)
                                            }
                                        return this.tn.omit(";"),
                                        e.messages.push(o),
                                        o
                                    }
                                    ,
                                    a._parseIgnored = function() {
                                        for (; ";" !== this.tn.peek(); )
                                            this.tn.next();
                                        this.tn.skip(";")
                                    }
                                    ,
                                    a._parseMessageField = function(e, n, r) {
                                        if (!t.RULE.test(n))
                                            throw Error("illegal message field rule: " + n);
                                        var i, o = {
                                            rule: n,
                                            type: "",
                                            name: "",
                                            options: {},
                                            id: 0
                                        };
                                        if ("map" === n) {
                                            if (r)
                                                throw Error("illegal type: " + r);
                                            if (this.tn.skip("<"),
                                            i = this.tn.next(),
                                            !t.TYPE.test(i) && !t.TYPEREF.test(i))
                                                throw Error("illegal message field type: " + i);
                                            if (o.keytype = i,
                                            this.tn.skip(","),
                                            i = this.tn.next(),
                                            !t.TYPE.test(i) && !t.TYPEREF.test(i))
                                                throw Error("illegal message field: " + i);
                                            if (o.type = i,
                                            this.tn.skip(">"),
                                            i = this.tn.next(),
                                            !t.NAME.test(i))
                                                throw Error("illegal message field name: " + i);
                                            o.name = i,
                                            this.tn.skip("="),
                                            o.id = s(this.tn.next()),
                                            "[" === (i = this.tn.peek()) && this._parseFieldOptions(o),
                                            this.tn.skip(";")
                                        } else if ("group" === (r = void 0 !== r ? r : this.tn.next())) {
                                            var a = this._parseMessage(e, o);
                                            if (!/^[A-Z]/.test(a.name))
                                                throw Error("illegal group name: " + a.name);
                                            o.type = a.name,
                                            o.name = a.name.toLowerCase(),
                                            this.tn.omit(";")
                                        } else {
                                            if (!t.TYPE.test(r) && !t.TYPEREF.test(r))
                                                throw Error("illegal message field type: " + r);
                                            if (o.type = r,
                                            i = this.tn.next(),
                                            !t.NAME.test(i))
                                                throw Error("illegal message field name: " + i);
                                            o.name = i,
                                            this.tn.skip("="),
                                            o.id = s(this.tn.next()),
                                            "[" === (i = this.tn.peek()) && this._parseFieldOptions(o),
                                            this.tn.skip(";")
                                        }
                                        return e.fields.push(o),
                                        o
                                    }
                                    ,
                                    a._parseMessageOneOf = function(e) {
                                        var n = this.tn.next();
                                        if (!t.NAME.test(n))
                                            throw Error("illegal oneof name: " + n);
                                        var r, i = n, o = [];
                                        for (this.tn.skip("{"); "}" !== (n = this.tn.next()); )
                                            (r = this._parseMessageField(e, "optional", n)).oneof = i,
                                            o.push(r.id);
                                        this.tn.omit(";"),
                                        e.oneofs[i] = o
                                    }
                                    ,
                                    a._parseFieldOptions = function(e) {
                                        this.tn.skip("[");
                                        for (var t = !0; "]" !== this.tn.peek(); )
                                            t || this.tn.skip(","),
                                            this._parseOption(e, !0),
                                            t = !1;
                                        this.tn.next()
                                    }
                                    ,
                                    a._parseEnum = function(e) {
                                        var n = {
                                            name: "",
                                            values: [],
                                            options: {}
                                        }
                                          , r = this.tn.next();
                                        if (!t.NAME.test(r))
                                            throw Error("illegal name: " + r);
                                        for (n.name = r,
                                        this.tn.skip("{"); "}" !== (r = this.tn.next()); )
                                            if ("option" === r)
                                                this._parseOption(n);
                                            else {
                                                if (!t.NAME.test(r))
                                                    throw Error("illegal name: " + r);
                                                this.tn.skip("=");
                                                var i = {
                                                    name: r,
                                                    id: s(this.tn.next(), !0)
                                                };
                                                "[" === (r = this.tn.peek()) && this._parseFieldOptions({
                                                    options: {}
                                                }),
                                                this.tn.skip(";"),
                                                n.values.push(i)
                                            }
                                        this.tn.omit(";"),
                                        e.enums.push(n)
                                    }
                                    ,
                                    a._parseExtensionRanges = function() {
                                        var t, n, r, i = [];
                                        do {
                                            for (n = []; ; ) {
                                                switch (t = this.tn.next()) {
                                                case "min":
                                                    r = e.ID_MIN;
                                                    break;
                                                case "max":
                                                    r = e.ID_MAX;
                                                    break;
                                                default:
                                                    r = u(t)
                                                }
                                                if (n.push(r),
                                                2 === n.length)
                                                    break;
                                                if ("to" !== this.tn.peek()) {
                                                    n.push(r);
                                                    break
                                                }
                                                this.tn.next()
                                            }
                                            i.push(n)
                                        } while (this.tn.omit(","));
                                        return this.tn.skip(";"),
                                        i
                                    }
                                    ,
                                    a._parseExtend = function(e) {
                                        var n = this.tn.next();
                                        if (!t.TYPEREF.test(n))
                                            throw Error("illegal extend reference: " + n);
                                        var r = {
                                            ref: n,
                                            fields: []
                                        };
                                        for (this.tn.skip("{"); "}" !== (n = this.tn.next()); )
                                            if (t.RULE.test(n))
                                                this._parseMessageField(r, n);
                                            else {
                                                if (!t.TYPEREF.test(n))
                                                    throw Error("illegal extend token: " + n);
                                                if (!this.proto3)
                                                    throw Error("illegal field rule: " + n);
                                                this._parseMessageField(r, "optional", n)
                                            }
                                        return this.tn.omit(";"),
                                        e.messages.push(r),
                                        r
                                    }
                                    ,
                                    a.toString = function() {
                                        return "Parser at line " + this.tn.line
                                    }
                                    ,
                                    n.Parser = o,
                                    n
                                }(o, o.Lang),
                                o.Reflect = function(t) {
                                    var n = {}
                                      , r = function(e, t, n) {
                                        this.builder = e,
                                        this.parent = t,
                                        this.name = n,
                                        this.className
                                    }
                                      , i = r.prototype;
                                    i.fqn = function() {
                                        for (var e = this.name, t = this; null != (t = t.parent); )
                                            e = t.name + "." + e;
                                        return e
                                    }
                                    ,
                                    i.toString = function(e) {
                                        return (e ? this.className + " " : "") + this.fqn()
                                    }
                                    ,
                                    i.build = function() {
                                        throw Error(this.toString(!0) + " cannot be built directly")
                                    }
                                    ,
                                    n.T = r;
                                    var o = function(e, t, n, i, o) {
                                        r.call(this, e, t, n),
                                        this.className = "Namespace",
                                        this.children = [],
                                        this.options = i || {},
                                        this.syntax = o || "proto2"
                                    }
                                      , a = o.prototype = Object.create(r.prototype);
                                    a.getChildren = function(e) {
                                        if (null == (e = e || null))
                                            return this.children.slice();
                                        for (var t = [], n = 0, r = this.children.length; n < r; ++n)
                                            this.children[n]instanceof e && t.push(this.children[n]);
                                        return t
                                    }
                                    ,
                                    a.addChild = function(e) {
                                        var t;
                                        if (t = this.getChild(e.name))
                                            if (t instanceof f.Field && t.name !== t.originalName && null === this.getChild(t.originalName))
                                                t.name = t.originalName;
                                            else {
                                                if (!(e instanceof f.Field && e.name !== e.originalName && null === this.getChild(e.originalName)))
                                                    throw Error("Duplicate name in namespace " + this.toString(!0) + ": " + e.name);
                                                e.name = e.originalName
                                            }
                                        this.children.push(e)
                                    }
                                    ,
                                    a.getChild = function(e) {
                                        for (var t = "number" == typeof e ? "id" : "name", n = 0, r = this.children.length; n < r; ++n)
                                            if (this.children[n][t] === e)
                                                return this.children[n];
                                        return null
                                    }
                                    ,
                                    a.resolve = function(e, t) {
                                        var r, i = "string" == typeof e ? e.split(".") : e, o = this, a = 0;
                                        if ("" === i[a]) {
                                            for (; null !== o.parent; )
                                                o = o.parent;
                                            a++
                                        }
                                        do {
                                            do {
                                                if (!(o instanceof n.Namespace)) {
                                                    o = null;
                                                    break
                                                }
                                                if (!(r = o.getChild(i[a])) || !(r instanceof n.T) || t && !(r instanceof n.Namespace)) {
                                                    o = null;
                                                    break
                                                }
                                                o = r,
                                                a++
                                            } while (a < i.length);
                                            if (null != o)
                                                break;
                                            if (null !== this.parent)
                                                return this.parent.resolve(e, t)
                                        } while (null != o);
                                        return o
                                    }
                                    ,
                                    a.qn = function(e) {
                                        var t = []
                                          , r = e;
                                        do {
                                            t.unshift(r.name),
                                            r = r.parent
                                        } while (null !== r);
                                        for (var i = 1; i <= t.length; i++) {
                                            var o = t.slice(t.length - i);
                                            if (e === this.resolve(o, e instanceof n.Namespace))
                                                return o.join(".")
                                        }
                                        return e.fqn()
                                    }
                                    ,
                                    a.build = function() {
                                        for (var e, t = {}, n = this.children, r = 0, i = n.length; r < i; ++r)
                                            (e = n[r])instanceof o && (t[e.name] = e.build());
                                        return Object.defineProperty && Object.defineProperty(t, "$options", {
                                            value: this.buildOpt()
                                        }),
                                        t
                                    }
                                    ,
                                    a.buildOpt = function() {
                                        for (var e = {}, t = Object.keys(this.options), n = 0, r = t.length; n < r; ++n) {
                                            var i = t[n]
                                              , o = this.options[t[n]];
                                            e[i] = o
                                        }
                                        return e
                                    }
                                    ,
                                    a.getOption = function(e) {
                                        return void 0 === e ? this.options : void 0 !== this.options[e] ? this.options[e] : null
                                    }
                                    ,
                                    n.Namespace = o;
                                    var s = function(e, n, r, i, o) {
                                        if (this.type = e,
                                        this.resolvedType = n,
                                        this.isMapKey = r,
                                        this.syntax = i,
                                        this.name = o,
                                        r && t.MAP_KEY_TYPES.indexOf(e) < 0)
                                            throw Error("Invalid map key type: " + e.name)
                                    }
                                      , u = s.prototype;
                                    function l(e, n) {
                                        if (e && "number" == typeof e.low && "number" == typeof e.high && "boolean" == typeof e.unsigned && e.low == e.low && e.high == e.high)
                                            return new t.Long(e.low,e.high,void 0 === n ? e.unsigned : n);
                                        if ("string" == typeof e)
                                            return t.Long.fromString(e, n || !1, 10);
                                        if ("number" == typeof e)
                                            return t.Long.fromNumber(e, n || !1);
                                        throw Error("not convertible to Long")
                                    }
                                    s.defaultFieldValue = function(n) {
                                        if ("string" == typeof n && (n = t.TYPES[n]),
                                        void 0 === n.defaultValue)
                                            throw Error("default value for type " + n.name + " is not supported");
                                        return n == t.TYPES.bytes ? new e(0) : n.defaultValue
                                    }
                                    ,
                                    u.toString = function() {
                                        return (this.name || "") + (this.isMapKey ? "map" : "value") + " element"
                                    }
                                    ,
                                    u.verifyValue = function(n) {
                                        var r = this;
                                        function i(e, t) {
                                            throw Error("Illegal value for " + r.toString(!0) + " of type " + r.type.name + ": " + e + " (" + t + ")")
                                        }
                                        switch (this.type) {
                                        case t.TYPES.int32:
                                        case t.TYPES.sint32:
                                        case t.TYPES.sfixed32:
                                            return ("number" != typeof n || n == n && n % 1 != 0) && i(c(n), "not an integer"),
                                            n > 4294967295 ? 0 | n : n;
                                        case t.TYPES.uint32:
                                        case t.TYPES.fixed32:
                                            return ("number" != typeof n || n == n && n % 1 != 0) && i(c(n), "not an integer"),
                                            n < 0 ? n >>> 0 : n;
                                        case t.TYPES.int64:
                                        case t.TYPES.sint64:
                                        case t.TYPES.sfixed64:
                                            if (t.Long)
                                                try {
                                                    return l(n, !1)
                                                } catch (e) {
                                                    i(c(n), e.message)
                                                }
                                            else
                                                i(c(n), "requires Long.js");
                                        case t.TYPES.uint64:
                                        case t.TYPES.fixed64:
                                            if (t.Long)
                                                try {
                                                    return l(n, !0)
                                                } catch (e) {
                                                    i(c(n), e.message)
                                                }
                                            else
                                                i(c(n), "requires Long.js");
                                        case t.TYPES.bool:
                                            return "boolean" != typeof n && i(c(n), "not a boolean"),
                                            n;
                                        case t.TYPES.float:
                                        case t.TYPES.double:
                                            return "number" != typeof n && i(c(n), "not a number"),
                                            n;
                                        case t.TYPES.string:
                                            return "string" == typeof n || n && n instanceof String || i(c(n), "not a string"),
                                            "" + n;
                                        case t.TYPES.bytes:
                                            return e.isByteBuffer(n) ? n : e.wrap(n, "base64");
                                        case t.TYPES.enum:
                                            var o = this.resolvedType.getChildren(t.Reflect.Enum.Value);
                                            for (s = 0; s < o.length; s++) {
                                                if (o[s].name == n)
                                                    return o[s].id;
                                                if (o[s].id == n)
                                                    return o[s].id
                                            }
                                            if ("proto3" === this.syntax)
                                                return ("number" != typeof n || n == n && n % 1 != 0) && i(c(n), "not an integer"),
                                                (n > 4294967295 || n < 0) && i(c(n), "not in range for uint32"),
                                                n;
                                            i(n, "not a valid enum value");
                                        case t.TYPES.group:
                                        case t.TYPES.message:
                                            if (n && "object" === c(n) || i(c(n), "object expected"),
                                            n instanceof this.resolvedType.clazz)
                                                return n;
                                            if (n instanceof t.Builder.Message) {
                                                var a = {};
                                                for (var s in n)
                                                    n.hasOwnProperty(s) && (a[s] = n[s]);
                                                n = a
                                            }
                                            return new this.resolvedType.clazz(n)
                                        }
                                        throw Error("[INTERNAL] Illegal value for " + this.toString(!0) + ": " + n + " (undefined type " + this.type + ")")
                                    }
                                    ,
                                    u.calculateLength = function(n, r) {
                                        if (null === r)
                                            return 0;
                                        var i;
                                        switch (this.type) {
                                        case t.TYPES.int32:
                                            return r < 0 ? e.calculateVarint64(r) : e.calculateVarint32(r);
                                        case t.TYPES.uint32:
                                            return e.calculateVarint32(r);
                                        case t.TYPES.sint32:
                                            return e.calculateVarint32(e.zigZagEncode32(r));
                                        case t.TYPES.fixed32:
                                        case t.TYPES.sfixed32:
                                        case t.TYPES.float:
                                            return 4;
                                        case t.TYPES.int64:
                                        case t.TYPES.uint64:
                                            return e.calculateVarint64(r);
                                        case t.TYPES.sint64:
                                            return e.calculateVarint64(e.zigZagEncode64(r));
                                        case t.TYPES.fixed64:
                                        case t.TYPES.sfixed64:
                                            return 8;
                                        case t.TYPES.bool:
                                            return 1;
                                        case t.TYPES.enum:
                                            return e.calculateVarint32(r);
                                        case t.TYPES.double:
                                            return 8;
                                        case t.TYPES.string:
                                            return i = e.calculateUTF8Bytes(r),
                                            e.calculateVarint32(i) + i;
                                        case t.TYPES.bytes:
                                            if (r.remaining() < 0)
                                                throw Error("Illegal value for " + this.toString(!0) + ": " + r.remaining() + " bytes remaining");
                                            return e.calculateVarint32(r.remaining()) + r.remaining();
                                        case t.TYPES.message:
                                            return i = this.resolvedType.calculate(r),
                                            e.calculateVarint32(i) + i;
                                        case t.TYPES.group:
                                            return (i = this.resolvedType.calculate(r)) + e.calculateVarint32(n << 3 | t.WIRE_TYPES.ENDGROUP)
                                        }
                                        throw Error("[INTERNAL] Illegal value to encode in " + this.toString(!0) + ": " + r + " (unknown type)")
                                    }
                                    ,
                                    u.encodeValue = function(n, r, i) {
                                        if (null === r)
                                            return i;
                                        switch (this.type) {
                                        case t.TYPES.int32:
                                            r < 0 ? i.writeVarint64(r) : i.writeVarint32(r);
                                            break;
                                        case t.TYPES.uint32:
                                            i.writeVarint32(r);
                                            break;
                                        case t.TYPES.sint32:
                                            i.writeVarint32ZigZag(r);
                                            break;
                                        case t.TYPES.fixed32:
                                            i.writeUint32(r);
                                            break;
                                        case t.TYPES.sfixed32:
                                            i.writeInt32(r);
                                            break;
                                        case t.TYPES.int64:
                                        case t.TYPES.uint64:
                                            i.writeVarint64(r);
                                            break;
                                        case t.TYPES.sint64:
                                            i.writeVarint64ZigZag(r);
                                            break;
                                        case t.TYPES.fixed64:
                                            i.writeUint64(r);
                                            break;
                                        case t.TYPES.sfixed64:
                                            i.writeInt64(r);
                                            break;
                                        case t.TYPES.bool:
                                            "string" == typeof r ? i.writeVarint32("false" === r.toLowerCase() ? 0 : !!r) : i.writeVarint32(r ? 1 : 0);
                                            break;
                                        case t.TYPES.enum:
                                            i.writeVarint32(r);
                                            break;
                                        case t.TYPES.float:
                                            i.writeFloat32(r);
                                            break;
                                        case t.TYPES.double:
                                            i.writeFloat64(r);
                                            break;
                                        case t.TYPES.string:
                                            i.writeVString(r);
                                            break;
                                        case t.TYPES.bytes:
                                            if (r.remaining() < 0)
                                                throw Error("Illegal value for " + this.toString(!0) + ": " + r.remaining() + " bytes remaining");
                                            var o = r.offset;
                                            i.writeVarint32(r.remaining()),
                                            i.append(r),
                                            r.offset = o;
                                            break;
                                        case t.TYPES.message:
                                            var a = (new e).LE();
                                            this.resolvedType.encode(r, a),
                                            i.writeVarint32(a.offset),
                                            i.append(a.flip());
                                            break;
                                        case t.TYPES.group:
                                            this.resolvedType.encode(r, i),
                                            i.writeVarint32(n << 3 | t.WIRE_TYPES.ENDGROUP);
                                            break;
                                        default:
                                            throw Error("[INTERNAL] Illegal value to encode in " + this.toString(!0) + ": " + r + " (unknown type)")
                                        }
                                        return i
                                    }
                                    ,
                                    u.decode = function(e, n, r) {
                                        if (n != this.type.wireType)
                                            throw Error("Unexpected wire type for element");
                                        var i, o;
                                        switch (this.type) {
                                        case t.TYPES.int32:
                                            return 0 | e.readVarint32();
                                        case t.TYPES.uint32:
                                            return e.readVarint32() >>> 0;
                                        case t.TYPES.sint32:
                                            return 0 | e.readVarint32ZigZag();
                                        case t.TYPES.fixed32:
                                            return e.readUint32() >>> 0;
                                        case t.TYPES.sfixed32:
                                            return 0 | e.readInt32();
                                        case t.TYPES.int64:
                                            return e.readVarint64();
                                        case t.TYPES.uint64:
                                            return e.readVarint64().toUnsigned();
                                        case t.TYPES.sint64:
                                            return e.readVarint64ZigZag();
                                        case t.TYPES.fixed64:
                                            return e.readUint64();
                                        case t.TYPES.sfixed64:
                                            return e.readInt64();
                                        case t.TYPES.bool:
                                            return !!e.readVarint32();
                                        case t.TYPES.enum:
                                            return e.readVarint32();
                                        case t.TYPES.float:
                                            return e.readFloat();
                                        case t.TYPES.double:
                                            return e.readDouble();
                                        case t.TYPES.string:
                                            return e.readVString();
                                        case t.TYPES.bytes:
                                            if (o = e.readVarint32(),
                                            e.remaining() < o)
                                                throw Error("Illegal number of bytes for " + this.toString(!0) + ": " + o + " required but got only " + e.remaining());
                                            return (i = e.clone()).limit = i.offset + o,
                                            e.offset += o,
                                            i;
                                        case t.TYPES.message:
                                            return o = e.readVarint32(),
                                            this.resolvedType.decode(e, o);
                                        case t.TYPES.group:
                                            return this.resolvedType.decode(e, -1, r)
                                        }
                                        throw Error("[INTERNAL] Illegal decode type")
                                    }
                                    ,
                                    u.valueFromString = function(n) {
                                        if (!this.isMapKey)
                                            throw Error("valueFromString() called on non-map-key element");
                                        switch (this.type) {
                                        case t.TYPES.int32:
                                        case t.TYPES.sint32:
                                        case t.TYPES.sfixed32:
                                        case t.TYPES.uint32:
                                        case t.TYPES.fixed32:
                                            return this.verifyValue(parseInt(n));
                                        case t.TYPES.int64:
                                        case t.TYPES.sint64:
                                        case t.TYPES.sfixed64:
                                        case t.TYPES.uint64:
                                        case t.TYPES.fixed64:
                                            return this.verifyValue(n);
                                        case t.TYPES.bool:
                                            return "true" === n;
                                        case t.TYPES.string:
                                            return this.verifyValue(n);
                                        case t.TYPES.bytes:
                                            return e.fromBinary(n)
                                        }
                                    }
                                    ,
                                    u.valueToString = function(e) {
                                        if (!this.isMapKey)
                                            throw Error("valueToString() called on non-map-key element");
                                        return this.type === t.TYPES.bytes ? e.toString("binary") : e.toString()
                                    }
                                    ,
                                    n.Element = s;
                                    var f = function(e, t, n, r, i, a) {
                                        o.call(this, e, t, n, r, a),
                                        this.className = "Message",
                                        this.extensions = void 0,
                                        this.clazz = null,
                                        this.isGroup = !!i,
                                        this._fields = null,
                                        this._fieldsById = null,
                                        this._fieldsByName = null
                                    }
                                      , d = f.prototype = Object.create(o.prototype);
                                    function h(e, n) {
                                        var r = n.readVarint32()
                                          , i = 7 & r
                                          , o = r >>> 3;
                                        switch (i) {
                                        case t.WIRE_TYPES.VARINT:
                                            do {
                                                r = n.readUint8()
                                            } while (128 == (128 & r));
                                            break;
                                        case t.WIRE_TYPES.BITS64:
                                            n.offset += 8;
                                            break;
                                        case t.WIRE_TYPES.LDELIM:
                                            r = n.readVarint32(),
                                            n.offset += r;
                                            break;
                                        case t.WIRE_TYPES.STARTGROUP:
                                            h(o, n);
                                            break;
                                        case t.WIRE_TYPES.ENDGROUP:
                                            if (o === e)
                                                return !1;
                                            throw Error("Illegal GROUPEND after unknown group: " + o + " (" + e + " expected)");
                                        case t.WIRE_TYPES.BITS32:
                                            n.offset += 4;
                                            break;
                                        default:
                                            throw Error("Illegal wire type in unknown group " + e + ": " + i)
                                        }
                                        return !0
                                    }
                                    d.build = function(n) {
                                        if (this.clazz && !n)
                                            return this.clazz;
                                        var r = function(t, n) {
                                            var r = n.getChildren(t.Reflect.Message.Field)
                                              , i = n.getChildren(t.Reflect.Message.OneOf)
                                              , o = function o(a, s) {
                                                t.Builder.Message.call(this);
                                                for (var u = 0, l = i.length; u < l; ++u)
                                                    this[i[u].name] = null;
                                                for (u = 0,
                                                l = r.length; u < l; ++u) {
                                                    var f = r[u];
                                                    this[f.name] = f.repeated ? [] : f.map ? new t.Map(f) : null,
                                                    !f.required && "proto3" !== n.syntax || null === f.defaultValue || (this[f.name] = f.defaultValue)
                                                }
                                                var d;
                                                if (arguments.length > 0)
                                                    if (1 !== arguments.length || null === a || "object" !== c(a) || !("function" != typeof a.encode || a instanceof o) || Array.isArray(a) || a instanceof t.Map || e.isByteBuffer(a) || a instanceof ArrayBuffer || t.Long && a instanceof t.Long)
                                                        for (u = 0,
                                                        l = arguments.length; u < l; ++u)
                                                            void 0 !== (d = arguments[u]) && this.$set(r[u].name, d);
                                                    else
                                                        this.$set(a)
                                            }
                                              , a = o.prototype = Object.create(t.Builder.Message.prototype);
                                            a.add = function(e, r, i) {
                                                var o = n._fieldsByName[e];
                                                if (!i) {
                                                    if (!o)
                                                        throw Error(this + "#" + e + " is undefined");
                                                    if (!(o instanceof t.Reflect.Message.Field))
                                                        throw Error(this + "#" + e + " is not a field: " + o.toString(!0));
                                                    if (!o.repeated)
                                                        throw Error(this + "#" + e + " is not a repeated field");
                                                    r = o.verifyValue(r, !0)
                                                }
                                                return null === this[e] && (this[e] = []),
                                                this[e].push(r),
                                                this
                                            }
                                            ,
                                            a.$add = a.add,
                                            a.set = function(e, r, i) {
                                                if (e && "object" === c(e)) {
                                                    for (var o in i = r,
                                                    e)
                                                        e.hasOwnProperty(o) && void 0 !== (r = e[o]) && void 0 === n._oneofsByName[o] && this.$set(o, r, i);
                                                    return this
                                                }
                                                var a = n._fieldsByName[e];
                                                if (i)
                                                    this[e] = r;
                                                else {
                                                    if (!a)
                                                        throw Error(this + "#" + e + " is not a field: undefined");
                                                    if (!(a instanceof t.Reflect.Message.Field))
                                                        throw Error(this + "#" + e + " is not a field: " + a.toString(!0));
                                                    this[a.name] = r = a.verifyValue(r)
                                                }
                                                if (a && a.oneof) {
                                                    var s = this[a.oneof.name];
                                                    null !== r ? (null !== s && s !== a.name && (this[s] = null),
                                                    this[a.oneof.name] = a.name) : s === e && (this[a.oneof.name] = null)
                                                }
                                                return this
                                            }
                                            ,
                                            a.$set = a.set,
                                            a.get = function(e, r) {
                                                if (r)
                                                    return this[e];
                                                var i = n._fieldsByName[e];
                                                if (!(i && i instanceof t.Reflect.Message.Field))
                                                    throw Error(this + "#" + e + " is not a field: undefined");
                                                if (!(i instanceof t.Reflect.Message.Field))
                                                    throw Error(this + "#" + e + " is not a field: " + i.toString(!0));
                                                return this[i.name]
                                            }
                                            ,
                                            a.$get = a.get;
                                            for (var s = 0; s < r.length; s++) {
                                                var u = r[s];
                                                u instanceof t.Reflect.Message.ExtensionField || n.builder.options.populateAccessors && function(e) {
                                                    var t = e.originalName.replace(/(_[a-zA-Z])/g, (function(e) {
                                                        return e.toUpperCase().replace("_", "")
                                                    }
                                                    ));
                                                    t = t.substring(0, 1).toUpperCase() + t.substring(1);
                                                    var r = e.originalName.replace(/([A-Z])/g, (function(e) {
                                                        return "_" + e
                                                    }
                                                    ))
                                                      , i = function(t, n) {
                                                        return this[e.name] = n ? t : e.verifyValue(t),
                                                        this
                                                    }
                                                      , o = function() {
                                                        return this[e.name]
                                                    };
                                                    null === n.getChild("set" + t) && (a["set" + t] = i),
                                                    null === n.getChild("set_" + r) && (a["set_" + r] = i),
                                                    null === n.getChild("get" + t) && (a["get" + t] = o),
                                                    null === n.getChild("get_" + r) && (a["get_" + r] = o)
                                                }(u)
                                            }
                                            function l(n, r, i, o) {
                                                if (null === n || "object" !== c(n)) {
                                                    if (o && o instanceof t.Reflect.Enum) {
                                                        var a = t.Reflect.Enum.getName(o.object, n);
                                                        if (null !== a)
                                                            return a
                                                    }
                                                    return n
                                                }
                                                if (e.isByteBuffer(n))
                                                    return r ? n.toBase64() : n.toBuffer();
                                                if (t.Long.isLong(n))
                                                    return i ? n.toString() : t.Long.fromValue(n);
                                                var s;
                                                if (Array.isArray(n))
                                                    return s = [],
                                                    n.forEach((function(e, t) {
                                                        s[t] = l(e, r, i, o)
                                                    }
                                                    )),
                                                    s;
                                                if (s = {},
                                                n instanceof t.Map) {
                                                    for (var u = n.entries(), f = u.next(); !f.done; f = u.next())
                                                        s[n.keyElem.valueToString(f.value[0])] = l(f.value[1], r, i, n.valueElem.resolvedType);
                                                    return s
                                                }
                                                var d = n.$type
                                                  , h = void 0;
                                                for (var p in n)
                                                    n.hasOwnProperty(p) && (d && (h = d.getChild(p)) ? s[p] = l(n[p], r, i, h.resolvedType) : s[p] = l(n[p], r, i));
                                                return s
                                            }
                                            return a.encode = function(t, r) {
                                                "boolean" == typeof t && (r = t,
                                                t = void 0);
                                                var i = !1;
                                                t || (t = new e,
                                                i = !0);
                                                var o = t.littleEndian;
                                                try {
                                                    return n.encode(this, t.LE(), r),
                                                    (i ? t.flip() : t).LE(o)
                                                } catch (e) {
                                                    throw t.LE(o),
                                                    e
                                                }
                                            }
                                            ,
                                            o.encode = function(e, t, n) {
                                                return new o(e).encode(t, n)
                                            }
                                            ,
                                            a.calculate = function() {
                                                return n.calculate(this)
                                            }
                                            ,
                                            a.encodeDelimited = function(t, r) {
                                                var i = !1;
                                                t || (t = new e,
                                                i = !0);
                                                var o = (new e).LE();
                                                return n.encode(this, o, r).flip(),
                                                t.writeVarint32(o.remaining()),
                                                t.append(o),
                                                i ? t.flip() : t
                                            }
                                            ,
                                            a.encodeAB = function() {
                                                try {
                                                    return this.encode().toArrayBuffer()
                                                } catch (e) {
                                                    throw e.encoded && (e.encoded = e.encoded.toArrayBuffer()),
                                                    e
                                                }
                                            }
                                            ,
                                            a.toArrayBuffer = a.encodeAB,
                                            a.encodeNB = function() {
                                                try {
                                                    return this.encode().toBuffer()
                                                } catch (e) {
                                                    throw e.encoded && (e.encoded = e.encoded.toBuffer()),
                                                    e
                                                }
                                            }
                                            ,
                                            a.toBuffer = a.encodeNB,
                                            a.encode64 = function() {
                                                try {
                                                    return this.encode().toBase64()
                                                } catch (e) {
                                                    throw e.encoded && (e.encoded = e.encoded.toBase64()),
                                                    e
                                                }
                                            }
                                            ,
                                            a.toBase64 = a.encode64,
                                            a.encodeHex = function() {
                                                try {
                                                    return this.encode().toHex()
                                                } catch (e) {
                                                    throw e.encoded && (e.encoded = e.encoded.toHex()),
                                                    e
                                                }
                                            }
                                            ,
                                            a.toHex = a.encodeHex,
                                            a.toRaw = function(e, t) {
                                                return l(this, !!e, !!t, this.$type)
                                            }
                                            ,
                                            a.encodeJSON = function() {
                                                return JSON.stringify(l(this, !0, !0, this.$type))
                                            }
                                            ,
                                            o.decode = function(t, r, i) {
                                                "string" == typeof r && (i = r,
                                                r = -1),
                                                "string" == typeof t ? t = e.wrap(t, i || "base64") : e.isByteBuffer(t) || (t = e.wrap(t));
                                                var o = t.littleEndian;
                                                try {
                                                    var a = n.decode(t.LE(), r);
                                                    return t.LE(o),
                                                    a
                                                } catch (e) {
                                                    throw t.LE(o),
                                                    e
                                                }
                                            }
                                            ,
                                            o.decodeDelimited = function(t, r) {
                                                if ("string" == typeof t ? t = e.wrap(t, r || "base64") : e.isByteBuffer(t) || (t = e.wrap(t)),
                                                t.remaining() < 1)
                                                    return null;
                                                var i = t.offset
                                                  , o = t.readVarint32();
                                                if (t.remaining() < o)
                                                    return t.offset = i,
                                                    null;
                                                try {
                                                    var a = n.decode(t.slice(t.offset, t.offset + o).LE());
                                                    return t.offset += o,
                                                    a
                                                } catch (e) {
                                                    throw t.offset += o,
                                                    e
                                                }
                                            }
                                            ,
                                            o.decode64 = function(e) {
                                                return o.decode(e, "base64")
                                            }
                                            ,
                                            o.decodeHex = function(e) {
                                                return o.decode(e, "hex")
                                            }
                                            ,
                                            o.decodeJSON = function(e) {
                                                return new o(JSON.parse(e))
                                            }
                                            ,
                                            a.toString = function() {
                                                return n.toString()
                                            }
                                            ,
                                            Object.defineProperty && (Object.defineProperty(o, "$options", {
                                                value: n.buildOpt()
                                            }),
                                            Object.defineProperty(a, "$options", {
                                                value: o.$options
                                            }),
                                            Object.defineProperty(o, "$type", {
                                                value: n
                                            }),
                                            Object.defineProperty(a, "$type", {
                                                value: n
                                            })),
                                            o
                                        }(t, this);
                                        this._fields = [],
                                        this._fieldsById = {},
                                        this._fieldsByName = {},
                                        this._oneofsByName = {};
                                        for (var i, o = 0, a = this.children.length; o < a; o++)
                                            if ((i = this.children[o])instanceof g || i instanceof f || i instanceof T) {
                                                if (r.hasOwnProperty(i.name))
                                                    throw Error("Illegal reflect child of " + this.toString(!0) + ": " + i.toString(!0) + " cannot override static property '" + i.name + "'");
                                                r[i.name] = i.build()
                                            } else if (i instanceof f.Field)
                                                i.build(),
                                                this._fields.push(i),
                                                this._fieldsById[i.id] = i,
                                                this._fieldsByName[i.name] = i;
                                            else if (i instanceof f.OneOf)
                                                this._oneofsByName[i.name] = i;
                                            else if (!(i instanceof f.OneOf || i instanceof E))
                                                throw Error("Illegal reflect child of " + this.toString(!0) + ": " + this.children[o].toString(!0));
                                        return this.clazz = r
                                    }
                                    ,
                                    d.encode = function(e, t, n) {
                                        for (var r, i, o = null, a = 0, s = this._fields.length; a < s; ++a)
                                            i = e[(r = this._fields[a]).name],
                                            r.required && null === i ? null === o && (o = r) : r.encode(n ? i : r.verifyValue(i), t, e);
                                        if (null !== o) {
                                            var u = Error("Missing at least one required field for " + this.toString(!0) + ": " + o);
                                            throw u.encoded = t,
                                            u
                                        }
                                        return t
                                    }
                                    ,
                                    d.calculate = function(e) {
                                        for (var t, n, r = 0, i = 0, o = this._fields.length; i < o; ++i) {
                                            if (n = e[(t = this._fields[i]).name],
                                            t.required && null === n)
                                                throw Error("Missing at least one required field for " + this.toString(!0) + ": " + t);
                                            r += t.calculate(n, e)
                                        }
                                        return r
                                    }
                                    ,
                                    d.decode = function(e, n, r) {
                                        "number" != typeof n && (n = -1);
                                        for (var i, o, a, s, u = e.offset, c = new this.clazz; e.offset < u + n || -1 === n && e.remaining() > 0; ) {
                                            if (a = (i = e.readVarint32()) >>> 3,
                                            (o = 7 & i) === t.WIRE_TYPES.ENDGROUP) {
                                                if (a !== r)
                                                    throw Error("Illegal group end indicator for " + this.toString(!0) + ": " + a + " (" + (r ? r + " expected" : "not a group") + ")");
                                                break
                                            }
                                            if (s = this._fieldsById[a]) {
                                                if (s.repeated && !s.options.packed)
                                                    c[s.name].push(s.decode(o, e));
                                                else if (s.map) {
                                                    var l = s.decode(o, e);
                                                    c[s.name].set(l[0], l[1])
                                                } else if (c[s.name] = s.decode(o, e),
                                                s.oneof) {
                                                    var f = c[s.oneof.name];
                                                    null !== f && f !== s.name && (c[f] = null),
                                                    c[s.oneof.name] = s.name
                                                }
                                            } else
                                                switch (o) {
                                                case t.WIRE_TYPES.VARINT:
                                                    e.readVarint32();
                                                    break;
                                                case t.WIRE_TYPES.BITS32:
                                                    e.offset += 4;
                                                    break;
                                                case t.WIRE_TYPES.BITS64:
                                                    e.offset += 8;
                                                    break;
                                                case t.WIRE_TYPES.LDELIM:
                                                    var d = e.readVarint32();
                                                    e.offset += d;
                                                    break;
                                                case t.WIRE_TYPES.STARTGROUP:
                                                    for (; h(a, e); )
                                                        ;
                                                    break;
                                                default:
                                                    throw Error("Illegal wire type for unknown field " + a + " in " + this.toString(!0) + "#decode: " + o)
                                                }
                                        }
                                        for (var p = 0, v = this._fields.length; p < v; ++p)
                                            if (null === c[(s = this._fields[p]).name])
                                                if ("proto3" === this.syntax)
                                                    c[s.name] = s.defaultValue;
                                                else {
                                                    if (s.required) {
                                                        var m = Error("Missing at least one required field for " + this.toString(!0) + ": " + s.name);
                                                        throw m.decoded = c,
                                                        m
                                                    }
                                                    t.populateDefaults && null !== s.defaultValue && (c[s.name] = s.defaultValue)
                                                }
                                        return c
                                    }
                                    ,
                                    n.Message = f;
                                    var p = function(e, n, i, o, a, s, u, c, l, d) {
                                        r.call(this, e, n, s),
                                        this.className = "Message.Field",
                                        this.required = "required" === i,
                                        this.repeated = "repeated" === i,
                                        this.map = "map" === i,
                                        this.keyType = o || null,
                                        this.type = a,
                                        this.resolvedType = null,
                                        this.id = u,
                                        this.options = c || {},
                                        this.defaultValue = null,
                                        this.oneof = l || null,
                                        this.syntax = d || "proto2",
                                        this.originalName = this.name,
                                        this.element = null,
                                        this.keyElement = null,
                                        !this.builder.options.convertFieldsToCamelCase || this instanceof f.ExtensionField || (this.name = t.Util.toCamelCase(this.name))
                                    }
                                      , v = p.prototype = Object.create(r.prototype);
                                    v.build = function() {
                                        this.element = new s(this.type,this.resolvedType,!1,this.syntax,this.name),
                                        this.map && (this.keyElement = new s(this.keyType,void 0,!0,this.syntax,this.name)),
                                        "proto3" !== this.syntax || this.repeated || this.map ? void 0 !== this.options.default && (this.defaultValue = this.verifyValue(this.options.default)) : this.defaultValue = s.defaultFieldValue(this.type)
                                    }
                                    ,
                                    v.verifyValue = function(e, n) {
                                        n = n || !1;
                                        var r, i = this;
                                        function o(e, t) {
                                            throw Error("Illegal value for " + i.toString(!0) + " of type " + i.type.name + ": " + e + " (" + t + ")")
                                        }
                                        if (null === e)
                                            return this.required && o(c(e), "required"),
                                            "proto3" === this.syntax && this.type !== t.TYPES.message && o(c(e), "proto3 field without field presence cannot be null"),
                                            null;
                                        if (this.repeated && !n) {
                                            Array.isArray(e) || (e = [e]);
                                            var a = [];
                                            for (r = 0; r < e.length; r++)
                                                a.push(this.element.verifyValue(e[r]));
                                            return a
                                        }
                                        return this.map && !n ? e instanceof t.Map ? e : (e instanceof Object || o(c(e), "expected ProtoBuf.Map or raw object for map field"),
                                        new t.Map(this,e)) : (!this.repeated && Array.isArray(e) && o(c(e), "no array expected"),
                                        this.element.verifyValue(e))
                                    }
                                    ,
                                    v.hasWirePresence = function(e, n) {
                                        if ("proto3" !== this.syntax)
                                            return null !== e;
                                        if (this.oneof && n[this.oneof.name] === this.name)
                                            return !0;
                                        switch (this.type) {
                                        case t.TYPES.int32:
                                        case t.TYPES.sint32:
                                        case t.TYPES.sfixed32:
                                        case t.TYPES.uint32:
                                        case t.TYPES.fixed32:
                                            return 0 !== e;
                                        case t.TYPES.int64:
                                        case t.TYPES.sint64:
                                        case t.TYPES.sfixed64:
                                        case t.TYPES.uint64:
                                        case t.TYPES.fixed64:
                                            return 0 !== e.low || 0 !== e.high;
                                        case t.TYPES.bool:
                                            return e;
                                        case t.TYPES.float:
                                        case t.TYPES.double:
                                            return 0 !== e;
                                        case t.TYPES.string:
                                            return e.length > 0;
                                        case t.TYPES.bytes:
                                            return e.remaining() > 0;
                                        case t.TYPES.enum:
                                            return 0 !== e;
                                        case t.TYPES.message:
                                            return null !== e;
                                        default:
                                            return !0
                                        }
                                    }
                                    ,
                                    v.encode = function(n, r, i) {
                                        if (null === this.type || "object" !== c(this.type))
                                            throw Error("[INTERNAL] Unresolved type in " + this.toString(!0) + ": " + this.type);
                                        if (null === n || this.repeated && 0 == n.length)
                                            return r;
                                        try {
                                            var o;
                                            if (this.repeated)
                                                if (this.options.packed && t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType) >= 0) {
                                                    r.writeVarint32(this.id << 3 | t.WIRE_TYPES.LDELIM),
                                                    r.ensureCapacity(r.offset += 1);
                                                    var a = r.offset;
                                                    for (o = 0; o < n.length; o++)
                                                        this.element.encodeValue(this.id, n[o], r);
                                                    var s = r.offset - a
                                                      , u = e.calculateVarint32(s);
                                                    if (u > 1) {
                                                        var l = r.slice(a, r.offset);
                                                        a += u - 1,
                                                        r.offset = a,
                                                        r.append(l)
                                                    }
                                                    r.writeVarint32(s, a - u)
                                                } else
                                                    for (o = 0; o < n.length; o++)
                                                        r.writeVarint32(this.id << 3 | this.type.wireType),
                                                        this.element.encodeValue(this.id, n[o], r);
                                            else
                                                this.map ? n.forEach((function(n, i, o) {
                                                    var a = e.calculateVarint32(8 | this.keyType.wireType) + this.keyElement.calculateLength(1, i) + e.calculateVarint32(16 | this.type.wireType) + this.element.calculateLength(2, n);
                                                    r.writeVarint32(this.id << 3 | t.WIRE_TYPES.LDELIM),
                                                    r.writeVarint32(a),
                                                    r.writeVarint32(8 | this.keyType.wireType),
                                                    this.keyElement.encodeValue(1, i, r),
                                                    r.writeVarint32(16 | this.type.wireType),
                                                    this.element.encodeValue(2, n, r)
                                                }
                                                ), this) : this.hasWirePresence(n, i) && (r.writeVarint32(this.id << 3 | this.type.wireType),
                                                this.element.encodeValue(this.id, n, r))
                                        } catch (e) {
                                            throw Error("Illegal value for " + this.toString(!0) + ": " + n + " (" + e + ")")
                                        }
                                        return r
                                    }
                                    ,
                                    v.calculate = function(n, r) {
                                        if (n = this.verifyValue(n),
                                        null === this.type || "object" !== c(this.type))
                                            throw Error("[INTERNAL] Unresolved type in " + this.toString(!0) + ": " + this.type);
                                        if (null === n || this.repeated && 0 == n.length)
                                            return 0;
                                        var i = 0;
                                        try {
                                            var o, a;
                                            if (this.repeated)
                                                if (this.options.packed && t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType) >= 0) {
                                                    for (i += e.calculateVarint32(this.id << 3 | t.WIRE_TYPES.LDELIM),
                                                    a = 0,
                                                    o = 0; o < n.length; o++)
                                                        a += this.element.calculateLength(this.id, n[o]);
                                                    i += e.calculateVarint32(a),
                                                    i += a
                                                } else
                                                    for (o = 0; o < n.length; o++)
                                                        i += e.calculateVarint32(this.id << 3 | this.type.wireType),
                                                        i += this.element.calculateLength(this.id, n[o]);
                                            else
                                                this.map ? n.forEach((function(n, r, o) {
                                                    var a = e.calculateVarint32(8 | this.keyType.wireType) + this.keyElement.calculateLength(1, r) + e.calculateVarint32(16 | this.type.wireType) + this.element.calculateLength(2, n);
                                                    i += e.calculateVarint32(this.id << 3 | t.WIRE_TYPES.LDELIM),
                                                    i += e.calculateVarint32(a),
                                                    i += a
                                                }
                                                ), this) : this.hasWirePresence(n, r) && (i += e.calculateVarint32(this.id << 3 | this.type.wireType),
                                                i += this.element.calculateLength(this.id, n))
                                        } catch (e) {
                                            throw Error("Illegal value for " + this.toString(!0) + ": " + n + " (" + e + ")")
                                        }
                                        return i
                                    }
                                    ,
                                    v.decode = function(e, n, r) {
                                        var i, o;
                                        if (!(!this.map && e == this.type.wireType || !r && this.repeated && this.options.packed && e == t.WIRE_TYPES.LDELIM || this.map && e == t.WIRE_TYPES.LDELIM))
                                            throw Error("Illegal wire type for field " + this.toString(!0) + ": " + e + " (" + this.type.wireType + " expected)");
                                        if (e == t.WIRE_TYPES.LDELIM && this.repeated && this.options.packed && t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType) >= 0 && !r) {
                                            o = n.readVarint32(),
                                            o = n.offset + o;
                                            for (var a = []; n.offset < o; )
                                                a.push(this.decode(this.type.wireType, n, !0));
                                            return a
                                        }
                                        if (this.map) {
                                            var u = s.defaultFieldValue(this.keyType);
                                            if (i = s.defaultFieldValue(this.type),
                                            o = n.readVarint32(),
                                            n.remaining() < o)
                                                throw Error("Illegal number of bytes for " + this.toString(!0) + ": " + o + " required but got only " + n.remaining());
                                            var c = n.clone();
                                            for (c.limit = c.offset + o,
                                            n.offset += o; c.remaining() > 0; ) {
                                                var l = c.readVarint32();
                                                e = 7 & l;
                                                var f = l >>> 3;
                                                if (1 === f)
                                                    u = this.keyElement.decode(c, e, f);
                                                else {
                                                    if (2 !== f)
                                                        throw Error("Unexpected tag in map field key/value submessage");
                                                    i = this.element.decode(c, e, f)
                                                }
                                            }
                                            return [u, i]
                                        }
                                        return this.element.decode(n, e, this.id)
                                    }
                                    ,
                                    n.Message.Field = p;
                                    var m = function(e, t, n, r, i, o, a) {
                                        p.call(this, e, t, n, null, r, i, o, a),
                                        this.extension
                                    };
                                    m.prototype = Object.create(p.prototype),
                                    n.Message.ExtensionField = m,
                                    n.Message.OneOf = function(e, t, n) {
                                        r.call(this, e, t, n),
                                        this.fields = []
                                    }
                                    ;
                                    var g = function(e, t, n, r, i) {
                                        o.call(this, e, t, n, r, i),
                                        this.className = "Enum",
                                        this.object = null
                                    };
                                    g.getName = function(e, t) {
                                        for (var n, r = Object.keys(e), i = 0; i < r.length; ++i)
                                            if (e[n = r[i]] === t)
                                                return n;
                                        return null
                                    }
                                    ,
                                    (g.prototype = Object.create(o.prototype)).build = function(e) {
                                        if (this.object && !e)
                                            return this.object;
                                        for (var n = new t.Builder.Enum, r = this.getChildren(g.Value), i = 0, o = r.length; i < o; ++i)
                                            n[r[i].name] = r[i].id;
                                        return Object.defineProperty && Object.defineProperty(n, "$options", {
                                            value: this.buildOpt(),
                                            enumerable: !1
                                        }),
                                        this.object = n
                                    }
                                    ,
                                    n.Enum = g;
                                    var y = function(e, t, n, i) {
                                        r.call(this, e, t, n),
                                        this.className = "Enum.Value",
                                        this.id = i
                                    };
                                    y.prototype = Object.create(r.prototype),
                                    n.Enum.Value = y;
                                    var E = function(e, t, n, i) {
                                        r.call(this, e, t, n),
                                        this.field = i
                                    };
                                    E.prototype = Object.create(r.prototype),
                                    n.Extension = E;
                                    var T = function(e, t, n, r) {
                                        o.call(this, e, t, n, r),
                                        this.className = "Service",
                                        this.clazz = null
                                    };
                                    (T.prototype = Object.create(o.prototype)).build = function(n) {
                                        return this.clazz && !n ? this.clazz : this.clazz = function(t, n) {
                                            for (var r = function(e) {
                                                t.Builder.Service.call(this),
                                                this.rpcImpl = e || function(e, t, n) {
                                                    setTimeout(n.bind(this, Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")), 0)
                                                }
                                            }, i = r.prototype = Object.create(t.Builder.Service.prototype), o = n.getChildren(t.Reflect.Service.RPCMethod), a = 0; a < o.length; a++)
                                                !function(t) {
                                                    i[t.name] = function(r, i) {
                                                        try {
                                                            try {
                                                                r = t.resolvedRequestType.clazz.decode(e.wrap(r))
                                                            } catch (e) {
                                                                if (!(e instanceof TypeError))
                                                                    throw e
                                                            }
                                                            if (null === r || "object" !== c(r))
                                                                throw Error("Illegal arguments");
                                                            r instanceof t.resolvedRequestType.clazz || (r = new t.resolvedRequestType.clazz(r)),
                                                            this.rpcImpl(t.fqn(), r, (function(e, r) {
                                                                if (e)
                                                                    i(e);
                                                                else {
                                                                    null === r && (r = "");
                                                                    try {
                                                                        r = t.resolvedResponseType.clazz.decode(r)
                                                                    } catch (e) {}
                                                                    r && r instanceof t.resolvedResponseType.clazz ? i(null, r) : i(Error("Illegal response type received in service method " + n.name + "#" + t.name))
                                                                }
                                                            }
                                                            ))
                                                        } catch (e) {
                                                            setTimeout(i.bind(this, e), 0)
                                                        }
                                                    }
                                                    ,
                                                    r[t.name] = function(e, n, i) {
                                                        new r(e)[t.name](n, i)
                                                    }
                                                    ,
                                                    Object.defineProperty && (Object.defineProperty(r[t.name], "$options", {
                                                        value: t.buildOpt()
                                                    }),
                                                    Object.defineProperty(i[t.name], "$options", {
                                                        value: r[t.name].$options
                                                    }))
                                                }(o[a]);
                                            return Object.defineProperty && (Object.defineProperty(r, "$options", {
                                                value: n.buildOpt()
                                            }),
                                            Object.defineProperty(i, "$options", {
                                                value: r.$options
                                            }),
                                            Object.defineProperty(r, "$type", {
                                                value: n
                                            }),
                                            Object.defineProperty(i, "$type", {
                                                value: n
                                            })),
                                            r
                                        }(t, this)
                                    }
                                    ,
                                    n.Service = T;
                                    var b = function(e, t, n, i) {
                                        r.call(this, e, t, n),
                                        this.className = "Service.Method",
                                        this.options = i || {}
                                    };
                                    (b.prototype = Object.create(r.prototype)).buildOpt = a.buildOpt,
                                    n.Service.Method = b;
                                    var _ = function(e, t, n, r, i, o, a, s) {
                                        b.call(this, e, t, n, s),
                                        this.className = "Service.RPCMethod",
                                        this.requestName = r,
                                        this.responseName = i,
                                        this.requestStream = o,
                                        this.responseStream = a,
                                        this.resolvedRequestType = null,
                                        this.resolvedResponseType = null
                                    };
                                    return _.prototype = Object.create(b.prototype),
                                    n.Service.RPCMethod = _,
                                    n
                                }(o),
                                o.Builder = function(e, t, r) {
                                    var i = function(e) {
                                        this.ns = new r.Namespace(this,null,""),
                                        this.ptr = this.ns,
                                        this.resolved = !1,
                                        this.result = null,
                                        this.files = {},
                                        this.importRoot = null,
                                        this.options = e || {}
                                    }
                                      , o = i.prototype;
                                    return i.isMessage = function(e) {
                                        return "string" == typeof e.name && void 0 === e.values && void 0 === e.rpc
                                    }
                                    ,
                                    i.isMessageField = function(e) {
                                        return "string" == typeof e.rule && "string" == typeof e.name && "string" == typeof e.type && void 0 !== e.id
                                    }
                                    ,
                                    i.isEnum = function(e) {
                                        return "string" == typeof e.name && !(void 0 === e.values || !Array.isArray(e.values) || 0 === e.values.length)
                                    }
                                    ,
                                    i.isService = function(e) {
                                        return !("string" != typeof e.name || "object" !== c(e.rpc) || !e.rpc)
                                    }
                                    ,
                                    i.isExtend = function(e) {
                                        return "string" == typeof e.ref
                                    }
                                    ,
                                    o.reset = function() {
                                        return this.ptr = this.ns,
                                        this
                                    }
                                    ,
                                    o.define = function(e) {
                                        if ("string" != typeof e || !t.TYPEREF.test(e))
                                            throw Error("illegal namespace: " + e);
                                        return e.split(".").forEach((function(e) {
                                            var t = this.ptr.getChild(e);
                                            null === t && this.ptr.addChild(t = new r.Namespace(this,this.ptr,e)),
                                            this.ptr = t
                                        }
                                        ), this),
                                        this
                                    }
                                    ,
                                    o.create = function(t) {
                                        if (!t)
                                            return this;
                                        if (Array.isArray(t)) {
                                            if (0 === t.length)
                                                return this;
                                            t = t.slice()
                                        } else
                                            t = [t];
                                        for (var n = [t]; n.length > 0; ) {
                                            if (t = n.pop(),
                                            !Array.isArray(t))
                                                throw Error("not a valid namespace: " + JSON.stringify(t));
                                            for (; t.length > 0; ) {
                                                var o = t.shift();
                                                if (i.isMessage(o)) {
                                                    var a = new r.Message(this,this.ptr,o.name,o.options,o.isGroup,o.syntax)
                                                      , s = {};
                                                    o.oneofs && Object.keys(o.oneofs).forEach((function(e) {
                                                        a.addChild(s[e] = new r.Message.OneOf(this,a,e))
                                                    }
                                                    ), this),
                                                    o.fields && o.fields.forEach((function(e) {
                                                        if (null !== a.getChild(0 | e.id))
                                                            throw Error("duplicate or invalid field id in " + a.name + ": " + e.id);
                                                        if (e.options && "object" !== c(e.options))
                                                            throw Error("illegal field options in " + a.name + "#" + e.name);
                                                        var t = null;
                                                        if ("string" == typeof e.oneof && !(t = s[e.oneof]))
                                                            throw Error("illegal oneof in " + a.name + "#" + e.name + ": " + e.oneof);
                                                        e = new r.Message.Field(this,a,e.rule,e.keytype,e.type,e.name,e.id,e.options,t,o.syntax),
                                                        t && t.fields.push(e),
                                                        a.addChild(e)
                                                    }
                                                    ), this);
                                                    var u = [];
                                                    if (o.enums && o.enums.forEach((function(e) {
                                                        u.push(e)
                                                    }
                                                    )),
                                                    o.messages && o.messages.forEach((function(e) {
                                                        u.push(e)
                                                    }
                                                    )),
                                                    o.services && o.services.forEach((function(e) {
                                                        u.push(e)
                                                    }
                                                    )),
                                                    o.extensions && ("number" == typeof o.extensions[0] ? a.extensions = [o.extensions] : a.extensions = o.extensions),
                                                    this.ptr.addChild(a),
                                                    u.length > 0) {
                                                        n.push(t),
                                                        t = u,
                                                        u = null,
                                                        this.ptr = a,
                                                        a = null;
                                                        continue
                                                    }
                                                    u = null
                                                } else if (i.isEnum(o))
                                                    a = new r.Enum(this,this.ptr,o.name,o.options,o.syntax),
                                                    o.values.forEach((function(e) {
                                                        a.addChild(new r.Enum.Value(this,a,e.name,e.id))
                                                    }
                                                    ), this),
                                                    this.ptr.addChild(a);
                                                else if (i.isService(o))
                                                    a = new r.Service(this,this.ptr,o.name,o.options),
                                                    Object.keys(o.rpc).forEach((function(e) {
                                                        var t = o.rpc[e];
                                                        a.addChild(new r.Service.RPCMethod(this,a,e,t.request,t.response,!!t.request_stream,!!t.response_stream,t.options))
                                                    }
                                                    ), this),
                                                    this.ptr.addChild(a);
                                                else {
                                                    if (!i.isExtend(o))
                                                        throw Error("not a valid definition: " + JSON.stringify(o));
                                                    if (a = this.ptr.resolve(o.ref, !0))
                                                        o.fields.forEach((function(t) {
                                                            if (null !== a.getChild(0 | t.id))
                                                                throw Error("duplicate extended field id in " + a.name + ": " + t.id);
                                                            if (a.extensions) {
                                                                var n = !1;
                                                                if (a.extensions.forEach((function(e) {
                                                                    t.id >= e[0] && t.id <= e[1] && (n = !0)
                                                                }
                                                                )),
                                                                !n)
                                                                    throw Error("illegal extended field id in " + a.name + ": " + t.id + " (not within valid ranges)")
                                                            }
                                                            var i = t.name;
                                                            this.options.convertFieldsToCamelCase && (i = e.Util.toCamelCase(i));
                                                            var o = new r.Message.ExtensionField(this,a,t.rule,t.type,this.ptr.fqn() + "." + i,t.id,t.options)
                                                              , s = new r.Extension(this,this.ptr,t.name,o);
                                                            o.extension = s,
                                                            this.ptr.addChild(s),
                                                            a.addChild(o)
                                                        }
                                                        ), this);
                                                    else if (!/\.?google\.protobuf\./.test(o.ref))
                                                        throw Error("extended message " + o.ref + " is not defined")
                                                }
                                                o = null,
                                                a = null
                                            }
                                            t = null,
                                            this.ptr = this.ptr.parent
                                        }
                                        return this.resolved = !1,
                                        this.result = null,
                                        this
                                    }
                                    ,
                                    o.import = function(t, r) {
                                        var i = "/";
                                        if ("string" == typeof r) {
                                            if (e.Util.IS_NODE && (r = n(17).resolve(r)),
                                            !0 === this.files[r])
                                                return this.reset();
                                            this.files[r] = !0
                                        } else if ("object" === c(r)) {
                                            var o, a = r.root;
                                            if (e.Util.IS_NODE && (a = n(17).resolve(a)),
                                            (a.indexOf("\\") >= 0 || r.file.indexOf("\\") >= 0) && (i = "\\"),
                                            o = e.Util.IS_NODE ? n(17).join(a, r.file) : a + i + r.file,
                                            !0 === this.files[o])
                                                return this.reset();
                                            this.files[o] = !0
                                        }
                                        if (t.imports && t.imports.length > 0) {
                                            var s, u = !1;
                                            "object" === c(r) ? (this.importRoot = r.root,
                                            u = !0,
                                            s = this.importRoot,
                                            r = r.file,
                                            (s.indexOf("\\") >= 0 || r.indexOf("\\") >= 0) && (i = "\\")) : "string" == typeof r ? this.importRoot ? s = this.importRoot : r.indexOf("/") >= 0 ? "" === (s = r.replace(/\/[^\/]*$/, "")) && (s = "/") : r.indexOf("\\") >= 0 ? (s = r.replace(/\\[^\\]*$/, ""),
                                            i = "\\") : s = "." : s = null;
                                            for (var l = 0; l < t.imports.length; l++)
                                                if ("string" == typeof t.imports[l]) {
                                                    if (!s)
                                                        throw Error("cannot determine import root");
                                                    var f = t.imports[l];
                                                    if ("google/protobuf/descriptor.proto" === f)
                                                        continue;
                                                    if (f = e.Util.IS_NODE ? n(17).join(s, f) : s + i + f,
                                                    !0 === this.files[f])
                                                        continue;
                                                    /\.proto$/i.test(f) && !e.DotProto && (f = f.replace(/\.proto$/, ".json"));
                                                    var d = e.Util.fetch(f);
                                                    if (null === d)
                                                        throw Error("failed to import '" + f + "' in '" + r + "': file not found");
                                                    /\.json$/i.test(f) ? this.import(JSON.parse(d + ""), f) : this.import(e.DotProto.Parser.parse(d), f)
                                                } else
                                                    r ? /\.(\w+)$/.test(r) ? this.import(t.imports[l], r.replace(/^(.+)\.(\w+)$/, (function(e, t, n) {
                                                        return t + "_import" + l + "." + n
                                                    }
                                                    ))) : this.import(t.imports[l], r + "_import" + l) : this.import(t.imports[l]);
                                            u && (this.importRoot = null)
                                        }
                                        t.package && this.define(t.package),
                                        t.syntax && function e(t) {
                                            t.messages && t.messages.forEach((function(n) {
                                                n.syntax = t.syntax,
                                                e(n)
                                            }
                                            )),
                                            t.enums && t.enums.forEach((function(e) {
                                                e.syntax = t.syntax
                                            }
                                            ))
                                        }(t);
                                        var h = this.ptr;
                                        return t.options && Object.keys(t.options).forEach((function(e) {
                                            h.options[e] = t.options[e]
                                        }
                                        )),
                                        t.messages && (this.create(t.messages),
                                        this.ptr = h),
                                        t.enums && (this.create(t.enums),
                                        this.ptr = h),
                                        t.services && (this.create(t.services),
                                        this.ptr = h),
                                        t.extends && this.create(t.extends),
                                        this.reset()
                                    }
                                    ,
                                    o.resolveAll = function() {
                                        var n;
                                        if (null == this.ptr || "object" === c(this.ptr.type))
                                            return this;
                                        if (this.ptr instanceof r.Namespace)
                                            this.ptr.children.forEach((function(e) {
                                                this.ptr = e,
                                                this.resolveAll()
                                            }
                                            ), this);
                                        else if (this.ptr instanceof r.Message.Field) {
                                            if (t.TYPE.test(this.ptr.type))
                                                this.ptr.type = e.TYPES[this.ptr.type];
                                            else {
                                                if (!t.TYPEREF.test(this.ptr.type))
                                                    throw Error("illegal type reference in " + this.ptr.toString(!0) + ": " + this.ptr.type);
                                                if (!(n = (this.ptr instanceof r.Message.ExtensionField ? this.ptr.extension.parent : this.ptr.parent).resolve(this.ptr.type, !0)))
                                                    throw Error("unresolvable type reference in " + this.ptr.toString(!0) + ": " + this.ptr.type);
                                                if (this.ptr.resolvedType = n,
                                                n instanceof r.Enum) {
                                                    if (this.ptr.type = e.TYPES.enum,
                                                    "proto3" === this.ptr.syntax && "proto3" !== n.syntax)
                                                        throw Error("proto3 message cannot reference proto2 enum")
                                                } else {
                                                    if (!(n instanceof r.Message))
                                                        throw Error("illegal type reference in " + this.ptr.toString(!0) + ": " + this.ptr.type);
                                                    this.ptr.type = n.isGroup ? e.TYPES.group : e.TYPES.message
                                                }
                                            }
                                            if (this.ptr.map) {
                                                if (!t.TYPE.test(this.ptr.keyType))
                                                    throw Error("illegal key type for map field in " + this.ptr.toString(!0) + ": " + this.ptr.keyType);
                                                this.ptr.keyType = e.TYPES[this.ptr.keyType]
                                            }
                                            "proto3" === this.ptr.syntax && this.ptr.repeated && void 0 === this.ptr.options.packed && -1 !== e.PACKABLE_WIRE_TYPES.indexOf(this.ptr.type.wireType) && (this.ptr.options.packed = !0)
                                        } else if (this.ptr instanceof e.Reflect.Service.Method) {
                                            if (!(this.ptr instanceof e.Reflect.Service.RPCMethod))
                                                throw Error("illegal service type in " + this.ptr.toString(!0));
                                            if (!((n = this.ptr.parent.resolve(this.ptr.requestName, !0)) && n instanceof e.Reflect.Message))
                                                throw Error("Illegal type reference in " + this.ptr.toString(!0) + ": " + this.ptr.requestName);
                                            if (this.ptr.resolvedRequestType = n,
                                            !((n = this.ptr.parent.resolve(this.ptr.responseName, !0)) && n instanceof e.Reflect.Message))
                                                throw Error("Illegal type reference in " + this.ptr.toString(!0) + ": " + this.ptr.responseName);
                                            this.ptr.resolvedResponseType = n
                                        } else if (!(this.ptr instanceof e.Reflect.Message.OneOf || this.ptr instanceof e.Reflect.Extension || this.ptr instanceof e.Reflect.Enum.Value))
                                            throw Error("illegal object in namespace: " + c(this.ptr) + ": " + this.ptr);
                                        return this.reset()
                                    }
                                    ,
                                    o.build = function(e) {
                                        if (this.reset(),
                                        this.resolved || (this.resolveAll(),
                                        this.resolved = !0,
                                        this.result = null),
                                        null === this.result && (this.result = this.ns.build()),
                                        !e)
                                            return this.result;
                                        for (var t = "string" == typeof e ? e.split(".") : e, n = this.result, r = 0; r < t.length; r++) {
                                            if (!n[t[r]]) {
                                                n = null;
                                                break
                                            }
                                            n = n[t[r]]
                                        }
                                        return n
                                    }
                                    ,
                                    o.lookup = function(e, t) {
                                        return e ? this.ns.resolve(e, t) : this.ns
                                    }
                                    ,
                                    o.toString = function() {
                                        return "Builder"
                                    }
                                    ,
                                    i.Message = function() {}
                                    ,
                                    i.Enum = function() {}
                                    ,
                                    i.Service = function() {}
                                    ,
                                    i
                                }(o, o.Lang, o.Reflect),
                                o.Map = function(e, t) {
                                    var n = function(e, n) {
                                        if (!e.map)
                                            throw Error("field is not a map");
                                        if (this.field = e,
                                        this.keyElem = new t.Element(e.keyType,null,!0,e.syntax),
                                        this.valueElem = new t.Element(e.type,e.resolvedType,!1,e.syntax),
                                        this.map = {},
                                        Object.defineProperty(this, "size", {
                                            get: function() {
                                                return Object.keys(this.map).length
                                            }
                                        }),
                                        n)
                                            for (var r = Object.keys(n), i = 0; i < r.length; i++) {
                                                var o = this.keyElem.valueFromString(r[i])
                                                  , a = this.valueElem.verifyValue(n[r[i]]);
                                                this.map[this.keyElem.valueToString(o)] = {
                                                    key: o,
                                                    value: a
                                                }
                                            }
                                    }
                                      , r = n.prototype;
                                    function i(e) {
                                        var t = 0;
                                        return {
                                            next: function() {
                                                return t < e.length ? {
                                                    done: !1,
                                                    value: e[t++]
                                                } : {
                                                    done: !0
                                                }
                                            }
                                        }
                                    }
                                    return r.clear = function() {
                                        this.map = {}
                                    }
                                    ,
                                    r.delete = function(e) {
                                        var t = this.keyElem.valueToString(this.keyElem.verifyValue(e))
                                          , n = t in this.map;
                                        return delete this.map[t],
                                        n
                                    }
                                    ,
                                    r.entries = function() {
                                        for (var e, t = [], n = Object.keys(this.map), r = 0; r < n.length; r++)
                                            t.push([(e = this.map[n[r]]).key, e.value]);
                                        return i(t)
                                    }
                                    ,
                                    r.keys = function() {
                                        for (var e = [], t = Object.keys(this.map), n = 0; n < t.length; n++)
                                            e.push(this.map[t[n]].key);
                                        return i(e)
                                    }
                                    ,
                                    r.values = function() {
                                        for (var e = [], t = Object.keys(this.map), n = 0; n < t.length; n++)
                                            e.push(this.map[t[n]].value);
                                        return i(e)
                                    }
                                    ,
                                    r.forEach = function(e, t) {
                                        for (var n, r = Object.keys(this.map), i = 0; i < r.length; i++)
                                            e.call(t, (n = this.map[r[i]]).value, n.key, this)
                                    }
                                    ,
                                    r.set = function(e, t) {
                                        var n = this.keyElem.verifyValue(e)
                                          , r = this.valueElem.verifyValue(t);
                                        return this.map[this.keyElem.valueToString(n)] = {
                                            key: n,
                                            value: r
                                        },
                                        this
                                    }
                                    ,
                                    r.get = function(e) {
                                        var t = this.keyElem.valueToString(this.keyElem.verifyValue(e));
                                        if (t in this.map)
                                            return this.map[t].value
                                    }
                                    ,
                                    r.has = function(e) {
                                        return this.keyElem.valueToString(this.keyElem.verifyValue(e))in this.map
                                    }
                                    ,
                                    n
                                }(0, o.Reflect),
                                o.loadProto = function(e, t, n) {
                                    return ("string" == typeof t || t && "string" == typeof t.file && "string" == typeof t.root) && (n = t,
                                    t = void 0),
                                    o.loadJson(o.DotProto.Parser.parse(e), t, n)
                                }
                                ,
                                o.protoFromString = o.loadProto,
                                o.loadProtoFile = function(e, t, n) {
                                    if (t && "object" === c(t) ? (n = t,
                                    t = null) : t && "function" == typeof t || (t = null),
                                    t)
                                        return o.Util.fetch("string" == typeof e ? e : e.root + "/" + e.file, (function(r) {
                                            if (null !== r)
                                                try {
                                                    t(null, o.loadProto(r, n, e))
                                                } catch (e) {
                                                    t(e)
                                                }
                                            else
                                                t(Error("Failed to fetch file"))
                                        }
                                        ));
                                    var r = o.Util.fetch("object" === c(e) ? e.root + "/" + e.file : e);
                                    return null === r ? null : o.loadProto(r, n, e)
                                }
                                ,
                                o.protoFromFile = o.loadProtoFile,
                                o.newBuilder = function(e) {
                                    return void 0 === (e = e || {}).convertFieldsToCamelCase && (e.convertFieldsToCamelCase = o.convertFieldsToCamelCase),
                                    void 0 === e.populateAccessors && (e.populateAccessors = o.populateAccessors),
                                    new o.Builder(e)
                                }
                                ,
                                o.loadJson = function(e, t, n) {
                                    return ("string" == typeof t || t && "string" == typeof t.file && "string" == typeof t.root) && (n = t,
                                    t = null),
                                    t && "object" === c(t) || (t = o.newBuilder()),
                                    "string" == typeof e && (e = JSON.parse(e)),
                                    t.import(e, n),
                                    t.resolveAll(),
                                    t
                                }
                                ,
                                o.loadJsonFile = function(e, t, n) {
                                    if (t && "object" === c(t) ? (n = t,
                                    t = null) : t && "function" == typeof t || (t = null),
                                    t)
                                        return o.Util.fetch("string" == typeof e ? e : e.root + "/" + e.file, (function(r) {
                                            if (null !== r)
                                                try {
                                                    t(null, o.loadJson(JSON.parse(r), n, e))
                                                } catch (e) {
                                                    t(e)
                                                }
                                            else
                                                t(Error("Failed to fetch file"))
                                        }
                                        ));
                                    var r = o.Util.fetch("object" === c(e) ? e.root + "/" + e.file : e);
                                    return null === r ? null : o.loadJson(JSON.parse(r), n, e)
                                }
                                ,
                                o
                            }
                            ) ? i.apply(t, o) : i) || (e.exports = a)
                        },
                        147: function(e) {
                            "use strict";
                            e.exports = i(2)
                        },
                        17: function(e) {
                            "use strict";
                            e.exports = i(3)
                        },
                        583: function(e, t) {
                            var n, r = function(e) {
                                "use strict";
                                Object.defineProperty(e, "__esModule", {
                                    value: !0
                                }),
                                e.default = void 0;
                                /**
             * @license
             * Copyright 2009 The Closure Library Authors
             * Copyright 2020 Daniel Wirtz / The long.js Authors.
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *     http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             *
             * SPDX-License-Identifier: Apache-2.0
             */
                                var t = null;
                                try {
                                    t = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11])),{}).exports
                                } catch (e) {}
                                function n(e, t, n) {
                                    this.low = 0 | e,
                                    this.high = 0 | t,
                                    this.unsigned = !!n
                                }
                                function r(e) {
                                    return !0 === (e && e.__isLong__)
                                }
                                function i(e) {
                                    var t = Math.clz32(e & -e);
                                    return e ? 31 - t : t
                                }
                                n.prototype.__isLong__,
                                Object.defineProperty(n.prototype, "__isLong__", {
                                    value: !0
                                }),
                                n.isLong = r;
                                var o = {}
                                  , a = {};
                                function s(e, t) {
                                    var n, r, i;
                                    return t ? (i = 0 <= (e >>>= 0) && e < 256) && (r = a[e]) ? r : (n = c(e, 0, !0),
                                    i && (a[e] = n),
                                    n) : (i = -128 <= (e |= 0) && e < 128) && (r = o[e]) ? r : (n = c(e, e < 0 ? -1 : 0, !1),
                                    i && (o[e] = n),
                                    n)
                                }
                                function u(e, t) {
                                    if (isNaN(e))
                                        return t ? y : g;
                                    if (t) {
                                        if (e < 0)
                                            return y;
                                        if (e >= p)
                                            return S
                                    } else {
                                        if (e <= -v)
                                            return R;
                                        if (e + 1 >= v)
                                            return _
                                    }
                                    return e < 0 ? u(-e, t).neg() : c(e % h | 0, e / h | 0, t)
                                }
                                function c(e, t, r) {
                                    return new n(e,t,r)
                                }
                                n.fromInt = s,
                                n.fromNumber = u,
                                n.fromBits = c;
                                var l = Math.pow;
                                function f(e, t, n) {
                                    if (0 === e.length)
                                        throw Error("empty string");
                                    if ("number" == typeof t ? (n = t,
                                    t = !1) : t = !!t,
                                    "NaN" === e || "Infinity" === e || "+Infinity" === e || "-Infinity" === e)
                                        return t ? y : g;
                                    if ((n = n || 10) < 2 || 36 < n)
                                        throw RangeError("radix");
                                    var r;
                                    if ((r = e.indexOf("-")) > 0)
                                        throw Error("interior hyphen");
                                    if (0 === r)
                                        return f(e.substring(1), t, n).neg();
                                    for (var i = u(l(n, 8)), o = g, a = 0; a < e.length; a += 8) {
                                        var s = Math.min(8, e.length - a)
                                          , c = parseInt(e.substring(a, a + s), n);
                                        if (s < 8) {
                                            var d = u(l(n, s));
                                            o = o.mul(d).add(u(c))
                                        } else
                                            o = (o = o.mul(i)).add(u(c))
                                    }
                                    return o.unsigned = t,
                                    o
                                }
                                function d(e, t) {
                                    return "number" == typeof e ? u(e, t) : "string" == typeof e ? f(e, t) : c(e.low, e.high, "boolean" == typeof t ? t : e.unsigned)
                                }
                                n.fromString = f,
                                n.fromValue = d;
                                var h = 4294967296
                                  , p = h * h
                                  , v = p / 2
                                  , m = s(1 << 24)
                                  , g = s(0);
                                n.ZERO = g;
                                var y = s(0, !0);
                                n.UZERO = y;
                                var E = s(1);
                                n.ONE = E;
                                var T = s(1, !0);
                                n.UONE = T;
                                var b = s(-1);
                                n.NEG_ONE = b;
                                var _ = c(-1, 2147483647, !1);
                                n.MAX_VALUE = _;
                                var S = c(-1, -1, !0);
                                n.MAX_UNSIGNED_VALUE = S;
                                var R = c(0, -2147483648, !1);
                                n.MIN_VALUE = R;
                                var w = n.prototype;
                                w.toInt = function() {
                                    return this.unsigned ? this.low >>> 0 : this.low
                                }
                                ,
                                w.toNumber = function() {
                                    return this.unsigned ? (this.high >>> 0) * h + (this.low >>> 0) : this.high * h + (this.low >>> 0)
                                }
                                ,
                                w.toString = function(e) {
                                    if ((e = e || 10) < 2 || 36 < e)
                                        throw RangeError("radix");
                                    if (this.isZero())
                                        return "0";
                                    if (this.isNegative()) {
                                        if (this.eq(R)) {
                                            var t = u(e)
                                              , n = this.div(t)
                                              , r = n.mul(t).sub(this);
                                            return n.toString(e) + r.toInt().toString(e)
                                        }
                                        return "-" + this.neg().toString(e)
                                    }
                                    for (var i = u(l(e, 6), this.unsigned), o = this, a = ""; ; ) {
                                        var s = o.div(i)
                                          , c = (o.sub(s.mul(i)).toInt() >>> 0).toString(e);
                                        if ((o = s).isZero())
                                            return c + a;
                                        for (; c.length < 6; )
                                            c = "0" + c;
                                        a = "" + c + a
                                    }
                                }
                                ,
                                w.getHighBits = function() {
                                    return this.high
                                }
                                ,
                                w.getHighBitsUnsigned = function() {
                                    return this.high >>> 0
                                }
                                ,
                                w.getLowBits = function() {
                                    return this.low
                                }
                                ,
                                w.getLowBitsUnsigned = function() {
                                    return this.low >>> 0
                                }
                                ,
                                w.getNumBitsAbs = function() {
                                    if (this.isNegative())
                                        return this.eq(R) ? 64 : this.neg().getNumBitsAbs();
                                    for (var e = 0 != this.high ? this.high : this.low, t = 31; t > 0 && 0 == (e & 1 << t); t--)
                                        ;
                                    return 0 != this.high ? t + 33 : t + 1
                                }
                                ,
                                w.isZero = function() {
                                    return 0 === this.high && 0 === this.low
                                }
                                ,
                                w.eqz = w.isZero,
                                w.isNegative = function() {
                                    return !this.unsigned && this.high < 0
                                }
                                ,
                                w.isPositive = function() {
                                    return this.unsigned || this.high >= 0
                                }
                                ,
                                w.isOdd = function() {
                                    return 1 == (1 & this.low)
                                }
                                ,
                                w.isEven = function() {
                                    return 0 == (1 & this.low)
                                }
                                ,
                                w.equals = function(e) {
                                    return r(e) || (e = d(e)),
                                    (this.unsigned === e.unsigned || this.high >>> 31 != 1 || e.high >>> 31 != 1) && this.high === e.high && this.low === e.low
                                }
                                ,
                                w.eq = w.equals,
                                w.notEquals = function(e) {
                                    return !this.eq(e)
                                }
                                ,
                                w.neq = w.notEquals,
                                w.ne = w.notEquals,
                                w.lessThan = function(e) {
                                    return this.comp(e) < 0
                                }
                                ,
                                w.lt = w.lessThan,
                                w.lessThanOrEqual = function(e) {
                                    return this.comp(e) <= 0
                                }
                                ,
                                w.lte = w.lessThanOrEqual,
                                w.le = w.lessThanOrEqual,
                                w.greaterThan = function(e) {
                                    return this.comp(e) > 0
                                }
                                ,
                                w.gt = w.greaterThan,
                                w.greaterThanOrEqual = function(e) {
                                    return this.comp(e) >= 0
                                }
                                ,
                                w.gte = w.greaterThanOrEqual,
                                w.ge = w.greaterThanOrEqual,
                                w.compare = function(e) {
                                    if (r(e) || (e = d(e)),
                                    this.eq(e))
                                        return 0;
                                    var t = this.isNegative()
                                      , n = e.isNegative();
                                    return t && !n ? -1 : !t && n ? 1 : this.unsigned ? e.high >>> 0 > this.high >>> 0 || e.high === this.high && e.low >>> 0 > this.low >>> 0 ? -1 : 1 : this.sub(e).isNegative() ? -1 : 1
                                }
                                ,
                                w.comp = w.compare,
                                w.negate = function() {
                                    return !this.unsigned && this.eq(R) ? R : this.not().add(E)
                                }
                                ,
                                w.neg = w.negate,
                                w.add = function(e) {
                                    r(e) || (e = d(e));
                                    var t = this.high >>> 16
                                      , n = 65535 & this.high
                                      , i = this.low >>> 16
                                      , o = 65535 & this.low
                                      , a = e.high >>> 16
                                      , s = 65535 & e.high
                                      , u = e.low >>> 16
                                      , l = 0
                                      , f = 0
                                      , h = 0
                                      , p = 0;
                                    return h += (p += o + (65535 & e.low)) >>> 16,
                                    f += (h += i + u) >>> 16,
                                    l += (f += n + s) >>> 16,
                                    l += t + a,
                                    c((h &= 65535) << 16 | (p &= 65535), (l &= 65535) << 16 | (f &= 65535), this.unsigned)
                                }
                                ,
                                w.subtract = function(e) {
                                    return r(e) || (e = d(e)),
                                    this.add(e.neg())
                                }
                                ,
                                w.sub = w.subtract,
                                w.multiply = function(e) {
                                    if (this.isZero())
                                        return this;
                                    if (r(e) || (e = d(e)),
                                    t)
                                        return c(t.mul(this.low, this.high, e.low, e.high), t.get_high(), this.unsigned);
                                    if (e.isZero())
                                        return this.unsigned ? y : g;
                                    if (this.eq(R))
                                        return e.isOdd() ? R : g;
                                    if (e.eq(R))
                                        return this.isOdd() ? R : g;
                                    if (this.isNegative())
                                        return e.isNegative() ? this.neg().mul(e.neg()) : this.neg().mul(e).neg();
                                    if (e.isNegative())
                                        return this.mul(e.neg()).neg();
                                    if (this.lt(m) && e.lt(m))
                                        return u(this.toNumber() * e.toNumber(), this.unsigned);
                                    var n = this.high >>> 16
                                      , i = 65535 & this.high
                                      , o = this.low >>> 16
                                      , a = 65535 & this.low
                                      , s = e.high >>> 16
                                      , l = 65535 & e.high
                                      , f = e.low >>> 16
                                      , h = 65535 & e.low
                                      , p = 0
                                      , v = 0
                                      , E = 0
                                      , T = 0;
                                    return E += (T += a * h) >>> 16,
                                    v += (E += o * h) >>> 16,
                                    E &= 65535,
                                    v += (E += a * f) >>> 16,
                                    p += (v += i * h) >>> 16,
                                    v &= 65535,
                                    p += (v += o * f) >>> 16,
                                    v &= 65535,
                                    p += (v += a * l) >>> 16,
                                    p += n * h + i * f + o * l + a * s,
                                    c((E &= 65535) << 16 | (T &= 65535), (p &= 65535) << 16 | (v &= 65535), this.unsigned)
                                }
                                ,
                                w.mul = w.multiply,
                                w.divide = function(e) {
                                    if (r(e) || (e = d(e)),
                                    e.isZero())
                                        throw Error("division by zero");
                                    var n, i, o;
                                    if (t)
                                        return this.unsigned || -2147483648 !== this.high || -1 !== e.low || -1 !== e.high ? c((this.unsigned ? t.div_u : t.div_s)(this.low, this.high, e.low, e.high), t.get_high(), this.unsigned) : this;
                                    if (this.isZero())
                                        return this.unsigned ? y : g;
                                    if (this.unsigned) {
                                        if (e.unsigned || (e = e.toUnsigned()),
                                        e.gt(this))
                                            return y;
                                        if (e.gt(this.shru(1)))
                                            return T;
                                        o = y
                                    } else {
                                        if (this.eq(R))
                                            return e.eq(E) || e.eq(b) ? R : e.eq(R) ? E : (n = this.shr(1).div(e).shl(1)).eq(g) ? e.isNegative() ? E : b : (i = this.sub(e.mul(n)),
                                            o = n.add(i.div(e)));
                                        if (e.eq(R))
                                            return this.unsigned ? y : g;
                                        if (this.isNegative())
                                            return e.isNegative() ? this.neg().div(e.neg()) : this.neg().div(e).neg();
                                        if (e.isNegative())
                                            return this.div(e.neg()).neg();
                                        o = g
                                    }
                                    for (i = this; i.gte(e); ) {
                                        n = Math.max(1, Math.floor(i.toNumber() / e.toNumber()));
                                        for (var a = Math.ceil(Math.log(n) / Math.LN2), s = a <= 48 ? 1 : l(2, a - 48), f = u(n), h = f.mul(e); h.isNegative() || h.gt(i); )
                                            h = (f = u(n -= s, this.unsigned)).mul(e);
                                        f.isZero() && (f = E),
                                        o = o.add(f),
                                        i = i.sub(h)
                                    }
                                    return o
                                }
                                ,
                                w.div = w.divide,
                                w.modulo = function(e) {
                                    return r(e) || (e = d(e)),
                                    t ? c((this.unsigned ? t.rem_u : t.rem_s)(this.low, this.high, e.low, e.high), t.get_high(), this.unsigned) : this.sub(this.div(e).mul(e))
                                }
                                ,
                                w.mod = w.modulo,
                                w.rem = w.modulo,
                                w.not = function() {
                                    return c(~this.low, ~this.high, this.unsigned)
                                }
                                ,
                                w.countLeadingZeros = function() {
                                    return this.high ? Math.clz32(this.high) : Math.clz32(this.low) + 32
                                }
                                ,
                                w.clz = w.countLeadingZeros,
                                w.countTrailingZeros = function() {
                                    return this.low ? i(this.low) : i(this.high) + 32
                                }
                                ,
                                w.ctz = w.countTrailingZeros,
                                w.and = function(e) {
                                    return r(e) || (e = d(e)),
                                    c(this.low & e.low, this.high & e.high, this.unsigned)
                                }
                                ,
                                w.or = function(e) {
                                    return r(e) || (e = d(e)),
                                    c(this.low | e.low, this.high | e.high, this.unsigned)
                                }
                                ,
                                w.xor = function(e) {
                                    return r(e) || (e = d(e)),
                                    c(this.low ^ e.low, this.high ^ e.high, this.unsigned)
                                }
                                ,
                                w.shiftLeft = function(e) {
                                    return r(e) && (e = e.toInt()),
                                    0 == (e &= 63) ? this : e < 32 ? c(this.low << e, this.high << e | this.low >>> 32 - e, this.unsigned) : c(0, this.low << e - 32, this.unsigned)
                                }
                                ,
                                w.shl = w.shiftLeft,
                                w.shiftRight = function(e) {
                                    return r(e) && (e = e.toInt()),
                                    0 == (e &= 63) ? this : e < 32 ? c(this.low >>> e | this.high << 32 - e, this.high >> e, this.unsigned) : c(this.high >> e - 32, this.high >= 0 ? 0 : -1, this.unsigned)
                                }
                                ,
                                w.shr = w.shiftRight,
                                w.shiftRightUnsigned = function(e) {
                                    return r(e) && (e = e.toInt()),
                                    0 == (e &= 63) ? this : e < 32 ? c(this.low >>> e | this.high << 32 - e, this.high >>> e, this.unsigned) : c(32 === e ? this.high : this.high >>> e - 32, 0, this.unsigned)
                                }
                                ,
                                w.shru = w.shiftRightUnsigned,
                                w.shr_u = w.shiftRightUnsigned,
                                w.rotateLeft = function(e) {
                                    var t;
                                    return r(e) && (e = e.toInt()),
                                    0 == (e &= 63) ? this : 32 === e ? c(this.high, this.low, this.unsigned) : e < 32 ? (t = 32 - e,
                                    c(this.low << e | this.high >>> t, this.high << e | this.low >>> t, this.unsigned)) : (t = 32 - (e -= 32),
                                    c(this.high << e | this.low >>> t, this.low << e | this.high >>> t, this.unsigned))
                                }
                                ,
                                w.rotl = w.rotateLeft,
                                w.rotateRight = function(e) {
                                    var t;
                                    return r(e) && (e = e.toInt()),
                                    0 == (e &= 63) ? this : 32 === e ? c(this.high, this.low, this.unsigned) : e < 32 ? (t = 32 - e,
                                    c(this.high << t | this.low >>> e, this.low << t | this.high >>> e, this.unsigned)) : (t = 32 - (e -= 32),
                                    c(this.low << t | this.high >>> e, this.high << t | this.low >>> e, this.unsigned))
                                }
                                ,
                                w.rotr = w.rotateRight,
                                w.toSigned = function() {
                                    return this.unsigned ? c(this.low, this.high, !1) : this
                                }
                                ,
                                w.toUnsigned = function() {
                                    return this.unsigned ? this : c(this.low, this.high, !0)
                                }
                                ,
                                w.toBytes = function(e) {
                                    return e ? this.toBytesLE() : this.toBytesBE()
                                }
                                ,
                                w.toBytesLE = function() {
                                    var e = this.high
                                      , t = this.low;
                                    return [255 & t, t >>> 8 & 255, t >>> 16 & 255, t >>> 24, 255 & e, e >>> 8 & 255, e >>> 16 & 255, e >>> 24]
                                }
                                ,
                                w.toBytesBE = function() {
                                    var e = this.high
                                      , t = this.low;
                                    return [e >>> 24, e >>> 16 & 255, e >>> 8 & 255, 255 & e, t >>> 24, t >>> 16 & 255, t >>> 8 & 255, 255 & t]
                                }
                                ,
                                n.fromBytes = function(e, t, r) {
                                    return r ? n.fromBytesLE(e, t) : n.fromBytesBE(e, t)
                                }
                                ,
                                n.fromBytesLE = function(e, t) {
                                    return new n(e[0] | e[1] << 8 | e[2] << 16 | e[3] << 24,e[4] | e[5] << 8 | e[6] << 16 | e[7] << 24,t)
                                }
                                ,
                                n.fromBytesBE = function(e, t) {
                                    return new n(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7],e[0] << 24 | e[1] << 16 | e[2] << 8 | e[3],t)
                                }
                                ;
                                var C = n;
                                return e.default = C,
                                "default"in e ? e.default : e
                            }({});
                            void 0 === (n = function() {
                                return r
                            }
                            .apply(t, [])) || (e.exports = n)
                        }
                    }
                      , n = {};
                    function i(e) {
                        var r = n[e];
                        if (void 0 !== r)
                            return r.exports;
                        var o = n[e] = {
                            exports: {}
                        };
                        return t[e].call(o.exports, o, o.exports, i),
                        o.exports
                    }
                    return i(579)
                }()
            }
            ,
            "object" === c(t) && "object" === c(i) ? i.exports = u() : (a = [],
            void 0 === (s = "function" == typeof (o = u) ? o.apply(t, a) : o) || (i.exports = s))
        }
        ).call(this, n("HDXh").Buffer, n("8oxB"), n("YuTi")(e))
    },
    k4qV: function(e, t, n) {
        "use strict";
        var r;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.SERVER_PATH_BACKUP = t.SERVER_PATH = t.SubEventName = void 0,
        t.SubEventName = r,
        function(e) {
            e.FETCH_INFO_TRY = "fetch_info_try",
            e.FETCH_INFO_RETRY = "fetch_info_retry",
            e.FETCH_INFO_ERROR = "fetch_info_error",
            e.FETCH_INFO_RETURN_ERROR = "fetch_info_return_error",
            e.FETCH_INFO_FAIL_AFTER_RETRY = "fetch_info_fail_after_retry",
            e.FETCH_INFO_SUCC = "fetch_info_succ",
            e.ERROR_NO_PLAYLIST = "error_no_playlist",
            e.FETCH_DURATION = "fetch_duration"
        }(r || (t.SubEventName = r = {}));
        t.SERVER_PATH = "//playvideo.qcloud.com";
        t.SERVER_PATH_BACKUP = "//bkplayvideo.qcloud.com"
    },
    kNBA: function(e, t, n) {
        e.exports = n("kQAT")
    },
    kQAT: function(e, t) {
        t = {
            get: function(e) {
                var t = document.cookie.match(new RegExp("(^| )" + e + "=([^;]*)(;|$)"));
                return t ? decodeURIComponent(t[2]) : ""
            },
            set: function(e, t, n, r, i) {
                var o = new Date;
                o.setTime(o.getTime() + (i ? 36e5 * i : 2592e6)),
                document.cookie = e + "=" + t + "; expires=" + o.toGMTString() + "; path=" + (r || "/") + "; " + (n ? "domain=" + n + ";" : "")
            },
            setSession: function(e, t, n, r) {
                document.cookie = e + "=" + t + "; path=" + (r || "/") + "; " + (n ? "domain=" + n + ";" : "")
            },
            del: function(e, t, n) {
                document.cookie = e + "=; expires=Mon, 26 Jul 1997 05:00:00 GMT; path=" + (n || "/") + "; " + (t ? "domain=" + t + ";" : "")
            },
            clear: function() {
                var e = document.cookie.match(new RegExp("([^ ;][^;]*)(?=(=[^;]*)(;|$))","gi"));
                for (var t in e)
                    document.cookie = e[t] + "=;expires=Mon, 26 Jul 1997 05:00:00 GMT; path=/; "
            },
            uin: function() {
                var e;
                return -1 !== ["2", "1001", "1002", "1012"].indexOf(this.get("uid_type")) ? this.get("uid_uin") || null : e = (e = (e = this.get("p_luin") || this.get("p_uin") || this.get("uin") || this.get("pt2gguin") || this.get("adid")) ? parseInt(e.replace(/[^\d]/g, ""), 10) : null) || parseInt(this.get("uin_cookie"), 10) || null
            },
            realUin: function() {
                var e;
                return -1 !== ["2", "1001", "1002", "1012"].indexOf(this.get("uid_type")) ? this.get("uid_uin") || null : e = (e = (e = this.get("p_luin") || this.get("p_uin") || this.get("uin") || this.get("uid_uin")) ? parseInt(e.replace(/[^\d]/g, ""), 10) : null) || parseInt(this.get("uin_cookie"), 10) || null
            }
        };
        e.exports = t
    },
    kX8k: function(e, t, n) {
        "use strict";
        var r;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.SubEventName = void 0,
        t.SubEventName = r,
        function(e) {
            e.SDK_ERROR = "sdk_error",
            e.SUPPORT_FLV = "support_flv",
            e.NOT_SUPPORT_FLV = "not_support_flv"
        }(r || (t.SubEventName = r = {}))
    },
    ke98: function(e, t, n) {},
    lNxH: function(e, t, n) {
        "use strict";
        e.exports = function(e, t) {
            return t || (t = {}),
            "string" != typeof (e = e && e.__esModule ? e.default : e) ? e : (/^['"].*['"]$/.test(e) && (e = e.slice(1, -1)),
            t.hash && (e += t.hash),
            /["'() \t\n]/.test(e) || t.needQuotes ? '"'.concat(e.replace(/"/g, '\\"').replace(/\n/g, "\\n"), '"') : e)
        }
    },
    lhmy: function(e, t, n) {
        "use strict";
        e.exports = n("syUg")
    },
    mCUO: function(e, t, n) {
        "use strict";
        var r = n("cDf5")
          , i = n("7UZi")
          , o = n("kNBA")
          , a = {
            dealErrorHandler: function() {}
        };
        function s(e) {
            var t = [];
            for (var n in e)
                e.hasOwnProperty(n) && t.push(n + "=" + encodeURIComponent(e[n]));
            return t.join("&")
        }
        function u(e, t) {
            t = t || 0,
            e = e || "";
            (new Image).src = "//badjs.qq.com/badjs?id=1162&uin=" + o.uin() + "&from=" + encodeURIComponent(location.href) + "&msg[0]=" + encodeURIComponent("ke_fetch: " + e) + "&ext[0]=%7B%22msid%22%3A" + t + "%7D&level[0]=1&count=1&_t=" + (new Date - 0)
        }
        function c(e, t, n) {
            var o = e
              , l = {
                method: "GET",
                credentials: "same-origin",
                timeout: 1e4,
                tAlias: "t"
            };
            Object.assign(l, t),
            n = n || l,
            null != l.body && l.body instanceof Object && (l.body = function(e) {
                var t = {};
                for (var n in e)
                    if (e.hasOwnProperty(n)) {
                        var r = e[n];
                        null != r && "" !== r && (t[n] = r)
                    }
                return t
            }(l.body));
            var f = i()
              , d = Math.random().toFixed(4);
            o.indexOf("?") < 0 && (o += "?");
            var h = l.method;
            "GET" !== h && "HEAD" !== h ? (null == l.headers && (l.headers = {}),
            null == l.headers["Content-Type"] && (l.headers["Content-Type"] = "application/x-www-form-urlencoded; charset=UTF-8",
            null != l.body && l.body.constructor === Object && (l.body = s(l.body)))) : null != l.data && l.data.constructor === Object && (o += s(l.data));
            var p = "bkn=" + f + "&" + l.tAlias + "=" + d;
            "?" !== o.slice(-1) && (o += "&"),
            o += p;
            var v = e.split("?")[0]
              , m = e.split("?")[1];
            return new Promise((function(i, s) {
                var f;
                new Date;
                fetch(o, l).then((function(e) {
                    f = new Date;
                    var t = e.status;
                    return e.ok ? e.json() : (t >= 400 && t < 500 ? u("status: " + t + ", " + e.statusText, 2579548) : t >= 500 && t < 600 ? u("status: " + t + ", " + e.statusText, 2579549) : u("非4xx, 5xx状态码, status: " + t + ", " + e.statusText, ""),
                    Promise.reject(e))
                }
                )).then((function(o) {
                    var l, f, d = o.retcode;
                    if ("number" == typeof d && 0 !== d) {
                        switch (d) {
                        case 111:
                        case -1001:
                        case 1e5:
                        case 100021:
                            var h = top.window.LoginProxy;
                            "object" === r(h) ? h.show({
                                succ: function() {
                                    c(e, t).then((function(e) {
                                        i(e)
                                    }
                                    )).catch((function(e) {
                                        s({
                                            type: "ke_fetch",
                                            err: e
                                        })
                                    }
                                    ))
                                },
                                err: function(e) {
                                    s({
                                        type: "ptlogin",
                                        err: e
                                    })
                                },
                                close: function() {
                                    s({
                                        type: "ptlogin"
                                    })
                                }
                            }) : s({
                                type: "ke_fetch",
                                err: {
                                    url: e,
                                    options: t,
                                    data: o,
                                    retcode: o.retcode,
                                    msg: o.msg
                                }
                            }),
                            l = "CGI Error , Need Login,  req:" + v + ", ec:" + d,
                            f = 403855;
                            break;
                        case 100001:
                            l = "CGI Error , Param Error:" + m + ",  req:" + v + ", ec:" + d,
                            f = 403858;
                            break;
                        case 100003:
                            l = "CGI Error , Internal Error ,  req:" + v + ", ec:" + d,
                            f = 403857;
                            break;
                        case 99999:
                            l = "CGI Error , Need Show VerifyCode Error ,  req:" + v + ", ec:" + d,
                            f = 0;
                            break;
                        case 110405:
                        case 101402:
                        case 101403:
                        case 101404:
                        case 101405:
                        case 101406:
                        case 102404:
                        case 103404:
                        case 106401:
                        case 106402:
                        case 106403:
                        case 106404:
                        case 106405:
                        case 106406:
                        case 106407:
                        case 106409:
                        case 106410:
                        case 106411:
                        case 106412:
                        case 106413:
                        case 106415:
                        case 106416:
                        case 106425:
                        case 106427:
                        case 106435:
                        case 106457:
                        case 110403:
                        case 109113:
                        case 109122:
                        case 106507:
                            l = "CGI Error , Bussines Error , req:" + v + ", ec:" + d,
                            f = 408941;
                            break;
                        default:
                            l = "CGI Error , Other Error , req:" + v + ", ec:" + d,
                            f = 403859
                        }
                        var p = {
                            type: "ke_fetch",
                            err: {
                                url: e,
                                options: t,
                                data: o,
                                retcode: o.retcode,
                                msg: o.msg
                            }
                        };
                        a.dealErrorHandler(p, n),
                        s(p),
                        u(l, f)
                    } else
                        "number" == typeof d && i(o)
                }
                )).catch((function(r) {
                    f || (f = new Date,
                    u("fetch_error:" + r.message, ""));
                    var i = {
                        type: "ke_fetch",
                        err: {
                            url: e,
                            options: t,
                            msg: r
                        }
                    };
                    a.dealErrorHandler(i, n),
                    s(i)
                }
                ))
            }
            ))
        }
        c.registryErrorHandler = function(e) {
            a.dealErrorHandler = e
        }
        ,
        e.exports = c
    },
    mgYB: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.initTrtcReporterEvent = void 0;
        var i = r(n("3/DG"))
          , o = n("e6Hx")
          , a = n("AMcO");
        t.initTrtcReporterEvent = function(e, t, n) {
            var r, s, u, c, l, f, d;
            e.on((0,
            a.playerEventName)("TRTC", o.TRTC_EVENTS.DOWNLINK_CONNECTION_FAIL), (function(e) {
                var n;
                if (!s) {
                    var r = e.ts
                      , o = e.detail ? (0,
                    i.default)(e.detail) : "";
                    null === (n = t.reportLiveDisconnectReason) || void 0 === n || n.call(t, 2, "TRTC 下行connection重连失败-ts:".concat(r, "-detail:").concat(o)),
                    s = !0
                }
            }
            )),
            e.on((0,
            a.playerEventName)("TRTC", o.TRTC_EVENTS.ICE_FAIL), (function(e) {
                var n, o = e.ts, s = e.subType, c = e.detail ? (0,
                i.default)(e.detail) : "";
                r ? (0,
                a.consolelog)("TRTC", s, o, 0, "ICE连接失败-ts:".concat(o, "-detail:").concat(c)) : u ? ((0,
                a.consolelog)("TRTC", "icefail_not_disconnected", o, 0, "ICE连接失败-ts:".concat(o, "-detail:").concat(c)),
                null === (n = t.reportLiveDisconnectReason) || void 0 === n || n.call(t, 2, "ICE 连接失败")) : (0,
                a.consolelog)("TRTC", "icefail_not_disconnected", o, 0, "ICE连接失败-ts:".concat(o, "-detail:").concat(c));
                r = !0
            }
            )),
            e.on((0,
            a.playerEventName)("TRTC", o.TRTC_EVENTS.ICE_DISCONNECT), (function(e) {
                var t = e.subType
                  , n = e.ts
                  , r = e.detail ? (0,
                i.default)(e.detail) : "";
                u ? (0,
                a.consolelog)("TRTC", t, n, 0, "ICE连接断开-ts:".concat(n, "-detail:").concat(r)) : (0,
                a.consolelog)("TRTC", t, n, 0, "ICE连接断开-first-ts:".concat(n, "-detail:").concat(r)),
                u = !0
            }
            )),
            e.once((0,
            a.playerEventName)("TRTC", o.TRTC_EVENTS.ENTERROOM_FAIL), (function() {
                var e, n;
                null === (e = t.updateLivePlayMetrics) || void 0 === e || e.call(t, (0,
                a.getMetricItem)("EnterRoomFail", 0)),
                null === (n = t.reportStartPlayFail) || void 0 === n || n.call(t, "live_play")
            }
            )),
            e.on((0,
            a.playerEventName)("TRTC", o.TRTC_EVENTS.ENTERROOM_START), (function(e) {
                var n, r = e.ts;
                c = r,
                null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                a.getMetricItem)("EnterRoomStart", 0))
            }
            )),
            e.on((0,
            a.playerEventName)("TRTC", o.TRTC_EVENTS.ENTERROOM_SUCC), (function(e) {
                var n, r = e.ts;
                l = r,
                null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                a.getMetricItem)("EnterRoomSucc", Date.now() - c))
            }
            )),
            e.on("loadedmetadata", (function() {
                var e, n;
                null === (e = t.updateLivePlayMetrics) || void 0 === e || e.call(t, (0,
                a.getMetricItem)("LoadMetadataFromEnterRoomStart", Date.now() - c)),
                null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                a.getMetricItem)("LoadMetadataFromEnterRoomSucc", Date.now() - l))
            }
            )),
            e.on((0,
            a.playerEventName)("TRTC", o.TRTC_EVENTS.SUPPORT_WEBRTC), (function() {
                var e;
                null === (e = t.updateLivePlayMetrics) || void 0 === e || e.call(t, (0,
                a.getMetricItem)("SupportWebRTC", 0))
            }
            )),
            e.on((0,
            a.playerEventName)("TRTC", o.TRTC_EVENTS.NOT_SUPPORT_WEBRTC), (function() {
                var e, n;
                null === (e = t.updateLivePlayMetrics) || void 0 === e || e.call(t, (0,
                a.getMetricItem)("NotSupportWebRTC", 0)),
                null === (n = t.reportStartPlayFail) || void 0 === n || n.call(t, "live_play")
            }
            )),
            e.on((0,
            a.playerEventName)("TRTC", o.TRTC_EVENTS.ICE_START), (function(e) {
                var t = e.ts;
                f = t
            }
            )),
            e.on((0,
            a.playerEventName)("TRTC", o.TRTC_EVENTS.ICE_SUCC), (function(e) {
                var n, r = e.ts;
                d || (null === (n = t.updateLivePlayMetrics) || void 0 === n || n.call(t, (0,
                a.getMetricItem)("ICECost", r - f)));
                d = !0
            }
            )),
            e.on((0,
            a.playerEventName)("TRTC", o.TRTC_EVENTS.STREAM_ADD), (function(e) {
                var t = e.ts;
                n.streamAddTime = t
            }
            ))
        }
    },
    n4sd: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = d;
        var i, o, a = r(n("lwsE")), s = r(n("W8MJ")), u = r(n("LBQ7")), c = r(n("vgmO")), l = n("5mxc");
        !function(e) {
            e.SESSION = "session",
            e.STREAM_ADDED = "stream-added",
            e.STREAM_REMOVED = "stream-removed",
            e.QUALITY_REPORT = "quality-report",
            e.CHANNEL_EVENT = "channel-event",
            e.RTC_EVENT = "rtc-event",
            e.KICK_OUT = "kick-out",
            e.ERROR = "error",
            e.HTTP_SIGNAL = "http-signal"
        }(i || (i = {})),
        function(e) {
            e.SETTED = "setted",
            e.WAITING = "waiting",
            e.ADDED = "added",
            e.REMOVED = "removed"
        }(o || (o = {})),
        c.default.LokiPlayer && c.default.LokiPlayer.install("qwebrtc", d);
        var f = function(e, t) {
            if (!e)
                return null;
            var n = "audio" === t ? e.getAudioTracks()[0] : e.getVideoTracks()[0]
              , r = new MediaStream;
            if (n)
                r.addTrack(n);
            else
                var i = setInterval((function() {
                    var n = "audio" === t ? e.getAudioTracks()[0] : e.getVideoTracks()[0];
                    n && (r.addTrack(n),
                    clearInterval(i))
                }
                ), 200);
            return r
        };
        function d(e, t) {
            var n = e.message
              , r = e.modeHandlers
              , d = t.Constants
              , h = d.ENS
              , p = d.MediaEvents
              , v = (t.Utils,
            t.log);
            h.QWEBRTC = "QWEBRTC";
            var m = function() {
                function t(n) {
                    var r = this;
                    (0,
                    a.default)(this, t),
                    this.lib = u.default || c.default.TWebRTC,
                    this.sessionId = void 0,
                    this.player = void 0,
                    this.qClient = void 0,
                    this.temporary = new Map,
                    this.hooks = {
                        muted: this.muted
                    },
                    this.reconnecting = !1,
                    this.singletonPattern = !0,
                    this.main = void 0,
                    this.vice = void 0,
                    this.others = {},
                    this.isHttpSignal = void 0,
                    this.onSession = function(e) {
                        v("info", "qwebrtc session:", e),
                        r.sessionId = e.data,
                        r.pub(l.SubEventName.SESSION, r.sessionId)
                    }
                    ,
                    this.handleClientError = function(e) {
                        var t = e.code;
                        r.pub(l.SubEventName.SDKERROR, t)
                    }
                    ,
                    this.handleChannelEvent = function(e) {
                        "channel-need-reconnect" === e.event && (r.reconnecting = !0,
                        r.pub(l.SubEventName.CHANNEL_NEED_RECONNECT))
                    }
                    ,
                    this.handleHttpSignalEvent = function(e) {
                        var t = e.code
                          , n = e.data;
                        "pull" === n.signalType && (0 === t ? r.pub(l.SubEventName.HTTP_SIGNAL_PULL_SUCC, {
                            code: t,
                            data: n
                        }) : r.pub(l.SubEventName.HTTP_SIGNAL_PULL_FAIL, {
                            code: t,
                            data: n
                        })),
                        "stop" === n.signalType && (0 === t ? r.pub(l.SubEventName.HTTP_SIGNAL_STOP_SUCC, {
                            code: t,
                            data: n
                        }) : r.pub(l.SubEventName.HTTP_SIGNAL_STOP_FAIL, {
                            code: t,
                            data: n
                        }))
                    }
                    ,
                    this.handleSignalEvent = function(e) {
                        e.event,
                        r.reconnecting = !1
                    }
                    ,
                    this.handleRTCEvent = function(e) {
                        var t = e.event
                          , n = e.data;
                        switch (t) {
                        case "create_RTCPeerConnection":
                            0 === n.code ? r.pub(l.SubEventName.CREATEPEER_SUCC) : r.pub(l.SubEventName.CREATEPEER_FAIL, n);
                            break;
                        case "setRemoteDescription":
                            0 === n.code ? r.pub(l.SubEventName.SDP_SUCC) : r.pub(l.SubEventName.SDP_FAIL, n);
                            break;
                        case "oniceconnectionstatechange":
                            switch (null == n ? void 0 : n.data) {
                            case "checking":
                                r.pub(l.SubEventName.ICE_START);
                                break;
                            case "connected":
                                r.pub(l.SubEventName.ICE_SUCC);
                                break;
                            case "disconnected":
                                r.pub(l.SubEventName.ICE_DISCONNECT);
                                break;
                            case "failed":
                                r.pub(l.SubEventName.ICE_FAIL)
                            }
                        }
                    }
                    ,
                    this.addStream = function(e) {
                        var t, n = e.stream;
                        v("info", "<OLP> qwebrtc [addStream] streamid:", n.streamid, null === (t = r.main) || void 0 === t ? void 0 : t.streamid);
                        var i = !0;
                        r.main && n.streamid === r.main.streamid && (i = !1,
                        r.main.mediaStream = n.getMediaStream(),
                        r.main.state = o.ADDED),
                        r.vice && n.streamid === r.vice.streamid && (i = !1,
                        r.vice.mediaStream = n.getMediaStream(),
                        r.vice.state = o.ADDED),
                        i && Object.keys(r.others).forEach((function(e) {
                            if (r.others[e] && r.others[e].streamid === n.streamid)
                                return r.others[e].mediaStream = n.getMediaStream(),
                                void (r.others[e].state = o.ADDED)
                        }
                        )),
                        n.session = r.sessionId,
                        r.assignStreamToVideos(),
                        r.pub(l.SubEventName.STREAM_ADD, n)
                    }
                    ,
                    this.removeStream = function(e) {
                        var t = e.stream;
                        if (t) {
                            var n;
                            v("info", "<OLP> qwebrtc [remove] streamid:", t.streamid, null === (n = r.main) || void 0 === n ? void 0 : n.streamid);
                            var i = !0;
                            r.main && t.streamid === r.main.streamid && (i = !1,
                            r.main.mediaStream = null,
                            r.main.state = o.REMOVED),
                            r.vice && t.streamid === r.vice.streamid && (i = !1,
                            r.vice.mediaStream = null,
                            r.vice.state = o.REMOVED),
                            i && Object.keys(r.others).forEach((function(e) {
                                if (r.others[e] && r.others[e].streamid === t.streamid)
                                    return r.others[e].mediaStream = null,
                                    r.others[e].dom && (r.others[e].dom.srcObject = null,
                                    r.player.removeMemberItem(e),
                                    r.others[e].dom = null),
                                    r.others[e].state = o.REMOVED,
                                    void delete r.others[e]
                            }
                            )),
                            t.session = r.sessionId,
                            r.assignStreamToVideos(),
                            r.pub(l.SubEventName.STREAM_REMOVE, t)
                        } else
                            v("error", "<OLP> qwebrtc [removeStream] but dont know stream")
                    }
                    ,
                    this.mainPlay = function() {
                        v("info", "Q大画面LOADEDDATA"),
                        r.player.mainVideo.checkAutoPlay().catch((function(e) {
                            r.player.catchPlayMethodError(e, r.player.mainVideo)
                        }
                        ))
                    }
                    ,
                    this.vicePlay = function() {
                        v("info", "Q小画面LOADEDDATA"),
                        r.player.viceVideo.checkAutoPlay().catch((function(e) {
                            r.player.catchPlayMethodError(e, r.player.viceVideo)
                        }
                        ))
                    }
                    ,
                    this.clientLog = function(e) {
                        for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                            n[r - 1] = arguments[r];
                        if ("signalchannel" === n[0] && "onmessage" === n[2]) {
                            var i = n[3]
                              , o = i.cmd
                              , a = i.content;
                            23 !== o && v(e, "mode=qwebrtc", n[0], n[1], n[2], "cmd:".concat(o, " "), " streamid:".concat((null == a ? void 0 : a.streamid) || ""))
                        } else
                            v.apply(void 0, [e, "mode=qwebrtc"].concat(n))
                    }
                    ,
                    this.handleQuality = function(e) {
                        if (e.report) {
                            var t, n, i = {};
                            e.report.receiverStats.forEach((function(e, r) {
                                if (e) {
                                    var o = e.video
                                      , a = Object.keys(o);
                                    a.forEach((function(e, n) {
                                        i["".concat(r, "-").concat(n)] = {
                                            "帧间延迟": o[e].avgInterFrameDelayInterval,
                                            "帧": "".concat(o[e].framesDecodedInterval / 2, "fps total:").concat(o[e].framesDecoded, " "),
                                            "收包": "".concat(o[e].packetsReceivedInterval / 2, "b/s total:").concat(o[e].packetsReceived, " "),
                                            "丢包": "".concat(o[e].packetsLostInterval / 2, "b/s total:").concat(o[e].packetsLost, " "),
                                            "分辨率宽": o[e].frameWidth,
                                            "分辨率高": o[e].frameHeight
                                        },
                                        n === a.length - 1 && (t = o[e])
                                    }
                                    )),
                                    e.audio && (n = e.audio,
                                    i[a.length] = {
                                        "收包": "".concat(n.packetsReceivedInterval / 2, "b/s total:").concat(n.packetsReceived, " "),
                                        "丢包": "".concat(n.packetsLostInterval / 2, "b/s total:").concat(n.packetsLost, " "),
                                        jitter: n.jitter
                                    })
                                }
                            }
                            )),
                            r.player.qualityPannel.updateStatsData({
                                qwebrtc: i
                            }),
                            r.pub(l.SubEventName.RTC_QUALITY, {
                                mainVideoStats: t,
                                mainAudioStats: n
                            }),
                            t && t.avgInterFrameDelayInterval > 500 && r.pub(l.SubEventName.RTC_FREEZE, t.avgInterFrameDelayInterval)
                        }
                    }
                    ;
                    var i = n.options.qwebrtc
                      , s = i.singletonPattern
                      , f = i.useHttp;
                    if ("boolean" == typeof s && (this.singletonPattern = s),
                    this.singletonPattern) {
                        if (t.instance)
                            return t.instance.updateStreamMap(),
                            t.instance;
                        t.instance = this
                    }
                    this.isHttpSignal = !!f,
                    this.player = n,
                    u.default.checkEnvAbility((function(e) {
                        e.isTWebRTCSupported ? (r.pub(l.SubEventName.SUPPORT_WEBRTC),
                        r.createClient(),
                        u.default.openLog(r.clientLog)) : (v("warn", "不支持webrtc"),
                        r.pub(l.SubEventName.NOT_SUPPORT_WEBRTC))
                    }
                    )),
                    e.hidePoster(),
                    t.instance = this,
                    n.viceVideo.fixMuted()
                }
                return (0,
                s.default)(t, [{
                    key: "muted",
                    value: function(e) {
                        e()
                    }
                }, {
                    key: "createClient",
                    value: function() {
                        var e = this;
                        if (this.player.options && this.player.options.qwebrtc) {
                            var t = this.player.options.qwebrtc;
                            this.checkLibVersion(),
                            t.useHttp ? this.qClient = u.default.createHttpQClient() : this.qClient = u.default.createQClient(),
                            this.bindLibEvent(),
                            this.handlMessage(),
                            this.isHttpSignal ? (this.pub(l.SubEventName.HTTP_SIGNAL_MODE),
                            this.updateStreamMap()) : (this.pub(l.SubEventName.CHANNEL_START),
                            this.qClient.initChannel().then((function() {
                                e.pub(l.SubEventName.CHANNEL_SUCC),
                                e.updateStreamMap()
                            }
                            )).catch((function(t) {
                                e.pub(l.SubEventName.CHANNEL_FAIL, t),
                                v("error", "initChannel failed", t)
                            }
                            )))
                        } else
                            v("warn", "player need qwebrtc options")
                    }
                }, {
                    key: "dispose",
                    value: function(e) {
                        var r = this;
                        if ("qwebrtc" !== e || !this.singletonPattern) {
                            v("info", "dispose qwebrtc newmode is ".concat(e));
                            var i = this.player
                              , o = i.mainVideo
                              , a = i.viceVideo;
                            this.unbindLibEvent(),
                            this.qClient.quit(),
                            t.instance = null,
                            o.removeStream(),
                            a.removeStream(),
                            this.others && Object.keys(this.others).forEach((function(e) {
                                r.player.removeMemberItem(e)
                            }
                            )),
                            o.show(),
                            a.show(),
                            a.unFixMuted(),
                            a.mute(!1),
                            n.unsub(p.LOADEDDATA, o.el, this.mainPlay, this.player),
                            n.unsub(p.LOADEDDATA, a.el, this.vicePlay, this.player)
                        }
                    }
                }, {
                    key: "assignStreamToVideos",
                    value: function() {
                        var e, t, n = this, r = this.player, i = r.mainVideo, a = r.viceVideo;
                        v("info", "assignStreamToVideos:main:".concat(null === (e = this.main) || void 0 === e ? void 0 : e.state, ",vice:").concat(null === (t = this.vice) || void 0 === t ? void 0 : t.state));
                        this.main ? this.main.state === o.ADDED ? i.addStream(this.main.mediaStream, !0) : this.main.state === o.REMOVED && i.removeStream() : i.removeStream(),
                        this.vice ? this.vice.state === o.ADDED ? a.addStream(this.vice.mediaStream, !0) : this.vice.state === o.REMOVED && a.removeStream() : a.removeStream(),
                        this.others && Object.keys(this.others).forEach((function(e) {
                            var t, r = n.others[e];
                            if (r.dom)
                                r.dom.srcObject = f(r.mediaStream, "audio"),
                                r.dom.play();
                            else {
                                var i = n.player.addMemberItem(e, {
                                    audio: !0,
                                    video: !1
                                }).audio;
                                i && (r.dom = i.el,
                                r.dom.autoplay = !0,
                                r.dom.volume = 1,
                                r.dom.srcObject = f(r.mediaStream, "audio"),
                                (t = i).checkAutoPlay().catch((function(e) {
                                    n.player.catchPlayMethodError(e, t)
                                }
                                )))
                            }
                        }
                        ))
                    }
                }, {
                    key: "reconnectChannel",
                    value: function(e) {
                        this.reconnecting = !0,
                        this.pub(l.SubEventName.CHANNEL_RECONNECT),
                        this.qClient.reconnectChannel(e)
                    }
                }, {
                    key: "getValidStreamId",
                    value: function(e) {
                        var t = /^(?:webrtc:\/\/)(?:[0-9.\-A-Za-z_]+)(?:\/)(?:[0-9.\-A-Za-z_]+)(?:\/)([^?#]*)(?:\?*)(?:[^?#]*)/.exec(e);
                        return t ? t[1] : null
                    }
                }, {
                    key: "updateStreamMap",
                    value: function(e) {
                        var t = this
                          , n = this.player.options.qwebrtc
                          , r = n.mainStreamUrl
                          , i = n.viceStreamUrl
                          , a = n.otherStreamUrls;
                        v("info", "updateStreamMap", r, i),
                        this.main && this.temporary.set(this.main.streamid, this.main),
                        this.vice && this.temporary.set(this.vice.streamid, this.vice),
                        Object.keys(this.others).forEach((function(e) {
                            var n = t.others[e];
                            t.temporary.set(n.streamid, n)
                        }
                        ));
                        var s = this.getValidStreamId(r)
                          , u = this.getValidStreamId(i)
                          , c = this.temporary.get(s)
                          , l = this.temporary.get(u);
                        c && c.state !== o.REMOVED ? (this.main = c,
                        this.temporary.delete(s)) : s ? this.pullStreamToMap("main", r) : this.main = null,
                        l && l.state !== o.REMOVED ? (this.vice = l,
                        this.temporary.delete(u)) : u ? this.pullStreamToMap("vice", i) : this.vice = null,
                        a && Object.keys(a).forEach((function(e) {
                            var n = a[e]
                              , r = t.getValidStreamId(n)
                              , i = t.temporary.get(r);
                            i && i.state !== o.REMOVED ? (t.others[e] = i,
                            t.temporary.delete(r)) : r ? t.pullStreamToOthersMap(e, n) : (t.player.removeMemberItem(e),
                            t.others[e] = null,
                            delete t.others)
                        }
                        )),
                        this.assignStreamToVideos(),
                        this.temporary.forEach((function(e) {
                            v("info", "stop stream start", e.streamid),
                            t.stopStream(e.streamurl)
                        }
                        )),
                        this.temporary.clear()
                    }
                }, {
                    key: "pullStreamToMap",
                    value: function(e, t) {
                        var n = this;
                        this[e] = {
                            streamurl: t,
                            state: o.SETTED
                        },
                        this.isHttpSignal && this.pub(l.SubEventName.HTTP_SIGNAL_PULL_START, t),
                        this.qClient.pullStream(t).then((function(t) {
                            var r = t.code
                              , i = t.data;
                            0 === r && (n[e].streamid = i.streamid,
                            n[e].state = o.WAITING)
                        }
                        )).catch((function(t) {
                            v("info", "pull ".concat(e, " stream failed:"), t)
                        }
                        ))
                    }
                }, {
                    key: "pullStreamToOthersMap",
                    value: function(e, t) {
                        var n = this;
                        this.others[e] = {
                            streamurl: t,
                            state: o.SETTED
                        },
                        this.isHttpSignal && this.pub(l.SubEventName.HTTP_SIGNAL_PULL_START, t),
                        this.qClient.pullStream(t).then((function(t) {
                            var r = t.code
                              , i = t.data;
                            0 === r && (n.others[e].streamid = i.streamid,
                            n.others[e].state = o.WAITING)
                        }
                        )).catch((function(t) {
                            v("info", "pull other ".concat(e, " stream failed:"), t)
                        }
                        ))
                    }
                }, {
                    key: "stopStream",
                    value: function(e) {
                        this.isHttpSignal && this.pub(l.SubEventName.HTTP_SIGNAL_STOP_START, e),
                        this.qClient.stopStream(e).then((function(t) {
                            var n = t.code
                              , r = t.data;
                            0 === n && v("info", "stop ".concat(e, " stream  send success:"), r)
                        }
                        )).catch((function(t) {
                            v("info", "stop ".concat(e, " stream send failed:"), t)
                        }
                        ))
                    }
                }, {
                    key: "bindLibEvent",
                    value: function() {
                        var e = this.qClient;
                        e.on(i.SESSION, this.onSession),
                        e.on(i.STREAM_ADDED, this.addStream),
                        e.on(i.STREAM_REMOVED, this.removeStream),
                        e.on(i.QUALITY_REPORT, this.handleQuality),
                        e.on(i.HTTP_SIGNAL, this.handleHttpSignalEvent),
                        e.on(i.ERROR, this.handleClientError),
                        e.on("channel-event", this.handleChannelEvent),
                        e.on("signal-event", this.handleSignalEvent),
                        e.on("rtc-event", this.handleRTCEvent)
                    }
                }, {
                    key: "unbindLibEvent",
                    value: function() {
                        var e = this.qClient;
                        e && (e.off(i.SESSION, this.onSession),
                        e.off(i.STREAM_ADDED, this.addStream),
                        e.off(i.STREAM_REMOVED, this.removeStream),
                        e.off(i.QUALITY_REPORT, this.handleQuality),
                        e.off(i.HTTP_SIGNAL, this.handleHttpSignalEvent),
                        e.off(i.ERROR, this.handleClientError),
                        e.off("channel-event", this.handleChannelEvent),
                        e.off("signal-event", this.handleSignalEvent),
                        e.off("rtc-event", this.handleRTCEvent))
                    }
                }, {
                    key: "handlMessage",
                    value: function() {
                        var e = this.player
                          , t = e.mainVideo
                          , r = e.viceVideo;
                        n.sub(p.LOADEDDATA, t.el, this.mainPlay, this.player),
                        n.sub(p.LOADEDDATA, r.el, this.vicePlay, this.player)
                    }
                }, {
                    key: "checkLibVersion",
                    value: function() {
                        if (null !== c.default && void 0 !== c.default && c.default.TWebRTC && '"0.11.3"' !== c.default.TWebRTC.version) {
                            var e = '"0.11.3"'.replace(/^~|\^/g, "").replace(/"/g, "");
                            return v("warn", "window.TWebRTC version:".concat(c.default.TWebRTC.version, ", ESM TWebRTC version:").concat(e)),
                            !1
                        }
                        return v("warn", "TWebRTC SDK version", '"0.11.3"'),
                        !0
                    }
                }, {
                    key: "pub",
                    value: function(e, t) {
                        n.pub({
                            type: h.QWEBRTC,
                            src: this,
                            subType: e,
                            detail: t
                        }, this.player)
                    }
                }]),
                t
            }();
            m.instance = void 0,
            r.qwebrtc = m
        }
    },
    nUVo: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var r = n("FsGU")
          , i = n("+aGj")
          , o = function(e, t) {
            var n, o, a = "QCLOUDVOD";
            e.on((0,
            r.playerEventName)(a, i.QCLOUD_VOD_EVENTS.FETCH_INFO_TRY), (function(e) {
                o = e.ts,
                t.commonReport(a, e, "防盗链地址请求开始")
            }
            )),
            e.on((0,
            r.playerEventName)(a, i.QCLOUD_VOD_EVENTS.FETCH_INFO_SUCC), (function(n) {
                var r = n.ts - o;
                t.exec(a, n.subType, r, 0, "[".concat(a, "]防盗链地址请求成功")),
                t.speed("getPlayInfo", r),
                e.player.vod && (e.player.vod.qcloudVodInfo = n.detail)
            }
            )),
            e.on((0,
            r.playerEventName)(a, i.QCLOUD_VOD_EVENTS.FETCH_INFO_ERROR), (function(e) {
                t.commonReport(a, e, "防盗链地址请求xhr错误")
            }
            )),
            e.on((0,
            r.playerEventName)(a, i.QCLOUD_VOD_EVENTS.FETCH_INFO_RETURN_ERROR), (function(e) {
                t.commonReport(a, e, "防盗链地址请求内容错误")
            }
            )),
            e.on((0,
            r.playerEventName)(a, i.QCLOUD_VOD_EVENTS.FETCH_INFO_RETRY), (function(e) {
                var n = e.detail;
                t.exec(a, "fetch_info_retry", n, 0, "[".concat(a, "]防盗链请求重试"))
            }
            )),
            e.on((0,
            r.playerEventName)(a, i.QCLOUD_VOD_EVENTS.FETCH_INFO_FAIL_AFTER_RETRY), (function(e) {
                t.commonReport(a, e, "防盗链请求重试失败")
            }
            )),
            e.on((0,
            r.playerEventName)(a, i.QCLOUD_VOD_EVENTS.ERROR_NO_PLAYLIST), (function(e) {
                t.commonReport(a, e, "读取到的链接没有播放列表信息")
            }
            )),
            e.on("seeking", (function() {
                n = Date.now()
            }
            )),
            e.on("seeked", (function() {
                var e = Date.now()
                  , r = 0;
                n && (r = e - n),
                t.exec(a, "seeked", r, 0, "seeking:".concat(n, ",seekedTime:").concat(e, ",seeked耗时").concat(r))
            }
            ))
        };
        t.default = o
    },
    o99K: function(e, t, n) {
        "use strict";
        var r, i = function() {
            return void 0 === r && (r = Boolean(window && document && document.all && !window.atob)),
            r
        }, o = function() {
            var e = {};
            return function(t) {
                if (void 0 === e[t]) {
                    var n = document.querySelector(t);
                    if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement)
                        try {
                            n = n.contentDocument.head
                        } catch (e) {
                            n = null
                        }
                    e[t] = n
                }
                return e[t]
            }
        }(), a = [];
        function s(e) {
            for (var t = -1, n = 0; n < a.length; n++)
                if (a[n].identifier === e) {
                    t = n;
                    break
                }
            return t
        }
        function u(e, t) {
            for (var n = {}, r = [], i = 0; i < e.length; i++) {
                var o = e[i]
                  , u = t.base ? o[0] + t.base : o[0]
                  , c = n[u] || 0
                  , l = "".concat(u, " ").concat(c);
                n[u] = c + 1;
                var f = s(l)
                  , d = {
                    css: o[1],
                    media: o[2],
                    sourceMap: o[3]
                };
                -1 !== f ? (a[f].references++,
                a[f].updater(d)) : a.push({
                    identifier: l,
                    updater: m(d, t),
                    references: 1
                }),
                r.push(l)
            }
            return r
        }
        function c(e) {
            var t = document.createElement("style")
              , r = e.attributes || {};
            if (void 0 === r.nonce) {
                var i = n.nc;
                i && (r.nonce = i)
            }
            if (Object.keys(r).forEach((function(e) {
                t.setAttribute(e, r[e])
            }
            )),
            "function" == typeof e.insert)
                e.insert(t);
            else {
                var a = o(e.insert || "head");
                if (!a)
                    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
                a.appendChild(t)
            }
            return t
        }
        var l, f = (l = [],
        function(e, t) {
            return l[e] = t,
            l.filter(Boolean).join("\n")
        }
        );
        function d(e, t, n, r) {
            var i = n ? "" : r.media ? "@media ".concat(r.media, " {").concat(r.css, "}") : r.css;
            if (e.styleSheet)
                e.styleSheet.cssText = f(t, i);
            else {
                var o = document.createTextNode(i)
                  , a = e.childNodes;
                a[t] && e.removeChild(a[t]),
                a.length ? e.insertBefore(o, a[t]) : e.appendChild(o)
            }
        }
        function h(e, t, n) {
            var r = n.css
              , i = n.media
              , o = n.sourceMap;
            if (i ? e.setAttribute("media", i) : e.removeAttribute("media"),
            o && "undefined" != typeof btoa && (r += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o)))), " */")),
            e.styleSheet)
                e.styleSheet.cssText = r;
            else {
                for (; e.firstChild; )
                    e.removeChild(e.firstChild);
                e.appendChild(document.createTextNode(r))
            }
        }
        var p = null
          , v = 0;
        function m(e, t) {
            var n, r, i;
            if (t.singleton) {
                var o = v++;
                n = p || (p = c(t)),
                r = d.bind(null, n, o, !1),
                i = d.bind(null, n, o, !0)
            } else
                n = c(t),
                r = h.bind(null, n, t),
                i = function() {
                    !function(e) {
                        if (null === e.parentNode)
                            return !1;
                        e.parentNode.removeChild(e)
                    }(n)
                }
                ;
            return r(e),
            function(t) {
                if (t) {
                    if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap)
                        return;
                    r(e = t)
                } else
                    i()
            }
        }
        e.exports = function(e, t) {
            (t = t || {}).singleton || "boolean" == typeof t.singleton || (t.singleton = i());
            var n = u(e = e || [], t);
            return function(e) {
                if (e = e || [],
                "[object Array]" === Object.prototype.toString.call(e)) {
                    for (var r = 0; r < n.length; r++) {
                        var i = s(n[r]);
                        a[i].references--
                    }
                    for (var o = u(e, t), c = 0; c < n.length; c++) {
                        var l = s(n[c]);
                        0 === a[l].references && (a[l].updater(),
                        a.splice(l, 1))
                    }
                    n = o
                }
            }
        }
    },
    p6AH: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.isAndroid = function() {
            if (i.indexOf("android") > 0)
                return !0;
            return !1
        }
        ,
        t.isApp = function() {
            return -1 != i.indexOf("educationapp") || -1 != i.indexOf("eduapp")
        }
        ,
        t.isBaiduApp = function() {
            return -1 != i.indexOf("baiduboxapp")
        }
        ,
        t.isIOS = s,
        t.isIOSMiniProgram = function() {
            return s() && u()
        }
        ,
        t.isMacClient = o,
        t.isMacClientLite = function() {
            return o() && /EduLite/.test(navigator.userAgent)
        }
        ,
        t.isMiniProgram = u,
        t.isMobile = function() {
            return /iPhone|iPod|Android|iPad/i.test(i)
        }
        ,
        t.isPCClient = function() {
            return o() || a() || !!(0,
            r.getHash)("client")
        }
        ,
        t.isWeAppke = function() {
            return "weappke" === (0,
            r.query)("sfrom")
        }
        ,
        t.isWeiboApp = function() {
            return -1 != i.indexOf(" weibo ")
        }
        ,
        t.isWeixin = function() {
            return -1 != i.indexOf("micromessenger")
        }
        ,
        t.isWinClient = a,
        t.isWinClientLite = function() {
            return a() && /EduLite/.test(navigator.userAgent)
        }
        ,
        t.qqVersion = function() {
            var e = i.match(/qq\/(\d+\.\d+(\.\d+)?)/i);
            return e && e[1] || 0
        }
        ;
        var r = n("zpTf")
          , i = navigator.userAgent.toLowerCase() || "";
        function o() {
            return /EduMac/i.test(i)
        }
        function a() {
            var e = window.external && window.external.CallHummerApi;
            return /EduWin/i.test(i) || /TXEdu/i.test(i) || !!e
        }
        function s() {
            return !!/iPhone|iPod/i.test(i)
        }
        function u() {
            var e = !!window.location.search.match(new RegExp("(\\?|&)mp=([^&]*)(&|$)"))
              , t = window.localStorage && !!localStorage.getItem("webViewIsMp");
            return "miniprogram" === window.__wxjs_environment || e || t
        }
    },
    pdxu: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("xA5Y"))
          , o = r(n("Wl3z"))
          , a = n("VY1G")
          , s = n("REY6")
          , u = {}
          , c = {}
          , l = a && a.obj && null !== a.obj()
          , f = {
            whiteDomain: [],
            crossProxy: "",
            crossDomain: !1,
            localPrefix: "ntdw_seq",
            seqName: "seq_number"
        }
          , d = /^tdw_seq/
          , h = !0
          , p = !1;
        function v() {
            h = !1
        }
        function m(e, t) {
            o.default.isPlainObject(e) ? t && t(e) : Array.isArray(e) && o.default.each(e, (function(e, n) {
                t && t(n)
            }
            ))
        }
        function g(e) {
            var t;
            try {
                e && (t = JSON.parse(e))
            } catch (e) {}
            return t || {}
        }
        function y() {
            s.getLocal({
                whiteDomain: f.whiteDomain,
                iframeUrl: f.crossProxy,
                crossDomain: f.crossDomain
            }, (function(e) {
                u = e,
                setTimeout((function() {
                    h && "/storage_proxy.html" !== window.location.pathname && u.filter(d, (function(e) {
                        var t;
                        e = e.slice(0, 4);
                        for (var n = 0; n < e.length; n++)
                            (t = g(e[n].value || "{}")).seq_number ? (t.datas && t.datas[0].push("local"),
                            t.fields && t.fields.push("source_from"),
                            c.request(t)) : u.remove(e[n].key)
                    }
                    ))
                }
                ), 1e3)
            }
            ))
        }
        function E(e) {
            m(e, (function(e) {
                e[f.seqName] = (new Date).getTime() + Math.random().toFixed(17).toString().replace(".", "")
            }
            ))
        }
        function T(e) {
            var t = [];
            E(e),
            function(e, t) {
                m(e, (function(e) {
                    t.push(Object.assign({
                        seq_number: e[f.seqName]
                    }, c.composer(e)))
                }
                ))
            }(e, t),
            function(e) {
                u.wasInit && u.wasInit() && o.default.each(e, (function(e, t) {
                    var n = f.localPrefix + t[f.seqName];
                    u.set(n, JSON.stringify(t))
                }
                ))
            }(t)
        }
        c.composer = i.default.composer,
        c.getCommonData = i.default.getCommonData,
        c.config = i.default.config,
        c.request = i.default.request,
        c.config({}, {
            success: function(e, t) {
                if (!u.wasInit || !u.wasInit())
                    return;
                var n = t.fields
                  , r = t.datas
                  , i = n.indexOf(f.seqName);
                o.default.each(r, (function(e, t) {
                    var n = f.localPrefix + t[i];
                    u.remove(n)
                }
                ))
            },
            error: v,
            fail: v
        }),
        c.report = function(e) {
            T(e),
            i.default.report(e)
        }
        ,
        c.reportSync = function(e, t) {
            T(e),
            i.default.reportSync(e, t)
        }
        ,
        c.initLocal = function(e) {
            Object.assign(f, e),
            d = new RegExp("^" + f.localPrefix),
            l && !p && (p = !0,
            y())
        }
        ;
        var b = c;
        t.default = b
    },
    pzY9: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.getCookieData = function() {
            var e;
            try {
                e = i.default.get(a),
                e = JSON.parse(e)
            } catch (t) {
                e = {}
            }
            return e
        }
        ,
        t.setCookieData = function(e) {
            o.default.isPlainObject(e) && (t = e,
            n = {},
            Object.keys(t).forEach((function(e) {
                n[e] = encodeURIComponent(t[e] || "")
            }
            )),
            e = n,
            e = JSON.stringify(e));
            var t, n;
            i.default.setSession(a, e, s, u)
        }
        ;
        var i = r(n("kNBA"))
          , o = r(n("w6AT"))
          , a = "tdw_data_new_2"
          , s = "ke.qq.com"
          , u = "/"
    },
    qHXt: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var r = n("+aGj")
          , i = n("FsGU")
          , o = !1
          , a = function(e, t, n, a) {
            if (!o) {
                o = !0;
                var s = {}
                  , u = {}
                  , c = 0
                  , l = {};
                t.exec("LEB", "enter_leb", "leb", 0, "enter leb ts:".concat(Date.now())),
                e.on("loadeddata", (function() {
                    var e = Date.now()
                      , r = e - n;
                    t.exec("LEB", "first_video_init", r, 0, "首帧:初始化-ts:".concat(e, ",耗时").concat(r));
                    var i = e - a;
                    if (t.exec("LEB", "first_video_enter_mode", i, 0, "首帧:进入leb模式-ts:".concat(e, "，耗时").concat(i)),
                    c) {
                        var o = e - c;
                        t.exec("LEB", "first_video_stream_add", o, 0, "首帧:leb开始拉流-ts:".concat(e, "，耗时").concat(o)),
                        c = 0
                    }
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.SUPPORT_WEBRTC), (function(e) {
                    t.commonReport("LEB", e, "支持 WebRTC")
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.NOT_SUPPORT_WEBRTC), (function(e) {
                    t.commonReport("LEB", e, "不支持 WebRTC")
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.REQUEST_PULL_BEGIN), (function(e) {
                    var n = e.subType
                      , r = e.ts
                      , i = e.detail;
                    t.exec("LEB", n, r, 0, "开始拉流请求-ts:".concat(r)),
                    s[i.streamId] = r
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.REQUEST_FIRST_PULL_BEGIN), (function(e) {
                    var n = e.subType
                      , r = e.ts
                      , i = e.detail;
                    t.exec("LEB", n, r - a, 0, "开始拉流请求-ts:".concat(r)),
                    s[i.streamId] = r
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.REQUEST_PULL_SUCCESS), (function(e) {
                    var n = e.subType
                      , r = e.ts
                      , i = e.detail
                      , o = r - s[i.streamId];
                    t.exec("LEB", n, o, 0, "拉流请求成功-ts:".concat(r, "，耗时").concat(o)),
                    t.speed("".concat("LEB", ".").concat(n), o),
                    u[i.streamId] = r
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.REQUEST_PULL_FAIL), (function(e) {
                    var n = e.subType
                      , r = e.ts
                      , i = e.detail
                      , o = function() {
                        try {
                            return JSON.stringify(i.errMsg)
                        } catch (n) {
                            var e, t;
                            return null === (e = i.errMsg) || void 0 === e || null === (t = e.toString) || void 0 === t ? void 0 : t.call(e)
                        }
                    }();
                    t.exec("LEB", n, r, 0, "拉流请求失败-ts:".concat(r, "，").concat(o))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.REQUEST_PULL_RETRY), (function(e) {
                    var n = e.subType
                      , r = e.ts
                      , i = e.detail;
                    t.exec("LEB", n, r, 0, "拉流重试-ts:".concat(r)),
                    s[i.streamId] = r
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.REQUEST_PULL_RETRY_SUCCESS), (function(e) {
                    var n = e.subType
                      , r = e.ts
                      , i = e.detail
                      , o = r - s[i.streamId];
                    t.exec("LEB", n, r, 0, "拉流重试成功-ts:".concat(r, "，耗时").concat(o))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.REQUEST_PULL_RETRY_FAIL), (function(e) {
                    var n = e.subType
                      , r = e.ts
                      , i = e.detail
                      , o = function() {
                        try {
                            return JSON.stringify(i.errMsg)
                        } catch (n) {
                            var e, t;
                            return null === (e = i.errMsg) || void 0 === e || null === (t = e.toString) || void 0 === t ? void 0 : t.call(e)
                        }
                    }();
                    t.exec("LEB", n, r, 0, "拉流重试失败-ts:".concat(r, "，").concat(o))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.FREEZE_START), (function(e) {
                    var t = e.ts
                      , n = e.detail;
                    l[n.streamId] = t
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.FREEZE_END), (function(e) {
                    e.subType;
                    var t = e.ts
                      , n = e.detail;
                    l[n.streamId]
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.SERVER_CONNECTED), (function(e) {
                    var n = e.subType
                      , r = e.ts;
                    t.exec("LEB", n, r, 0, "ice 连接成功-ts:".concat(r))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.SERVER_RECONNECT), (function(e) {
                    var n = e.subType
                      , r = e.ts;
                    t.exec("LEB", n, r, 0, "ice 尝试重连-ts:".concat(r))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.SERVER_DISCONNECTED), (function(e) {
                    var n = e.subType
                      , r = e.ts;
                    t.exec("LEB", n, r, 0, "连接重试失败断开-ts:".concat(r))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.STREAM_ADD), (function(e) {
                    var n = e.subType
                      , r = e.ts
                      , i = e.detail
                      , o = r - u[i.streamId];
                    t.exec("LEB", n, o, 0, "流添加 - ts:".concat(r)),
                    t.speed("".concat("LEB", ".").concat(n), o),
                    c || (c = r)
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.PLAY_FAIL), (function(e) {
                    var n = e.subType
                      , r = e.ts
                      , i = e.detail;
                    t.exec("LEB", n, r, 0, "播放失败-".concat(null == i ? void 0 : i.data, "-ts:").concat(r))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.PLAY_DECODE_ERROR), (function(e) {
                    var n = e.subType
                      , r = e.ts
                      , i = e.detail;
                    t.exec("LEB", n, r, 0, "播放解码失败-".concat(null == i ? void 0 : i.data, "-ts:").concat(r))
                }
                )),
                e.on((0,
                i.playerEventName)("LEB", r.LEB_EVENTS.NO_FRAME_DECODED), (function(e) {
                    var n = e.subType
                      , r = e.ts
                      , i = e.detail;
                    t.exec("LEB", n, r, 0, "起播无解帧-".concat(null == i ? void 0 : i.data, "-ts:").concat(r))
                }
                ))
            }
        };
        t.default = a
    },
    sEQp: function(e, t, n) {
        /*! For license information please see abt_jssdk.min.js.LICENSE */
        window,
        e.exports = function(e) {
            var t = {};
            function n(r) {
                if (t[r])
                    return t[r].exports;
                var i = t[r] = {
                    i: r,
                    l: !1,
                    exports: {}
                };
                return e[r].call(i.exports, i, i.exports, n),
                i.l = !0,
                i.exports
            }
            return n.m = e,
            n.c = t,
            n.d = function(e, t, r) {
                n.o(e, t) || Object.defineProperty(e, t, {
                    enumerable: !0,
                    get: r
                })
            }
            ,
            n.r = function(e) {
                "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                    value: "Module"
                }),
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
            }
            ,
            n.t = function(e, t) {
                if (1 & t && (e = n(e)),
                8 & t)
                    return e;
                if (4 & t && "object" == typeof e && e && e.__esModule)
                    return e;
                var r = Object.create(null);
                if (n.r(r),
                Object.defineProperty(r, "default", {
                    enumerable: !0,
                    value: e
                }),
                2 & t && "string" != typeof e)
                    for (var i in e)
                        n.d(r, i, function(t) {
                            return e[t]
                        }
                        .bind(null, i));
                return r
            }
            ,
            n.n = function(e) {
                var t = e && e.__esModule ? function() {
                    return e.default
                }
                : function() {
                    return e
                }
                ;
                return n.d(t, "a", t),
                t
            }
            ,
            n.o = function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
            }
            ,
            n.p = "",
            n(n.s = 77)
        }([function(e, t, n) {
            "use strict";
            n.d(t, "E", (function() {
                return r
            }
            )),
            n.d(t, "D", (function() {
                return i
            }
            )),
            n.d(t, "c", (function() {
                return o
            }
            )),
            n.d(t, "b", (function() {
                return a
            }
            )),
            n.d(t, "j", (function() {
                return s
            }
            )),
            n.d(t, "d", (function() {
                return u
            }
            )),
            n.d(t, "a", (function() {
                return c
            }
            )),
            n.d(t, "k", (function() {
                return l
            }
            )),
            n.d(t, "z", (function() {
                return f
            }
            )),
            n.d(t, "A", (function() {
                return d
            }
            )),
            n.d(t, "C", (function() {
                return h
            }
            )),
            n.d(t, "f", (function() {
                return p
            }
            )),
            n.d(t, "i", (function() {
                return v
            }
            )),
            n.d(t, "g", (function() {
                return m
            }
            )),
            n.d(t, "B", (function() {
                return g
            }
            )),
            n.d(t, "e", (function() {
                return y
            }
            )),
            n.d(t, "h", (function() {
                return E
            }
            )),
            n.d(t, "o", (function() {
                return T
            }
            )),
            n.d(t, "q", (function() {
                return b
            }
            )),
            n.d(t, "n", (function() {
                return _
            }
            )),
            n.d(t, "l", (function() {
                return S
            }
            )),
            n.d(t, "p", (function() {
                return R
            }
            )),
            n.d(t, "m", (function() {
                return w
            }
            )),
            n.d(t, "r", (function() {
                return C
            }
            )),
            n.d(t, "v", (function() {
                return O
            }
            )),
            n.d(t, "u", (function() {
                return L
            }
            )),
            n.d(t, "y", (function() {
                return A
            }
            )),
            n.d(t, "x", (function() {
                return P
            }
            )),
            n.d(t, "w", (function() {
                return I
            }
            )),
            n.d(t, "t", (function() {
                return D
            }
            )),
            n.d(t, "s", (function() {
                return k
            }
            ));
            var r = "https://tdata.ab.qq.com/"
              , i = "https://data.ab.qq.com/"
              , o = 2e3
              , a = 1
              , s = 1e5
              , u = "default"
              , c = "default"
              , l = "JS0B558T33E4YJ"
              , f = "04800015034"
              , d = "6299336879"
              , h = "_noqb_guid"
              , p = "experimentInfo"
              , v = "strategy"
              , m = "expHitMap"
              , g = "userId"
              , y = 6e4
              , E = 1e3
              , T = "ROMA_PLATFORM"
              , b = "ROMA_RESOLUTION"
              , _ = "ROMA_DEV_BRAND"
              , S = "ROMA_DEV_MODEL"
              , R = "ROMA_PLATFORM_VER"
              , w = "ROMA_OS_MODEL"
              , C = "ROMA_SDK_VERSION"
              , O = 1
              , L = "initLocal"
              , A = "syncRemote"
              , P = "switchUser"
              , I = "reload"
              , D = "getExpByName"
              , k = "ERROR_INFO"
        }
        , function(e, t) {
            var n = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
            "number" == typeof __g && (__g = n)
        }
        , function(e, t, n) {
            var r = n(30)("wks")
              , i = n(23)
              , o = n(1).Symbol
              , a = "function" == typeof o;
            (e.exports = function(e) {
                return r[e] || (r[e] = a && o[e] || (a ? o : i)("Symbol." + e))
            }
            ).store = r
        }
        , function(e, t, n) {
            "use strict";
            function r(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                    r.configurable = !0,
                    "value"in r && (r.writable = !0),
                    Object.defineProperty(e, r.key, r)
                }
            }
            n.r(t),
            n.d(t, "Logger", (function() {
                return i
            }
            )),
            n.d(t, "DefaultLogger", (function() {
                return o
            }
            ));
            var i = function() {
                function e() {
                    !function(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, e),
                    this.method = console.log,
                    this.level = 2
                }
                var t, n;
                return t = e,
                (n = [{
                    key: "setMethod",
                    value: function(e) {
                        this.method = e
                    }
                }, {
                    key: "setLevel",
                    value: function(e) {
                        this.level = e
                    }
                }, {
                    key: "debug",
                    value: function(e) {
                        this.level <= 0 && this.method(e)
                    }
                }, {
                    key: "info",
                    value: function(e) {
                        this.level <= 1 && this.method(e)
                    }
                }, {
                    key: "error",
                    value: function(e, t) {
                        this.level <= 2 && (this.method(e),
                        t && this.method(t))
                    }
                }]) && r(t.prototype, n),
                Object.defineProperty(t, "prototype", {
                    writable: !1
                }),
                e
            }()
              , o = new i
        }
        , function(e, t, n) {
            var r = n(5);
            e.exports = function(e) {
                if (!r(e))
                    throw TypeError(e + " is not an object!");
                return e
            }
        }
        , function(e, t) {
            e.exports = function(e) {
                return "object" == typeof e ? null !== e : "function" == typeof e
            }
        }
        , function(e, t, n) {
            e.exports = !n(10)((function() {
                return 7 != Object.defineProperty({}, "a", {
                    get: function() {
                        return 7
                    }
                }).a
            }
            ))
        }
        , function(e, t, n) {
            var r = n(4)
              , i = n(51)
              , o = n(37)
              , a = Object.defineProperty;
            t.f = n(6) ? Object.defineProperty : function(e, t, n) {
                if (r(e),
                t = o(t, !0),
                r(n),
                i)
                    try {
                        return a(e, t, n)
                    } catch (e) {}
                if ("get"in n || "set"in n)
                    throw TypeError("Accessors not supported!");
                return "value"in n && (e[t] = n.value),
                e
            }
        }
        , function(e, t, n) {
            "use strict";
            n.d(t, "b", (function() {
                return i
            }
            )),
            n.d(t, "c", (function() {
                return o
            }
            )),
            n.d(t, "a", (function() {
                return a
            }
            )),
            n.d(t, "d", (function() {
                return s
            }
            )),
            n(19),
            n(27),
            n(17),
            n(18),
            n(28),
            n(29),
            n(101);
            var r = n(0);
            function i(e, t, n) {
                return {
                    expName: t,
                    assignment: r.a,
                    grayId: e || r.b,
                    layerCode: n || r.d,
                    params: new Map
                }
            }
            function o(e) {
                var t = "";
                return Object.keys(e).forEach((function(n) {
                    "" !== t && (t += "&"),
                    t += "".concat(n, "=").concat(e[n])
                }
                )),
                t
            }
            function a() {
                return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, (function(e) {
                    var t = 16 * Math.random() | 0;
                    return ("x" === e ? t : 3 & t | 8).toString(16)
                }
                ))
            }
            function s(e) {
                if (e) {
                    var t = "";
                    return e.forEach((function(e) {
                        t += "".concat(e.grayId, "#")
                    }
                    )),
                    t
                }
                return ""
            }
        }
        , function(e, t, n) {
            var r = n(1)
              , i = n(13)
              , o = n(11)
              , a = n(23)("src")
              , s = n(83)
              , u = ("" + s).split("toString");
            n(12).inspectSource = function(e) {
                return s.call(e)
            }
            ,
            (e.exports = function(e, t, n, s) {
                var c = "function" == typeof n;
                c && (o(n, "name") || i(n, "name", t)),
                e[t] !== n && (c && (o(n, a) || i(n, a, e[t] ? "" + e[t] : u.join(String(t)))),
                e === r ? e[t] = n : s ? e[t] ? e[t] = n : i(e, t, n) : (delete e[t],
                i(e, t, n)))
            }
            )(Function.prototype, "toString", (function() {
                return "function" == typeof this && this[a] || s.call(this)
            }
            ))
        }
        , function(e, t) {
            e.exports = function(e) {
                try {
                    return !!e()
                } catch (e) {
                    return !0
                }
            }
        }
        , function(e, t) {
            var n = {}.hasOwnProperty;
            e.exports = function(e, t) {
                return n.call(e, t)
            }
        }
        , function(e, t) {
            var n = e.exports = {
                version: "2.6.12"
            };
            "number" == typeof __e && (__e = n)
        }
        , function(e, t, n) {
            var r = n(7)
              , i = n(31);
            e.exports = n(6) ? function(e, t, n) {
                return r.f(e, t, i(1, n))
            }
            : function(e, t, n) {
                return e[t] = n,
                e
            }
        }
        , function(e, t, n) {
            "use strict";
            n.r(t);
            var r = n(3);
            n.d(t, "Logger", (function() {
                return r.Logger
            }
            )),
            n.d(t, "DefaultLogger", (function() {
                return r.DefaultLogger
            }
            ));
            var i = n(35);
            n.d(t, "SDKEventHandler", (function() {
                return i.a
            }
            ));
            var o = n(0);
            n.d(t, "testBaseUrl", (function() {
                return o.E
            }
            )),
            n.d(t, "baseUrl", (function() {
                return o.D
            }
            )),
            n.d(t, "DefaultHttpTimeout", (function() {
                return o.c
            }
            )),
            n.d(t, "DefaultGrayId", (function() {
                return o.b
            }
            )),
            n.d(t, "ServerDefaultGrayId", (function() {
                return o.j
            }
            )),
            n.d(t, "DefaultLayerCode", (function() {
                return o.d
            }
            )),
            n.d(t, "DefaultAssignment", (function() {
                return o.a
            }
            )),
            n.d(t, "TABBeaconAppKey", (function() {
                return o.k
            }
            )),
            n.d(t, "TabAttaAppKey", (function() {
                return o.z
            }
            )),
            n.d(t, "TabAttaAppToken", (function() {
                return o.A
            }
            )),
            n.d(t, "UserIdLocal", (function() {
                return o.C
            }
            )),
            n.d(t, "ExpData", (function() {
                return o.f
            }
            )),
            n.d(t, "SDKStrategy", (function() {
                return o.i
            }
            )),
            n.d(t, "HitExpMap", (function() {
                return o.g
            }
            )),
            n.d(t, "UserId", (function() {
                return o.B
            }
            )),
            n.d(t, "DefaultUpdateTime", (function() {
                return o.e
            }
            )),
            n.d(t, "MaxReportParamLen", (function() {
                return o.h
            }
            )),
            n.d(t, "TAB_PROFILE_KEY_PLATFORM", (function() {
                return o.o
            }
            )),
            n.d(t, "TAB_PROFILE_KEY_RESO", (function() {
                return o.q
            }
            )),
            n.d(t, "TAB_PROFILE_KEY_PBRAND", (function() {
                return o.n
            }
            )),
            n.d(t, "TAB_PROFILE_KEY_MODEL", (function() {
                return o.l
            }
            )),
            n.d(t, "TAB_PROFILE_KEY_PLATFORM_VER", (function() {
                return o.p
            }
            )),
            n.d(t, "TAB_PROFILE_KEY_OSMODEL", (function() {
                return o.m
            }
            )),
            n.d(t, "TAB_PROFILE_KEY_SDKVER", (function() {
                return o.r
            }
            )),
            n.d(t, "TAB_SDK_EVENT_RATE", (function() {
                return o.v
            }
            )),
            n.d(t, "TAB_SDK_EVENT_INITLOCAL", (function() {
                return o.u
            }
            )),
            n.d(t, "TAB_SDK_EVENT_SYNCREMOTE", (function() {
                return o.y
            }
            )),
            n.d(t, "TAB_SDK_EVENT_SWITCH_USER", (function() {
                return o.x
            }
            )),
            n.d(t, "TAB_SDK_EVENT_RELOAD", (function() {
                return o.w
            }
            )),
            n.d(t, "TAB_SDK_EVENT_GET_EXP_BYNAME", (function() {
                return o.t
            }
            )),
            n.d(t, "TAB_SDK_EVENT_ERROR_INFO", (function() {
                return o.s
            }
            ));
            var a = n(60);
            for (var s in a)
                ["default", "Logger", "DefaultLogger", "SDKEventHandler", "testBaseUrl", "baseUrl", "DefaultHttpTimeout", "DefaultGrayId", "ServerDefaultGrayId", "DefaultLayerCode", "DefaultAssignment", "TABBeaconAppKey", "TabAttaAppKey", "TabAttaAppToken", "UserIdLocal", "ExpData", "SDKStrategy", "HitExpMap", "UserId", "DefaultUpdateTime", "MaxReportParamLen", "TAB_PROFILE_KEY_PLATFORM", "TAB_PROFILE_KEY_RESO", "TAB_PROFILE_KEY_PBRAND", "TAB_PROFILE_KEY_MODEL", "TAB_PROFILE_KEY_PLATFORM_VER", "TAB_PROFILE_KEY_OSMODEL", "TAB_PROFILE_KEY_SDKVER", "TAB_SDK_EVENT_RATE", "TAB_SDK_EVENT_INITLOCAL", "TAB_SDK_EVENT_SYNCREMOTE", "TAB_SDK_EVENT_SWITCH_USER", "TAB_SDK_EVENT_RELOAD", "TAB_SDK_EVENT_GET_EXP_BYNAME", "TAB_SDK_EVENT_ERROR_INFO"].indexOf(s) < 0 && function(e) {
                    n.d(t, e, (function() {
                        return a[e]
                    }
                    ))
                }(s);
            var u = n(61);
            for (var s in u)
                ["default", "Logger", "DefaultLogger", "SDKEventHandler", "testBaseUrl", "baseUrl", "DefaultHttpTimeout", "DefaultGrayId", "ServerDefaultGrayId", "DefaultLayerCode", "DefaultAssignment", "TABBeaconAppKey", "TabAttaAppKey", "TabAttaAppToken", "UserIdLocal", "ExpData", "SDKStrategy", "HitExpMap", "UserId", "DefaultUpdateTime", "MaxReportParamLen", "TAB_PROFILE_KEY_PLATFORM", "TAB_PROFILE_KEY_RESO", "TAB_PROFILE_KEY_PBRAND", "TAB_PROFILE_KEY_MODEL", "TAB_PROFILE_KEY_PLATFORM_VER", "TAB_PROFILE_KEY_OSMODEL", "TAB_PROFILE_KEY_SDKVER", "TAB_SDK_EVENT_RATE", "TAB_SDK_EVENT_INITLOCAL", "TAB_SDK_EVENT_SYNCREMOTE", "TAB_SDK_EVENT_SWITCH_USER", "TAB_SDK_EVENT_RELOAD", "TAB_SDK_EVENT_GET_EXP_BYNAME", "TAB_SDK_EVENT_ERROR_INFO"].indexOf(s) < 0 && function(e) {
                    n.d(t, e, (function() {
                        return u[e]
                    }
                    ))
                }(s);
            var c = n(62);
            for (var s in c)
                ["default", "Logger", "DefaultLogger", "SDKEventHandler", "testBaseUrl", "baseUrl", "DefaultHttpTimeout", "DefaultGrayId", "ServerDefaultGrayId", "DefaultLayerCode", "DefaultAssignment", "TABBeaconAppKey", "TabAttaAppKey", "TabAttaAppToken", "UserIdLocal", "ExpData", "SDKStrategy", "HitExpMap", "UserId", "DefaultUpdateTime", "MaxReportParamLen", "TAB_PROFILE_KEY_PLATFORM", "TAB_PROFILE_KEY_RESO", "TAB_PROFILE_KEY_PBRAND", "TAB_PROFILE_KEY_MODEL", "TAB_PROFILE_KEY_PLATFORM_VER", "TAB_PROFILE_KEY_OSMODEL", "TAB_PROFILE_KEY_SDKVER", "TAB_SDK_EVENT_RATE", "TAB_SDK_EVENT_INITLOCAL", "TAB_SDK_EVENT_SYNCREMOTE", "TAB_SDK_EVENT_SWITCH_USER", "TAB_SDK_EVENT_RELOAD", "TAB_SDK_EVENT_GET_EXP_BYNAME", "TAB_SDK_EVENT_ERROR_INFO"].indexOf(s) < 0 && function(e) {
                    n.d(t, e, (function() {
                        return c[e]
                    }
                    ))
                }(s);
            var l = n(63);
            n.d(t, "LocalLoader", (function() {
                return l.a
            }
            ));
            var f = n(66);
            n.d(t, "RemoteLoader", (function() {
                return f.a
            }
            ));
            var d = n(67);
            n.d(t, "EXP_EXPOSE_EVENT", (function() {
                return d.a
            }
            )),
            n.d(t, "REPORT_KEY_EXPNAE", (function() {
                return d.d
            }
            )),
            n.d(t, "REPORT_KEY_GRAYID", (function() {
                return d.f
            }
            )),
            n.d(t, "REPORT_KEY_USERID", (function() {
                return d.m
            }
            )),
            n.d(t, "REPORT_KEY_TABAPPID", (function() {
                return d.l
            }
            )),
            n.d(t, "REPORT_KEY_SDKVER", (function() {
                return d.k
            }
            )),
            n.d(t, "REPORT_KEY_FIRSTHIT", (function() {
                return d.e
            }
            )),
            n.d(t, "REPORT_KEY_PLAT", (function() {
                return d.j
            }
            )),
            n.d(t, "REPORT_KEY_UTYPE", (function() {
                return d.n
            }
            )),
            n.d(t, "REPORT_KEY_LAYER", (function() {
                return d.g
            }
            )),
            n.d(t, "REPORT_KEY_PERCENT", (function() {
                return d.i
            }
            )),
            n.d(t, "REPORT_KEY_BUCKET", (function() {
                return d.b
            }
            )),
            n.d(t, "REPORT_KEY_ENV", (function() {
                return d.c
            }
            )),
            n.d(t, "REPORT_KEY_PARAMS", (function() {
                return d.h
            }
            )),
            n.d(t, "TabReporter", (function() {
                return d.o
            }
            ));
            var h = n(76);
            n.d(t, "TabSDK", (function() {
                return h.a
            }
            ));
            var p = n(8);
            n.d(t, "defaultExp", (function() {
                return p.b
            }
            )),
            n.d(t, "encodeParams", (function() {
                return p.c
            }
            )),
            n.d(t, "createGuid", (function() {
                return p.a
            }
            )),
            n.d(t, "generateExpIds", (function() {
                return p.d
            }
            ))
        }
        , function(e, t, n) {
            var r = n(80)
              , i = n(39);
            e.exports = function(e) {
                return r(i(e))
            }
        }
        , function(e, t, n) {
            var r = n(32);
            e.exports = function(e, t, n) {
                if (r(e),
                void 0 === t)
                    return e;
                switch (n) {
                case 1:
                    return function(n) {
                        return e.call(t, n)
                    }
                    ;
                case 2:
                    return function(n, r) {
                        return e.call(t, n, r)
                    }
                    ;
                case 3:
                    return function(n, r, i) {
                        return e.call(t, n, r, i)
                    }
                }
                return function() {
                    return e.apply(t, arguments)
                }
            }
        }
        , function(e, t, n) {
            "use strict";
            var r = n(46)
              , i = {};
            i[n(2)("toStringTag")] = "z",
            i + "" != "[object z]" && n(9)(Object.prototype, "toString", (function() {
                return "[object " + r(this) + "]"
            }
            ), !0)
        }
        , function(e, t, n) {
            "use strict";
            var r = n(93)
              , i = n(55)
              , o = n(24)
              , a = n(15);
            e.exports = n(47)(Array, "Array", (function(e, t) {
                this._t = a(e),
                this._i = 0,
                this._k = t
            }
            ), (function() {
                var e = this._t
                  , t = this._k
                  , n = this._i++;
                return !e || n >= e.length ? (this._t = void 0,
                i(1)) : i(0, "keys" == t ? n : "values" == t ? e[n] : [n, e[n]])
            }
            ), "values"),
            o.Arguments = o.Array,
            r("keys"),
            r("values"),
            r("entries")
        }
        , function(e, t, n) {
            "use strict";
            var r = n(78)
              , i = n(57);
            e.exports = n(89)("Map", (function(e) {
                return function() {
                    return e(this, arguments.length > 0 ? arguments[0] : void 0)
                }
            }
            ), {
                get: function(e) {
                    var t = r.getEntry(i(this, "Map"), e);
                    return t && t.v
                },
                set: function(e, t) {
                    return r.def(i(this, "Map"), 0 === e ? 0 : e, t)
                }
            }, r, !0)
        }
        , function(e, t, n) {
            var r = n(52)
              , i = n(42);
            e.exports = Object.keys || function(e) {
                return r(e, i)
            }
        }
        , function(e, t) {
            var n = {}.toString;
            e.exports = function(e) {
                return n.call(e).slice(8, -1)
            }
        }
        , function(e, t) {
            e.exports = !1
        }
        , function(e, t) {
            var n = 0
              , r = Math.random();
            e.exports = function(e) {
                return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++n + r).toString(36))
            }
        }
        , function(e, t) {
            e.exports = {}
        }
        , function(e, t, n) {
            var r = n(1)
              , i = n(12)
              , o = n(13)
              , a = n(9)
              , s = n(16)
              , u = function(e, t, n) {
                var c, l, f, d, h = e & u.F, p = e & u.G, v = e & u.S, m = e & u.P, g = e & u.B, y = p ? r : v ? r[t] || (r[t] = {}) : (r[t] || {}).prototype, E = p ? i : i[t] || (i[t] = {}), T = E.prototype || (E.prototype = {});
                for (c in p && (n = t),
                n)
                    f = ((l = !h && y && void 0 !== y[c]) ? y : n)[c],
                    d = g && l ? s(f, r) : m && "function" == typeof f ? s(Function.call, f) : f,
                    y && a(y, c, f, e & u.U),
                    E[c] != f && o(E, c, d),
                    m && T[c] != f && (T[c] = f)
            };
            r.core = i,
            u.F = 1,
            u.G = 2,
            u.S = 4,
            u.P = 8,
            u.B = 16,
            u.W = 32,
            u.U = 64,
            u.R = 128,
            e.exports = u
        }
        , function(e, t, n) {
            var r = n(7).f
              , i = n(11)
              , o = n(2)("toStringTag");
            e.exports = function(e, t, n) {
                e && !i(e = n ? e : e.prototype, o) && r(e, o, {
                    configurable: !0,
                    value: t
                })
            }
        }
        , function(e, t, n) {
            "use strict";
            var r = n(92)(!0);
            n(47)(String, "String", (function(e) {
                this._t = String(e),
                this._i = 0
            }
            ), (function() {
                var e, t = this._t, n = this._i;
                return n >= t.length ? {
                    value: void 0,
                    done: !0
                } : (e = r(t, n),
                this._i += e.length,
                {
                    value: e,
                    done: !1
                })
            }
            ))
        }
        , function(e, t, n) {
            for (var r = n(18), i = n(20), o = n(9), a = n(1), s = n(13), u = n(24), c = n(2), l = c("iterator"), f = c("toStringTag"), d = u.Array, h = {
                CSSRuleList: !0,
                CSSStyleDeclaration: !1,
                CSSValueList: !1,
                ClientRectList: !1,
                DOMRectList: !1,
                DOMStringList: !1,
                DOMTokenList: !0,
                DataTransferItemList: !1,
                FileList: !1,
                HTMLAllCollection: !1,
                HTMLCollection: !1,
                HTMLFormElement: !1,
                HTMLSelectElement: !1,
                MediaList: !0,
                MimeTypeArray: !1,
                NamedNodeMap: !1,
                NodeList: !0,
                PaintRequestList: !1,
                Plugin: !1,
                PluginArray: !1,
                SVGLengthList: !1,
                SVGNumberList: !1,
                SVGPathSegList: !1,
                SVGPointList: !1,
                SVGStringList: !1,
                SVGTransformList: !1,
                SourceBufferList: !1,
                StyleSheetList: !0,
                TextTrackCueList: !1,
                TextTrackList: !1,
                TouchList: !1
            }, p = i(h), v = 0; v < p.length; v++) {
                var m, g = p[v], y = h[g], E = a[g], T = E && E.prototype;
                if (T && (T[l] || s(T, l, d),
                T[f] || s(T, f, g),
                u[g] = d,
                y))
                    for (m in r)
                        T[m] || o(T, m, r[m], !0)
            }
        }
        , function(e, t, n) {
            var r = n(48)
              , i = n(20);
            n(100)("keys", (function() {
                return function(e) {
                    return i(r(e))
                }
            }
            ))
        }
        , function(e, t, n) {
            var r = n(12)
              , i = n(1)
              , o = i["__core-js_shared__"] || (i["__core-js_shared__"] = {});
            (e.exports = function(e, t) {
                return o[e] || (o[e] = void 0 !== t ? t : {})
            }
            )("versions", []).push({
                version: r.version,
                mode: n(22) ? "pure" : "global",
                copyright: "© 2020 Denis Pushkarev (zloirock.ru)"
            })
        }
        , function(e, t) {
            e.exports = function(e, t) {
                return {
                    enumerable: !(1 & e),
                    configurable: !(2 & e),
                    writable: !(4 & e),
                    value: t
                }
            }
        }
        , function(e, t) {
            e.exports = function(e) {
                if ("function" != typeof e)
                    throw TypeError(e + " is not a function!");
                return e
            }
        }
        , function(e, t, n) {
            "use strict";
            var r, i, o, a, s = n(22), u = n(1), c = n(16), l = n(46), f = n(25), d = n(5), h = n(32), p = n(44), v = n(45), m = n(94), g = n(64).set, y = n(96)(), E = n(65), T = n(97), b = n(98), _ = n(99), S = u.TypeError, R = u.process, w = R && R.versions, C = w && w.v8 || "", O = u.Promise, L = "process" == l(R), A = function() {}, P = i = E.f, I = !!function() {
                try {
                    var e = O.resolve(1)
                      , t = (e.constructor = {})[n(2)("species")] = function(e) {
                        e(A, A)
                    }
                    ;
                    return (L || "function" == typeof PromiseRejectionEvent) && e.then(A)instanceof t && 0 !== C.indexOf("6.6") && -1 === b.indexOf("Chrome/66")
                } catch (e) {}
            }(), D = function(e) {
                var t;
                return !(!d(e) || "function" != typeof (t = e.then)) && t
            }, k = function(e, t) {
                if (!e._n) {
                    e._n = !0;
                    var n = e._c;
                    y((function() {
                        for (var r = e._v, i = 1 == e._s, o = 0, a = function(t) {
                            var n, o, a, s = i ? t.ok : t.fail, u = t.resolve, c = t.reject, l = t.domain;
                            try {
                                s ? (i || (2 == e._h && M(e),
                                e._h = 1),
                                !0 === s ? n = r : (l && l.enter(),
                                n = s(r),
                                l && (l.exit(),
                                a = !0)),
                                n === t.promise ? c(S("Promise-chain cycle")) : (o = D(n)) ? o.call(n, u, c) : u(n)) : c(r)
                            } catch (e) {
                                l && !a && l.exit(),
                                c(e)
                            }
                        }; n.length > o; )
                            a(n[o++]);
                        e._c = [],
                        e._n = !1,
                        t && !e._h && N(e)
                    }
                    ))
                }
            }, N = function(e) {
                g.call(u, (function() {
                    var t, n, r, i = e._v, o = x(e);
                    if (o && (t = T((function() {
                        L ? R.emit("unhandledRejection", i, e) : (n = u.onunhandledrejection) ? n({
                            promise: e,
                            reason: i
                        }) : (r = u.console) && r.error && r.error("Unhandled promise rejection", i)
                    }
                    )),
                    e._h = L || x(e) ? 2 : 1),
                    e._a = void 0,
                    o && t.e)
                        throw t.v
                }
                ))
            }, x = function(e) {
                return 1 !== e._h && 0 === (e._a || e._c).length
            }, M = function(e) {
                g.call(u, (function() {
                    var t;
                    L ? R.emit("rejectionHandled", e) : (t = u.onrejectionhandled) && t({
                        promise: e,
                        reason: e._v
                    })
                }
                ))
            }, F = function(e) {
                var t = this;
                t._d || (t._d = !0,
                (t = t._w || t)._v = e,
                t._s = 2,
                t._a || (t._a = t._c.slice()),
                k(t, !0))
            }, U = function(e) {
                var t, n = this;
                if (!n._d) {
                    n._d = !0,
                    n = n._w || n;
                    try {
                        if (n === e)
                            throw S("Promise can't be resolved itself");
                        (t = D(e)) ? y((function() {
                            var r = {
                                _w: n,
                                _d: !1
                            };
                            try {
                                t.call(e, c(U, r, 1), c(F, r, 1))
                            } catch (e) {
                                F.call(r, e)
                            }
                        }
                        )) : (n._v = e,
                        n._s = 1,
                        k(n, !1))
                    } catch (e) {
                        F.call({
                            _w: n,
                            _d: !1
                        }, e)
                    }
                }
            };
            I || (O = function(e) {
                p(this, O, "Promise", "_h"),
                h(e),
                r.call(this);
                try {
                    e(c(U, this, 1), c(F, this, 1))
                } catch (e) {
                    F.call(this, e)
                }
            }
            ,
            (r = function(e) {
                this._c = [],
                this._a = void 0,
                this._s = 0,
                this._d = !1,
                this._v = void 0,
                this._h = 0,
                this._n = !1
            }
            ).prototype = n(43)(O.prototype, {
                then: function(e, t) {
                    var n = P(m(this, O));
                    return n.ok = "function" != typeof e || e,
                    n.fail = "function" == typeof t && t,
                    n.domain = L ? R.domain : void 0,
                    this._c.push(n),
                    this._a && this._a.push(n),
                    this._s && k(this, !1),
                    n.promise
                },
                catch: function(e) {
                    return this.then(void 0, e)
                }
            }),
            o = function() {
                var e = new r;
                this.promise = e,
                this.resolve = c(U, e, 1),
                this.reject = c(F, e, 1)
            }
            ,
            E.f = P = function(e) {
                return e === O || e === a ? new o(e) : i(e)
            }
            ),
            f(f.G + f.W + f.F * !I, {
                Promise: O
            }),
            n(26)(O, "Promise"),
            n(56)("Promise"),
            a = n(12).Promise,
            f(f.S + f.F * !I, "Promise", {
                reject: function(e) {
                    var t = P(this);
                    return (0,
                    t.reject)(e),
                    t.promise
                }
            }),
            f(f.S + f.F * (s || !I), "Promise", {
                resolve: function(e) {
                    return _(s && this === a ? O : this, e)
                }
            }),
            f(f.S + f.F * !(I && n(58)((function(e) {
                O.all(e).catch(A)
            }
            ))), "Promise", {
                all: function(e) {
                    var t = this
                      , n = P(t)
                      , r = n.resolve
                      , i = n.reject
                      , o = T((function() {
                        var n = []
                          , o = 0
                          , a = 1;
                        v(e, !1, (function(e) {
                            var s = o++
                              , u = !1;
                            n.push(void 0),
                            a++,
                            t.resolve(e).then((function(e) {
                                u || (u = !0,
                                n[s] = e,
                                --a || r(n))
                            }
                            ), i)
                        }
                        )),
                        --a || r(n)
                    }
                    ));
                    return o.e && i(o.v),
                    n.promise
                },
                race: function(e) {
                    var t = this
                      , n = P(t)
                      , r = n.reject
                      , i = T((function() {
                        v(e, !1, (function(e) {
                            t.resolve(e).then(n.resolve, r)
                        }
                        ))
                    }
                    ));
                    return i.e && r(i.v),
                    n.promise
                }
            })
        }
        , function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
            t.openDatabase = t.isSupportIndexDB = t.getCurrentPageUrl = t.getSystemInfo = t.getCache = t.setCache = t.saveCookie = t.loadCookie = t.postPbReq = t.postReq = t.ajax = t.enhandsAjaxConifg = t.createReqData = t.createRequest = t.urlEncode = void 0;
            var r = n(3).DefaultLogger;
            function i(e) {
                var t = "";
                return Object.keys(e).forEach((function(n) {
                    "" !== t && (t += "&");
                    var r = n + "=" + encodeURIComponent(e[n]);
                    t += r
                }
                )),
                t
            }
            function o(e, t, n, r, i, o) {
                void 0 === r && (r = !1),
                void 0 === o && (o = "text");
                var a = new XMLHttpRequest;
                return a.open(t, e),
                a.timeout = n && n > 0 ? n : 3e3,
                a.withCredentials = !!r,
                o && (a.responseType = o),
                i && Object.keys(i).forEach((function(e) {
                    a.setRequestHeader(e, i[e])
                }
                )),
                a
            }
            function a(e, t, n) {
                return n ? n(e, t) : (e && "application/x-www-form-urlencoded" === t["Content-Type"] ? r = i(e) : e && "application/json;charset=UTF-8" === t["Content-Type"] && (r = JSON.stringify(e)),
                r);
                var r
            }
            function s(e) {
                return Object.assign({}, {
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded"
                    },
                    credentials: !1,
                    responseType: "text"
                }, e)
            }
            function u(e) {
                var t = s(e)
                  , n = t.url
                  , i = t.methods
                  , u = t.data
                  , c = t.headers
                  , l = t.timeout
                  , f = t.credentials
                  , d = t.responseType
                  , h = t.createReqDataFn
                  , p = t.callback;
                return new Promise((function(e, t) {
                    var s = o(n, i, l, f, c, d)
                      , v = a(u, c, h);
                    s.onerror = function(e) {
                        return t(e)
                    }
                    ,
                    s.onabort = function(e) {
                        return t(e)
                    }
                    ,
                    s.ontimeout = function(e) {
                        return t(e)
                    }
                    ,
                    s.onload = function() {
                        if (200 === s.status) {
                            if (p)
                                return p(s, e, t);
                            e(s.responseText)
                        } else
                            t(Error(String(s.status)))
                    }
                    ,
                    r.debug(s),
                    r.debug(v),
                    "POST" === i && v ? s.send(v) : s.send()
                }
                ))
            }
            function c(e, t, n) {
                var r = e.match(t);
                return r ? {
                    type: n,
                    version: r[1]
                } : null
            }
            t.urlEncode = i,
            t.createRequest = o,
            t.createReqData = a,
            t.enhandsAjaxConifg = s,
            t.ajax = u,
            t.postReq = function(e, t, n) {
                return u({
                    url: e,
                    methods: "POST",
                    data: t,
                    timeout: n,
                    headers: {
                        "Content-Type": "application/json;charset=UTF-8"
                    }
                })
            }
            ,
            t.postPbReq = function(e, t, n, r, i) {
                return u({
                    url: e,
                    methods: "POST",
                    data: t,
                    timeout: n,
                    headers: {
                        "Content-Type": "application/proto"
                    },
                    credentials: !1,
                    responseType: "arraybuffer",
                    createReqDataFn: r,
                    callback: i
                })
            }
            ,
            t.loadCookie = function(e) {
                try {
                    var t = encodeURIComponent
                      , n = decodeURIComponent
                      , r = new RegExp("(?:^|; )" + t(e) + "=([^;]*)").exec(document.cookie);
                    if (r)
                        return n(r[1])
                } catch (e) {}
                return null
            }
            ,
            t.saveCookie = function(e, t) {
                try {
                    var n = encodeURIComponent;
                    if ("[object Object]" !== t) {
                        var r = n(e) + "=" + n(t);
                        return document.cookie = r,
                        !0
                    }
                } catch (e) {}
                return !1
            }
            ,
            t.setCache = function(e, t) {
                return new Promise((function(n) {
                    window.localStorage.setItem(e, t),
                    n()
                }
                ))
            }
            ,
            t.getCache = function(e) {
                return new Promise((function(t) {
                    t(window.localStorage.getItem(e))
                }
                ))
            }
            ;
            var l = {
                type: "Unknown",
                version: ""
            };
            function f() {
                return window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB
            }
            t.getSystemInfo = function() {
                var e = new Map;
                if (!window)
                    return e;
                var t = function() {
                    if (!navigator)
                        return l;
                    var e = navigator.userAgent.toLowerCase();
                    return c(e, /rv:([\d.]+)\) like gecko/, "IE") || c(e, /msie ([\d.]+)/, "IE") || c(e, /edge\/([\d.]+)/, "EDGE") || c(e, /firefox\/([\d.]+)/, "Firefox") || c(e, /(?:opera|opr).([\d.]+)/, "Opera") || c(e, /qqbrowser\/([\d.]+)/, "QQBrowser") || c(e, /chrome\/([\d.]+)/, "Chrome") || c(e, /version\/([\d.]+).*safari/, "Safari") || l
                }()
                  , n = t.type
                  , r = t.version;
                return e.set("browserTp", n),
                e.set("browserVer", r),
                e.set("resolution", window.screen.width + "*" + window.screen.height),
                e.set("language", navigator.language || ""),
                e.set("system", function() {
                    if (!navigator)
                        return "Unknown";
                    if (-1 !== navigator.platform.indexOf("Win"))
                        return "Windows";
                    if (-1 !== navigator.platform.indexOf("Mac"))
                        return "MacOS";
                    if (-1 !== navigator.platform.indexOf("X11"))
                        return "UNIX";
                    if (-1 !== navigator.platform.indexOf("Linux"))
                        return "Linux";
                    var e = navigator.userAgent.toLowerCase();
                    return -1 !== e.indexOf("iphone") ? "iPhone" : -1 !== e.indexOf("ipod") ? "iPod" : -1 !== e.indexOf("ipad") ? "iPad" : -1 !== e.indexOf("android") ? "Android" : "Unknown"
                }()),
                e.set("platform", navigator.platform),
                e
            }
            ,
            t.getCurrentPageUrl = function() {
                return window ? window.location.href : ""
            }
            ,
            t.isSupportIndexDB = f,
            t.openDatabase = function(e, t, n) {
                if (f())
                    return new Promise((function(r, i) {
                        var o = indexedDB.open(e, t);
                        o.onerror = function(e) {
                            i(e)
                        }
                        ,
                        o.onsuccess = function(e) {
                            r(e.target.result)
                        }
                        ,
                        o.onupgradeneeded = function(e) {
                            var t = e.target.result;
                            switch (e.oldVersion) {
                            case 0:
                                t.createObjectStore(n, {
                                    keyPath: "compositeKey"
                                })
                            }
                        }
                    }
                    ))
            }
        }
        , function(e, t, n) {
            "use strict";
            function r(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                    r.configurable = !0,
                    "value"in r && (r.writable = !0),
                    Object.defineProperty(e, r.key, r)
                }
            }
            n.d(t, "a", (function() {
                return i
            }
            )),
            n(19),
            n(27),
            n(17),
            n(18),
            n(28);
            var i = function() {
                function e() {
                    !function(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, e),
                    this.initAll()
                }
                var t, n;
                return t = e,
                (n = [{
                    key: "registEventListener",
                    value: function(e, t) {
                        if (!t)
                            return !1;
                        var n = this.eventListerners.get(e);
                        return !!n && (n.push(t),
                        !0)
                    }
                }, {
                    key: "onEvent",
                    value: function(e, t) {
                        var n = this.eventListerners.get(e);
                        n && n.length > 0 && n.forEach((function(e) {
                            e(t)
                        }
                        ))
                    }
                }, {
                    key: "clear",
                    value: function() {
                        this.initAll()
                    }
                }, {
                    key: "initAll",
                    value: function() {
                        this.eventListerners = new Map,
                        this.eventListerners.set(0, []),
                        this.eventListerners.set(1, []),
                        this.eventListerners.set(2, []),
                        this.eventListerners.set(3, []),
                        this.eventListerners.set(4, [])
                    }
                }]) && r(t.prototype, n),
                Object.defineProperty(t, "prototype", {
                    writable: !1
                }),
                e
            }()
        }
        , function(e, t, n) {
            var r = n(5)
              , i = n(1).document
              , o = r(i) && r(i.createElement);
            e.exports = function(e) {
                return o ? i.createElement(e) : {}
            }
        }
        , function(e, t, n) {
            var r = n(5);
            e.exports = function(e, t) {
                if (!r(e))
                    return e;
                var n, i;
                if (t && "function" == typeof (n = e.toString) && !r(i = n.call(e)))
                    return i;
                if ("function" == typeof (n = e.valueOf) && !r(i = n.call(e)))
                    return i;
                if (!t && "function" == typeof (n = e.toString) && !r(i = n.call(e)))
                    return i;
                throw TypeError("Can't convert object to primitive value")
            }
        }
        , function(e, t, n) {
            var r = n(4)
              , i = n(79)
              , o = n(42)
              , a = n(41)("IE_PROTO")
              , s = function() {}
              , u = function() {
                var e, t = n(36)("iframe"), r = o.length;
                for (t.style.display = "none",
                n(54).appendChild(t),
                t.src = "javascript:",
                (e = t.contentWindow.document).open(),
                e.write("<script>document.F=Object<\/script>"),
                e.close(),
                u = e.F; r--; )
                    delete u.prototype[o[r]];
                return u()
            };
            e.exports = Object.create || function(e, t) {
                var n;
                return null !== e ? (s.prototype = r(e),
                n = new s,
                s.prototype = null,
                n[a] = e) : n = u(),
                void 0 === t ? n : i(n, t)
            }
        }
        , function(e, t) {
            e.exports = function(e) {
                if (null == e)
                    throw TypeError("Can't call method on  " + e);
                return e
            }
        }
        , function(e, t) {
            var n = Math.ceil
              , r = Math.floor;
            e.exports = function(e) {
                return isNaN(e = +e) ? 0 : (e > 0 ? r : n)(e)
            }
        }
        , function(e, t, n) {
            var r = n(30)("keys")
              , i = n(23);
            e.exports = function(e) {
                return r[e] || (r[e] = i(e))
            }
        }
        , function(e, t) {
            e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
        }
        , function(e, t, n) {
            var r = n(9);
            e.exports = function(e, t, n) {
                for (var i in t)
                    r(e, i, t[i], n);
                return e
            }
        }
        , function(e, t) {
            e.exports = function(e, t, n, r) {
                if (!(e instanceof t) || void 0 !== r && r in e)
                    throw TypeError(n + ": incorrect invocation!");
                return e
            }
        }
        , function(e, t, n) {
            var r = n(16)
              , i = n(84)
              , o = n(85)
              , a = n(4)
              , s = n(53)
              , u = n(86)
              , c = {}
              , l = {};
            (t = e.exports = function(e, t, n, f, d) {
                var h, p, v, m, g = d ? function() {
                    return e
                }
                : u(e), y = r(n, f, t ? 2 : 1), E = 0;
                if ("function" != typeof g)
                    throw TypeError(e + " is not iterable!");
                if (o(g)) {
                    for (h = s(e.length); h > E; E++)
                        if ((m = t ? y(a(p = e[E])[0], p[1]) : y(e[E])) === c || m === l)
                            return m
                } else
                    for (v = g.call(e); !(p = v.next()).done; )
                        if ((m = i(v, y, p.value, t)) === c || m === l)
                            return m
            }
            ).BREAK = c,
            t.RETURN = l
        }
        , function(e, t, n) {
            var r = n(21)
              , i = n(2)("toStringTag")
              , o = "Arguments" == r(function() {
                return arguments
            }());
            e.exports = function(e) {
                var t, n, a;
                return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (n = function(e, t) {
                    try {
                        return e[t]
                    } catch (e) {}
                }(t = Object(e), i)) ? n : o ? r(t) : "Object" == (a = r(t)) && "function" == typeof t.callee ? "Arguments" : a
            }
        }
        , function(e, t, n) {
            "use strict";
            var r = n(22)
              , i = n(25)
              , o = n(9)
              , a = n(13)
              , s = n(24)
              , u = n(87)
              , c = n(26)
              , l = n(88)
              , f = n(2)("iterator")
              , d = !([].keys && "next"in [].keys())
              , h = function() {
                return this
            };
            e.exports = function(e, t, n, p, v, m, g) {
                u(n, t, p);
                var y, E, T, b = function(e) {
                    if (!d && e in w)
                        return w[e];
                    switch (e) {
                    case "keys":
                    case "values":
                        return function() {
                            return new n(this,e)
                        }
                    }
                    return function() {
                        return new n(this,e)
                    }
                }, _ = t + " Iterator", S = "values" == v, R = !1, w = e.prototype, C = w[f] || w["@@iterator"] || v && w[v], O = C || b(v), L = v ? S ? b("entries") : O : void 0, A = "Array" == t && w.entries || C;
                if (A && (T = l(A.call(new e))) !== Object.prototype && T.next && (c(T, _, !0),
                r || "function" == typeof T[f] || a(T, f, h)),
                S && C && "values" !== C.name && (R = !0,
                O = function() {
                    return C.call(this)
                }
                ),
                r && !g || !d && !R && w[f] || a(w, f, O),
                s[t] = O,
                s[_] = h,
                v)
                    if (y = {
                        values: S ? O : b("values"),
                        keys: m ? O : b("keys"),
                        entries: L
                    },
                    g)
                        for (E in y)
                            E in w || o(w, E, y[E]);
                    else
                        i(i.P + i.F * (d || R), t, y);
                return y
            }
        }
        , function(e, t, n) {
            var r = n(39);
            e.exports = function(e) {
                return Object(r(e))
            }
        }
        , function(e, t, n) {
            var r = n(23)("meta")
              , i = n(5)
              , o = n(11)
              , a = n(7).f
              , s = 0
              , u = Object.isExtensible || function() {
                return !0
            }
              , c = !n(10)((function() {
                return u(Object.preventExtensions({}))
            }
            ))
              , l = function(e) {
                a(e, r, {
                    value: {
                        i: "O" + ++s,
                        w: {}
                    }
                })
            }
              , f = e.exports = {
                KEY: r,
                NEED: !1,
                fastKey: function(e, t) {
                    if (!i(e))
                        return "symbol" == typeof e ? e : ("string" == typeof e ? "S" : "P") + e;
                    if (!o(e, r)) {
                        if (!u(e))
                            return "F";
                        if (!t)
                            return "E";
                        l(e)
                    }
                    return e[r].i
                },
                getWeak: function(e, t) {
                    if (!o(e, r)) {
                        if (!u(e))
                            return !0;
                        if (!t)
                            return !1;
                        l(e)
                    }
                    return e[r].w
                },
                onFreeze: function(e) {
                    return c && f.NEED && u(e) && !o(e, r) && l(e),
                    e
                }
            }
        }
        , function(e, t) {
            t.f = {}.propertyIsEnumerable
        }
        , function(e, t, n) {
            e.exports = !n(6) && !n(10)((function() {
                return 7 != Object.defineProperty(n(36)("div"), "a", {
                    get: function() {
                        return 7
                    }
                }).a
            }
            ))
        }
        , function(e, t, n) {
            var r = n(11)
              , i = n(15)
              , o = n(81)(!1)
              , a = n(41)("IE_PROTO");
            e.exports = function(e, t) {
                var n, s = i(e), u = 0, c = [];
                for (n in s)
                    n != a && r(s, n) && c.push(n);
                for (; t.length > u; )
                    r(s, n = t[u++]) && (~o(c, n) || c.push(n));
                return c
            }
        }
        , function(e, t, n) {
            var r = n(40)
              , i = Math.min;
            e.exports = function(e) {
                return e > 0 ? i(r(e), 9007199254740991) : 0
            }
        }
        , function(e, t, n) {
            var r = n(1).document;
            e.exports = r && r.documentElement
        }
        , function(e, t) {
            e.exports = function(e, t) {
                return {
                    value: t,
                    done: !!e
                }
            }
        }
        , function(e, t, n) {
            "use strict";
            var r = n(1)
              , i = n(7)
              , o = n(6)
              , a = n(2)("species");
            e.exports = function(e) {
                var t = r[e];
                o && t && !t[a] && i.f(t, a, {
                    configurable: !0,
                    get: function() {
                        return this
                    }
                })
            }
        }
        , function(e, t, n) {
            var r = n(5);
            e.exports = function(e, t) {
                if (!r(e) || e._t !== t)
                    throw TypeError("Incompatible receiver, " + t + " required!");
                return e
            }
        }
        , function(e, t, n) {
            var r = n(2)("iterator")
              , i = !1;
            try {
                var o = [7][r]();
                o.return = function() {
                    i = !0
                }
                ,
                Array.from(o, (function() {
                    throw 2
                }
                ))
            } catch (e) {}
            e.exports = function(e, t) {
                if (!t && !i)
                    return !1;
                var n = !1;
                try {
                    var o = [7]
                      , a = o[r]();
                    a.next = function() {
                        return {
                            done: n = !0
                        }
                    }
                    ,
                    o[r] = function() {
                        return a
                    }
                    ,
                    e(o)
                } catch (e) {}
                return n
            }
        }
        , function(e, t, n) {
            var r = n(50)
              , i = n(31)
              , o = n(15)
              , a = n(37)
              , s = n(11)
              , u = n(51)
              , c = Object.getOwnPropertyDescriptor;
            t.f = n(6) ? c : function(e, t) {
                if (e = o(e),
                t = a(t, !0),
                u)
                    try {
                        return c(e, t)
                    } catch (e) {}
                if (s(e, t))
                    return i(!r.f.call(e, t), e[t])
            }
        }
        , function(e, t) {}
        , function(e, t) {}
        , function(e, t) {}
        , function(e, t, n) {
            "use strict";
            n.d(t, "a", (function() {
                return s
            }
            )),
            n(19),
            n(27),
            n(17),
            n(18),
            n(28),
            n(33),
            n(29);
            var r = n(0);
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function o(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                    r.configurable = !0,
                    "value"in r && (r.writable = !0),
                    Object.defineProperty(e, r.key, r)
                }
            }
            var a = n(3).DefaultLogger
              , s = function() {
                function e() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "default";
                    i(this, e),
                    this.identifier = t,
                    this.storedData = new Map,
                    this.defaultLoaders = [],
                    this.defaultLoaders.push(this.loadExpData),
                    this.defaultLoaders.push(this.loadStrategyData),
                    this.defaultLoaders.push(this.loadHitExpMap)
                }
                var t, n;
                return t = e,
                (n = [{
                    key: "saveUserId",
                    value: function(e) {
                        var t = this;
                        return new Promise((function(n) {
                            t.save("".concat(r.C), e),
                            n()
                        }
                        ))
                    }
                }, {
                    key: "saveHitExpMap",
                    value: function(e) {
                        var t = this;
                        return new Promise((function(n, i) {
                            var o = {};
                            e.forEach((function(e, t) {
                                o[t] = e
                            }
                            ));
                            var a = JSON.stringify(o);
                            t.save("".concat(t.identifier, "_").concat(r.g), a).then((function() {
                                return n()
                            }
                            )).catch((function(e) {
                                return i(e)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "saveStrategyData",
                    value: function(e) {
                        var t = this;
                        return new Promise((function(n, i) {
                            var o = JSON.stringify(e);
                            t.save("".concat(t.identifier, "_").concat(r.i), o).then((function() {
                                return n()
                            }
                            )).catch((function(e) {
                                return i(e)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "saveExpData",
                    value: function(e) {
                        var t = this;
                        return new Promise((function(n, i) {
                            var o = {};
                            e.forEach((function(e, t) {
                                e.grayId !== r.b && e.grayId !== r.j && (o[t] = e)
                            }
                            ));
                            var a = JSON.stringify(o);
                            t.save("".concat(t.identifier, "_").concat(r.f), a).then((function() {
                                return n()
                            }
                            )).catch((function(e) {
                                return i(e)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "loadUserId",
                    value: function() {
                        var e = this;
                        return new Promise((function(t, n) {
                            e.load("".concat(r.C)).then((function(n) {
                                if (a.debug(n),
                                !n)
                                    return t();
                                e.storedData.set(r.B, n),
                                t()
                            }
                            )).catch((function(e) {
                                return n(e)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "loadExpData",
                    value: function() {
                        var e = this;
                        return new Promise((function(t, n) {
                            e.load("".concat(e.identifier, "_").concat(r.f)).then((function(i) {
                                if (a.debug(i),
                                i) {
                                    var o = new Map;
                                    e.storedData.set(r.f, o);
                                    try {
                                        var s = JSON.parse(i);
                                        Object.keys(s).forEach((function(e) {
                                            var t = s[e];
                                            o.set(e, t)
                                        }
                                        )),
                                        t()
                                    } catch (e) {
                                        n(e)
                                    }
                                } else
                                    t()
                            }
                            )).catch((function(e) {
                                return n(e)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "loadStrategyData",
                    value: function() {
                        var e = this;
                        return new Promise((function(t, n) {
                            e.load("".concat(e.identifier, "_").concat(r.i)).then((function(i) {
                                if (a.debug(i),
                                i)
                                    try {
                                        var o = JSON.parse(i);
                                        e.storedData.set(r.i, o),
                                        t()
                                    } catch (e) {
                                        n(e)
                                    }
                                else
                                    t()
                            }
                            )).catch((function(e) {
                                return n(e)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "loadHitExpMap",
                    value: function() {
                        var e = this;
                        return new Promise((function(t, n) {
                            e.load("".concat(e.identifier, "_").concat(r.g)).then((function(i) {
                                if (a.debug(i),
                                i) {
                                    var o = new Map;
                                    e.storedData.set(r.g, o);
                                    try {
                                        var s = JSON.parse(i);
                                        Object.keys(s).forEach((function(e) {
                                            var t = parseInt(s[e], 10);
                                            o.set(parseInt(e, 10), t)
                                        }
                                        )),
                                        t()
                                    } catch (e) {
                                        n(e)
                                    }
                                } else
                                    t()
                            }
                            )).catch((function(e) {
                                return n(e)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "loadAllData",
                    value: function() {
                        var e = this;
                        return new Promise((function(t, n) {
                            a.debug("loadAllData");
                            var r = [];
                            e.defaultLoaders.forEach((function(t) {
                                var n = t.call(e);
                                r.push(n)
                            }
                            )),
                            Promise.all(r).then((function() {
                                a.debug("loaddAllData success"),
                                a.debug(e.storedData),
                                t(e.storedData)
                            }
                            )).catch((function(e) {
                                return n(e)
                            }
                            ))
                        }
                        ))
                    }
                }]) && o(t.prototype, n),
                Object.defineProperty(t, "prototype", {
                    writable: !1
                }),
                e
            }()
        }
        , function(e, t, n) {
            var r, i, o, a = n(16), s = n(95), u = n(54), c = n(36), l = n(1), f = l.process, d = l.setImmediate, h = l.clearImmediate, p = l.MessageChannel, v = l.Dispatch, m = 0, g = {}, y = function() {
                var e = +this;
                if (g.hasOwnProperty(e)) {
                    var t = g[e];
                    delete g[e],
                    t()
                }
            }, E = function(e) {
                y.call(e.data)
            };
            d && h || (d = function(e) {
                for (var t = [], n = 1; arguments.length > n; )
                    t.push(arguments[n++]);
                return g[++m] = function() {
                    s("function" == typeof e ? e : Function(e), t)
                }
                ,
                r(m),
                m
            }
            ,
            h = function(e) {
                delete g[e]
            }
            ,
            "process" == n(21)(f) ? r = function(e) {
                f.nextTick(a(y, e, 1))
            }
            : v && v.now ? r = function(e) {
                v.now(a(y, e, 1))
            }
            : p ? (o = (i = new p).port2,
            i.port1.onmessage = E,
            r = a(o.postMessage, o, 1)) : l.addEventListener && "function" == typeof postMessage && !l.importScripts ? (r = function(e) {
                l.postMessage(e + "", "*")
            }
            ,
            l.addEventListener("message", E, !1)) : r = "onreadystatechange"in c("script") ? function(e) {
                u.appendChild(c("script")).onreadystatechange = function() {
                    u.removeChild(this),
                    y.call(e)
                }
            }
            : function(e) {
                setTimeout(a(y, e, 1), 0)
            }
            ),
            e.exports = {
                set: d,
                clear: h
            }
        }
        , function(e, t, n) {
            "use strict";
            var r = n(32);
            function i(e) {
                var t, n;
                this.promise = new e((function(e, r) {
                    if (void 0 !== t || void 0 !== n)
                        throw TypeError("Bad Promise constructor");
                    t = e,
                    n = r
                }
                )),
                this.resolve = r(t),
                this.reject = r(n)
            }
            e.exports.f = function(e) {
                return new i(e)
            }
        }
        , function(e, t, n) {
            "use strict";
            n.d(t, "a", (function() {
                return s
            }
            )),
            n(17),
            n(33),
            n(19),
            n(27),
            n(18),
            n(28),
            n(29);
            var r = n(3)
              , i = n(0);
            function o(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                    r.configurable = !0,
                    "value"in r && (r.writable = !0),
                    Object.defineProperty(e, r.key, r)
                }
            }
            var a = r.DefaultLogger
              , s = function() {
                function e(t) {
                    !function(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, e),
                    this.store = t
                }
                var t, n;
                return t = e,
                (n = [{
                    key: "loadData",
                    value: function(e, t) {
                        var n = this;
                        return new Promise((function(r, o) {
                            var s = n.store.userConfig
                              , u = "".concat(s.isTest ? i.E : i.D, "wabt/get_gray_policy")
                              , c = {
                                guid: s.guid,
                                appid: s.appid,
                                channel: s.channel,
                                profiles: s.profiles
                            };
                            t && (c.guid = t);
                            var l = !1;
                            e && (c.expName = e,
                            l = !0),
                            s.layerCodes && (c.layerCodes = s.layerCodes);
                            var f = s.timeout || i.c;
                            (l ? n.reqWithTimeout(u, c, f) : n.loadRemoteData(u, c, -1)).then((function(e) {
                                a.debug(e);
                                try {
                                    var t = JSON.parse(e);
                                    if (0 === t.code) {
                                        var i = n.processData(t);
                                        r(i)
                                    } else
                                        o(Error("error http code"))
                                } catch (e) {
                                    o(e)
                                }
                            }
                            )).catch((function(e) {
                                o(e)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "processExpData",
                    value: function(e) {
                        var t = new Map
                          , n = e.data;
                        return n ? (Object.keys(n).forEach((function(e) {
                            var r = n[e]
                              , i = {
                                expName: r.expName,
                                assignment: r.assignment,
                                grayId: r.sGrayPolicyId,
                                layerCode: e,
                                params: r.params,
                                percentage: r.percentage,
                                bucket: r.bucket,
                                isFirstHit: r.isFirstHit,
                                endTime: r.endTime
                            };
                            t.set(e, i)
                        }
                        )),
                        t) : t
                    }
                }, {
                    key: "processStrategyData",
                    value: function(e) {
                        var t = e.strategy;
                        if (!t)
                            return null;
                        var n = {
                            refreshDuration: t.refreshDuration,
                            enableReport: t.enableReport,
                            reportType: t.reportType,
                            attaId: t.reportConfig.id,
                            attaToken: t.reportConfig.token,
                            debug: t.debug,
                            sdkReportRate: t.sdkReportRate
                        };
                        t.debug && (n.debug = !0);
                        var r = t.sdkReportRate;
                        return "number" == typeof r && r >= 0 && r <= 100 && (n.sdkReportRate = r),
                        n
                    }
                }, {
                    key: "processData",
                    value: function(e) {
                        var t = new Map;
                        try {
                            var n = this.processExpData(e)
                              , r = this.processStrategyData(e);
                            t.set(i.f, n),
                            t.set(i.i, r)
                        } catch (e) {
                            throw a.error("process net data failed", e),
                            Error("error process data")
                        }
                        return t
                    }
                }, {
                    key: "reqWithTimeout",
                    value: function(e, t, n) {
                        var r = this;
                        return new Promise((function(i, o) {
                            return a.debug("reqWithTimeout"),
                            Promise.race([r.loadRemoteData(e, t, n), new Promise((function(e) {
                                setTimeout((function() {
                                    return e(new Error("request timeout"))
                                }
                                ), n)
                            }
                            ))]).then((function(e) {
                                return i(e)
                            }
                            )).catch((function(e) {
                                return o(e)
                            }
                            ))
                        }
                        ))
                    }
                }]) && o(t.prototype, n),
                Object.defineProperty(t, "prototype", {
                    writable: !1
                }),
                e
            }()
        }
        , function(e, t, n) {
            "use strict";
            n.d(t, "a", (function() {
                return s
            }
            )),
            n.d(t, "d", (function() {
                return u
            }
            )),
            n.d(t, "f", (function() {
                return c
            }
            )),
            n.d(t, "m", (function() {
                return l
            }
            )),
            n.d(t, "l", (function() {
                return f
            }
            )),
            n.d(t, "k", (function() {
                return d
            }
            )),
            n.d(t, "e", (function() {
                return h
            }
            )),
            n.d(t, "j", (function() {
                return p
            }
            )),
            n.d(t, "n", (function() {
                return v
            }
            )),
            n.d(t, "g", (function() {
                return m
            }
            )),
            n.d(t, "i", (function() {
                return g
            }
            )),
            n.d(t, "b", (function() {
                return y
            }
            )),
            n.d(t, "c", (function() {
                return E
            }
            )),
            n.d(t, "h", (function() {
                return T
            }
            )),
            n.d(t, "o", (function() {
                return b
            }
            )),
            n(17),
            n(33),
            n(29);
            var r = n(0)
              , i = n(8);
            function o(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                    r.configurable = !0,
                    "value"in r && (r.writable = !0),
                    Object.defineProperty(e, r.key, r)
                }
            }
            var a = n(3).DefaultLogger
              , s = "rqd_expimpression"
              , u = "A149"
              , c = "A148"
              , l = "A70"
              , f = "A71"
              , d = "absdk_ver"
              , h = "is_first_hit"
              , p = "exp_platform"
              , v = "user_type"
              , m = "layer_code"
              , g = "exp_percentage"
              , y = "exp_bucket"
              , E = "exp_env"
              , T = "exp_params"
              , b = function() {
                function e(t) {
                    !function(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, e),
                    this.memStore = t
                }
                var t, n;
                return t = e,
                (n = [{
                    key: "reportExpExpose",
                    value: function(e) {
                        return this.reportExpEvent(s, e)
                    }
                }, {
                    key: "reportExpEvent",
                    value: function(e, t) {
                        var n = this;
                        return new Promise((function(o) {
                            if (!n.checkNeedReport(t))
                                return o(!1);
                            var s = n.memStore.userConfig
                              , b = n.memStore.systemInfo
                              , _ = {};
                            _[u] = t.expName || "",
                            _[c] = String(t.grayId),
                            _[l] = s.guid || "",
                            _[f] = s.appid || "",
                            _[d] = n.memStore.version,
                            _[h] = t.isFirstHit ? "1" : "0",
                            _[p] = b.get("system") || "",
                            _[v] = "0",
                            _[m] = t.layerCode,
                            _[g] = t.percentage ? String(t.percentage) : "0",
                            _[y] = t.bucket ? String(t.bucket) : "0",
                            _[E] = s.isTest ? "test" : "formal";
                            var S = Object(i.c)(t.params);
                            S.length > r.h && (S = "".concat(S.substring(0, r.h), "..."));
                            var R = s.profiles || {};
                            return Object.keys(R).forEach((function(e) {
                                _[e] = R[e]
                            }
                            )),
                            _[T] = S,
                            a.debug(S),
                            n.reportEvent(e, _).then((function() {
                                o(!0)
                            }
                            )).catch((function(e) {
                                a.info("error report event ".concat(e.message)),
                                o(!1)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "reportSDKEvent",
                    value: function(e, t, n, r) {
                        var o = this;
                        return new Promise((function(s) {
                            if (!o.checkSDKReport())
                                return s(!1);
                            var u = o.memStore.userConfig
                              , c = o.memStore.systemInfo
                              , h = o.memStore.expData
                              , v = {};
                            null == r || r.forEach((function(e, t) {
                                v[t] = e
                            }
                            ));
                            var m = u.profiles || {};
                            return Object.keys(m).forEach((function(e) {
                                v[e] = m[e]
                            }
                            )),
                            v.api_name = e,
                            v.consumed_time = n,
                            v.success_flag = t,
                            v.gray_ids = Object(i.d)(h),
                            v[f] = u.appid || "",
                            v[l] = u.guid || "",
                            v[d] = o.memStore.version,
                            v[p] = c.get("ROMA_PLATFORM") || "",
                            v[E] = u.isTest ? "test" : "formal",
                            o.reportEvent("TabApiEvent", v).then((function() {
                                s(!0)
                            }
                            )).catch((function(e) {
                                a.error("error report event ".concat(e.message)),
                                s(!1)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "checkNeedReport",
                    value: function(e) {
                        return e.assignment !== r.a
                    }
                }, {
                    key: "checkSDKReport",
                    value: function() {
                        var e = this.memStore.strategy;
                        if (null == e ? void 0 : e.debug)
                            return !0;
                        var t = (null == e ? void 0 : e.sdkReportRate) || r.v
                          , n = Math.ceil(100 * Math.random());
                        return a.debug("report api event with random ".concat(n, " ").concat(t)),
                        n <= t
                    }
                }]) && o(t.prototype, n),
                Object.defineProperty(t, "prototype", {
                    writable: !1
                }),
                e
            }()
        }
        , function(e, t, n) {
            "use strict";
            var r = n(4);
            e.exports = function() {
                var e = r(this)
                  , t = "";
                return e.global && (t += "g"),
                e.ignoreCase && (t += "i"),
                e.multiline && (t += "m"),
                e.unicode && (t += "u"),
                e.sticky && (t += "y"),
                t
            }
        }
        , function(e, t, n) {
            t.f = n(2)
        }
        , function(e, t) {
            t.f = Object.getOwnPropertySymbols
        }
        , function(e, t, n) {
            var r = n(52)
              , i = n(42).concat("length", "prototype");
            t.f = Object.getOwnPropertyNames || function(e) {
                return r(e, i)
            }
        }
        , function(e, t, n) {
            "use strict";
            var r, i = this && this.__extends || (r = function(e, t) {
                return (r = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(e, t) {
                    e.__proto__ = t
                }
                || function(e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
                )(e, t)
            }
            ,
            function(e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                new n)
            }
            );
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
            t.TabJSSDK = void 0;
            var o = n(14)
              , a = n(73)
              , s = n(74)
              , u = n(34)
              , c = n(75)
              , l = n(110)
              , f = function(e) {
                function t(t) {
                    return e.call(this, t, "1.0.23") || this
                }
                return i(t, e),
                t.prototype.initLoaderAndReporters = function() {
                    var e, t, n = this.memStore.userConfig;
                    this.lLoader = new a.JSLocalLoder(n.appid + "_" + this.memStore.name),
                    this.rLoader = new s.JSRemoteLoader(this.memStore);
                    var r = new c.TabJSBeaconReporter(this.memStore)
                      , i = new l.TabJSAttaReporter(this.memStore);
                    (null === (e = this.memStore.userConfig) || void 0 === e ? void 0 : e.defaultReporter) && "atta" === (null === (t = this.memStore.userConfig) || void 0 === t ? void 0 : t.defaultReporter) ? this.reporter = i : this.reporter = r
                }
                ,
                t.prototype.initProfiles = function() {
                    var e = this.memStore.userConfig
                      , t = e.profiles || {};
                    Object.keys(t).forEach((function(e) {
                        t[e] = String(t[e])
                    }
                    )),
                    t[o.TAB_PROFILE_KEY_PLATFORM] = "jssdk";
                    var n = this.memStore.systemInfo;
                    t[o.TAB_PROFILE_KEY_RESO] = n.get("resolution") || "",
                    t[o.TAB_PROFILE_KEY_MODEL] = n.get("platform") || "",
                    t[o.TAB_PROFILE_KEY_OSMODEL] = n.get("system") || "",
                    t.ROMA_BROWSER_MODEL = n.get("browserTp") || "",
                    t.ROMA_BROWSER_VERSION = n.get("browserVer") || "",
                    t[o.TAB_PROFILE_KEY_SDKVER] = this.memStore.version,
                    e.profiles = t
                }
                ,
                t.prototype.initSystemInfo = function() {
                    return u.getSystemInfo()
                }
                ,
                t.prototype.getParam = function(e, t) {
                    var n = null;
                    return this.memStore.expData && this.memStore.expData.forEach((function(t, r) {
                        for (var i = 0, o = Object.keys(t.params); i < o.length; i++)
                            if (o[i] === e) {
                                n = t.params[r];
                                break
                            }
                    }
                    )),
                    n || t
                }
                ,
                t.prototype.clearLocalstorage = function() {
                    this.lLoader.clearLocalstorage()
                }
                ,
                t
            }(o.TabSDK);
            t.TabJSSDK = f
        }
        , function(e, t, n) {
            "use strict";
            var r, i = this && this.__extends || (r = function(e, t) {
                return (r = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(e, t) {
                    e.__proto__ = t
                }
                || function(e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
                )(e, t)
            }
            ,
            function(e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                new n)
            }
            );
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
            t.JSLocalLoder = void 0;
            var o = n(14)
              , a = n(34)
              , s = o.DefaultLogger
              , u = function(e) {
                function t(t) {
                    var n = e.call(this, t) || this;
                    return n.openDbPromise = a.openDatabase("tab_sdk_web", 1, "tab_experiment"),
                    n
                }
                return i(t, e),
                t.prototype.loadLocalstorage = function(e) {
                    return s.debug("get cache " + e),
                    a.getCache(e)
                }
                ,
                t.prototype.saveLocalstorage = function(e, t) {
                    return s.debug("save cache " + e + " " + t),
                    a.setCache(e, t)
                }
                ,
                t.prototype.load = function(e) {
                    return this.openDbPromise ? this.openDbPromise.then((function(t) {
                        return new Promise((function(n, r) {
                            var i = t.transaction(["tab_experiment"], "readonly").objectStore("tab_experiment");
                            try {
                                var o = i.get(e);
                                o.onerror = function(e) {
                                    r(e)
                                }
                                ,
                                o.onsuccess = function(e) {
                                    var t = e.target.result;
                                    n(t ? t.value : null)
                                }
                            } catch (e) {
                                r(e)
                            }
                        }
                        ))
                    }
                    )) : this.loadLocalstorage(e)
                }
                ,
                t.prototype.save = function(e, t) {
                    return this.openDbPromise ? this.openDbPromise.then((function(n) {
                        return new Promise((function(r, i) {
                            var o = n.transaction(["tab_experiment"], "readwrite").objectStore("tab_experiment");
                            try {
                                var a = o.put({
                                    compositeKey: e,
                                    value: t
                                });
                                a.onerror = function(e) {
                                    i(e)
                                }
                                ,
                                a.onsuccess = function() {
                                    r()
                                }
                            } catch (e) {
                                i(e)
                            }
                        }
                        ))
                    }
                    )) : this.saveLocalstorage(e, t)
                }
                ,
                t.prototype.saveUserId = function(e) {
                    var t = this;
                    return new Promise((function(n) {
                        a.saveCookie(o.UserIdLocal, e),
                        t.save("" + o.UserIdLocal, e),
                        n()
                    }
                    ))
                }
                ,
                t.prototype.loadUserId = function() {
                    var e = this;
                    return new Promise((function(t, n) {
                        var r = a.loadCookie(o.UserIdLocal);
                        return s.debug("got userid form cookie " + r),
                        r ? (e.storedData.set(o.UserId, r),
                        t()) : e.load("" + o.UserIdLocal).then((function(n) {
                            return s.debug(n),
                            n ? (e.storedData.set(o.UserId, n),
                            t()) : t()
                        }
                        )).catch((function(e) {
                            return n(e)
                        }
                        ))
                    }
                    ))
                }
                ,
                t.prototype.clearLocalstorage = function() {
                    try {
                        [this.identifier + "_" + o.SDKStrategy, this.identifier + "_" + o.HitExpMap, this.identifier + "_" + o.ExpData].map((function(e) {
                            return window.localStorage.removeItem(e),
                            null
                        }
                        ))
                    } catch (e) {
                        s.error("remove localstorage faild:", e)
                    }
                }
                ,
                t
            }(o.LocalLoader);
            t.JSLocalLoder = u
        }
        , function(e, t, n) {
            "use strict";
            var r, i = this && this.__extends || (r = function(e, t) {
                return (r = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(e, t) {
                    e.__proto__ = t
                }
                || function(e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
                )(e, t)
            }
            ,
            function(e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                new n)
            }
            );
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
            t.JSRemoteLoader = void 0;
            var o = n(14)
              , a = n(34)
              , s = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                t.prototype.loadRemoteData = function(e, t, n) {
                    return a.postReq(e, t, n)
                }
                ,
                t
            }(o.RemoteLoader);
            t.JSRemoteLoader = s
        }
        , function(e, t, n) {
            "use strict";
            var r, i = this && this.__extends || (r = function(e, t) {
                return (r = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(e, t) {
                    e.__proto__ = t
                }
                || function(e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
                )(e, t)
            }
            ,
            function(e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                new n)
            }
            );
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
            t.TabJSBeaconReporter = void 0;
            var o = n(14)
              , a = o.DefaultLogger
              , s = function(e) {
                function t(t) {
                    var r = e.call(this, t) || this;
                    try {
                        var i = window.BeaconAction;
                        a.info("load Beacon"),
                        a.info(i),
                        i || (a.info("load beacon from module"),
                        i = n(108)),
                        r.beaconSDK = new i({
                            appkey: o.TABBeaconAppKey,
                            onReportSuccess: function() {},
                            onReportFail: function() {}
                        })
                    } catch (e) {
                        a.error("error init beacon sdk", e)
                    }
                    return r
                }
                return i(t, e),
                t.prototype.isOk = function() {
                    return !!this.beaconSDK
                }
                ,
                t.prototype.reportEvent = function(e, t) {
                    var n = this;
                    return new Promise((function(r) {
                        var i;
                        (null === (i = n.beaconSDK) || void 0 === i ? void 0 : i.onDirectUserAction) && n.beaconSDK.onDirectUserAction(e, t),
                        r()
                    }
                    ))
                }
                ,
                t
            }(o.TabReporter);
            t.TabJSBeaconReporter = s
        }
        , function(e, t, n) {
            "use strict";
            n.d(t, "a", (function() {
                return p
            }
            )),
            n(19),
            n(27),
            n(17),
            n(18),
            n(28),
            n(33),
            n(29),
            n(103);
            var r = n(3)
              , i = n(0)
              , o = n(8)
              , a = n(35);
            function s(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                    r.configurable = !0,
                    "value"in r && (r.writable = !0),
                    Object.defineProperty(e, r.key, r)
                }
            }
            var u = r.DefaultLogger
              , c = function() {
                function e(t) {
                    !function(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, e),
                    this.memStore = t
                }
                var t, n;
                return t = e,
                (n = [{
                    key: "setLocalLoder",
                    value: function(e) {
                        this.lLoader = e
                    }
                }, {
                    key: "setExpHit",
                    value: function(e) {
                        var t;
                        u.debug("set exp hit ".concat(e));
                        var n = this.memStore.hitExpMap;
                        n.set(e, 1),
                        null === (t = this.lLoader) || void 0 === t || t.saveHitExpMap(n)
                    }
                }, {
                    key: "getIsFirstHit",
                    value: function(e) {
                        return 1 !== this.memStore.hitExpMap.get(e)
                    }
                }, {
                    key: "updateIsFirstHit",
                    value: function() {
                        var e = this;
                        this.memStore.expData && this.memStore.expData.forEach((function(t) {
                            var n = t;
                            e.getIsFirstHit(n.grayId) ? n.isFirstHit = !0 : n.isFirstHit = !1
                        }
                        ))
                    }
                }]) && s(t.prototype, n),
                Object.defineProperty(t, "prototype", {
                    writable: !1
                }),
                e
            }();
            function l(e) {
                return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                    return typeof e
                }
                : function(e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                }
                )(e)
            }
            function f(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function d(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                    r.configurable = !0,
                    "value"in r && (r.writable = !0),
                    Object.defineProperty(e, r.key, r)
                }
            }
            var h = r.DefaultLogger
              , p = function() {
                function e() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "default"
                      , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "default";
                    f(this, e),
                    this.eventHandler = new a.a,
                    this.memStore = {
                        name: t,
                        version: n,
                        initial: !1,
                        isInit: !1,
                        syncFinish: !1,
                        hitExpMap: new Map
                    },
                    this.expHitHandler = new c(this.memStore)
                }
                var t, n;
                return t = e,
                (n = [{
                    key: "registEventListener",
                    value: function(e, t) {
                        return this.eventHandler.registEventListener(e, t)
                    }
                }, {
                    key: "init",
                    value: function(e) {
                        var t = this;
                        return new Promise((function(n, r) {
                            if (!e)
                                return h.error("no param config"),
                                n(!1);
                            if (!e.appid)
                                return h.error("appid not set"),
                                n(!1);
                            if (t.memStore.userConfig = e,
                            t.registCallback(),
                            t.memStore.initial)
                                return h.error("already initialized"),
                                t.initFail("already initialized"),
                                n(!1);
                            t.memStore.initial = !0,
                            e.isTest && h.setLevel(0),
                            t.initLoaderAndReporters(),
                            t.expHitHandler.setLocalLoder(t.lLoader);
                            try {
                                var o = t.initSystemInfo();
                                t.memStore.systemInfo = o
                            } catch (e) {
                                h.info("error init systemInfo ".concat(e.message))
                            }
                            t.initProfiles(),
                            e.guid || (h.info("guid not set"),
                            t.lLoader.defaultLoaders.push(t.lLoader.loadUserId)),
                            t.doInit().then((function(r) {
                                t.memStore.expData && t.initLocalSuccess(),
                                n(r),
                                t.loadRemoteData().catch((function(e) {
                                    h.info("error process remote data ".concat(e.message))
                                }
                                ));
                                var o = e.timeout || i.c;
                                setTimeout((function() {
                                    t.memStore.initial && (t.memStore.syncFinish || t.reportErrorEvent(i.y, "timeout"),
                                    t.initRemoteSuccess())
                                }
                                ), o),
                                e.disableRefresh || (h.info("start refresh timer"),
                                t.initRefreshTimer())
                            }
                            )).catch((function(e) {
                                t.initFail("init error ".concat(e.message)),
                                r(e)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "setProfiles",
                    value: function(e) {
                        var t = this.memStore.userConfig;
                        if (t)
                            if (e && "object" === l(e)) {
                                var n = t.profiles || {};
                                Object.keys(e).forEach((function(t) {
                                    n[t] = String(e[t])
                                }
                                )),
                                t.profiles = n
                            } else
                                h.error("please set profiles uing object");
                        else
                            h.error("please init sdk first")
                    }
                }, {
                    key: "clear",
                    value: function() {
                        this.memStore.initial = !1,
                        this.memStore.isInit = !1,
                        this.memStore.syncFinish = !1,
                        this.memStore.expData = void 0,
                        this.memStore.hitExpMap = new Map,
                        this.memStore.strategy = void 0,
                        this.eventHandler.clear(),
                        this.timeInterval && (clearInterval(this.timeInterval),
                        this.timeInterval = null)
                    }
                }, {
                    key: "switchUser",
                    value: function(e, t) {
                        var n = this;
                        return new Promise((function(r) {
                            var o = n.memStore.userConfig;
                            if (o.guid === e)
                                return h.info("same userid"),
                                r(!1);
                            var a = (new Date).getTime();
                            h.debug("switch to new user ".concat(e)),
                            h.debug(t || ""),
                            h.debug(o),
                            o.guid = e,
                            t && (o.profiles = t,
                            n.initProfiles()),
                            n.loadRemoteData().then((function() {
                                var e;
                                n.eventHandler.onEvent(3),
                                null === (e = n.reporter) || void 0 === e || e.reportSDKEvent(i.x, !0, (new Date).getTime() - a),
                                r(!0)
                            }
                            )).catch((function(e) {
                                n.reportErrorEvent(i.x, e.message),
                                r(!1)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "forceReload",
                    value: function() {
                        var e = this;
                        return new Promise((function(t) {
                            var n = (new Date).getTime();
                            e.loadRemoteData().then((function() {
                                var r;
                                e.eventHandler.onEvent(4),
                                null === (r = e.reporter) || void 0 === r || r.reportSDKEvent(i.w, !0, (new Date).getTime() - n),
                                t(!0)
                            }
                            )).catch((function(n) {
                                e.reportErrorEvent(i.w, n.message),
                                t(!1)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "getAllExps",
                    value: function() {
                        this.expHitHandler.updateIsFirstHit();
                        var e = {};
                        return this.memStore.expData && this.memStore.expData.forEach((function(t, n) {
                            e[n] = t
                        }
                        )),
                        e
                    }
                }, {
                    key: "getAllParams",
                    value: function() {
                        var e = {};
                        return this.memStore.expData && this.memStore.expData.forEach((function(t) {
                            Object.keys(t.params).forEach((function(n) {
                                e[n] = t.params[n]
                            }
                            ))
                        }
                        )),
                        e
                    }
                }, {
                    key: "getExpById",
                    value: function(e) {
                        for (var t = this.getAllExps(), n = 0, r = Object.keys(t); n < r.length; n++) {
                            var i = t[r[n]];
                            if (i.grayId === e)
                                return i
                        }
                        return null
                    }
                }, {
                    key: "getExpByIdAndReport",
                    value: function(e) {
                        var t = this.getExpById(e);
                        return t && this.reportExpExpose(t),
                        t
                    }
                }, {
                    key: "getExpByLayerCode",
                    value: function(e) {
                        for (var t = this.getAllExps(), n = 0, r = Object.keys(t); n < r.length; n++) {
                            var i = t[r[n]];
                            if (i.layerCode === e)
                                return i
                        }
                        return Object(o.b)()
                    }
                }, {
                    key: "getExpByLayerCodeAndReport",
                    value: function(e) {
                        var t = this.getExpByLayerCode(e);
                        return this.reportExpExpose(t),
                        t
                    }
                }, {
                    key: "getCachedExpByName",
                    value: function(e) {
                        return this.findExpByName(e)
                    }
                }, {
                    key: "getExpByName",
                    value: function(e) {
                        var t = this;
                        return new Promise((function(n) {
                            if (t.memStore.expData)
                                n(t.findExpByName(e));
                            else {
                                var r = (new Date).getTime();
                                t.loadRemoteData(e).then((function() {
                                    var o;
                                    n(t.findExpByName(e)),
                                    null === (o = t.reporter) || void 0 === o || o.reportSDKEvent(i.t, !0, (new Date).getTime() - r)
                                }
                                )).catch((function(o) {
                                    var a;
                                    h.info(o.message),
                                    n(t.findExpByName(e)),
                                    null === (a = t.reporter) || void 0 === a || a.reportSDKEvent(i.t, !1, (new Date).getTime() - r)
                                }
                                ))
                            }
                        }
                        ))
                    }
                }, {
                    key: "getTargetExpByName",
                    value: function(e, t) {
                        var n = this;
                        return new Promise((function(r, o) {
                            var a = (new Date).getTime();
                            n.loadTargetRemoteData(e, t).then((function(e) {
                                var t;
                                r(e),
                                null === (t = n.reporter) || void 0 === t || t.reportSDKEvent(i.t, !0, (new Date).getTime() - a)
                            }
                            )).catch((function(e) {
                                var t;
                                h.info(e.message),
                                o(e),
                                null === (t = n.reporter) || void 0 === t || t.reportSDKEvent(i.t, !1, (new Date).getTime() - a)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "findExpByName",
                    value: function(e) {
                        h.debug("finde exp by name ".concat(e));
                        var t = this.getAllExps();
                        h.debug(t);
                        for (var n = 0, r = Object.keys(t); n < r.length; n++) {
                            var i = t[r[n]];
                            if (i.expName === e)
                                return i
                        }
                        return Object(o.b)()
                    }
                }, {
                    key: "getExpByNameAndReport",
                    value: function(e) {
                        var t = this;
                        return new Promise((function(n) {
                            t.getExpByName(e).then((function(e) {
                                h.info("getExpByNameAndReport get ".concat(e.grayId)),
                                n(e),
                                h.info("getExpByNameAndReport report expose for ".concat(e.grayId)),
                                t.reportExpExpose(e)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "reportExpExpose",
                    value: function(e) {
                        var t;
                        try {
                            null === (t = this.reporter) || void 0 === t || t.reportExpExpose(e),
                            this.expHitHandler.setExpHit(e.grayId)
                        } catch (e) {
                            h.info(e.message)
                        }
                    }
                }, {
                    key: "reportExpEvent",
                    value: function(e, t) {
                        var n;
                        null === (n = this.reporter) || void 0 === n || n.reportExpEvent(e, t)
                    }
                }, {
                    key: "doInit",
                    value: function() {
                        var e = this;
                        return new Promise((function(t) {
                            var n;
                            (null === (n = e.memStore.userConfig) || void 0 === n ? void 0 : n.disableLocalStorage) ? Promise.all([e.lLoader.loadUserId(), e.lLoader.loadHitExpMap()]).then((function() {
                                e.saveDataToMem(e.lLoader.storedData),
                                t(!0)
                            }
                            )) : e.lLoader.loadAllData().then((function(n) {
                                var r;
                                e.saveDataToMem(n),
                                (null === (r = e.memStore.strategy) || void 0 === r ? void 0 : r.debug) && (h.setLevel(0),
                                h.debug("debug is opened")),
                                t(!0)
                            }
                            )).catch((function(n) {
                                h.info("error init local data ".concat(n.message)),
                                e.initFail("init error ".concat(n.message)),
                                t(!1)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "saveDataToMem",
                    value: function(e) {
                        e.get(i.f) && (this.memStore.expData = e.get(i.f)),
                        e.get(i.i) && (this.memStore.strategy = e.get(i.i)),
                        e.get(i.g) && (this.memStore.hitExpMap = e.get(i.g));
                        var t = this.memStore.userConfig;
                        t.guid || (h.debug("no guid will load or create one"),
                        e.get(i.B) ? t.guid = e.get(i.B) : (t.guid = Object(o.a)(),
                        this.lLoader.saveUserId(t.guid))),
                        this.expHitHandler.updateIsFirstHit()
                    }
                }, {
                    key: "loadRemoteData",
                    value: function(e) {
                        var t = this;
                        return new Promise((function(n, r) {
                            var o = (new Date).getTime();
                            t.rLoader.loadData(e).then((function(r) {
                                var a;
                                h.debug(r),
                                t.processRometeData(r, e),
                                e || t.initRemoteSuccess();
                                var s = (new Date).getTime() - o;
                                null === (a = t.reporter) || void 0 === a || a.reportSDKEvent(i.y, !0, s),
                                n()
                            }
                            )).catch((function(e) {
                                t.reportErrorEvent(i.y, e.message),
                                r(e)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "loadTargetRemoteData",
                    value: function(e, t) {
                        var n = this;
                        return new Promise((function(r, o) {
                            var a = (new Date).getTime();
                            n.rLoader.loadData(e, t).then((function(t) {
                                var o;
                                h.debug(t);
                                var s = t.get(i.f);
                                h.debug(s),
                                r(s.get(e));
                                var u = (new Date).getTime() - a;
                                null === (o = n.reporter) || void 0 === o || o.reportSDKEvent(i.y, !0, u)
                            }
                            )).catch((function(e) {
                                n.reportErrorEvent(i.y, e.message),
                                o(e)
                            }
                            ))
                        }
                        ))
                    }
                }, {
                    key: "processRometeData",
                    value: function(e, t) {
                        var n, r, o, a = e.get(i.f), s = e.get(i.i);
                        if (h.debug(a),
                        h.debug(s),
                        t) {
                            var u = a.get(t);
                            u && (null === (n = this.memStore.expData) || void 0 === n || n.set(t, u))
                        } else
                            this.memStore.expData = a;
                        this.memStore.strategy = s,
                        this.memStore.refreshDataTime = (new Date).getTime(),
                        this.expHitHandler.updateIsFirstHit(),
                        !(null === (r = this.memStore.userConfig) || void 0 === r ? void 0 : r.disableLocalStorage) && this.memStore.expData && (this.lLoader.saveExpData(this.memStore.expData),
                        this.lLoader.saveStrategyData(s)),
                        (null === (o = this.memStore.strategy) || void 0 === o ? void 0 : o.debug) && (h.setLevel(0),
                        h.debug("debug is opened"))
                    }
                }, {
                    key: "initRefreshTimer",
                    value: function() {
                        var e = this;
                        this.timeInterval = setInterval((function() {
                            e.loadRemoteDataTimer()
                        }
                        ), i.e)
                    }
                }, {
                    key: "loadRemoteDataTimer",
                    value: function() {
                        if (this.memStore.isInit && void 0 !== this.memStore.strategy) {
                            h.debug("refresh timer check");
                            var e = this.memStore.refreshDataTime;
                            if (e) {
                                var t = (new Date).getTime()
                                  , n = 1e3 * this.memStore.strategy.refreshDuration;
                                if (h.debug("curTime: ".concat(t, " -- updateTime: ").concat(e, " --\n        diffTime: ").concat(t - e, " -- refreshTime: ").concat(n)),
                                t - e < n)
                                    return void h.debug("do not update this time")
                            }
                            this.loadRemoteData().catch((function(e) {
                                h.info("error process remote data ".concat(e.message))
                            }
                            ))
                        } else
                            h.debug("isInit has not finished and ignore update this time")
                    }
                }, {
                    key: "reportErrorEvent",
                    value: function(e, t) {
                        var n, r = new Map;
                        r.set(i.s, t),
                        null === (n = this.reporter) || void 0 === n || n.reportSDKEvent(e, !1, -1, r)
                    }
                }, {
                    key: "initFail",
                    value: function(e) {
                        this.reportErrorEvent(i.u, e || "unknown"),
                        this.eventHandler.onEvent(0)
                    }
                }, {
                    key: "initLocalSuccess",
                    value: function() {
                        var e;
                        this.memStore.isInit || (this.memStore.isInit = !0,
                        null === (e = this.reporter) || void 0 === e || e.reportSDKEvent(i.u, !0, 0),
                        this.eventHandler.onEvent(1, this.getAllParams()))
                    }
                }, {
                    key: "initRemoteSuccess",
                    value: function() {
                        this.initLocalSuccess(),
                        this.memStore.syncFinish || (this.memStore.syncFinish = !0,
                        this.eventHandler.onEvent(2, this.getAllParams()))
                    }
                }, {
                    key: "registCallback",
                    value: function() {
                        var e = this.memStore.userConfig;
                        e.onInit && this.eventHandler.registEventListener(1, e.onInit),
                        e.onNetData && this.eventHandler.registEventListener(2, e.onNetData),
                        e.onFail && this.eventHandler.registEventListener(0, e.onFail)
                    }
                }]) && d(t.prototype, n),
                Object.defineProperty(t, "prototype", {
                    writable: !1
                }),
                e
            }()
        }
        , function(e, t, n) {
            "use strict";
            var r = this && this.__createBinding || (Object.create ? function(e, t, n, r) {
                void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function() {
                        return t[n]
                    }
                })
            }
            : function(e, t, n, r) {
                void 0 === r && (r = n),
                e[r] = t[n]
            }
            )
              , i = this && this.__exportStar || function(e, t) {
                for (var n in e)
                    "default" === n || t.hasOwnProperty(n) || r(t, e, n)
            }
            ;
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
            t.setLogLevel = t.clearLocalstorage = t.getParam = t.getAllParams = t.reportExpEvent = t.reportExpExpose = t.getTargetExpByName = t.getCachedExpByName = t.getExpByNameAndReport = t.getExpByName = t.getExpByLayerCodeAndReport = t.getExpByLayerCode = t.getExpByIdAndReport = t.getExpById = t.getAllExps = t.forceReload = t.switchUser = t.clear = t.setProfiles = t.init = t.getWabtInstance = void 0;
            var o = n(14)
              , a = n(72);
            i(n(72), t),
            i(n(75), t),
            i(n(34), t),
            i(n(74), t),
            i(n(73), t);
            var s = o.DefaultLogger
              , u = new a.TabJSSDK
              , c = new Map;
            c.set("default", u),
            t.getWabtInstance = function(e) {
                var t = c.get(e);
                return t || (t = new a.TabJSSDK(e),
                c.set(e, t)),
                t
            }
            ,
            t.init = function(e) {
                return u.init(e)
            }
            ,
            t.setProfiles = function(e) {
                u.setProfiles(e)
            }
            ,
            t.clear = function() {
                u.clear()
            }
            ,
            t.switchUser = function(e, t) {
                return u.switchUser(e, t)
            }
            ,
            t.forceReload = function() {
                return u.forceReload()
            }
            ,
            t.getAllExps = function() {
                return u.getAllExps()
            }
            ,
            t.getExpById = function(e) {
                return u.getExpById(e)
            }
            ,
            t.getExpByIdAndReport = function(e) {
                return u.getExpByIdAndReport(e)
            }
            ,
            t.getExpByLayerCode = function(e) {
                return u.getExpByLayerCode(e)
            }
            ,
            t.getExpByLayerCodeAndReport = function(e) {
                return u.getExpByLayerCodeAndReport(e)
            }
            ,
            t.getExpByName = function(e) {
                return u.getExpByName(e)
            }
            ,
            t.getExpByNameAndReport = function(e) {
                return u.getExpByNameAndReport(e)
            }
            ,
            t.getCachedExpByName = function(e) {
                return u.getCachedExpByName(e)
            }
            ,
            t.getTargetExpByName = function(e, t) {
                return u.getTargetExpByName(e, t)
            }
            ,
            t.reportExpExpose = function(e) {
                return u.reportExpExpose(e)
            }
            ,
            t.reportExpEvent = function(e, t) {
                return u.reportExpEvent(e, t)
            }
            ,
            t.getAllParams = function() {
                return u.getAllParams()
            }
            ,
            t.getParam = function(e, t) {
                return u.getParam(e, t)
            }
            ,
            t.clearLocalstorage = function() {
                u.clearLocalstorage()
            }
            ,
            t.setLogLevel = function(e) {
                s.setLevel(e)
            }
        }
        , function(e, t, n) {
            "use strict";
            var r = n(7).f
              , i = n(38)
              , o = n(43)
              , a = n(16)
              , s = n(44)
              , u = n(45)
              , c = n(47)
              , l = n(55)
              , f = n(56)
              , d = n(6)
              , h = n(49).fastKey
              , p = n(57)
              , v = d ? "_s" : "size"
              , m = function(e, t) {
                var n, r = h(t);
                if ("F" !== r)
                    return e._i[r];
                for (n = e._f; n; n = n.n)
                    if (n.k == t)
                        return n
            };
            e.exports = {
                getConstructor: function(e, t, n, c) {
                    var l = e((function(e, r) {
                        s(e, l, t, "_i"),
                        e._t = t,
                        e._i = i(null),
                        e._f = void 0,
                        e._l = void 0,
                        e[v] = 0,
                        null != r && u(r, n, e[c], e)
                    }
                    ));
                    return o(l.prototype, {
                        clear: function() {
                            for (var e = p(this, t), n = e._i, r = e._f; r; r = r.n)
                                r.r = !0,
                                r.p && (r.p = r.p.n = void 0),
                                delete n[r.i];
                            e._f = e._l = void 0,
                            e[v] = 0
                        },
                        delete: function(e) {
                            var n = p(this, t)
                              , r = m(n, e);
                            if (r) {
                                var i = r.n
                                  , o = r.p;
                                delete n._i[r.i],
                                r.r = !0,
                                o && (o.n = i),
                                i && (i.p = o),
                                n._f == r && (n._f = i),
                                n._l == r && (n._l = o),
                                n[v]--
                            }
                            return !!r
                        },
                        forEach: function(e) {
                            p(this, t);
                            for (var n, r = a(e, arguments.length > 1 ? arguments[1] : void 0, 3); n = n ? n.n : this._f; )
                                for (r(n.v, n.k, this); n && n.r; )
                                    n = n.p
                        },
                        has: function(e) {
                            return !!m(p(this, t), e)
                        }
                    }),
                    d && r(l.prototype, "size", {
                        get: function() {
                            return p(this, t)[v]
                        }
                    }),
                    l
                },
                def: function(e, t, n) {
                    var r, i, o = m(e, t);
                    return o ? o.v = n : (e._l = o = {
                        i: i = h(t, !0),
                        k: t,
                        v: n,
                        p: r = e._l,
                        n: void 0,
                        r: !1
                    },
                    e._f || (e._f = o),
                    r && (r.n = o),
                    e[v]++,
                    "F" !== i && (e._i[i] = o)),
                    e
                },
                getEntry: m,
                setStrong: function(e, t, n) {
                    c(e, t, (function(e, n) {
                        this._t = p(e, t),
                        this._k = n,
                        this._l = void 0
                    }
                    ), (function() {
                        for (var e = this._k, t = this._l; t && t.r; )
                            t = t.p;
                        return this._t && (this._l = t = t ? t.n : this._t._f) ? l(0, "keys" == e ? t.k : "values" == e ? t.v : [t.k, t.v]) : (this._t = void 0,
                        l(1))
                    }
                    ), n ? "entries" : "values", !n, !0),
                    f(t)
                }
            }
        }
        , function(e, t, n) {
            var r = n(7)
              , i = n(4)
              , o = n(20);
            e.exports = n(6) ? Object.defineProperties : function(e, t) {
                i(e);
                for (var n, a = o(t), s = a.length, u = 0; s > u; )
                    r.f(e, n = a[u++], t[n]);
                return e
            }
        }
        , function(e, t, n) {
            var r = n(21);
            e.exports = Object("z").propertyIsEnumerable(0) ? Object : function(e) {
                return "String" == r(e) ? e.split("") : Object(e)
            }
        }
        , function(e, t, n) {
            var r = n(15)
              , i = n(53)
              , o = n(82);
            e.exports = function(e) {
                return function(t, n, a) {
                    var s, u = r(t), c = i(u.length), l = o(a, c);
                    if (e && n != n) {
                        for (; c > l; )
                            if ((s = u[l++]) != s)
                                return !0
                    } else
                        for (; c > l; l++)
                            if ((e || l in u) && u[l] === n)
                                return e || l || 0;
                    return !e && -1
                }
            }
        }
        , function(e, t, n) {
            var r = n(40)
              , i = Math.max
              , o = Math.min;
            e.exports = function(e, t) {
                return (e = r(e)) < 0 ? i(e + t, 0) : o(e, t)
            }
        }
        , function(e, t, n) {
            e.exports = n(30)("native-function-to-string", Function.toString)
        }
        , function(e, t, n) {
            var r = n(4);
            e.exports = function(e, t, n, i) {
                try {
                    return i ? t(r(n)[0], n[1]) : t(n)
                } catch (t) {
                    var o = e.return;
                    throw void 0 !== o && r(o.call(e)),
                    t
                }
            }
        }
        , function(e, t, n) {
            var r = n(24)
              , i = n(2)("iterator")
              , o = Array.prototype;
            e.exports = function(e) {
                return void 0 !== e && (r.Array === e || o[i] === e)
            }
        }
        , function(e, t, n) {
            var r = n(46)
              , i = n(2)("iterator")
              , o = n(24);
            e.exports = n(12).getIteratorMethod = function(e) {
                if (null != e)
                    return e[i] || e["@@iterator"] || o[r(e)]
            }
        }
        , function(e, t, n) {
            "use strict";
            var r = n(38)
              , i = n(31)
              , o = n(26)
              , a = {};
            n(13)(a, n(2)("iterator"), (function() {
                return this
            }
            )),
            e.exports = function(e, t, n) {
                e.prototype = r(a, {
                    next: i(1, n)
                }),
                o(e, t + " Iterator")
            }
        }
        , function(e, t, n) {
            var r = n(11)
              , i = n(48)
              , o = n(41)("IE_PROTO")
              , a = Object.prototype;
            e.exports = Object.getPrototypeOf || function(e) {
                return e = i(e),
                r(e, o) ? e[o] : "function" == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? a : null
            }
        }
        , function(e, t, n) {
            "use strict";
            var r = n(1)
              , i = n(25)
              , o = n(9)
              , a = n(43)
              , s = n(49)
              , u = n(45)
              , c = n(44)
              , l = n(5)
              , f = n(10)
              , d = n(58)
              , h = n(26)
              , p = n(90);
            e.exports = function(e, t, n, v, m, g) {
                var y = r[e]
                  , E = y
                  , T = m ? "set" : "add"
                  , b = E && E.prototype
                  , _ = {}
                  , S = function(e) {
                    var t = b[e];
                    o(b, e, "delete" == e || "has" == e ? function(e) {
                        return !(g && !l(e)) && t.call(this, 0 === e ? 0 : e)
                    }
                    : "get" == e ? function(e) {
                        return g && !l(e) ? void 0 : t.call(this, 0 === e ? 0 : e)
                    }
                    : "add" == e ? function(e) {
                        return t.call(this, 0 === e ? 0 : e),
                        this
                    }
                    : function(e, n) {
                        return t.call(this, 0 === e ? 0 : e, n),
                        this
                    }
                    )
                };
                if ("function" == typeof E && (g || b.forEach && !f((function() {
                    (new E).entries().next()
                }
                )))) {
                    var R = new E
                      , w = R[T](g ? {} : -0, 1) != R
                      , C = f((function() {
                        R.has(1)
                    }
                    ))
                      , O = d((function(e) {
                        new E(e)
                    }
                    ))
                      , L = !g && f((function() {
                        for (var e = new E, t = 5; t--; )
                            e[T](t, t);
                        return !e.has(-0)
                    }
                    ));
                    O || ((E = t((function(t, n) {
                        c(t, E, e);
                        var r = p(new y, t, E);
                        return null != n && u(n, m, r[T], r),
                        r
                    }
                    ))).prototype = b,
                    b.constructor = E),
                    (C || L) && (S("delete"),
                    S("has"),
                    m && S("get")),
                    (L || w) && S(T),
                    g && b.clear && delete b.clear
                } else
                    E = v.getConstructor(t, e, m, T),
                    a(E.prototype, n),
                    s.NEED = !0;
                return h(E, e),
                _[e] = E,
                i(i.G + i.W + i.F * (E != y), _),
                g || v.setStrong(E, e, m),
                E
            }
        }
        , function(e, t, n) {
            var r = n(5)
              , i = n(91).set;
            e.exports = function(e, t, n) {
                var o, a = t.constructor;
                return a !== n && "function" == typeof a && (o = a.prototype) !== n.prototype && r(o) && i && i(e, o),
                e
            }
        }
        , function(e, t, n) {
            var r = n(5)
              , i = n(4)
              , o = function(e, t) {
                if (i(e),
                !r(t) && null !== t)
                    throw TypeError(t + ": can't set as prototype!")
            };
            e.exports = {
                set: Object.setPrototypeOf || ("__proto__"in {} ? function(e, t, r) {
                    try {
                        (r = n(16)(Function.call, n(59).f(Object.prototype, "__proto__").set, 2))(e, []),
                        t = !(e instanceof Array)
                    } catch (e) {
                        t = !0
                    }
                    return function(e, n) {
                        return o(e, n),
                        t ? e.__proto__ = n : r(e, n),
                        e
                    }
                }({}, !1) : void 0),
                check: o
            }
        }
        , function(e, t, n) {
            var r = n(40)
              , i = n(39);
            e.exports = function(e) {
                return function(t, n) {
                    var o, a, s = String(i(t)), u = r(n), c = s.length;
                    return u < 0 || u >= c ? e ? "" : void 0 : (o = s.charCodeAt(u)) < 55296 || o > 56319 || u + 1 === c || (a = s.charCodeAt(u + 1)) < 56320 || a > 57343 ? e ? s.charAt(u) : o : e ? s.slice(u, u + 2) : a - 56320 + (o - 55296 << 10) + 65536
                }
            }
        }
        , function(e, t, n) {
            var r = n(2)("unscopables")
              , i = Array.prototype;
            null == i[r] && n(13)(i, r, {}),
            e.exports = function(e) {
                i[r][e] = !0
            }
        }
        , function(e, t, n) {
            var r = n(4)
              , i = n(32)
              , o = n(2)("species");
            e.exports = function(e, t) {
                var n, a = r(e).constructor;
                return void 0 === a || null == (n = r(a)[o]) ? t : i(n)
            }
        }
        , function(e, t) {
            e.exports = function(e, t, n) {
                var r = void 0 === n;
                switch (t.length) {
                case 0:
                    return r ? e() : e.call(n);
                case 1:
                    return r ? e(t[0]) : e.call(n, t[0]);
                case 2:
                    return r ? e(t[0], t[1]) : e.call(n, t[0], t[1]);
                case 3:
                    return r ? e(t[0], t[1], t[2]) : e.call(n, t[0], t[1], t[2]);
                case 4:
                    return r ? e(t[0], t[1], t[2], t[3]) : e.call(n, t[0], t[1], t[2], t[3])
                }
                return e.apply(n, t)
            }
        }
        , function(e, t, n) {
            var r = n(1)
              , i = n(64).set
              , o = r.MutationObserver || r.WebKitMutationObserver
              , a = r.process
              , s = r.Promise
              , u = "process" == n(21)(a);
            e.exports = function() {
                var e, t, n, c = function() {
                    var r, i;
                    for (u && (r = a.domain) && r.exit(); e; ) {
                        i = e.fn,
                        e = e.next;
                        try {
                            i()
                        } catch (r) {
                            throw e ? n() : t = void 0,
                            r
                        }
                    }
                    t = void 0,
                    r && r.enter()
                };
                if (u)
                    n = function() {
                        a.nextTick(c)
                    }
                    ;
                else if (!o || r.navigator && r.navigator.standalone)
                    if (s && s.resolve) {
                        var l = s.resolve(void 0);
                        n = function() {
                            l.then(c)
                        }
                    } else
                        n = function() {
                            i.call(r, c)
                        }
                        ;
                else {
                    var f = !0
                      , d = document.createTextNode("");
                    new o(c).observe(d, {
                        characterData: !0
                    }),
                    n = function() {
                        d.data = f = !f
                    }
                }
                return function(r) {
                    var i = {
                        fn: r,
                        next: void 0
                    };
                    t && (t.next = i),
                    e || (e = i,
                    n()),
                    t = i
                }
            }
        }
        , function(e, t) {
            e.exports = function(e) {
                try {
                    return {
                        e: !1,
                        v: e()
                    }
                } catch (e) {
                    return {
                        e: !0,
                        v: e
                    }
                }
            }
        }
        , function(e, t, n) {
            var r = n(1).navigator;
            e.exports = r && r.userAgent || ""
        }
        , function(e, t, n) {
            var r = n(4)
              , i = n(5)
              , o = n(65);
            e.exports = function(e, t) {
                if (r(e),
                i(t) && t.constructor === e)
                    return t;
                var n = o.f(e);
                return (0,
                n.resolve)(t),
                n.promise
            }
        }
        , function(e, t, n) {
            var r = n(25)
              , i = n(12)
              , o = n(10);
            e.exports = function(e, t) {
                var n = (i.Object || {})[e] || Object[e]
                  , a = {};
                a[e] = t(n),
                r(r.S + r.F * o((function() {
                    n(1)
                }
                )), "Object", a)
            }
        }
        , function(e, t, n) {
            "use strict";
            n(102);
            var r = n(4)
              , i = n(68)
              , o = n(6)
              , a = /./.toString
              , s = function(e) {
                n(9)(RegExp.prototype, "toString", e, !0)
            };
            n(10)((function() {
                return "/a/b" != a.call({
                    source: "a",
                    flags: "b"
                })
            }
            )) ? s((function() {
                var e = r(this);
                return "/".concat(e.source, "/", "flags"in e ? e.flags : !o && e instanceof RegExp ? i.call(e) : void 0)
            }
            )) : "toString" != a.name && s((function() {
                return a.call(this)
            }
            ))
        }
        , function(e, t, n) {
            n(6) && "g" != /./g.flags && n(7).f(RegExp.prototype, "flags", {
                configurable: !0,
                get: n(68)
            })
        }
        , function(e, t, n) {
            "use strict";
            var r = n(1)
              , i = n(11)
              , o = n(6)
              , a = n(25)
              , s = n(9)
              , u = n(49).KEY
              , c = n(10)
              , l = n(30)
              , f = n(26)
              , d = n(23)
              , h = n(2)
              , p = n(69)
              , v = n(104)
              , m = n(105)
              , g = n(106)
              , y = n(4)
              , E = n(5)
              , T = n(48)
              , b = n(15)
              , _ = n(37)
              , S = n(31)
              , R = n(38)
              , w = n(107)
              , C = n(59)
              , O = n(70)
              , L = n(7)
              , A = n(20)
              , P = C.f
              , I = L.f
              , D = w.f
              , k = r.Symbol
              , N = r.JSON
              , x = N && N.stringify
              , M = h("_hidden")
              , F = h("toPrimitive")
              , U = {}.propertyIsEnumerable
              , B = l("symbol-registry")
              , j = l("symbols")
              , V = l("op-symbols")
              , H = Object.prototype
              , q = "function" == typeof k && !!O.f
              , W = r.QObject
              , G = !W || !W.prototype || !W.prototype.findChild
              , Y = o && c((function() {
                return 7 != R(I({}, "a", {
                    get: function() {
                        return I(this, "a", {
                            value: 7
                        }).a
                    }
                })).a
            }
            )) ? function(e, t, n) {
                var r = P(H, t);
                r && delete H[t],
                I(e, t, n),
                r && e !== H && I(H, t, r)
            }
            : I
              , K = function(e) {
                var t = j[e] = R(k.prototype);
                return t._k = e,
                t
            }
              , z = q && "symbol" == typeof k.iterator ? function(e) {
                return "symbol" == typeof e
            }
            : function(e) {
                return e instanceof k
            }
              , Q = function(e, t, n) {
                return e === H && Q(V, t, n),
                y(e),
                t = _(t, !0),
                y(n),
                i(j, t) ? (n.enumerable ? (i(e, M) && e[M][t] && (e[M][t] = !1),
                n = R(n, {
                    enumerable: S(0, !1)
                })) : (i(e, M) || I(e, M, S(1, {})),
                e[M][t] = !0),
                Y(e, t, n)) : I(e, t, n)
            }
              , J = function(e, t) {
                y(e);
                for (var n, r = m(t = b(t)), i = 0, o = r.length; o > i; )
                    Q(e, n = r[i++], t[n]);
                return e
            }
              , X = function(e) {
                var t = U.call(this, e = _(e, !0));
                return !(this === H && i(j, e) && !i(V, e)) && (!(t || !i(this, e) || !i(j, e) || i(this, M) && this[M][e]) || t)
            }
              , Z = function(e, t) {
                if (e = b(e),
                t = _(t, !0),
                e !== H || !i(j, t) || i(V, t)) {
                    var n = P(e, t);
                    return !n || !i(j, t) || i(e, M) && e[M][t] || (n.enumerable = !0),
                    n
                }
            }
              , $ = function(e) {
                for (var t, n = D(b(e)), r = [], o = 0; n.length > o; )
                    i(j, t = n[o++]) || t == M || t == u || r.push(t);
                return r
            }
              , ee = function(e) {
                for (var t, n = e === H, r = D(n ? V : b(e)), o = [], a = 0; r.length > a; )
                    !i(j, t = r[a++]) || n && !i(H, t) || o.push(j[t]);
                return o
            };
            q || (s((k = function() {
                if (this instanceof k)
                    throw TypeError("Symbol is not a constructor!");
                var e = d(arguments.length > 0 ? arguments[0] : void 0)
                  , t = function(n) {
                    this === H && t.call(V, n),
                    i(this, M) && i(this[M], e) && (this[M][e] = !1),
                    Y(this, e, S(1, n))
                };
                return o && G && Y(H, e, {
                    configurable: !0,
                    set: t
                }),
                K(e)
            }
            ).prototype, "toString", (function() {
                return this._k
            }
            )),
            C.f = Z,
            L.f = Q,
            n(71).f = w.f = $,
            n(50).f = X,
            O.f = ee,
            o && !n(22) && s(H, "propertyIsEnumerable", X, !0),
            p.f = function(e) {
                return K(h(e))
            }
            ),
            a(a.G + a.W + a.F * !q, {
                Symbol: k
            });
            for (var te = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), ne = 0; te.length > ne; )
                h(te[ne++]);
            for (var re = A(h.store), ie = 0; re.length > ie; )
                v(re[ie++]);
            a(a.S + a.F * !q, "Symbol", {
                for: function(e) {
                    return i(B, e += "") ? B[e] : B[e] = k(e)
                },
                keyFor: function(e) {
                    if (!z(e))
                        throw TypeError(e + " is not a symbol!");
                    for (var t in B)
                        if (B[t] === e)
                            return t
                },
                useSetter: function() {
                    G = !0
                },
                useSimple: function() {
                    G = !1
                }
            }),
            a(a.S + a.F * !q, "Object", {
                create: function(e, t) {
                    return void 0 === t ? R(e) : J(R(e), t)
                },
                defineProperty: Q,
                defineProperties: J,
                getOwnPropertyDescriptor: Z,
                getOwnPropertyNames: $,
                getOwnPropertySymbols: ee
            });
            var oe = c((function() {
                O.f(1)
            }
            ));
            a(a.S + a.F * oe, "Object", {
                getOwnPropertySymbols: function(e) {
                    return O.f(T(e))
                }
            }),
            N && a(a.S + a.F * (!q || c((function() {
                var e = k();
                return "[null]" != x([e]) || "{}" != x({
                    a: e
                }) || "{}" != x(Object(e))
            }
            ))), "JSON", {
                stringify: function(e) {
                    for (var t, n, r = [e], i = 1; arguments.length > i; )
                        r.push(arguments[i++]);
                    if (n = t = r[1],
                    (E(t) || void 0 !== e) && !z(e))
                        return g(t) || (t = function(e, t) {
                            if ("function" == typeof n && (t = n.call(this, e, t)),
                            !z(t))
                                return t
                        }
                        ),
                        r[1] = t,
                        x.apply(N, r)
                }
            }),
            k.prototype[F] || n(13)(k.prototype, F, k.prototype.valueOf),
            f(k, "Symbol"),
            f(Math, "Math", !0),
            f(r.JSON, "JSON", !0)
        }
        , function(e, t, n) {
            var r = n(1)
              , i = n(12)
              , o = n(22)
              , a = n(69)
              , s = n(7).f;
            e.exports = function(e) {
                var t = i.Symbol || (i.Symbol = o ? {} : r.Symbol || {});
                "_" == e.charAt(0) || e in t || s(t, e, {
                    value: a.f(e)
                })
            }
        }
        , function(e, t, n) {
            var r = n(20)
              , i = n(70)
              , o = n(50);
            e.exports = function(e) {
                var t = r(e)
                  , n = i.f;
                if (n)
                    for (var a, s = n(e), u = o.f, c = 0; s.length > c; )
                        u.call(e, a = s[c++]) && t.push(a);
                return t
            }
        }
        , function(e, t, n) {
            var r = n(21);
            e.exports = Array.isArray || function(e) {
                return "Array" == r(e)
            }
        }
        , function(e, t, n) {
            var r = n(15)
              , i = n(71).f
              , o = {}.toString
              , a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
            e.exports.f = function(e) {
                return a && "[object Window]" == o.call(e) ? function(e) {
                    try {
                        return i(e)
                    } catch (e) {
                        return a.slice()
                    }
                }(e) : i(r(e))
            }
        }
        , function(e, t, n) {
            (function(t) {
                e.exports = function() {
                    "use strict";
                    var e = function(t, n) {
                        return (e = Object.setPrototypeOf || {
                            __proto__: []
                        }instanceof Array && function(e, t) {
                            e.__proto__ = t
                        }
                        || function(e, t) {
                            for (var n in t)
                                Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
                        }
                        )(t, n)
                    }
                      , n = function() {
                        return (n = Object.assign || function(e) {
                            for (var t, n = 1, r = arguments.length; n < r; n++)
                                for (var i in t = arguments[n])
                                    Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                            return e
                        }
                        ).apply(this, arguments)
                    };
                    function r(e, t, n, r) {
                        return new (n || (n = Promise))((function(i, o) {
                            function a(e) {
                                try {
                                    u(r.next(e))
                                } catch (e) {
                                    o(e)
                                }
                            }
                            function s(e) {
                                try {
                                    u(r.throw(e))
                                } catch (e) {
                                    o(e)
                                }
                            }
                            function u(e) {
                                var t;
                                e.done ? i(e.value) : (t = e.value,
                                t instanceof n ? t : new n((function(e) {
                                    e(t)
                                }
                                ))).then(a, s)
                            }
                            u((r = r.apply(e, t || [])).next())
                        }
                        ))
                    }
                    function i(e, t) {
                        var n, r, i, o, a = {
                            label: 0,
                            sent: function() {
                                if (1 & i[0])
                                    throw i[1];
                                return i[1]
                            },
                            trys: [],
                            ops: []
                        };
                        return o = {
                            next: s(0),
                            throw: s(1),
                            return: s(2)
                        },
                        "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                            return this
                        }
                        ),
                        o;
                        function s(o) {
                            return function(s) {
                                return function(o) {
                                    if (n)
                                        throw new TypeError("Generator is already executing.");
                                    for (; a; )
                                        try {
                                            if (n = 1,
                                            r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r),
                                            0) : r.next) && !(i = i.call(r, o[1])).done)
                                                return i;
                                            switch (r = 0,
                                            i && (o = [2 & o[0], i.value]),
                                            o[0]) {
                                            case 0:
                                            case 1:
                                                i = o;
                                                break;
                                            case 4:
                                                return a.label++,
                                                {
                                                    value: o[1],
                                                    done: !1
                                                };
                                            case 5:
                                                a.label++,
                                                r = o[1],
                                                o = [0];
                                                continue;
                                            case 7:
                                                o = a.ops.pop(),
                                                a.trys.pop();
                                                continue;
                                            default:
                                                if (!((i = (i = a.trys).length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                                    a = 0;
                                                    continue
                                                }
                                                if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                                    a.label = o[1];
                                                    break
                                                }
                                                if (6 === o[0] && a.label < i[1]) {
                                                    a.label = i[1],
                                                    i = o;
                                                    break
                                                }
                                                if (i && a.label < i[2]) {
                                                    a.label = i[2],
                                                    a.ops.push(o);
                                                    break
                                                }
                                                i[2] && a.ops.pop(),
                                                a.trys.pop();
                                                continue
                                            }
                                            o = t.call(e, a)
                                        } catch (e) {
                                            o = [6, e],
                                            r = 0
                                        } finally {
                                            n = i = 0
                                        }
                                    if (5 & o[0])
                                        throw o[1];
                                    return {
                                        value: o[0] ? o[1] : void 0,
                                        done: !0
                                    }
                                }([o, s])
                            }
                        }
                    }
                    var o = "__BEACON_"
                      , a = "__BEACON_deviceId"
                      , s = "last_report_time"
                      , u = "sending_event_ids"
                      , c = "beacon_config"
                      , l = "beacon_config_request_time"
                      , f = function() {
                        function e() {
                            var e = this;
                            this.emit = function(t, n) {
                                if (e) {
                                    var r, i = e.__EventsList[t];
                                    if (null == i ? void 0 : i.length) {
                                        i = i.slice();
                                        for (var o = 0; o < i.length; o++) {
                                            r = i[o];
                                            try {
                                                var a = r.callback.apply(e, [n]);
                                                if (1 === r.type && e.remove(t, r.callback),
                                                !1 === a)
                                                    break
                                            } catch (e) {
                                                throw e
                                            }
                                        }
                                    }
                                    return e
                                }
                            }
                            ,
                            this.__EventsList = {}
                        }
                        return e.prototype.indexOf = function(e, t) {
                            for (var n = 0; n < e.length; n++)
                                if (e[n].callback === t)
                                    return n;
                            return -1
                        }
                        ,
                        e.prototype.on = function(e, t, n) {
                            if (void 0 === n && (n = 0),
                            this) {
                                var r = this.__EventsList[e];
                                if (r || (r = this.__EventsList[e] = []),
                                -1 === this.indexOf(r, t)) {
                                    var i = {
                                        name: e,
                                        type: n || 0,
                                        callback: t
                                    };
                                    return r.push(i),
                                    this
                                }
                                return this
                            }
                        }
                        ,
                        e.prototype.one = function(e, t) {
                            this.on(e, t, 1)
                        }
                        ,
                        e.prototype.remove = function(e, t) {
                            if (this) {
                                var n = this.__EventsList[e];
                                if (!n)
                                    return null;
                                if (!t) {
                                    try {
                                        delete this.__EventsList[e]
                                    } catch (e) {}
                                    return null
                                }
                                if (n.length) {
                                    var r = this.indexOf(n, t);
                                    n.splice(r, 1)
                                }
                                return this
                            }
                        }
                        ,
                        e
                    }();
                    function d(e, t) {
                        for (var n = {}, r = 0, i = Object.keys(e); r < i.length; r++) {
                            var o = i[r]
                              , a = e[o];
                            if ("string" == typeof a)
                                n[h(o)] = h(a);
                            else {
                                if (t)
                                    throw new Error("value mast be string  !!!!");
                                n[h(String(o))] = h(String(a))
                            }
                        }
                        return n
                    }
                    function h(e) {
                        if ("string" != typeof e)
                            return e;
                        try {
                            return e.replace(new RegExp("\\|","g"), "%7C").replace(new RegExp("\\&","g"), "%26").replace(new RegExp("\\=","g"), "%3D").replace(new RegExp("\\+","g"), "%2B")
                        } catch (e) {
                            return ""
                        }
                    }
                    function p(e) {
                        return String(e.A99) + String(e.A100)
                    }
                    var v = function() {}
                      , m = function() {
                        function e(e) {
                            var t = this;
                            this.lifeCycle = new f,
                            this.uploadJobQueue = [],
                            this.additionalParams = {},
                            this.delayTime = 0,
                            this._normalLogPipeline = function(e) {
                                if (!e || !e.reduce || !e.length)
                                    throw new TypeError("createPipeline 方法需要传入至少有一个 pipe 的数组");
                                return 1 === e.length ? function(t, n) {
                                    e[0](t, n || v)
                                }
                                : e.reduce((function(e, t) {
                                    return function(n, r) {
                                        return void 0 === r && (r = v),
                                        e(n, (function(e) {
                                            return null == t ? void 0 : t(e, r)
                                        }
                                        ))
                                    }
                                }
                                ))
                            }([function(e) {
                                t.send({
                                    url: t.strategy.getUploadUrl(),
                                    data: e,
                                    method: "post",
                                    contentType: "application/json;charset=UTF-8"
                                }, (function() {
                                    var n = t.config.onReportSuccess;
                                    "function" == typeof n && n(JSON.stringify(e.events))
                                }
                                ), (function() {
                                    var n = t.config.onReportFail;
                                    "function" == typeof n && n(JSON.stringify(e.events))
                                }
                                ))
                            }
                            ]),
                            function(e, t) {
                                if (!e)
                                    throw t instanceof Error ? t : new Error(t)
                            }(Boolean(e.appkey), "appkey must be initial"),
                            this.config = n({}, e)
                        }
                        return e.prototype.onUserAction = function(e, t) {
                            this.preReport(e, t, !1)
                        }
                        ,
                        e.prototype.onDirectUserAction = function(e, t) {
                            this.preReport(e, t, !0)
                        }
                        ,
                        e.prototype.preReport = function(e, t, n) {
                            e ? this.strategy.isEventUpOnOff() && (this.strategy.isBlackEvent(e) || this.strategy.isSampleEvent(e) || this.onReport(e, t, n)) : this.errorReport.reportError("602", " no eventCode")
                        }
                        ,
                        e.prototype.addAdditionalParams = function(e) {
                            for (var t = 0, n = Object.keys(e); t < n.length; t++) {
                                var r = n[t];
                                this.additionalParams[r] = e[r]
                            }
                        }
                        ,
                        e.prototype.setChannelId = function(e) {
                            this.commonInfo.channelID = String(e)
                        }
                        ,
                        e.prototype.setOpenId = function(e) {
                            this.commonInfo.openid = String(e)
                        }
                        ,
                        e.prototype.setUnionid = function(e) {
                            this.commonInfo.unid = String(e)
                        }
                        ,
                        e.prototype.getDeviceId = function() {
                            return this.commonInfo.deviceId
                        }
                        ,
                        e.prototype.getCommonInfo = function() {
                            return this.commonInfo
                        }
                        ,
                        e.prototype.removeSendingId = function(e) {
                            try {
                                var t = JSON.parse(this.storage.getItem(u))
                                  , n = t.indexOf(e);
                                -1 != n && (t.splice(n, 1),
                                this.storage.setItem(u, JSON.stringify(t)))
                            } catch (e) {}
                        }
                        ,
                        e
                    }()
                      , g = function() {
                        function e(e, t, n, r) {
                            this.requestParams = {},
                            this.network = r,
                            this.requestParams.attaid = "00400014144",
                            this.requestParams.token = "6478159937",
                            this.requestParams.product_id = e.appkey,
                            this.requestParams.platform = n,
                            this.requestParams.uin = t.deviceId,
                            this.requestParams.model = "",
                            this.requestParams.os = n,
                            this.requestParams.app_version = e.appVersion,
                            this.requestParams.sdk_version = t.sdkVersion,
                            this.requestParams.error_stack = "",
                            this.uploadUrl = e.isOversea ? "https://htrace.wetvinfo.com/kv" : "https://h.trace.qq.com/kv"
                        }
                        return e.prototype.reportError = function(e, t) {
                            this.requestParams._dc = Math.random(),
                            this.requestParams.error_msg = t,
                            this.requestParams.error_code = e,
                            this.network.get(this.uploadUrl, {
                                params: this.requestParams
                            }).catch((function(e) {}
                            ))
                        }
                        ,
                        e
                    }()
                      , y = function() {
                        function e(e, t, n, r) {
                            this.strategy = {
                                isEventUpOnOff: !0,
                                httpsUploadUrl: "https://otheve.beacon.qq.com/analytics/v2_upload",
                                requestInterval: 30,
                                blacklist: [],
                                samplelist: []
                            },
                            this.realSample = {},
                            this.appkey = "",
                            this.appkey = e.appkey,
                            this.storage = n;
                            try {
                                var i = JSON.parse(this.storage.getItem(c));
                                i && this.processData(i)
                            } catch (e) {}
                            e.isOversea && (this.strategy.httpsUploadUrl = "https://svibeacon.onezapp.com/analytics/v2_upload"),
                            !e.isOversea && this.needRequestConfig() && this.requestConfig(e.appVersion, t, r)
                        }
                        return e.prototype.requestConfig = function(e, t, n) {
                            var r = this;
                            this.storage.setItem(l, Date.now().toString()),
                            n.post("https://oth.str.beacon.qq.com/trpc.beacon.configserver.BeaconConfigService/QueryConfig", {
                                platformId: "undefined" == typeof wx ? "3" : "4",
                                mainAppKey: this.appkey,
                                appVersion: e,
                                sdkVersion: t.sdkVersion,
                                osVersion: t.userAgent,
                                model: "",
                                packageName: "",
                                params: {
                                    A3: t.deviceId
                                }
                            }).then((function(e) {
                                if (0 == e.data.ret)
                                    try {
                                        var t = JSON.parse(e.data.beaconConfig);
                                        t && (r.processData(t),
                                        r.storage.setItem(c, e.data.beaconConfig))
                                    } catch (e) {}
                                else
                                    r.processData(null),
                                    r.storage.setItem(c, "")
                            }
                            )).catch((function(e) {}
                            ))
                        }
                        ,
                        e.prototype.processData = function(e) {
                            var t, n, r, i, o;
                            this.strategy.isEventUpOnOff = null !== (t = null == e ? void 0 : e.isEventUpOnOff) && void 0 !== t ? t : this.strategy.isEventUpOnOff,
                            this.strategy.httpsUploadUrl = null !== (n = null == e ? void 0 : e.httpsUploadUrl) && void 0 !== n ? n : this.strategy.httpsUploadUrl,
                            this.strategy.requestInterval = null !== (r = null == e ? void 0 : e.requestInterval) && void 0 !== r ? r : this.strategy.requestInterval,
                            this.strategy.blacklist = null !== (i = null == e ? void 0 : e.blacklist) && void 0 !== i ? i : this.strategy.blacklist,
                            this.strategy.samplelist = null !== (o = null == e ? void 0 : e.samplelist) && void 0 !== o ? o : this.strategy.samplelist;
                            for (var a = 0, s = this.strategy.samplelist; a < s.length; a++) {
                                var u = s[a].split(",");
                                2 == u.length && (this.realSample[u[0]] = u[1])
                            }
                        }
                        ,
                        e.prototype.needRequestConfig = function() {
                            var e = Number(this.storage.getItem(l));
                            return Date.now() - e > 60 * this.strategy.requestInterval * 1e3
                        }
                        ,
                        e.prototype.getUploadUrl = function() {
                            return this.strategy.httpsUploadUrl + "?appkey=" + this.appkey
                        }
                        ,
                        e.prototype.isBlackEvent = function(e) {
                            return -1 != this.strategy.blacklist.indexOf(e)
                        }
                        ,
                        e.prototype.isEventUpOnOff = function() {
                            return this.strategy.isEventUpOnOff
                        }
                        ,
                        e.prototype.isSampleEvent = function(e) {
                            return !!Object.prototype.hasOwnProperty.call(this.realSample, e) && this.realSample[e] < Math.floor(Math.random() * Math.floor(1e4))
                        }
                        ,
                        e
                    }()
                      , E = "session_storage_key"
                      , T = function() {
                        function e(e, t, n) {
                            this.beacon = n,
                            this.storage = e,
                            this.duration = t,
                            this.appkey = n.config.appkey
                        }
                        return e.prototype.getSession = function() {
                            var e = this.storage.getItem(E);
                            if (!e)
                                return this.createSession();
                            var t = ""
                              , n = 0;
                            try {
                                var r = JSON.parse(e) || {
                                    sessionId: void 0,
                                    sessionStart: void 0
                                };
                                if (!r.sessionId || !r.sessionStart)
                                    return this.createSession();
                                var i = Number(this.storage.getItem(s));
                                if (Date.now() - i > this.duration)
                                    return this.createSession();
                                t = r.sessionId,
                                n = r.sessionStart
                            } catch (e) {}
                            return {
                                sessionId: t,
                                sessionStart: n
                            }
                        }
                        ,
                        e.prototype.createSession = function() {
                            var e = Date.now()
                              , t = {
                                sessionId: this.appkey + "_" + e.toString(),
                                sessionStart: e
                            };
                            this.storage.setItem(E, JSON.stringify(t)),
                            this.storage.setItem(s, e.toString());
                            var n = "is_new_user"
                              , r = this.storage.getItem(n);
                            return this.beacon.onDirectUserAction("rqd_applaunched", {
                                A21: r ? "N" : "Y"
                            }),
                            this.storage.setItem(n, JSON.stringify(!1)),
                            t
                        }
                        ,
                        e
                    }();
                    function b() {
                        var e = navigator.userAgent
                          , t = e.indexOf("compatible") > -1 && e.indexOf("MSIE") > -1
                          , n = e.indexOf("Edge") > -1 && !t
                          , r = e.indexOf("Trident") > -1 && e.indexOf("rv:11.0") > -1;
                        if (t) {
                            new RegExp("MSIE (\\d+\\.\\d+);").test(e);
                            var i = parseFloat(RegExp.$1);
                            return 7 == i ? 7 : 8 == i ? 8 : 9 == i ? 9 : 10 == i ? 10 : 6
                        }
                        return n ? -2 : r ? 11 : -1
                    }
                    var _, S = function() {
                        return (S = Object.assign || function(e) {
                            for (var t, n = 1, r = arguments.length; n < r; n++)
                                for (var i in t = arguments[n])
                                    Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                            return e
                        }
                        ).apply(this, arguments)
                    }, R = function() {
                        function e(e, t) {
                            void 0 === t && (t = {}),
                            this.reportOptions = {},
                            this.config = e,
                            this.reportOptions = t
                        }
                        return e.canUseDB = function() {
                            return !!(null === window || void 0 === window ? void 0 : window.indexedDB)
                        }
                        ,
                        e.prototype.openDB = function() {
                            var t = this;
                            return new Promise((function(n, r) {
                                if (!e.canUseDB())
                                    return r({
                                        message: "当前不支持 indexeddb"
                                    });
                                var i = t.config
                                  , o = i.name
                                  , a = i.version
                                  , s = i.stores
                                  , u = indexedDB.open(o, a);
                                u.onsuccess = function() {
                                    t.db = u.result,
                                    n(),
                                    S({
                                        result: 1,
                                        func: "open",
                                        params: JSON.stringify(t.config)
                                    }, t.reportOptions)
                                }
                                ,
                                u.onerror = function(e) {
                                    var n, i;
                                    r(e),
                                    S({
                                        result: 0,
                                        func: "open",
                                        params: JSON.stringify(t.config),
                                        error_msg: null === (i = null === (n = e.target) || void 0 === n ? void 0 : n.error) || void 0 === i ? void 0 : i.message
                                    }, t.reportOptions)
                                }
                                ,
                                u.onupgradeneeded = function() {
                                    t.db = u.result;
                                    try {
                                        null == s || s.forEach((function(e) {
                                            t.createStore(e)
                                        }
                                        ))
                                    } catch (e) {
                                        S({
                                            result: 0,
                                            func: "open",
                                            params: JSON.stringify(t.config),
                                            error_msg: e.message
                                        }, t.reportOptions),
                                        r(e)
                                    }
                                }
                            }
                            ))
                        }
                        ,
                        e.prototype.useStore = function(e) {
                            return this.storeName = e,
                            this
                        }
                        ,
                        e.prototype.deleteDB = function() {
                            var e = this;
                            return this.closeDB(),
                            new Promise((function(t, n) {
                                var r = indexedDB.deleteDatabase(e.config.name);
                                r.onsuccess = function() {
                                    return t()
                                }
                                ,
                                r.onerror = n
                            }
                            ))
                        }
                        ,
                        e.prototype.closeDB = function() {
                            var e;
                            null === (e = this.db) || void 0 === e || e.close(),
                            this.db = null
                        }
                        ,
                        e.prototype.getStoreCount = function() {
                            var e = this;
                            return new Promise((function(t, n) {
                                var r = e.getStore("readonly").count();
                                r.onsuccess = function() {
                                    return t(r.result)
                                }
                                ,
                                r.onerror = n
                            }
                            ))
                        }
                        ,
                        e.prototype.clearStore = function() {
                            var e = this;
                            return new Promise((function(t, n) {
                                var r = e.getStore("readwrite").clear();
                                r.onsuccess = function() {
                                    return t()
                                }
                                ,
                                r.onerror = n
                            }
                            ))
                        }
                        ,
                        e.prototype.add = function(e, t) {
                            var n = this;
                            return new Promise((function(r, i) {
                                var o = n.getStore("readwrite").add(e, t);
                                o.onsuccess = function() {
                                    r(o.result)
                                }
                                ,
                                o.onerror = i
                            }
                            ))
                        }
                        ,
                        e.prototype.put = function(e, t) {
                            var n = this;
                            return new Promise((function(r, i) {
                                var o = n.getStore("readwrite").put(e, t);
                                o.onsuccess = function() {
                                    r(o.result)
                                }
                                ,
                                o.onerror = i
                            }
                            ))
                        }
                        ,
                        e.prototype.getStoreAllData = function() {
                            var e = this;
                            return new Promise((function(t, n) {
                                var r = e.getStore("readonly").openCursor()
                                  , i = [];
                                r.onsuccess = function() {
                                    var e;
                                    if (null === (e = r.result) || void 0 === e ? void 0 : e.value) {
                                        var n = r.result.value;
                                        i.push(n),
                                        r.result.continue()
                                    } else
                                        t(i)
                                }
                                ,
                                r.onerror = n
                            }
                            ))
                        }
                        ,
                        e.prototype.getDataRangeByIndex = function(e, t, n, r, i) {
                            var o = this;
                            return new Promise((function(a, s) {
                                var u = o.getStore().index(e)
                                  , c = IDBKeyRange.bound(t, n, r, i)
                                  , l = []
                                  , f = u.openCursor(c);
                                f.onsuccess = function() {
                                    var e;
                                    (null === (e = null == f ? void 0 : f.result) || void 0 === e ? void 0 : e.value) ? (l.push(null == f ? void 0 : f.result.value),
                                    null == f || f.result.continue()) : a(l)
                                }
                                ,
                                f.onerror = s
                            }
                            ))
                        }
                        ,
                        e.prototype.removeDataByIndex = function(e, t, n, r, i) {
                            var o = this;
                            return new Promise((function(a, s) {
                                var u = o.getStore("readwrite").index(e)
                                  , c = IDBKeyRange.bound(t, n, r, i)
                                  , l = u.openCursor(c)
                                  , f = 0;
                                l.onsuccess = function(e) {
                                    var t = e.target.result;
                                    t ? (f += 1,
                                    t.delete(),
                                    t.continue()) : a(f)
                                }
                                ,
                                l.onerror = s
                            }
                            ))
                        }
                        ,
                        e.prototype.createStore = function(e) {
                            var t = e.name
                              , n = e.indexes
                              , r = void 0 === n ? [] : n
                              , i = e.options;
                            if (this.db) {
                                this.db.objectStoreNames.contains(t) && this.db.deleteObjectStore(t);
                                var o = this.db.createObjectStore(t, i);
                                r.forEach((function(e) {
                                    o.createIndex(e.indexName, e.keyPath, e.options)
                                }
                                ))
                            }
                        }
                        ,
                        e.prototype.getStore = function(e) {
                            var t;
                            return void 0 === e && (e = "readonly"),
                            null === (t = this.db) || void 0 === t ? void 0 : t.transaction(this.storeName, e).objectStore(this.storeName)
                        }
                        ,
                        e
                    }(), w = "event_table_v3", C = "eventId", O = function() {
                        function e(e) {
                            this.isReady = !1,
                            this.taskQueue = Promise.resolve(),
                            this.db = new R({
                                name: "Beacon_" + e + "_V3",
                                version: 1,
                                stores: [{
                                    name: w,
                                    options: {
                                        keyPath: C
                                    },
                                    indexes: [{
                                        indexName: C,
                                        keyPath: C,
                                        options: {
                                            unique: !0
                                        }
                                    }]
                                }]
                            }),
                            this.open()
                        }
                        return e.prototype.getCount = function() {
                            var e = this;
                            return this.readyExec((function() {
                                return e.db.getStoreCount()
                            }
                            ))
                        }
                        ,
                        e.prototype.setItem = function(e, t) {
                            var n = this;
                            return this.readyExec((function() {
                                return n.db.add({
                                    eventId: e,
                                    value: t
                                })
                            }
                            ))
                        }
                        ,
                        e.prototype.getItem = function(e) {
                            return r(this, void 0, void 0, (function() {
                                var t = this;
                                return i(this, (function(n) {
                                    return [2, this.readyExec((function() {
                                        return t.db.getDataRangeByIndex(C, e, e)
                                    }
                                    ))]
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.prototype.removeItem = function(e) {
                            var t = this;
                            return this.readyExec((function() {
                                return t.db.removeDataByIndex(C, e, e)
                            }
                            ))
                        }
                        ,
                        e.prototype.updateItem = function(e, t) {
                            var n = this;
                            return this.readyExec((function() {
                                return n.db.put({
                                    eventId: e,
                                    value: t
                                })
                            }
                            ))
                        }
                        ,
                        e.prototype.iterate = function(e) {
                            var t = this;
                            return this.readyExec((function() {
                                return t.db.getStoreAllData().then((function(t) {
                                    t.forEach((function(t) {
                                        e(t.value)
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.prototype.open = function() {
                            return r(this, void 0, void 0, (function() {
                                var e = this;
                                return i(this, (function(t) {
                                    switch (t.label) {
                                    case 0:
                                        return this.taskQueue = this.taskQueue.then((function() {
                                            return e.db.openDB()
                                        }
                                        )),
                                        [4, this.taskQueue];
                                    case 1:
                                        return t.sent(),
                                        this.isReady = !0,
                                        this.db.useStore(w),
                                        [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.prototype.readyExec = function(e) {
                            return this.isReady ? e() : (this.taskQueue = this.taskQueue.then((function() {
                                return e()
                            }
                            )),
                            this.taskQueue)
                        }
                        ,
                        e
                    }(), L = function() {
                        function e(e) {
                            this.keyObject = {},
                            this.storage = e
                        }
                        return e.prototype.getCount = function() {
                            return this.storage.getStoreCount()
                        }
                        ,
                        e.prototype.removeItem = function(e) {
                            this.storage.removeItem(e),
                            delete this.keyObject[e]
                        }
                        ,
                        e.prototype.setItem = function(e, t) {
                            var n = JSON.stringify(t);
                            this.storage.setItem(e, n),
                            this.keyObject[e] = t
                        }
                        ,
                        e.prototype.iterate = function(e) {
                            for (var t = Object.keys(this.keyObject), n = 0; n < t.length; n++) {
                                var r = this.storage.getItem(t[n]);
                                e(JSON.parse(r))
                            }
                        }
                        ,
                        e
                    }(), A = function() {
                        function e(e, t) {
                            var n = this;
                            this.dbEventCount = 0,
                            b() > 0 || !window.indexedDB || /X5Lite/.test(navigator.userAgent) ? (this.store = new L(t),
                            this.dbEventCount = this.store.getCount()) : (this.store = new O(e),
                            this.getCount().then((function(e) {
                                n.dbEventCount = e
                            }
                            )))
                        }
                        return e.prototype.getCount = function() {
                            return r(this, void 0, void 0, (function() {
                                return i(this, (function(e) {
                                    switch (e.label) {
                                    case 0:
                                        return e.trys.push([0, 2, , 3]),
                                        [4, this.store.getCount()];
                                    case 1:
                                        return [2, e.sent()];
                                    case 2:
                                        return e.sent(),
                                        [2, Promise.reject()];
                                    case 3:
                                        return [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.prototype.insertEvent = function(e, t) {
                            return r(this, void 0, void 0, (function() {
                                var n, r;
                                return i(this, (function(i) {
                                    switch (i.label) {
                                    case 0:
                                        if (this.dbEventCount >= 1e4)
                                            return [2, Promise.reject()];
                                        n = p(e.mapValue),
                                        i.label = 1;
                                    case 1:
                                        return i.trys.push([1, 3, , 4]),
                                        this.dbEventCount++,
                                        [4, this.store.setItem(n, e)];
                                    case 2:
                                        return [2, i.sent()];
                                    case 3:
                                        return r = i.sent(),
                                        t && t(r, e),
                                        this.dbEventCount--,
                                        [2, Promise.reject()];
                                    case 4:
                                        return [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.prototype.getEvents = function() {
                            return r(this, void 0, void 0, (function() {
                                var e;
                                return i(this, (function(t) {
                                    switch (t.label) {
                                    case 0:
                                        e = [],
                                        t.label = 1;
                                    case 1:
                                        return t.trys.push([1, 3, , 4]),
                                        [4, this.store.iterate((function(t) {
                                            e.push(t)
                                        }
                                        ))];
                                    case 2:
                                    case 3:
                                        return t.sent(),
                                        [2, Promise.all(e)];
                                    case 4:
                                        return [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.prototype.removeEvent = function(e) {
                            return r(this, void 0, void 0, (function() {
                                var t;
                                return i(this, (function(n) {
                                    switch (n.label) {
                                    case 0:
                                        t = p(e.mapValue),
                                        n.label = 1;
                                    case 1:
                                        return n.trys.push([1, 3, , 4]),
                                        this.dbEventCount--,
                                        [4, this.store.removeItem(t)];
                                    case 2:
                                        return [2, n.sent()];
                                    case 3:
                                        return n.sent(),
                                        this.dbEventCount++,
                                        [2, Promise.reject()];
                                    case 4:
                                        return [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e
                    }(), P = function() {
                        return (P = Object.assign || function(e) {
                            for (var t, n = 1, r = arguments.length; n < r; n++)
                                for (var i in t = arguments[n])
                                    Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                            return e
                        }
                        ).apply(this, arguments)
                    };
                    function I(e) {
                        try {
                            return decodeURIComponent(e.replace(/\+/g, " "))
                        } catch (e) {
                            return null
                        }
                    }
                    function D(e, t) {
                        var n = [null, void 0, "", NaN].includes(e);
                        if (t.isSkipEmpty && n)
                            return null;
                        var r = !t.isSkipEmpty && n ? "" : e;
                        try {
                            return t.encode ? encodeURIComponent(r) : r
                        } catch (e) {
                            return null
                        }
                    }
                    function k(e, t) {
                        return new Promise((function(n, r) {
                            if (t && document.querySelectorAll("script[data-tag=" + t + "]").length)
                                return n();
                            var i = document.createElement("script")
                              , o = P({
                                type: "text/javascript",
                                charset: "utf-8"
                            }, e);
                            Object.keys(o).forEach((function(e) {
                                return function(e, t, n) {
                                    if (e)
                                        return void 0 === n ? e.getAttribute(t) : e.setAttribute(t, n)
                                }(i, e, o[e])
                            }
                            )),
                            t && (i.dataset.tag = t),
                            i.onload = function() {
                                return n()
                            }
                            ,
                            i.onreadystatechange = function() {
                                var e = i.readyState;
                                ["complete", "loaded"].includes(e) && (i.onreadystatechange = null,
                                n())
                            }
                            ,
                            i.onerror = r,
                            document.body.appendChild(i)
                        }
                        ))
                    }
                    !function(e) {
                        e[e.equal = 0] = "equal",
                        e[e.low = -1] = "low",
                        e[e.high = 1] = "high"
                    }(_ || (_ = {}));
                    var N = function() {
                        return (N = Object.assign || function(e) {
                            for (var t, n = 1, r = arguments.length; n < r; n++)
                                for (var i in t = arguments[n])
                                    Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                            return e
                        }
                        ).apply(this, arguments)
                    };
                    function x(e, t, n, r) {
                        return new (n || (n = Promise))((function(i, o) {
                            function a(e) {
                                try {
                                    u(r.next(e))
                                } catch (e) {
                                    o(e)
                                }
                            }
                            function s(e) {
                                try {
                                    u(r.throw(e))
                                } catch (e) {
                                    o(e)
                                }
                            }
                            function u(e) {
                                var t;
                                e.done ? i(e.value) : (t = e.value,
                                t instanceof n ? t : new n((function(e) {
                                    e(t)
                                }
                                ))).then(a, s)
                            }
                            u((r = r.apply(e, t || [])).next())
                        }
                        ))
                    }
                    function M(e, t) {
                        var n, r, i, o, a = {
                            label: 0,
                            sent: function() {
                                if (1 & i[0])
                                    throw i[1];
                                return i[1]
                            },
                            trys: [],
                            ops: []
                        };
                        return o = {
                            next: s(0),
                            throw: s(1),
                            return: s(2)
                        },
                        "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                            return this
                        }
                        ),
                        o;
                        function s(o) {
                            return function(s) {
                                return function(o) {
                                    if (n)
                                        throw new TypeError("Generator is already executing.");
                                    for (; a; )
                                        try {
                                            if (n = 1,
                                            r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r),
                                            0) : r.next) && !(i = i.call(r, o[1])).done)
                                                return i;
                                            switch (r = 0,
                                            i && (o = [2 & o[0], i.value]),
                                            o[0]) {
                                            case 0:
                                            case 1:
                                                i = o;
                                                break;
                                            case 4:
                                                return a.label++,
                                                {
                                                    value: o[1],
                                                    done: !1
                                                };
                                            case 5:
                                                a.label++,
                                                r = o[1],
                                                o = [0];
                                                continue;
                                            case 7:
                                                o = a.ops.pop(),
                                                a.trys.pop();
                                                continue;
                                            default:
                                                if (!((i = (i = a.trys).length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                                    a = 0;
                                                    continue
                                                }
                                                if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                                    a.label = o[1];
                                                    break
                                                }
                                                if (6 === o[0] && a.label < i[1]) {
                                                    a.label = i[1],
                                                    i = o;
                                                    break
                                                }
                                                if (i && a.label < i[2]) {
                                                    a.label = i[2],
                                                    a.ops.push(o);
                                                    break
                                                }
                                                i[2] && a.ops.pop(),
                                                a.trys.pop();
                                                continue
                                            }
                                            o = t.call(e, a)
                                        } catch (e) {
                                            o = [6, e],
                                            r = 0
                                        } finally {
                                            n = i = 0
                                        }
                                    if (5 & o[0])
                                        throw o[1];
                                    return {
                                        value: o[0] ? o[1] : void 0,
                                        done: !0
                                    }
                                }([o, s])
                            }
                        }
                    }
                    var F = function() {
                        function e() {
                            this.interceptors = []
                        }
                        return e.prototype.use = function(e, t) {
                            return this.interceptors.push({
                                resolved: e,
                                rejected: t
                            }),
                            this.interceptors.length - 1
                        }
                        ,
                        e.prototype.traverse = function(e, t) {
                            void 0 === t && (t = !1);
                            var n = Promise.resolve(e);
                            return (t ? Array.prototype.reduceRight : Array.prototype.reduce).call(this.interceptors, (function(e, t) {
                                if (t) {
                                    var r = t.resolved
                                      , i = t.rejected;
                                    n = n.then(r, i)
                                }
                                return e
                            }
                            ), ""),
                            n
                        }
                        ,
                        e.prototype.eject = function(e) {
                            this.interceptors[e] && (this.interceptors[e] = null)
                        }
                        ,
                        e
                    }()
                      , U = {
                        defaults: {
                            timeout: 0,
                            method: "GET",
                            mode: "cors",
                            redirect: "follow",
                            credentials: "same-origin"
                        },
                        headers: {
                            common: {
                                Accept: "application/json, text/plain, */*"
                            },
                            POST: {
                                "Content-Type": "application/x-www-form-urlencoded"
                            },
                            PUT: {
                                "Content-Type": "application/x-www-form-urlencoded"
                            },
                            PATCH: {
                                "Content-Type": "application/x-www-form-urlencoded"
                            }
                        },
                        baseURL: "",
                        polyfillUrl: "https://vm.gtimg.cn/comps/script/fetch.min.js",
                        interceptors: {
                            request: new F,
                            response: new F
                        }
                    }
                      , B = /^([a-z][a-z\d+\-.]*:)?\/\//i
                      , j = Object.prototype.toString;
                    function V(e) {
                        return x(this, void 0, void 0, (function() {
                            var t;
                            return M(this, (function(n) {
                                switch (n.label) {
                                case 0:
                                    if (window.fetch)
                                        return [2];
                                    n.label = 1;
                                case 1:
                                    return n.trys.push([1, 3, , 4]),
                                    [4, k({
                                        src: e
                                    })];
                                case 2:
                                    return n.sent(),
                                    [3, 4];
                                case 3:
                                    throw t = n.sent(),
                                    function(e) {
                                        if ("undefined" != typeof Image) {
                                            var t = new Image(1,1)
                                              , n = N({
                                                attaid: "0f400053130",
                                                token: "6552374442",
                                                comps: "@tencent/ovb-request",
                                                version: "1.1.18",
                                                ua: navigator.userAgent,
                                                url: location.href,
                                                _dc: Math.random()
                                            }, e)
                                              , r = Object.keys(n).map((function(e) {
                                                return e + "=" + encodeURIComponent(n[e])
                                            }
                                            )).join("&");
                                            t.src = "https://h.trace.qq.com/kv?" + r
                                        }
                                    }({
                                        func: "loadPolyfill",
                                        result: 0,
                                        params: e,
                                        error_msg: t.message
                                    }),
                                    new Error("加载 polyfill " + e + " 失败: " + t.message);
                                case 4:
                                    return [2]
                                }
                            }
                            ))
                        }
                        ))
                    }
                    function H(e) {
                        return x(this, void 0, void 0, (function() {
                            var t, n, r, i, o, a, s, u, c, l, f, d, h, p, v, m, g;
                            return M(this, (function(y) {
                                switch (y.label) {
                                case 0:
                                    return t = U.baseURL,
                                    n = U.defaults,
                                    r = U.interceptors,
                                    [4, V(U.polyfillUrl)];
                                case 1:
                                    return y.sent(),
                                    (i = N(N({}, n), e)).headers || (i.headers = function(e) {
                                        void 0 === e && (e = "GET");
                                        var t = U.headers[e] || {};
                                        return N(N({}, U.headers.common), t)
                                    }(i.method)),
                                    function(e) {
                                        ["Accept", "Content-Type"].forEach((function(t) {
                                            return n = t,
                                            void ((r = e.headers) && Object.keys(r).forEach((function(e) {
                                                e !== n && e.toUpperCase() === n.toUpperCase() && (r[n] = r[e],
                                                delete r[e])
                                            }
                                            )));
                                            var n, r
                                        }
                                        )),
                                        function(e) {
                                            if ("[object Object]" !== j.call(e))
                                                return !1;
                                            var t = Object.getPrototypeOf(e);
                                            return null === t || t === Object.prototype
                                        }(e.body) && (e.body = JSON.stringify(e.body),
                                        e.headers && (e.headers["Content-Type"] = "application/json;charset=utf-8"))
                                    }(i),
                                    [4, r.request.traverse(i, !0)];
                                case 2:
                                    if ((o = y.sent())instanceof Error)
                                        throw o;
                                    return o.url = function(e, t) {
                                        return !e || B.test(t) ? t : e.replace(/\/+$/, "") + "/" + t.replace(/^\/+/, "")
                                    }(t, o.url),
                                    a = o.url,
                                    s = o.timeout,
                                    u = o.params,
                                    c = o.method,
                                    l = ["GET", "DELETE", "OPTIONS", "HEAD"].includes(void 0 === c ? "GET" : c) && !!u,
                                    f = l ? function(e, t) {
                                        void 0 === t && (t = {
                                            encode: !0,
                                            isSkipEmpty: !1
                                        });
                                        var n = e.url
                                          , r = e.query
                                          , i = void 0 === r ? {} : r
                                          , o = e.hash
                                          , a = n.split("#")
                                          , s = a[0]
                                          , u = a[1]
                                          , c = void 0 === u ? "" : u
                                          , l = s.split("?")[0]
                                          , f = []
                                          , d = D(o || c, t)
                                          , h = P(P({}, function(e) {
                                            var t = e.split("#")
                                              , n = t[0]
                                              , r = t[1]
                                              , i = void 0 === r ? "" : r
                                              , o = n.split("?")
                                              , a = o[0]
                                              , s = o[1]
                                              , u = void 0 === s ? "" : s
                                              , c = I(i)
                                              , l = Object.create(null);
                                            return u.split("&").forEach((function(e) {
                                                var t = e.split("=")
                                                  , n = t[0]
                                                  , r = t[1]
                                                  , i = void 0 === r ? "" : r
                                                  , o = I(n)
                                                  , a = I(i);
                                                null === o || null === a || "" === o && "" === a || l[o] || (l[o] = a)
                                            }
                                            )),
                                            {
                                                url: a,
                                                query: l,
                                                hash: c
                                            }
                                        }(n).query), i);
                                        return Object.keys(h).forEach((function(e) {
                                            var n = D(e, t)
                                              , r = D(h[e], t);
                                            null !== n && null !== r && f.push(n + "=" + r)
                                        }
                                        )),
                                        l + (f.length ? "?" + f.join("&") : "") + (d ? "#" + d : "")
                                    }({
                                        url: a,
                                        query: u
                                    }) : a,
                                    d = [],
                                    s && !o.signal && (v = new Promise((function(e) {
                                        h = setTimeout((function() {
                                            e(new Error("timeout"))
                                        }
                                        ), s)
                                    }
                                    )),
                                    d.push(v),
                                    p = new AbortController,
                                    o.signal = p.signal),
                                    d.push(fetch(f, o).catch((function(e) {
                                        return e
                                    }
                                    ))),
                                    [4, Promise.race(d)];
                                case 3:
                                    return m = y.sent(),
                                    h && clearTimeout(h),
                                    [4, r.response.traverse(m)];
                                case 4:
                                    if ((g = y.sent())instanceof Error)
                                        throw null == p || p.abort(),
                                        g;
                                    return [2, g]
                                }
                            }
                            ))
                        }
                        ))
                    }
                    var q = function() {
                        function e(e) {
                            U.interceptors.request.use((function(t) {
                                var r = t.url
                                  , i = t.method
                                  , o = t.body
                                  , a = o;
                                if (e.onReportBeforeSend) {
                                    var s = e.onReportBeforeSend({
                                        url: r,
                                        method: i,
                                        data: o
                                    });
                                    a = (null == s ? void 0 : s.data) || null
                                }
                                if ("GET" !== i && !a)
                                    throw new Error("No data for sdk, cancel.");
                                return n(n({}, t), {
                                    body: a
                                })
                            }
                            ))
                        }
                        return e.prototype.get = function(e, t) {
                            return r(this, void 0, void 0, (function() {
                                var r, o;
                                return i(this, (function(i) {
                                    switch (i.label) {
                                    case 0:
                                        return [4, H(n({
                                            url: e
                                        }, t))];
                                    case 1:
                                        return [4, (r = i.sent()).json()];
                                    case 2:
                                        return o = i.sent(),
                                        [2, Promise.resolve({
                                            data: o,
                                            status: r.status,
                                            statusText: r.statusText,
                                            headers: r.headers
                                        })]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.prototype.post = function(e, t, o) {
                            return r(this, void 0, void 0, (function() {
                                var r, a;
                                return i(this, (function(i) {
                                    switch (i.label) {
                                    case 0:
                                        return [4, H(n({
                                            url: e,
                                            body: t,
                                            method: "POST"
                                        }, o))];
                                    case 1:
                                        return [4, (r = i.sent()).json()];
                                    case 2:
                                        return a = i.sent(),
                                        [2, Promise.resolve({
                                            data: a,
                                            status: r.status,
                                            statusText: r.statusText,
                                            headers: r.headers
                                        })]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e
                    }()
                      , W = function() {
                        function e(e) {
                            this.appkey = e
                        }
                        return e.prototype.getItem = function(e) {
                            try {
                                return window.localStorage.getItem(this.getStoreKey(e))
                            } catch (e) {
                                return ""
                            }
                        }
                        ,
                        e.prototype.removeItem = function(e) {
                            try {
                                window.localStorage.removeItem(this.getStoreKey(e))
                            } catch (e) {}
                        }
                        ,
                        e.prototype.setItem = function(e, t) {
                            try {
                                window.localStorage.setItem(this.getStoreKey(e), t)
                            } catch (e) {}
                        }
                        ,
                        e.prototype.setSessionItem = function(e, t) {
                            try {
                                window.sessionStorage.setItem(this.getStoreKey(e), t)
                            } catch (e) {}
                        }
                        ,
                        e.prototype.getSessionItem = function(e) {
                            try {
                                return window.sessionStorage.getItem(this.getStoreKey(e))
                            } catch (e) {
                                return ""
                            }
                        }
                        ,
                        e.prototype.getStoreKey = function(e) {
                            return o + this.appkey + "_" + e
                        }
                        ,
                        e.prototype.createDeviceId = function() {
                            try {
                                var e = window.localStorage.getItem(a);
                                return e || (e = function(e) {
                                    for (var t = "ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789", n = "", r = 0; r < 32; r++)
                                        n += t.charAt(Math.floor(Math.random() * t.length));
                                    return n
                                }(),
                                window.localStorage.setItem(a, e)),
                                e
                            } catch (e) {
                                return ""
                            }
                        }
                        ,
                        e.prototype.clear = function() {
                            try {
                                for (var e = window.localStorage.length, t = 0; t < e; t++) {
                                    var n = window.localStorage.key(t);
                                    (null == n ? void 0 : n.substr(0, 9)) == o && window.localStorage.removeItem(n)
                                }
                            } catch (e) {}
                        }
                        ,
                        e.prototype.getStoreCount = function() {
                            var e = 0;
                            try {
                                e = window.localStorage.length
                            } catch (e) {}
                            return e
                        }
                        ,
                        e
                    }();
                    "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : void 0 !== t || "undefined" != typeof self && self;
                    var G = function(e) {
                        var t = {
                            exports: {}
                        };
                        return function(e, t) {
                            e.exports = function() {
                                function e(e, t, n, r, i, o, a) {
                                    try {
                                        var s = e[o](a)
                                          , u = s.value
                                    } catch (e) {
                                        return void n(e)
                                    }
                                    s.done ? t(u) : Promise.resolve(u).then(r, i)
                                }
                                var t, n = (function(e) {
                                    e = function(e) {
                                        var t, n = Object.prototype, r = n.hasOwnProperty, i = "function" == typeof Symbol ? Symbol : {}, o = i.iterator || "@@iterator", a = i.asyncIterator || "@@asyncIterator", s = i.toStringTag || "@@toStringTag";
                                        function u(e, t, n) {
                                            return Object.defineProperty(e, t, {
                                                value: n,
                                                enumerable: !0,
                                                configurable: !0,
                                                writable: !0
                                            }),
                                            e[t]
                                        }
                                        try {
                                            u({}, "")
                                        } catch (n) {
                                            u = function(e, t, n) {
                                                return e[t] = n
                                            }
                                        }
                                        function c(e, n, r, i) {
                                            var o, a, s, u;
                                            return n = n && n.prototype instanceof m ? n : m,
                                            n = Object.create(n.prototype),
                                            i = new w(i || []),
                                            n._invoke = (o = e,
                                            a = r,
                                            s = i,
                                            u = f,
                                            function(e, n) {
                                                if (u === h)
                                                    throw new Error("Generator is already running");
                                                if (u === p) {
                                                    if ("throw" === e)
                                                        throw n;
                                                    return O()
                                                }
                                                for (s.method = e,
                                                s.arg = n; ; ) {
                                                    var r = s.delegate;
                                                    if (r) {
                                                        var i = function e(n, r) {
                                                            var i;
                                                            if ((i = n.iterator[r.method]) === t) {
                                                                if (r.delegate = null,
                                                                "throw" === r.method) {
                                                                    if (n.iterator.return && (r.method = "return",
                                                                    r.arg = t,
                                                                    e(n, r),
                                                                    "throw" === r.method))
                                                                        return v;
                                                                    r.method = "throw",
                                                                    r.arg = new TypeError("The iterator does not provide a 'throw' method")
                                                                }
                                                                return v
                                                            }
                                                            return "throw" === (i = l(i, n.iterator, r.arg)).type ? (r.method = "throw",
                                                            r.arg = i.arg,
                                                            r.delegate = null,
                                                            v) : (i = i.arg) ? i.done ? (r[n.resultName] = i.value,
                                                            r.next = n.nextLoc,
                                                            "return" !== r.method && (r.method = "next",
                                                            r.arg = t),
                                                            r.delegate = null,
                                                            v) : i : (r.method = "throw",
                                                            r.arg = new TypeError("iterator result is not an object"),
                                                            r.delegate = null,
                                                            v)
                                                        }(r, s);
                                                        if (i) {
                                                            if (i === v)
                                                                continue;
                                                            return i
                                                        }
                                                    }
                                                    if ("next" === s.method)
                                                        s.sent = s._sent = s.arg;
                                                    else if ("throw" === s.method) {
                                                        if (u === f)
                                                            throw u = p,
                                                            s.arg;
                                                        s.dispatchException(s.arg)
                                                    } else
                                                        "return" === s.method && s.abrupt("return", s.arg);
                                                    if (u = h,
                                                    "normal" === (i = l(o, a, s)).type) {
                                                        if (u = s.done ? p : d,
                                                        i.arg !== v)
                                                            return {
                                                                value: i.arg,
                                                                done: s.done
                                                            }
                                                    } else
                                                        "throw" === i.type && (u = p,
                                                        s.method = "throw",
                                                        s.arg = i.arg)
                                                }
                                            }
                                            ),
                                            n
                                        }
                                        function l(e, t, n) {
                                            try {
                                                return {
                                                    type: "normal",
                                                    arg: e.call(t, n)
                                                }
                                            } catch (e) {
                                                return {
                                                    type: "throw",
                                                    arg: e
                                                }
                                            }
                                        }
                                        e.wrap = c;
                                        var f = "suspendedStart"
                                          , d = "suspendedYield"
                                          , h = "executing"
                                          , p = "completed"
                                          , v = {};
                                        function m() {}
                                        function g() {}
                                        function y() {}
                                        var E = {};
                                        E[o] = function() {
                                            return this
                                        }
                                        ,
                                        (i = (i = Object.getPrototypeOf) && i(i(C([])))) && i !== n && r.call(i, o) && (E = i);
                                        var T = y.prototype = m.prototype = Object.create(E);
                                        function b(e) {
                                            ["next", "throw", "return"].forEach((function(t) {
                                                u(e, t, (function(e) {
                                                    return this._invoke(t, e)
                                                }
                                                ))
                                            }
                                            ))
                                        }
                                        function _(e, t) {
                                            var n;
                                            this._invoke = function(i, o) {
                                                function a() {
                                                    return new t((function(n, a) {
                                                        !function n(i, o, a, s) {
                                                            if ("throw" !== (i = l(e[i], e, o)).type) {
                                                                var u = i.arg;
                                                                return (o = u.value) && "object" == typeof o && r.call(o, "__await") ? t.resolve(o.__await).then((function(e) {
                                                                    n("next", e, a, s)
                                                                }
                                                                ), (function(e) {
                                                                    n("throw", e, a, s)
                                                                }
                                                                )) : t.resolve(o).then((function(e) {
                                                                    u.value = e,
                                                                    a(u)
                                                                }
                                                                ), (function(e) {
                                                                    return n("throw", e, a, s)
                                                                }
                                                                ))
                                                            }
                                                            s(i.arg)
                                                        }(i, o, n, a)
                                                    }
                                                    ))
                                                }
                                                return n = n ? n.then(a, a) : a()
                                            }
                                        }
                                        function S(e) {
                                            var t = {
                                                tryLoc: e[0]
                                            };
                                            1 in e && (t.catchLoc = e[1]),
                                            2 in e && (t.finallyLoc = e[2],
                                            t.afterLoc = e[3]),
                                            this.tryEntries.push(t)
                                        }
                                        function R(e) {
                                            var t = e.completion || {};
                                            t.type = "normal",
                                            delete t.arg,
                                            e.completion = t
                                        }
                                        function w(e) {
                                            this.tryEntries = [{
                                                tryLoc: "root"
                                            }],
                                            e.forEach(S, this),
                                            this.reset(!0)
                                        }
                                        function C(e) {
                                            if (e) {
                                                if (n = e[o])
                                                    return n.call(e);
                                                if ("function" == typeof e.next)
                                                    return e;
                                                if (!isNaN(e.length)) {
                                                    var n, i = -1;
                                                    return (n = function n() {
                                                        for (; ++i < e.length; )
                                                            if (r.call(e, i))
                                                                return n.value = e[i],
                                                                n.done = !1,
                                                                n;
                                                        return n.value = t,
                                                        n.done = !0,
                                                        n
                                                    }
                                                    ).next = n
                                                }
                                            }
                                            return {
                                                next: O
                                            }
                                        }
                                        function O() {
                                            return {
                                                value: t,
                                                done: !0
                                            }
                                        }
                                        return ((g.prototype = T.constructor = y).constructor = g).displayName = u(y, s, "GeneratorFunction"),
                                        e.isGeneratorFunction = function(e) {
                                            return !!(e = "function" == typeof e && e.constructor) && (e === g || "GeneratorFunction" === (e.displayName || e.name))
                                        }
                                        ,
                                        e.mark = function(e) {
                                            return Object.setPrototypeOf ? Object.setPrototypeOf(e, y) : (e.__proto__ = y,
                                            u(e, s, "GeneratorFunction")),
                                            e.prototype = Object.create(T),
                                            e
                                        }
                                        ,
                                        e.awrap = function(e) {
                                            return {
                                                __await: e
                                            }
                                        }
                                        ,
                                        b(_.prototype),
                                        _.prototype[a] = function() {
                                            return this
                                        }
                                        ,
                                        e.AsyncIterator = _,
                                        e.async = function(t, n, r, i, o) {
                                            void 0 === o && (o = Promise);
                                            var a = new _(c(t, n, r, i),o);
                                            return e.isGeneratorFunction(n) ? a : a.next().then((function(e) {
                                                return e.done ? e.value : a.next()
                                            }
                                            ))
                                        }
                                        ,
                                        b(T),
                                        u(T, s, "Generator"),
                                        T[o] = function() {
                                            return this
                                        }
                                        ,
                                        T.toString = function() {
                                            return "[object Generator]"
                                        }
                                        ,
                                        e.keys = function(e) {
                                            var t, n = [];
                                            for (t in e)
                                                n.push(t);
                                            return n.reverse(),
                                            function t() {
                                                for (; n.length; ) {
                                                    var r = n.pop();
                                                    if (r in e)
                                                        return t.value = r,
                                                        t.done = !1,
                                                        t
                                                }
                                                return t.done = !0,
                                                t
                                            }
                                        }
                                        ,
                                        e.values = C,
                                        w.prototype = {
                                            constructor: w,
                                            reset: function(e) {
                                                if (this.prev = 0,
                                                this.next = 0,
                                                this.sent = this._sent = t,
                                                this.done = !1,
                                                this.delegate = null,
                                                this.method = "next",
                                                this.arg = t,
                                                this.tryEntries.forEach(R),
                                                !e)
                                                    for (var n in this)
                                                        "t" === n.charAt(0) && r.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = t)
                                            },
                                            stop: function() {
                                                this.done = !0;
                                                var e = this.tryEntries[0].completion;
                                                if ("throw" === e.type)
                                                    throw e.arg;
                                                return this.rval
                                            },
                                            dispatchException: function(e) {
                                                if (this.done)
                                                    throw e;
                                                var n = this;
                                                function i(r, i) {
                                                    return s.type = "throw",
                                                    s.arg = e,
                                                    n.next = r,
                                                    i && (n.method = "next",
                                                    n.arg = t),
                                                    !!i
                                                }
                                                for (var o = this.tryEntries.length - 1; 0 <= o; --o) {
                                                    var a = this.tryEntries[o]
                                                      , s = a.completion;
                                                    if ("root" === a.tryLoc)
                                                        return i("end");
                                                    if (a.tryLoc <= this.prev) {
                                                        var u = r.call(a, "catchLoc")
                                                          , c = r.call(a, "finallyLoc");
                                                        if (u && c) {
                                                            if (this.prev < a.catchLoc)
                                                                return i(a.catchLoc, !0);
                                                            if (this.prev < a.finallyLoc)
                                                                return i(a.finallyLoc)
                                                        } else if (u) {
                                                            if (this.prev < a.catchLoc)
                                                                return i(a.catchLoc, !0)
                                                        } else {
                                                            if (!c)
                                                                throw new Error("try statement without catch or finally");
                                                            if (this.prev < a.finallyLoc)
                                                                return i(a.finallyLoc)
                                                        }
                                                    }
                                                }
                                            },
                                            abrupt: function(e, t) {
                                                for (var n = this.tryEntries.length - 1; 0 <= n; --n) {
                                                    var i = this.tryEntries[n];
                                                    if (i.tryLoc <= this.prev && r.call(i, "finallyLoc") && this.prev < i.finallyLoc) {
                                                        var o = i;
                                                        break
                                                    }
                                                }
                                                var a = (o = o && ("break" === e || "continue" === e) && o.tryLoc <= t && t <= o.finallyLoc ? null : o) ? o.completion : {};
                                                return a.type = e,
                                                a.arg = t,
                                                o ? (this.method = "next",
                                                this.next = o.finallyLoc,
                                                v) : this.complete(a)
                                            },
                                            complete: function(e, t) {
                                                if ("throw" === e.type)
                                                    throw e.arg;
                                                return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg,
                                                this.method = "return",
                                                this.next = "end") : "normal" === e.type && t && (this.next = t),
                                                v
                                            },
                                            finish: function(e) {
                                                for (var t = this.tryEntries.length - 1; 0 <= t; --t) {
                                                    var n = this.tryEntries[t];
                                                    if (n.finallyLoc === e)
                                                        return this.complete(n.completion, n.afterLoc),
                                                        R(n),
                                                        v
                                                }
                                            },
                                            catch: function(e) {
                                                for (var t = this.tryEntries.length - 1; 0 <= t; --t) {
                                                    var n = this.tryEntries[t];
                                                    if (n.tryLoc === e) {
                                                        var r, i = n.completion;
                                                        return "throw" === i.type && (r = i.arg,
                                                        R(n)),
                                                        r
                                                    }
                                                }
                                                throw new Error("illegal catch attempt")
                                            },
                                            delegateYield: function(e, n, r) {
                                                return this.delegate = {
                                                    iterator: C(e),
                                                    resultName: n,
                                                    nextLoc: r
                                                },
                                                "next" === this.method && (this.arg = t),
                                                v
                                            }
                                        },
                                        e
                                    }(e.exports);
                                    try {
                                        regeneratorRuntime = e
                                    } catch (t) {
                                        Function("r", "regeneratorRuntime = r")(e)
                                    }
                                }(t = {
                                    exports: {}
                                }),
                                t.exports);
                                return function() {
                                    function t(e) {
                                        !function(e, t) {
                                            if (!(e instanceof t))
                                                throw new TypeError("Cannot call a class as a function")
                                        }(this, t),
                                        this.version = "1.0.0";
                                        var n = Array.prototype.map
                                          , r = Array.prototype.forEach;
                                        e && (this.hasher = e),
                                        this.each = function(e, t, n) {
                                            if (null != e)
                                                if (r && e.forEach === r)
                                                    e.forEach(t, n);
                                                else if (e.length === +e.length) {
                                                    for (var i = 0, o = e.length; i < o; i++)
                                                        if (t.call(n, e[i], i, e) === {})
                                                            return
                                                } else
                                                    for (var a in e)
                                                        if (e.hasOwnProperty(a) && t.call(n, e[a], a, e) === {})
                                                            return
                                        }
                                        ,
                                        this.map = function(e, t, r) {
                                            var i = [];
                                            return null == e ? i : n && e.map === n ? e.map(t, r) : (this.each(e, (function(e, n, o) {
                                                i[i.length] = t.call(r, e, n, o)
                                            }
                                            )),
                                            i)
                                        }
                                    }
                                    var r, i, o, a;
                                    return r = t,
                                    (i = [{
                                        key: "getQimei36",
                                        value: function(e, t) {
                                            var n = this;
                                            this.getHid().then((function(r) {
                                                var i = "3BJr" + e.substring(0, 2) + (r && r.substring(3, 7))
                                                  , o = new XMLHttpRequest;
                                                o.open("POST", "https://snowflake.qq.com/ola/h5", !0),
                                                o.setRequestHeader("Content-Type", "application/json"),
                                                o.onreadystatechange = function() {
                                                    if (o.readyState == XMLHttpRequest.DONE && 200 == o.status)
                                                        try {
                                                            t && t(JSON.parse(o.responseText))
                                                        } catch (e) {
                                                            t(null)
                                                        }
                                                }
                                                ,
                                                o.send(JSON.stringify({
                                                    appKey: e,
                                                    hid: r,
                                                    sign: i,
                                                    version: n.version
                                                }))
                                            }
                                            ))
                                        }
                                    }, {
                                        key: "getHid",
                                        value: (o = n.mark((function e() {
                                            var t, r;
                                            return n.wrap((function(e) {
                                                for (; ; )
                                                    switch (e.prev = e.next) {
                                                    case 0:
                                                        return (t = []).push((n = void 0,
                                                        (n = [Math.floor(window.screen.width * window.devicePixelRatio), Math.floor(window.screen.height * window.devicePixelRatio)]).sort().reverse(),
                                                        n.join("x"))),
                                                        t.push((n = void 0,
                                                        (n = [Math.floor(window.screen.availWidth * window.devicePixelRatio), Math.floor(window.screen.availHeight * window.devicePixelRatio)]).sort().reverse(),
                                                        n.join("x"))),
                                                        t.push(navigator.deviceMemory),
                                                        t.push(!!window.sessionStorage),
                                                        t.push(!!window.indexedDB),
                                                        t.push(navigator.productSub),
                                                        t.push(navigator.hardwareConcurrency),
                                                        t.push(this.getWebglVendorAndRenderer()),
                                                        t.push((new Date).getTimezoneOffset()),
                                                        e.next = 12,
                                                        this.getFactor();
                                                    case 12:
                                                        if (r = e.sent,
                                                        t.push(r),
                                                        this.hasher)
                                                            return e.abrupt("return", this.hasher(t.join("###"), 31));
                                                        e.next = 18;
                                                        break;
                                                    case 18:
                                                        return e.abrupt("return", this.x64hash128(t.join("###"), 31));
                                                    case 19:
                                                    case "end":
                                                        return e.stop()
                                                    }
                                                var n
                                            }
                                            ), e, this)
                                        }
                                        )),
                                        a = function() {
                                            var t = this
                                              , n = arguments;
                                            return new Promise((function(r, i) {
                                                var a = o.apply(t, n);
                                                function s(t) {
                                                    e(a, r, i, s, u, "next", t)
                                                }
                                                function u(t) {
                                                    e(a, r, i, s, u, "throw", t)
                                                }
                                                s(void 0)
                                            }
                                            ))
                                        }
                                        ,
                                        function() {
                                            return a.apply(this, arguments)
                                        }
                                        )
                                    }, {
                                        key: "getUserAgent",
                                        value: function() {
                                            return navigator.userAgent
                                        }
                                    }, {
                                        key: "getNative",
                                        value: function() {
                                            var e = this;
                                            this.getHid().then((function(t) {
                                                JSInterface.callback(e.version, t, e.getUserAgent())
                                            }
                                            ))
                                        }
                                    }, {
                                        key: "getWebglVendorAndRenderer",
                                        value: function() {
                                            try {
                                                var e = function() {
                                                    var e = document.createElement("canvas")
                                                      , t = null;
                                                    try {
                                                        t = e.getContext("webgl") || e.getContext("experimental-webgl")
                                                    } catch (e) {}
                                                    return t || null
                                                }()
                                                  , t = e.getExtension("WEBGL_debug_renderer_info")
                                                  , n = [e.getParameter(t.UNMASKED_VENDOR_WEBGL), e.getParameter(t.UNMASKED_RENDERER_WEBGL)].join("~")
                                                  , r = e.getExtension("WEBGL_lose_context");
                                                return null != r && r.loseContext(),
                                                n
                                            } catch (e) {
                                                return null
                                            }
                                        }
                                    }, {
                                        key: "getFactor",
                                        value: function() {
                                            return new Promise((function(e, t) {
                                                var n = window.RTCPeerConnection || window.webkitRTCPeerConnection || window.mozRTCPeerConnection;
                                                n ? function() {
                                                    var t = new n({
                                                        iceServers: []
                                                    });
                                                    t.createDataChannel("", {
                                                        reliable: !1
                                                    }),
                                                    t.onicecandidate = function(e) {
                                                        e.candidate && o("a=".concat(e.candidate.candidate))
                                                    }
                                                    ,
                                                    t.createOffer((function(e) {
                                                        o(e.sdp),
                                                        t.setLocalDescription(e)
                                                    }
                                                    ), (function(e) {}
                                                    ));
                                                    var r = Object.create(null);
                                                    function i(t) {
                                                        if (!(t in r)) {
                                                            r[t] = !0;
                                                            for (var n = Object.keys(r).filter((function(e) {
                                                                return r[e]
                                                            }
                                                            )), i = 0; i < n.length; i++)
                                                                16 < n[i].length && (n.splice(i, 1),
                                                                i--);
                                                            e(n[0])
                                                        }
                                                    }
                                                    function o(e) {
                                                        (0 < arguments.length && void 0 !== e ? e : "").split("\r\n").forEach((function(e, t, n) {
                                                            var r, o;
                                                            ~e.indexOf("a=candidate") ? (o = (r = e.split(" "))[4],
                                                            "host" === r[7] && i(o)) : ~e.indexOf("c=") && i(e.split(" ")[2])
                                                        }
                                                        ))
                                                    }
                                                    r["0.0.0.0"] = !1
                                                }() : e(null)
                                            }
                                            ))
                                        }
                                    }, {
                                        key: "x64hash128",
                                        value: function(e, t) {
                                            for (var n = function(e, t) {
                                                e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]],
                                                t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
                                                var n = [0, 0, 0, 0];
                                                return n[3] += e[3] + t[3],
                                                n[2] += n[3] >>> 16,
                                                n[3] &= 65535,
                                                n[2] += e[2] + t[2],
                                                n[1] += n[2] >>> 16,
                                                n[2] &= 65535,
                                                n[1] += e[1] + t[1],
                                                n[0] += n[1] >>> 16,
                                                n[1] &= 65535,
                                                n[0] += e[0] + t[0],
                                                n[0] &= 65535,
                                                [n[0] << 16 | n[1], n[2] << 16 | n[3]]
                                            }, r = function(e, t) {
                                                e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]],
                                                t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
                                                var n = [0, 0, 0, 0];
                                                return n[3] += e[3] * t[3],
                                                n[2] += n[3] >>> 16,
                                                n[3] &= 65535,
                                                n[2] += e[2] * t[3],
                                                n[1] += n[2] >>> 16,
                                                n[2] &= 65535,
                                                n[2] += e[3] * t[2],
                                                n[1] += n[2] >>> 16,
                                                n[2] &= 65535,
                                                n[1] += e[1] * t[3],
                                                n[0] += n[1] >>> 16,
                                                n[1] &= 65535,
                                                n[1] += e[2] * t[2],
                                                n[0] += n[1] >>> 16,
                                                n[1] &= 65535,
                                                n[1] += e[3] * t[1],
                                                n[0] += n[1] >>> 16,
                                                n[1] &= 65535,
                                                n[0] += e[0] * t[3] + e[1] * t[2] + e[2] * t[1] + e[3] * t[0],
                                                n[0] &= 65535,
                                                [n[0] << 16 | n[1], n[2] << 16 | n[3]]
                                            }, i = function(e, t) {
                                                return 32 == (t %= 64) ? [e[1], e[0]] : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t | e[0] >>> 32 - t] : [e[1] << (t -= 32) | e[0] >>> 32 - t, e[0] << t | e[1] >>> 32 - t]
                                            }, o = function(e, t) {
                                                return 0 == (t %= 64) ? e : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t] : [e[1] << t - 32, 0]
                                            }, a = function(e, t) {
                                                return [e[0] ^ t[0], e[1] ^ t[1]]
                                            }, s = function(e) {
                                                return e = a(e, [0, e[0] >>> 1]),
                                                e = r(e, [4283543511, 3981806797]),
                                                e = a(e, [0, e[0] >>> 1]),
                                                e = r(e, [3301882366, 444984403]),
                                                a(e, [0, e[0] >>> 1])
                                            }, u = (e = e || "").length % 16, c = e.length - u, l = [0, t = t || 0], f = [0, t], d = [0, 0], h = [0, 0], p = [2277735313, 289559509], v = [1291169091, 658871167], m = 0; m < c; m += 16)
                                                d = [255 & e.charCodeAt(m + 4) | (255 & e.charCodeAt(m + 5)) << 8 | (255 & e.charCodeAt(m + 6)) << 16 | (255 & e.charCodeAt(m + 7)) << 24, 255 & e.charCodeAt(m) | (255 & e.charCodeAt(m + 1)) << 8 | (255 & e.charCodeAt(m + 2)) << 16 | (255 & e.charCodeAt(m + 3)) << 24],
                                                h = [255 & e.charCodeAt(m + 12) | (255 & e.charCodeAt(m + 13)) << 8 | (255 & e.charCodeAt(m + 14)) << 16 | (255 & e.charCodeAt(m + 15)) << 24, 255 & e.charCodeAt(m + 8) | (255 & e.charCodeAt(m + 9)) << 8 | (255 & e.charCodeAt(m + 10)) << 16 | (255 & e.charCodeAt(m + 11)) << 24],
                                                d = i(d = r(d, p), 31),
                                                d = r(d, v),
                                                l = n(l = i(l = a(l, d), 27), f),
                                                l = n(r(l, [0, 5]), [0, 1390208809]),
                                                h = i(h = r(h, v), 33),
                                                h = r(h, p),
                                                f = n(f = i(f = a(f, h), 31), l),
                                                f = n(r(f, [0, 5]), [0, 944331445]);
                                            switch (d = [0, 0],
                                            h = [0, 0],
                                            u) {
                                            case 15:
                                                h = a(h, o([0, e.charCodeAt(m + 14)], 48));
                                            case 14:
                                                h = a(h, o([0, e.charCodeAt(m + 13)], 40));
                                            case 13:
                                                h = a(h, o([0, e.charCodeAt(m + 12)], 32));
                                            case 12:
                                                h = a(h, o([0, e.charCodeAt(m + 11)], 24));
                                            case 11:
                                                h = a(h, o([0, e.charCodeAt(m + 10)], 16));
                                            case 10:
                                                h = a(h, o([0, e.charCodeAt(m + 9)], 8));
                                            case 9:
                                                h = a(h, [0, e.charCodeAt(m + 8)]),
                                                h = i(h = r(h, v), 33),
                                                h = r(h, p),
                                                f = a(f, h);
                                            case 8:
                                                d = a(d, o([0, e.charCodeAt(m + 7)], 56));
                                            case 7:
                                                d = a(d, o([0, e.charCodeAt(m + 6)], 48));
                                            case 6:
                                                d = a(d, o([0, e.charCodeAt(m + 5)], 40));
                                            case 5:
                                                d = a(d, o([0, e.charCodeAt(m + 4)], 32));
                                            case 4:
                                                d = a(d, o([0, e.charCodeAt(m + 3)], 24));
                                            case 3:
                                                d = a(d, o([0, e.charCodeAt(m + 2)], 16));
                                            case 2:
                                                d = a(d, o([0, e.charCodeAt(m + 1)], 8));
                                            case 1:
                                                d = a(d, [e.charCodeAt(m)]),
                                                d = i(d = r(d, p), 31),
                                                d = r(d, v),
                                                l = a(l, d)
                                            }
                                            return l = a(l, [0, e.length]),
                                            f = n(f = a(f, [0, e.length]), l = n(l, f)),
                                            l = s(l),
                                            f = n(f = s(f), l = n(l, f)),
                                            ("00000000" + (l[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (l[1] >>> 0).toString(16)).slice(-8) + ("00000000" + (f[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (f[1] >>> 0).toString(16)).slice(-8)
                                        }
                                    }]) && function(e, t) {
                                        for (var n = 0; n < t.length; n++) {
                                            var r = t[n];
                                            r.enumerable = r.enumerable || !1,
                                            r.configurable = !0,
                                            "value"in r && (r.writable = !0),
                                            Object.defineProperty(e, r.key, r)
                                        }
                                    }(r.prototype, i),
                                    t
                                }()
                            }()
                        }(t),
                        t.exports
                    }()
                      , Y = "logid_start"
                      , K = "4.5.5-web";
                    return function(t) {
                        function r(e) {
                            var n = t.call(this, e) || this;
                            n.qimei36 = "",
                            n.uselessCycleTaskNum = 0,
                            n.underWeakNet = !1,
                            n.send = function(e, t, r) {
                                n.storage.setItem(s, Date.now().toString()),
                                n.network.post(n.uploadUrl || n.strategy.getUploadUrl(), e.data).then((function(r) {
                                    var i;
                                    100 == (null === (i = null == r ? void 0 : r.data) || void 0 === i ? void 0 : i.result) ? n.delayTime = 1e3 * r.data.delayTime : n.delayTime = 0,
                                    t && t(e.data),
                                    e.data.events.forEach((function(e) {
                                        n.store.removeEvent(e).then((function() {
                                            n.removeSendingId(p(e.mapValue))
                                        }
                                        ))
                                    }
                                    )),
                                    n.doCustomCycleTask()
                                }
                                )).catch((function(t) {
                                    var i = e.data.events;
                                    n.errorReport.reportError(t.code ? t.code.toString() : "600", t.message),
                                    r && r(e.data);
                                    var o = JSON.parse(n.storage.getItem(u));
                                    i.forEach((function(e) {
                                        o && -1 != o.indexOf(p(e)) && n.store.insertEvent(e, (function(e, t) {
                                            e && n.errorReport.reportError("604", "insertEvent fail!")
                                        }
                                        )),
                                        n.removeSendingId(p(e))
                                    }
                                    )),
                                    n.monitorUploadFailed()
                                }
                                ))
                            }
                            ;
                            var r, i, o = b();
                            return n.isUnderIE8 = o > 0 && o < 8,
                            n.isUnderIE8 || (n.isUnderIE = o > 0,
                            e.needInitQimei && n.initQimei(e.appkey),
                            n.network = new q(e),
                            n.storage = new W(e.appkey),
                            n.initCommonInfo(e),
                            n.store = new A(e.appkey,n.storage),
                            n.errorReport = new g(n.config,n.commonInfo,"web",n.network),
                            n.strategy = new y(n.config,n.commonInfo,n.storage,n.network),
                            n.logidStartTime = n.storage.getItem(Y),
                            n.logidStartTime || (n.logidStartTime = Date.now().toString(),
                            n.storage.setItem(Y, n.logidStartTime)),
                            r = n.logidStartTime,
                            i = Date.now() - Number.parseFloat(r),
                            Math.floor(i / 864e5) >= 365 && n.storage.clear(),
                            n.initSession(e),
                            n.onDirectUserAction("rqd_js_init", {}),
                            setTimeout((function() {
                                return n.lifeCycle.emit("init")
                            }
                            ), 0),
                            n.initDelayTime = e.delay ? e.delay : 1e3,
                            n.cycleTask(n.initDelayTime)),
                            n
                        }
                        return function(t, n) {
                            if ("function" != typeof n && null !== n)
                                throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");
                            function r() {
                                this.constructor = t
                            }
                            e(t, n),
                            t.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype,
                            new r)
                        }(r, t),
                        r.prototype.initQimei = function(e) {
                            var t = this;
                            (new G).getQimei36(e, (function(e) {
                                t.qimei36 = e.q36
                            }
                            ))
                        }
                        ,
                        r.prototype.initSession = function(e) {
                            var t = 18e5;
                            e.sessionDuration && e.sessionDuration > 3e4 && (t = e.sessionDuration),
                            this.beaconSession = new T(this.storage,t,this)
                        }
                        ,
                        r.prototype.initCommonInfo = function(e) {
                            var t = Number(this.storage.getItem(s));
                            try {
                                var n = JSON.parse(this.storage.getItem(u));
                                (Date.now() - t > 3e4 || !n) && this.storage.setItem(u, JSON.stringify([]))
                            } catch (e) {}
                            e.uploadUrl && (this.uploadUrl = e.uploadUrl + "?appkey=" + e.appkey);
                            var r = [window.screen.width, window.screen.height];
                            window.devicePixelRatio && r.push(window.devicePixelRatio),
                            this.commonInfo = {
                                deviceId: this.storage.createDeviceId(),
                                language: navigator && navigator.language || "zh_CN",
                                query: window.location.search,
                                userAgent: navigator.userAgent,
                                pixel: r.join("*"),
                                channelID: e.channelID ? String(e.channelID) : "",
                                openid: e.openid ? String(e.openid) : "",
                                unid: e.unionid ? String(e.unionid) : "",
                                sdkVersion: K
                            },
                            this.config.appVersion = e.versionCode ? String(e.versionCode) : "",
                            this.config.strictMode = e.strictMode
                        }
                        ,
                        r.prototype.cycleTask = function(e) {
                            var t = this;
                            this.intervalID = window.setInterval((function() {
                                t.store.getEvents().then((function(e) {
                                    var n = []
                                      , r = JSON.parse(t.storage.getItem(u));
                                    r || (r = []),
                                    e && e.forEach((function(e) {
                                        var t = p(e.mapValue);
                                        -1 == r.indexOf(t) && (n.push(e),
                                        r.push(t))
                                    }
                                    )),
                                    0 != n.length && (t.storage.setItem(u, JSON.stringify(r)),
                                    t._normalLogPipeline(t.assembleData(n)))
                                }
                                )).catch((function(e) {}
                                ))
                            }
                            ), e)
                        }
                        ,
                        r.prototype.onReport = function(e, t, n) {
                            var r = this;
                            if (this.isUnderIE8)
                                this.errorReport.reportError("601", "UnderIE8");
                            else {
                                var i = this.generateData(e, t, n);
                                if (n && 0 == this.delayTime && !this.underWeakNet)
                                    this._normalLogPipeline(this.assembleData(i));
                                else {
                                    var o = i.shift();
                                    o && this.store.insertEvent(o, (function(e) {
                                        e && r.errorReport.reportError("604", "insertEvent fail!")
                                    }
                                    )).catch((function(e) {
                                        r._normalLogPipeline(r.assembleData(i))
                                    }
                                    ))
                                }
                            }
                        }
                        ,
                        r.prototype.onSendBeacon = function(e, t) {
                            if (this.isUnderIE)
                                this.errorReport.reportError("605", "UnderIE");
                            else {
                                var n = this.assembleData(this.generateData(e, t, !0));
                                "function" == typeof navigator.sendBeacon && navigator.sendBeacon(this.uploadUrl || this.strategy.getUploadUrl(), JSON.stringify(n))
                            }
                        }
                        ,
                        r.prototype.generateData = function(e, t, r) {
                            var i = []
                              , o = "4.5.5-web_" + (r ? "direct_log_id" : "normal_log_id")
                              , a = Number(this.storage.getItem(o));
                            return a = a || 1,
                            t = n(n({}, t), {
                                A99: r ? "Y" : "N",
                                A100: a.toString(),
                                A72: K,
                                A88: this.logidStartTime
                            }),
                            a++,
                            this.storage.setItem(o, a.toString()),
                            i.push({
                                eventCode: e,
                                eventTime: Date.now().toString(),
                                mapValue: d(t, this.config.strictMode)
                            }),
                            i
                        }
                        ,
                        r.prototype.assembleData = function(e) {
                            var t = this.beaconSession.getSession();
                            return {
                                appVersion: this.config.appVersion ? h(this.config.appVersion) : "",
                                sdkId: "js",
                                sdkVersion: K,
                                mainAppKey: this.config.appkey,
                                platformId: 3,
                                common: d(n(n({}, this.additionalParams), {
                                    A2: this.commonInfo.deviceId,
                                    A8: this.commonInfo.openid,
                                    A12: this.commonInfo.language,
                                    A17: this.commonInfo.pixel,
                                    A23: this.commonInfo.channelID,
                                    A50: this.commonInfo.unid,
                                    A76: t.sessionId,
                                    A101: this.commonInfo.userAgent,
                                    A102: window.location.href,
                                    A104: document.referrer,
                                    A119: this.commonInfo.query,
                                    A153: this.qimei36
                                }), !1),
                                events: e
                            }
                        }
                        ,
                        r.prototype.monitorUploadFailed = function() {
                            this.uselessCycleTaskNum++,
                            this.uselessCycleTaskNum >= 5 && (window.clearInterval(this.intervalID),
                            this.cycleTask(6e4),
                            this.underWeakNet = !0)
                        }
                        ,
                        r.prototype.doCustomCycleTask = function() {
                            this.uselessCycleTaskNum >= 5 && (window.clearInterval(this.intervalID),
                            this.cycleTask(this.initDelayTime)),
                            this.uselessCycleTaskNum = 0,
                            this.underWeakNet = !1
                        }
                        ,
                        r
                    }(m)
                }()
            }
            ).call(this, n(109))
        }
        , function(e, t) {
            var n;
            n = function() {
                return this
            }();
            try {
                n = n || new Function("return this")()
            } catch (e) {
                "object" == typeof window && (n = window)
            }
            e.exports = n
        }
        , function(e, t, n) {
            "use strict";
            var r, i = this && this.__extends || (r = function(e, t) {
                return (r = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(e, t) {
                    e.__proto__ = t
                }
                || function(e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
                )(e, t)
            }
            ,
            function(e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                new n)
            }
            );
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
            t.TabJSAttaReporter = void 0;
            var o = n(14)
              , a = o.DefaultLogger
              , s = {}
              , u = function(e) {
                function t(t) {
                    var n = e.call(this, t) || this;
                    return s[o.REPORT_KEY_TABAPPID] = "appid",
                    s[o.REPORT_KEY_USERID] = "guid",
                    s[o.REPORT_KEY_GRAYID] = "grayid",
                    s[o.REPORT_KEY_EXPNAE] = "reserved",
                    s[o.REPORT_KEY_PLAT] = "platform",
                    s[o.REPORT_KEY_FIRSTHIT] = "isfirsthint",
                    s[o.REPORT_KEY_UTYPE] = "unittype",
                    s[o.REPORT_KEY_PERCENT] = "exppercentage",
                    s[o.REPORT_KEY_BUCKET] = "expbucket",
                    s[o.REPORT_KEY_PARAMS] = "expparams",
                    s[o.REPORT_KEY_ENV] = "reserved2",
                    s[o.REPORT_KEY_LAYER] = "layercode",
                    s[o.REPORT_KEY_SDKVER] = "sdkversion",
                    n
                }
                return i(t, e),
                t.prototype.isOk = function() {
                    return !0
                }
                ,
                t.prototype.preapareReqUrl = function(e, t) {
                    var n, r, i = "https://h.trace.qq.com/kv?attaid=" + ((null === (n = this.memStore.strategy) || void 0 === n ? void 0 : n.attaId) || o.TabAttaAppKey) + "&token=" + ((null === (r = this.memStore.strategy) || void 0 === r ? void 0 : r.attaToken) || o.TabAttaAppToken) + "&eventcode=" + e;
                    return Object.keys(t).forEach((function(e) {
                        var n = s[e];
                        i = n ? i + "&" + n + "=" + t[e] : i + "&" + e + "=" + t[e]
                    }
                    )),
                    a.debug(i),
                    i
                }
                ,
                t.prototype.reportEvent = function(e, t) {
                    var n = this;
                    return new Promise((function(r) {
                        var i = n.preapareReqUrl(e, t);
                        Image && (new Image(1,1).src = i),
                        r()
                    }
                    ))
                }
                ,
                t
            }(o.TabReporter);
            t.TabJSAttaReporter = u
        }
        ])
    },
    sOUN: function(e, t, n) {
        (function(e) {
            var r, i, o, a, s = n("o0o1"), u = n("cDf5");
            "undefined" != typeof self && self,
            a = function() {
                return function(e) {
                    var t = {};
                    function n(r) {
                        if (t[r])
                            return t[r].exports;
                        var i = t[r] = {
                            i: r,
                            l: !1,
                            exports: {}
                        };
                        return e[r].call(i.exports, i, i.exports, n),
                        i.l = !0,
                        i.exports
                    }
                    return n.m = e,
                    n.c = t,
                    n.d = function(e, t, r) {
                        n.o(e, t) || Object.defineProperty(e, t, {
                            enumerable: !0,
                            get: r
                        })
                    }
                    ,
                    n.r = function(e) {
                        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                            value: "Module"
                        }),
                        Object.defineProperty(e, "__esModule", {
                            value: !0
                        })
                    }
                    ,
                    n.t = function(e, t) {
                        if (1 & t && (e = n(e)),
                        8 & t)
                            return e;
                        if (4 & t && "object" == u(e) && e && e.__esModule)
                            return e;
                        var r = Object.create(null);
                        if (n.r(r),
                        Object.defineProperty(r, "default", {
                            enumerable: !0,
                            value: e
                        }),
                        2 & t && "string" != typeof e)
                            for (var i in e)
                                n.d(r, i, function(t) {
                                    return e[t]
                                }
                                .bind(null, i));
                        return r
                    }
                    ,
                    n.n = function(e) {
                        var t = e && e.__esModule ? function() {
                            return e.default
                        }
                        : function() {
                            return e
                        }
                        ;
                        return n.d(t, "a", t),
                        t
                    }
                    ,
                    n.o = function(e, t) {
                        return Object.prototype.hasOwnProperty.call(e, t)
                    }
                    ,
                    n.p = "",
                    n(n.s = 1)
                }([function(e, t, n) {
                    "use strict";
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                    t.default = void 0,
                    t.getMacVersionFromUA = function(e) {
                        return e ? o("EduLite" === e ? "TXEduLitemac" : "TXEdumac") : o("TXEdumac") || o("TXEduLitemac")
                    }
                    ,
                    t.getWinVersion = function(e) {
                        return o("EduLite" === e ? "EduLite" : "TXEdu")
                    }
                    ,
                    t.isBrowser = a,
                    t.judgeClientVersion = i;
                    var r = null;
                    function i(e) {
                        var t = {
                            isOldWin: !1,
                            isNewWin: !1,
                            isOldMac: !1,
                            isNewMac: !1,
                            isMac: !1,
                            isWeb: !1,
                            isEduLite: !1,
                            isWin: !1
                        }
                          , n = !e || "string" != typeof e
                          , i = a() && window.navigator && window.navigator.userAgent;
                        if (n) {
                            if (r)
                                return r;
                            if (!i)
                                return r = t,
                                t
                        }
                        var o = (e || i).toLowerCase()
                          , s = a() && window.external || {};
                        switch (!0) {
                        case o.indexOf("txedumac") >= 0:
                        case o.indexOf("txedulitemac") >= 0:
                            t.isNewMac = !0;
                            break;
                        case o.indexOf("edumac") >= 0:
                            t.isOldMac = !0;
                            break;
                        case o.indexOf("txedu") >= 0:
                            t.isWin = !0,
                            t.isNewWin = !!s.nativeCall,
                            t.isOldWin = !t.isNewWin && !!s.EduOpenClass;
                            break;
                        default:
                            t.isWeb = !0
                        }
                        return t.isMac = t.isNewMac || t.isOldMac,
                        t.isEduLite = o.indexOf("edulite") >= 0,
                        n && (r = t),
                        t
                    }
                    function o(e) {
                        try {
                            var t = new RegExp("".concat(e, "\\/(\\d+)"));
                            return parseInt((navigator.userAgent.match(t) || [])[1] || 0, 10)
                        } catch (e) {}
                    }
                    function a() {
                        return "undefined" != typeof window
                    }
                    var s = {
                        judgeClientVersion: i
                    };
                    t.default = s
                }
                , function(e, t, n) {
                    "use strict";
                    function r(e) {
                        return (r = "function" == typeof Symbol && "symbol" == u(Symbol.iterator) ? function(e) {
                            return u(e)
                        }
                        : function(e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : u(e)
                        }
                        )(e)
                    }
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                    Object.defineProperty(t, "copyAndPasteMenu", {
                        enumerable: !0,
                        get: function() {
                            return v.copyAndPasteMenu
                        }
                    }),
                    t.default = void 0,
                    Object.defineProperty(t, "enterTypeMenu", {
                        enumerable: !0,
                        get: function() {
                            return v.enterTypeMenu
                        }
                    }),
                    Object.defineProperty(t, "generateGlobal", {
                        enumerable: !0,
                        get: function() {
                            return h.generateGlobal
                        }
                    }),
                    Object.defineProperty(t, "getEnterType", {
                        enumerable: !0,
                        get: function() {
                            return v.getEnterType
                        }
                    }),
                    Object.defineProperty(t, "getMacVersion", {
                        enumerable: !0,
                        get: function() {
                            return h.getMacVersion
                        }
                    }),
                    Object.defineProperty(t, "getWinVersion", {
                        enumerable: !0,
                        get: function() {
                            return p.getWinVersion
                        }
                    }),
                    Object.defineProperty(t, "judgeClientVersion", {
                        enumerable: !0,
                        get: function() {
                            return p.judgeClientVersion
                        }
                    }),
                    Object.defineProperty(t, "macBridge", {
                        enumerable: !0,
                        get: function() {
                            return h.macBridge
                        }
                    }),
                    t.openUrl = function(e, t) {
                        if (e && "" !== e && 0 !== e.indexOf("javascript")) {
                            if (0 === e.indexOf("/") && 0 !== e.indexOf("//") && (e = window.location.origin + e),
                            a || !/ke.qq.com/.test(e))
                                return window.open(e),
                                void ("function" == typeof t && t());
                            l ? (0,
                            h.getMacVersion)((function(n) {
                                n >= 50052 ? g(e, t) : y(e, t)
                            }
                            )) : s && f >= 10126 ? g(e, t) : y(e, t)
                        }
                    }
                    ,
                    Object.defineProperty(t, "registerClientHandler", {
                        enumerable: !0,
                        get: function() {
                            return h.registerClientHandler
                        }
                    }),
                    Object.defineProperty(t, "unRegisterClientHandler", {
                        enumerable: !0,
                        get: function() {
                            return h.unRegisterClientHandler
                        }
                    }),
                    Object.defineProperty(t, "userRightMenu", {
                        enumerable: !0,
                        get: function() {
                            return v.userRightMenu
                        }
                    });
                    var i, o, a, s, c, l, f, d = (i = n(3)) && i.__esModule ? i : {
                        default: i
                    }, h = function(e, t) {
                        if (e && e.__esModule)
                            return e;
                        if (null === e || "object" !== r(e) && "function" != typeof e)
                            return {
                                default: e
                            };
                        var n = function(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                              , n = new WeakMap;
                            return function(e) {
                                return e ? n : t
                            }(e)
                        }(t);
                        if (n && n.has(e))
                            return n.get(e);
                        var i = {}
                          , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                        for (var a in e)
                            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                s && (s.get || s.set) ? Object.defineProperty(i, a, s) : i[a] = e[a]
                            }
                        return i.default = e,
                        n && n.set(e, i),
                        i
                    }(n(2)), p = n(0), v = n(6);
                    if ((0,
                    p.isBrowser)()) {
                        var m = (0,
                        p.judgeClientVersion)();
                        c = m.isOldMac,
                        o = m.isOldWin,
                        a = m.isWeb,
                        l = m.isMac,
                        s = m.isWin,
                        f = (0,
                        p.getWinVersion)()
                    }
                    function g(e, t) {
                        (0,
                        h.default)("EduTransformLoginStateUrl", {
                            url: e
                        }).then((function(n) {
                            n ? (window.open(n),
                            "function" == typeof t && t()) : window.open(e)
                        }
                        )).catch((function() {
                            window.open(e)
                        }
                        ))
                    }
                    function y(e, t) {
                        (0,
                        h.default)("CallHummerApi", {
                            functionName: "IM.GetClientKey"
                        }).then((function(n) {
                            (c || o) && (n = n.clientKey);
                            var r = d.default.uin();
                            window.open("https://ke.qq.com/teacher-client/clearCookieProxy.html?clientUin=".concat(r, "&clientKey=").concat(n, "&url=").concat(encodeURIComponent(e))),
                            "function" == typeof t && t()
                        }
                        )).catch((function() {
                            window.open(e)
                        }
                        ))
                    }
                    var E = h.default;
                    t.default = E
                }
                , function(e, t, n) {
                    "use strict";
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                    t.API_IS_NOT_EXIST = void 0,
                    t.default = function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        return new Promise((function(n, r) {
                            var o = i.default[e] || {}
                              , a = o.autoDestroyCallback
                              , s = void 0 === a || a
                              , u = o.callback
                              , l = !1;
                            i.default[e] || (l = !0,
                            t.callback || (s = !0,
                            u = !0)),
                            t = g(t),
                            v(e, t);
                            var f = {
                                apiName: e,
                                params: t,
                                isCallback: u,
                                autoDestroyCallback: s,
                                isNewAPI: l,
                                resolve: n,
                                reject: r
                            };
                            c ? T(f) : window.external ? window.external.nativeCallEx ? b(f) : window.external[e] ? _(f) : r({
                                errType: 998,
                                errMsg: "api：".concat(e, " 不存在")
                            }) : r({
                                errType: 999,
                                errMsg: "window.external 不存在"
                            })
                        }
                        ))
                    }
                    ,
                    t.generateGlobal = p,
                    t.getMacVersion = function(e) {
                        l ? "function" == typeof e && e((0,
                        o.getMacVersionFromUA)()) : f((function(t) {
                            t.callHandler("EduProtoVersion", [], (function(t) {
                                "function" == typeof e && e(parseInt(t, 10))
                            }
                            ))
                        }
                        ))
                    }
                    ,
                    t.macBridge = f,
                    t.registerClientHandler = function(e, t) {
                        "function" == typeof t && (Array.isArray(d[e]) ? d[e].push(t) : d[e] ? d[e] = [d[e], t] : d[e] = t)
                    }
                    ,
                    t.unRegisterClientHandler = function(e, t) {
                        var n = d[e];
                        Array.isArray(n) || (n = [n]);
                        var r = [];
                        n.forEach((function(e) {
                            e !== t && r.push(e)
                        }
                        )),
                        d[e] = r
                    }
                    ;
                    var r, i = (r = n(5)) && r.__esModule ? r : {
                        default: r
                    }, o = n(0);
                    function a(e, t) {
                        var n = Object.keys(e);
                        if (Object.getOwnPropertySymbols) {
                            var r = Object.getOwnPropertySymbols(e);
                            t && (r = r.filter((function(t) {
                                return Object.getOwnPropertyDescriptor(e, t).enumerable
                            }
                            ))),
                            n.push.apply(n, r)
                        }
                        return n
                    }
                    function s(e, t, n) {
                        return t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n,
                        e
                    }
                    var u = (0,
                    o.judgeClientVersion)()
                      , c = u.isOldMac
                      , l = u.isNewMac;
                    function f(e) {
                        if (window.WebViewJavascriptBridge)
                            return e(window.WebViewJavascriptBridge);
                        if (window.WVJBCallbacks)
                            return window.WVJBCallbacks.push(e);
                        window.WVJBCallbacks = [e];
                        var t = document.createElement("iframe");
                        t.style.display = "none",
                        t.src = "https://__bridge_loaded__",
                        document.documentElement.appendChild(t),
                        setTimeout((function() {
                            document.documentElement.removeChild(t)
                        }
                        ), 0)
                    }
                    t.API_IS_NOT_EXIST = 998;
                    var d = {};
                    function h(e) {
                        var t = this
                          , n = e.funcname
                          , r = e.params
                          , i = d[n] || window[n];
                        Array.isArray(i) ? i.forEach((function(e) {
                            e.apply(t, r)
                        }
                        )) : i && i.apply(this, r)
                    }
                    function p(e) {
                        var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
                          , n = "temp_callback_".concat(Date.now()).concat(Math.ceil(100 * Math.random()))
                          , r = function() {
                            e.apply(void 0, arguments),
                            t && (window[n] && delete window[n],
                            d[n] && delete d[n])
                        };
                        return window.external && window.external.nativeCallEx ? d[n] = r : window[n] = r,
                        n
                    }
                    function v(e, t) {
                        var n = i.default[e];
                        n && n.params.forEach((function(e) {
                            var n = e.name;
                            e.isRequired && void 0 === t[n] && (t[n] = void 0 === e.defaultVal ? "" : e.defaultVal)
                        }
                        ))
                    }
                    function m(e, t) {
                        var n = i.default[e];
                        if (!n) {
                            var r = JSON.stringify(t);
                            return "{}" === r ? [] : [r]
                        }
                        var o = []
                          , u = n.params
                          , c = function(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? a(Object(n), !0).forEach((function(t) {
                                    s(e, t, n[t])
                                }
                                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : a(Object(n)).forEach((function(t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                }
                                ))
                            }
                            return e
                        }({}, t);
                        u.forEach((function(e) {
                            Object.keys(c).forEach((function(t) {
                                if (t === e.name) {
                                    var n = c[t];
                                    e.format && (n = e.format(n)),
                                    e.isOldPCParam && (o.push(n),
                                    delete c[t])
                                }
                            }
                            ))
                        }
                        ));
                        var l = JSON.stringify(c);
                        return o && o.length ? "{}" === l ? [].concat(o) : [l].concat(o) : "{}" === l ? [] : [l]
                    }
                    function g(e) {
                        var t = {};
                        return Object.keys(e).forEach((function(n) {
                            void 0 !== e[n] && (t[n] = e[n])
                        }
                        )),
                        t
                    }
                    function y(e) {
                        return "string" == typeof e && (e.match(/^{\S*}$/g) || "").length ? JSON.parse(e) : e
                    }
                    function E(e, t) {
                        if (window.BJ_REPORT)
                            try {
                                "error" === e ? window.BJ_REPORT.error(t) : "info" === e && window.BJ_REPORT.info(t)
                            } catch (e) {}
                    }
                    function T(e) {
                        var t = e.apiName
                          , n = e.params
                          , r = e.isCallback
                          , i = e.autoDestroyCallback
                          , o = e.isNewAPI
                          , a = e.resolve
                          , s = e.reject;
                        f((function(e) {
                            var u, c = m(t, n);
                            r && (u = p((function(e) {
                                a(y(e))
                            }
                            ), i),
                            c.push(u)),
                            E("info", "im-clientapi[mac][".concat(t, "] params: ").concat(JSON.stringify(c))),
                            e.callHandler(t, c, (function(e) {
                                e = y(e),
                                u ? o && e && 0 !== e.retcode && s(e) : a(e)
                            }
                            )),
                            r && e.registerHandler(u, (function() {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                                E("info", "im-clientapi[mac][".concat(t, "] res: ").concat(JSON.stringify(e))),
                                a(y(e[0]))
                            }
                            ));
                            var l = n.callback;
                            l && e.registerHandler(l, (function() {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                                window[l] && window[l](y(e[0])),
                                E("info", "im-clientapi[mac][".concat(t, "] res: ").concat(JSON.stringify(e))),
                                a(y(e[0]))
                            }
                            ))
                        }
                        ))
                    }
                    function b(e) {
                        var t = e.apiName
                          , n = e.params
                          , r = e.isCallback
                          , i = e.resolve
                          , a = e.reject;
                        try {
                            r && (n.callback = p((function(e) {
                                i(y(e))
                            }
                            ), !1)),
                            E("info", "im-clientapi[win][".concat(t, "] params: ").concat(JSON.stringify(n))),
                            window.external.nativeCallEx(t, [JSON.stringify(n)], (function(e) {
                                E("info", "im-clientapi[win][".concat(t, "] res: ").concat(JSON.stringify(e)));
                                try {
                                    0 === (e = JSON.parse(e)).retcode ? r || i(y(e.result)) : a(e)
                                } catch (n) {
                                    !function(e, t, n) {
                                        var r = (0,
                                        o.getWinVersion)("EduLite");
                                        "" === t && r <= 40028 && -1 !== ["EduOnLoginComplete", "EduShowOrHideCourseListWndMenuRedpoint", "EduOnGetTxEduCode"].indexOf(e) || E("error", "im-clientapi[win][".concat(e, "] resParseError: ").concat(n && n.message, " ———— ").concat(JSON.stringify(t)))
                                    }(t, e, n)
                                }
                            }
                            ))
                        } catch (e) {
                            a(e)
                        }
                    }
                    function _(e) {
                        var t = e.apiName
                          , n = e.params
                          , r = e.isCallback
                          , i = e.resolve
                          , o = m(t, n);
                        r && o.push(p((function(e) {
                            i(y(e))
                        }
                        )));
                        var a = window.external[t].apply(this, o);
                        r || (a = y(a),
                        i(a))
                    }
                    (0,
                    o.isBrowser)() && (window.globalCallbackFns ? window.globalCallbackFns.push(h) : window.globalCallbackFns = [h],
                    window.execGlobalCallback = function(e) {
                        window.globalCallbackFns.forEach((function(t) {
                            t(e)
                        }
                        ))
                    }
                    )
                }
                , function(e, t, n) {
                    e.exports = n(4)
                }
                , function(e, t) {
                    t = {
                        get: function(e) {
                            var t = document.cookie.match(new RegExp("(^| )" + e + "=([^;]*)(;|$)"));
                            return t ? decodeURIComponent(t[2]) : ""
                        },
                        set: function(e, t, n, r, i) {
                            var o = new Date;
                            o.setTime(o.getTime() + (i ? 36e5 * i : 2592e6)),
                            document.cookie = e + "=" + t + "; expires=" + o.toGMTString() + "; path=" + (r || "/") + "; " + (n ? "domain=" + n + ";" : "")
                        },
                        setSession: function(e, t, n, r) {
                            document.cookie = e + "=" + t + "; path=" + (r || "/") + "; " + (n ? "domain=" + n + ";" : "")
                        },
                        del: function(e, t, n) {
                            document.cookie = e + "=; expires=Mon, 26 Jul 1997 05:00:00 GMT; path=" + (n || "/") + "; " + (t ? "domain=" + t + ";" : "")
                        },
                        clear: function() {
                            var e = document.cookie.match(new RegExp("([^ ;][^;]*)(?=(=[^;]*)(;|$))","gi"));
                            for (var t in e)
                                document.cookie = e[t] + "=;expires=Mon, 26 Jul 1997 05:00:00 GMT; path=/; "
                        },
                        uin: function() {
                            var e;
                            return -1 !== ["2", "1001", "1002"].indexOf(this.get("uid_type")) ? this.get("uid_uin") || null : e = (e = (e = this.get("p_luin") || this.get("p_uin") || this.get("uin") || this.get("pt2gguin") || this.get("adid")) ? parseInt(e.replace(/[^\d]/g, ""), 10) : null) || parseInt(this.get("uin_cookie"), 10) || null
                        },
                        realUin: function() {
                            var e;
                            return -1 !== ["2", "1001", "1002"].indexOf(this.get("uid_type")) ? this.get("uid_uin") || null : e = (e = (e = this.get("p_luin") || this.get("p_uin") || this.get("uin") || this.get("uid_uin")) ? parseInt(e.replace(/[^\d]/g, ""), 10) : null) || parseInt(this.get("uin_cookie"), 10) || null
                        }
                    },
                    e.exports = t
                }
                , function(e, t, n) {
                    "use strict";
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                    t.default = void 0,
                    t.default = {
                        EduShowWebPage: {
                            descript: "打开客户端窗口，加载一个页面",
                            params: [{
                                name: "id",
                                type: "string",
                                info: "",
                                defaultVal: "233",
                                isRequired: !0
                            }, {
                                name: "url",
                                type: "string",
                                info: "",
                                defaultVal: "https://ke.qq.com/clientcourse/courseDialog.html?tid=100482207",
                                isRequired: !0
                            }, {
                                name: "width",
                                type: "number",
                                info: "",
                                defaultVal: 500,
                                isRequired: !0
                            }, {
                                name: "height",
                                type: "number",
                                info: "",
                                defaultVal: 500,
                                isRequired: !0
                            }, {
                                name: "title",
                                type: "string",
                                info: "",
                                defaultVal: " ",
                                isRequired: !0
                            }, {
                                name: "titleBarColor",
                                type: "string",
                                info: "",
                                defaultVal: "#04acf7"
                            }, {
                                name: "backgroundColor",
                                type: "string",
                                info: "背景颜色",
                                defaultVal: "#333"
                            }, {
                                name: "titleColor",
                                type: "string",
                                info: ""
                            }, {
                                name: "linkTitleUrl",
                                type: "string",
                                info: ""
                            }, {
                                name: "top",
                                type: "number",
                                info: "",
                                defaultVal: 0,
                                isRequired: !0
                            }, {
                                name: "left",
                                type: "number",
                                info: "",
                                defaultVal: 0,
                                isRequired: !0
                            }, {
                                name: "miniWidth",
                                type: "number",
                                info: ""
                            }, {
                                name: "miniHeight",
                                type: "number",
                                info: ""
                            }, {
                                name: "linkTitle",
                                type: "bool",
                                info: ""
                            }, {
                                name: "centerParent",
                                type: "bool",
                                info: ""
                            }, {
                                name: "noParent",
                                type: "bool",
                                info: ""
                            }, {
                                name: "fixPosition",
                                type: "bool",
                                info: ""
                            }, {
                                name: "hideIfLoseFocus",
                                type: "bool",
                                info: ""
                            }, {
                                name: "topmost",
                                type: "bool",
                                info: ""
                            }, {
                                name: "centerTitle",
                                type: "bool",
                                info: ""
                            }, {
                                name: "hideTitleBar",
                                type: "bool",
                                info: ""
                            }, {
                                name: "highTitle",
                                type: "bool",
                                info: ""
                            }, {
                                name: "showMaxBtn",
                                type: "bool",
                                info: ""
                            }, {
                                name: "showMinBtn",
                                type: "bool",
                                info: ""
                            }, {
                                name: "showCloseBtn",
                                type: "bool",
                                info: ""
                            }, {
                                name: "hidden",
                                type: "bool",
                                info: ""
                            }, {
                                name: "showIcon",
                                type: "bool",
                                info: ""
                            }, {
                                name: "showRefreshBtn",
                                type: "bool",
                                info: ""
                            }, {
                                name: "sizeChangeable",
                                type: "bool",
                                info: ""
                            }, {
                                name: "enableJsDialog",
                                type: "bool",
                                info: ""
                            }, {
                                name: "isRealWindow",
                                type: "bool",
                                info: ""
                            }]
                        },
                        EduOpenClass: {
                            descript: "打开直播窗口",
                            params: [{
                                name: "termid",
                                type: "number",
                                info: "",
                                defaultVal: 100131688,
                                isRequired: !0
                            }, {
                                name: "cid",
                                type: "number",
                                info: "",
                                defaultVal: 120025,
                                isRequired: !0
                            }, {
                                name: "csid",
                                type: "number",
                                info: ""
                            }, {
                                name: "subtermid",
                                type: "number",
                                info: ""
                            }, {
                                name: "title",
                                type: "string",
                                info: "",
                                defaultVal: " ",
                                isRequired: !0
                            }, {
                                name: "class_begin_time",
                                type: "number",
                                info: "",
                                defaultVal: "233",
                                isRequired: !0
                            }, {
                                name: "class_end_time",
                                type: "number",
                                info: "",
                                defaultVal: "233",
                                isRequired: !0
                            }, {
                                name: "class_room_mode",
                                type: "number",
                                info: "0表示学生，其他表示老师",
                                defaultVal: 0,
                                isOldPCParam: !0
                            }]
                        },
                        cutScreen: {
                            descript: "截图（举报页）",
                            params: []
                        },
                        EduGetClientData: {
                            descript: "获取客户端相关信息",
                            params: []
                        },
                        CaptureScreen: {
                            descript: "截图（只能用于聊天区页面）",
                            callback: !0,
                            params: []
                        },
                        EduShowContextMenu: {
                            descript: "右键菜单",
                            callback: !0,
                            params: [{
                                name: "commands",
                                type: "array",
                                info: "",
                                defaultVal: [{
                                    id: 0,
                                    text: "选项1",
                                    checkable: 1,
                                    checked: 1
                                }, {
                                    id: 1,
                                    text: "选项2",
                                    checkable: 1
                                }],
                                isRequired: !0
                            }]
                        },
                        EduHideWebPage: {
                            descript: "隐藏客户端窗口（未销毁）",
                            params: [{
                                name: "id",
                                type: "number",
                                info: ""
                            }]
                        },
                        EduCloseWebPage: {
                            descript: "关闭客户端窗口（真正销毁）",
                            params: [{
                                name: "id",
                                type: "number",
                                info: ""
                            }]
                        },
                        EduShowToast: {
                            descript: "展示toast提示语",
                            params: [{
                                name: "text",
                                type: "string",
                                info: "",
                                isOldPCParam: !0
                            }]
                        },
                        CallHummerApi: {
                            descript: "调用客户端api",
                            params: [{
                                name: "functionName",
                                type: "string",
                                info: "当functionName是IM.GetClientKey、IM.UpdateSkey、IM.GetSKey、Contact.GetSelfUin、Contact.GetNickName、Window.Close、Window.Destroy、IM.GetVersion",
                                isOldPCParam: !0
                            }]
                        },
                        ShowChatSetting: {
                            descript: "展示聊天设置",
                            callback: !0,
                            params: []
                        },
                        EduOnLoginComplete: {
                            descript: "极速版登录后调用客户端api",
                            params: [{
                                name: "name",
                                type: "string"
                            }, {
                                name: "school",
                                type: "string"
                            }, {
                                name: "city",
                                type: "string"
                            }, {
                                name: "cookie",
                                type: "string"
                            }, {
                                name: "teacher_type",
                                type: "string"
                            }, {
                                name: "subject",
                                type: "string"
                            }]
                        },
                        LocalStorageSetItem: {
                            descript: "mac客户端通用本地存储接口setter",
                            params: [{
                                key: "string",
                                value: "string"
                            }]
                        },
                        LocalStorageGetItem: {
                            descript: "mac客户端通用本地存储接口getter",
                            callback: !0,
                            params: [{
                                key: "string"
                            }]
                        },
                        LocalStorageRemoveItem: {
                            descript: "mac客户端通用本地存储接口remove",
                            params: [{
                                key: "string"
                            }]
                        },
                        LocalStorageClear: {
                            descript: "mac客户端通用本地存储接口clear",
                            params: []
                        },
                        closeInformBox: {
                            descript: "关闭举报弹窗(只win有这个页面要用)",
                            callback: !0,
                            params: []
                        },
                        closeFeedbackBox: {
                            descript: "关闭反馈弹窗(只win有这个页面要用)",
                            callback: !0,
                            params: []
                        },
                        EduPopupMemberContextMenuEx: {
                            descript: "成员列表右键菜单",
                            params: [{
                                name: "uin",
                                type: "string",
                                info: "",
                                isRequired: !0,
                                defaultVal: "312405270",
                                isOldPCParam: !0
                            }, {
                                name: "role",
                                type: "number",
                                info: "role 身份 1 助教， 2 老师，3 机构外未付费学生，4 机构内未付费学生 5 机构外付费学生 6 机构内付费学生 7 管理员 8 校长 9班长",
                                isRequired: !0,
                                defaultVal: 5,
                                isOldPCParam: !0
                            }, {
                                name: "uinType",
                                type: "number",
                                info: "账号类型 0-QQ, 2-微信, 1001-游客",
                                isRequired: !0,
                                defaultVal: 0,
                                isOldPCParam: !0
                            }, {
                                name: "loginType",
                                type: "number",
                                info: "登录方式(0 - pc, 1 - android, 2 - ios)",
                                isRequired: !0,
                                defaultVal: 0,
                                isOldPCParam: !0
                            }, {
                                name: "sex",
                                type: "number",
                                info: "性别 1 男 2 女",
                                isRequired: !0,
                                defaultVal: 2,
                                isOldPCParam: !0
                            }, {
                                name: "label",
                                type: "number",
                                info: "",
                                isRequired: !0,
                                defaultVal: 0,
                                isOldPCParam: !0
                            }, {
                                name: "nickname",
                                type: "string",
                                info: "",
                                defaultVal: "nick",
                                isOldPCParam: !0
                            }, {
                                name: "remark",
                                type: "string",
                                info: "",
                                defaultVal: "备注",
                                isOldPCParam: !0
                            }, {
                                name: "more_info",
                                type: "string",
                                info: "json字符串",
                                defaultVal: "{}",
                                isOldPCParam: !0
                            }]
                        },
                        setLetterUrlAndShowWnd: {
                            descript: "设置私信url并展示会话窗口（即唤起客户端私信窗口)",
                            params: [{
                                name: "url",
                                type: "string",
                                info: "https://ke.qq.com/letter/index.html?env=client#/?agencyId=10085&receiverUin=312405270&isConsult=1",
                                isRequired: !0,
                                defaultVal: "https://ke.qq.com/letter/index.html?env=client#/?agencyId=10085&receiverUin=312405270&isConsult=1",
                                isOldPCParam: !0
                            }, {
                                name: "padding_left",
                                type: "number",
                                info: "",
                                isRequired: !0,
                                defaultVal: 0,
                                isOldPCParam: !0
                            }, {
                                name: "padding_right",
                                type: "number",
                                info: "",
                                isRequired: !0,
                                defaultVal: 0,
                                isOldPCParam: !0
                            }]
                        },
                        setLetterUrl: {
                            descript: "设置私信url",
                            params: [{
                                name: "url",
                                type: "string",
                                info: "https://ke.qq.com/letter/index.html?env=client#/?agencyId=10085&receiverUin=312405270&isConsult=1",
                                isRequired: !0,
                                defaultVal: "",
                                isOldPCParam: !0
                            }, {
                                name: "padding_left",
                                type: "number",
                                info: "",
                                isRequired: !0,
                                defaultVal: 0,
                                isOldPCParam: !0
                            }, {
                                name: "padding_right",
                                type: "number",
                                info: "",
                                isRequired: !0,
                                defaultVal: 0,
                                isOldPCParam: !0
                            }]
                        },
                        StartTempChatSession: {
                            descript: "设置私信url并展示会话窗口(即唤起qq)",
                            params: [{
                                name: "uin",
                                type: "string",
                                info: "",
                                isRequired: !0,
                                defaultVal: "",
                                isOldPCParam: !0
                            }, {
                                name: "login_type",
                                type: "number",
                                info: "",
                                defaultVal: 0,
                                isOldPCParam: !0
                            }, {
                                name: "uid_type",
                                type: "number",
                                info: "",
                                isRequired: !0,
                                defaultVal: 0,
                                isOldPCParam: !0
                            }]
                        },
                        EduSetHostWindowTitle: {
                            descript: "设置客户端窗口title",
                            params: [{
                                name: "title",
                                type: "string",
                                info: "title名称",
                                isRequired: !0,
                                defaultVal: " ",
                                isOldPCParam: !0
                            }]
                        },
                        EduSetWindowFullScreen: {
                            descript: "设置客户端窗口是否全屏",
                            params: [{
                                name: "full",
                                type: "number",
                                info: "0非全屏；1全屏",
                                isRequired: !0,
                                defaultVal: 1,
                                isOldPCParam: !0
                            }]
                        },
                        EduUpdateSKeyCookieEx: {
                            descript: "更新skey",
                            params: [{
                                name: "urlForSkey",
                                type: "string",
                                info: "",
                                isRequired: !0,
                                defaultVal: "https://.ke.qq.com"
                            }, {
                                name: "domainForSkey",
                                type: "string",
                                info: "",
                                isRequired: !0,
                                defaultVal: ".ke.qq.com"
                            }, {
                                name: "urlForOthers",
                                type: "string",
                                info: "",
                                isRequired: !0,
                                defaultVal: ".ke.qq.com"
                            }, {
                                name: "domainForOthers",
                                type: "string",
                                info: "",
                                isRequired: !0,
                                defaultVal: ".ke.qq.com"
                            }, {
                                name: "callback",
                                type: "string",
                                info: "",
                                isRequired: !0
                            }, {
                                name: "currentKeyInvalid",
                                type: "string",
                                info: "",
                                isRequired: !0,
                                defaultVal: "1"
                            }]
                        },
                        EduRegisterClassStatusNotify: {
                            descript: "课程状态",
                            params: [{
                                name: "callback",
                                type: "string",
                                info: "",
                                isRequired: !0,
                                isOldPCParam: !0
                            }]
                        },
                        EduChangeWindowProperty: {
                            descript: "设置窗口大小",
                            params: [{
                                name: "width",
                                type: "number",
                                info: "",
                                isRequired: !0
                            }, {
                                name: "height",
                                type: "number",
                                info: "",
                                isRequired: !0
                            }]
                        },
                        EduPreviewPicture: {
                            descript: "双击查看图片",
                            params: [{
                                name: "url",
                                type: "string",
                                info: "",
                                isRequired: !0,
                                isOldPCParam: !0
                            }]
                        },
                        EduShowQuickReplyMenu: {
                            descript: "快捷菜单",
                            callback: !0,
                            params: []
                        },
                        EduIsClipboardPastable: {
                            descript: "粘贴板是否有数据及数据类型",
                            params: [{
                                name: "callback",
                                type: "string",
                                info: "",
                                isRequired: !0,
                                isOldPCParam: !0
                            }]
                        },
                        EduGetClipboardBitmap: {
                            descript: "复制粘贴图片（ctrl快捷键和右键粘贴都会用到此接口）",
                            params: [{
                                name: "callback",
                                type: "string",
                                info: "",
                                isRequired: !0,
                                isOldPCParam: !0
                            }]
                        },
                        EduGetClipboardText: {
                            descript: "获取粘贴板的字符（新win版本才有的接口）",
                            params: [{
                                name: "callback",
                                type: "string",
                                info: "",
                                isRequired: !0
                            }]
                        },
                        showShareSelectDlg: {
                            descript: "调用APP分享",
                            params: [{
                                name: "title",
                                type: "string",
                                info: "",
                                isRequired: !1
                            }, {
                                name: "summary",
                                type: "string",
                                info: "",
                                isRequired: !1
                            }, {
                                name: "url",
                                type: "string",
                                info: "",
                                isRequired: !1
                            }, {
                                name: "coverImageUrl",
                                type: "string",
                                info: "",
                                isRequired: !1
                            }]
                        },
                        EduOnGetTxEduCode: {
                            descript: "获取登月登录态oauth的code，用于请求CGI绑定",
                            callback: !0,
                            params: []
                        },
                        EduShowOrHideCourseListWndMenuRedpoint: {
                            descript: "控制客户端首页顶部菜单的红点显示和隐藏",
                            params: [{
                                name: "menuName",
                                type: "string",
                                info: "",
                                isRequired: !0
                            }, {
                                name: "showRedPoint",
                                type: "bool",
                                info: "",
                                isRequired: !0
                            }]
                        },
                        EduNotifyUserNickNameChange: {
                            descript: "更新客户端首页顶部菜单的姓名",
                            params: [{
                                name: "userName",
                                type: "string",
                                info: "",
                                isRequired: !0
                            }]
                        },
                        EduSetTitleButtons: {
                            descript: "设置头部按钮",
                            params: [{
                                name: "left",
                                type: "object",
                                info: "",
                                isRequired: !1
                            }, {
                                name: "right",
                                type: "object",
                                info: "",
                                isRequired: !1
                            }]
                        },
                        EduSetCenterTitle: {
                            descript: "设置页面标题",
                            params: [{
                                name: "title",
                                type: "object",
                                info: "",
                                isRequired: !1
                            }]
                        },
                        EduGetChannelName: {
                            descript: "客户端安装来源",
                            params: []
                        },
                        EduPlayVideo: {
                            descript: "打开客户端回放页",
                            params: [{
                                name: "cid",
                                type: "number",
                                info: "",
                                isRequired: !0
                            }, {
                                name: "tid",
                                type: "number",
                                info: "",
                                isRequired: !0
                            }, {
                                name: "taid",
                                type: "number",
                                info: "",
                                isRequired: !0
                            }, {
                                name: "vid",
                                type: "number",
                                info: "",
                                isRequired: !0
                            }]
                        },
                        EduOpenCourseDetail: {
                            descript: "打开客户端回放详情页",
                            params: [{
                                name: "task_name",
                                type: "string",
                                info: "任务名称",
                                isRequired: !0
                            }, {
                                name: "name",
                                type: "string",
                                info: "课堂名称",
                                isRequired: !0
                            }, {
                                name: "cid",
                                type: "number",
                                info: "",
                                isRequired: !0
                            }, {
                                name: "tid",
                                type: "number",
                                info: "",
                                isRequired: !0
                            }, {
                                name: "task_id",
                                type: "number",
                                info: "",
                                isRequired: !0
                            }, {
                                name: "file_id",
                                type: "string",
                                info: "回放文件id",
                                isRequired: !1
                            }, {
                                name: "is_complete",
                                type: "number",
                                info: "回放是否生成完成",
                                isRequired: !0
                            }, {
                                name: "need_replay",
                                type: "number",
                                info: "是否需要回放",
                                isRequired: !0
                            }, {
                                name: "bg_time",
                                type: "number",
                                info: "课程开始时间",
                                isRequired: !0
                            }, {
                                name: "end_time",
                                type: "number",
                                info: "课程结束时间",
                                isRequired: !0
                            }]
                        },
                        getVersionCode: {
                            descript: "获取客户端版本号",
                            params: []
                        },
                        EduWebLoadingFinished: {
                            descript: "告知客户端加载完成",
                            params: []
                        }
                    }
                }
                , function(e, t, n) {
                    "use strict";
                    function r(e) {
                        return (r = "function" == typeof Symbol && "symbol" == u(Symbol.iterator) ? function(e) {
                            return u(e)
                        }
                        : function(e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : u(e)
                        }
                        )(e)
                    }
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                    t.copyAndPasteMenu = function(e) {
                        var t = !0
                          , n = window.getSelection()
                          , r = (0,
                        a.judgeClientVersion)().isNewWin;
                        "Range" === n.type && n.rangeCount > 0 && (t = !1);
                        var i = {
                            commands: [{
                                id: 0,
                                text: "剪切",
                                enabled: t ? 0 : 1
                            }, {
                                id: 1,
                                text: "复制",
                                enabled: t ? 0 : 1
                            }, {
                                id: 2,
                                text: "粘贴"
                            }]
                        };
                        (0,
                        o.default)("EduShowContextMenu", i).then(function() {
                            var t, n = (t = s.mark((function t(n) {
                                return s.wrap((function(t) {
                                    for (; ; )
                                        switch (t.prev = t.next) {
                                        case 0:
                                            0 === (n = parseInt(n, 10)) ? document.execCommand("Cut", "false", null) : 1 === n ? document.execCommand("Copy") : 2 === n && (r ? d(e) : document.execCommand("Paste"));
                                        case 2:
                                        case "end":
                                            return t.stop()
                                        }
                                }
                                ), t)
                            }
                            )),
                            function() {
                                var e = this
                                  , n = arguments;
                                return new Promise((function(r, i) {
                                    var o = t.apply(e, n);
                                    function a(e) {
                                        c(o, r, i, a, s, "next", e)
                                    }
                                    function s(e) {
                                        c(o, r, i, a, s, "throw", e)
                                    }
                                    a(void 0)
                                }
                                ))
                            }
                            );
                            return function(e) {
                                return n.apply(this, arguments)
                            }
                        }())
                    }
                    ,
                    t.enterTypeMenu = function() {
                        var e = f()
                          , t = {
                            commands: [{
                                id: 0,
                                text: "按Enter键发送消息",
                                checkable: 1,
                                checked: 0 === e ? 1 : 0
                            }, {
                                id: 1,
                                text: "按Ctrl+Enter键发送消息",
                                checkable: 1,
                                checked: 1 === e ? 1 : 0
                            }],
                            callback: function(e) {
                                window.localStorage.setItem("LS_KEY_ENTER_TYPE", e)
                            }
                        };
                        (0,
                        o.default)("EduShowContextMenu", t).then((function(e) {
                            window.localStorage.setItem("LS_KEY_ENTER_TYPE", e)
                        }
                        ))
                    }
                    ,
                    t.getEnterType = f,
                    t.userRightMenu = function(e) {
                        var t = e.uin
                          , n = e.role
                          , r = e.uid_type
                          , s = e.login_type
                          , u = void 0 === s ? 1 : s
                          , c = e.sex
                          , l = void 0 === c ? 1 : c
                          , f = e.label
                          , d = void 0 === f ? 0 : f
                          , h = e.nickname
                          , p = void 0 === h ? "" : h
                          , v = e.remark
                          , m = void 0 === v ? "" : v
                          , g = e.selfInfo
                          , y = void 0 === g ? {} : g
                          , E = e.onOpenStudentInfo
                          , T = y.isSaler
                          , b = y.aid;
                        if ((0,
                        a.judgeClientVersion)().isOldMac)
                            (0,
                            o.getMacVersion)((function(a) {
                                var s = {
                                    sale: T ? "1" : "0",
                                    saleSendPMCallback: "sendLetterHandle",
                                    viewStuDetailsCallback: "openStudentInfo"
                                }
                                  , c = a && a > 50013;
                                (0,
                                o.macBridge)((function(o) {
                                    var a = [t, c ? n : n.toString(), c ? r : r.toString(), u, l, d, p, m, JSON.stringify(s)];
                                    o.callHandler("EduPopupMemberContextMenuEx", a, (function() {}
                                    )),
                                    window.sendLetterHandle = function() {}
                                    ,
                                    o.registerHandler("sendLetterHandle", (function() {
                                        (0,
                                        i.openUrl)("https://ke.qq.com/agency/index/index.html?auto_open_msg=1&msg_aid=".concat(b, "&msg_re_uin=").concat(t, "#tab=sale_worktable#task_query"))
                                    }
                                    )),
                                    E && "function" == typeof E && (window.openStudentInfo = function() {}
                                    ,
                                    o.registerHandler("openStudentInfo", (function() {
                                        return E(e)
                                    }
                                    )))
                                }
                                ))
                            }
                            ));
                        else {
                            var _ = {
                                sale: T ? "1" : "0",
                                saleSendPMCallback: (0,
                                o.generateGlobal)((function() {
                                    (0,
                                    o.default)("setLetterUrlAndShowWnd", {
                                        url: "https://ke.qq.com/letter/index.html?env=client#/?agencyId=".concat(b, "&receiverUin=").concat(t, "&isConsult=1"),
                                        padding_left: 0,
                                        padding_right: 155
                                    })
                                }
                                ))
                            };
                            _.viewStuDetailsCallback = E && "function" == typeof E ? (0,
                            o.generateGlobal)((function() {
                                return E(e)
                            }
                            )) : (0,
                            o.generateGlobal)((function() {}
                            ));
                            var S = {
                                uin: t,
                                role: n,
                                uinType: r,
                                loginType: u,
                                sex: l,
                                label: d,
                                nickname: p,
                                remark: m,
                                more_info: JSON.stringify(_)
                            };
                            (0,
                            o.default)("EduPopupMemberContextMenuEx", S)
                        }
                    }
                    ;
                    var i = n(1)
                      , o = function(e, t) {
                        if (e && e.__esModule)
                            return e;
                        if (null === e || "object" !== r(e) && "function" != typeof e)
                            return {
                                default: e
                            };
                        var n = function(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                              , n = new WeakMap;
                            return function(e) {
                                return e ? n : t
                            }(e)
                        }(t);
                        if (n && n.has(e))
                            return n.get(e);
                        var i = {}
                          , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                        for (var a in e)
                            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                s && (s.get || s.set) ? Object.defineProperty(i, a, s) : i[a] = e[a]
                            }
                        return i.default = e,
                        n && n.set(e, i),
                        i
                    }(n(2))
                      , a = n(0);
                    function c(e, t, n, r, i, o, a) {
                        try {
                            var s = e[o](a)
                              , u = s.value
                        } catch (e) {
                            return void n(e)
                        }
                        s.done ? t(u) : Promise.resolve(u).then(r, i)
                    }
                    var l = !0;
                    function f() {
                        var e = window.localStorage.getItem("LS_KEY_ENTER_TYPE");
                        return null === e ? 0 : parseInt(e, 10)
                    }
                    function d(e) {
                        var t = e.quill
                          , n = e.insertImageFn;
                        (0,
                        o.default)("EduIsClipboardPastable", {
                            callback: (0,
                            o.generateGlobal)((function(e) {
                                try {
                                    var r = (e = JSON.parse(e)).extraInfo.formats;
                                    l && -1 !== r.indexOf("CF_OEMTEXT") ? function(e) {
                                        (0,
                                        o.default)("EduGetClipboardText", {
                                            callback: (0,
                                            o.generateGlobal)((function(t) {
                                                var n = e.getSelection();
                                                if (n) {
                                                    var r = n.index
                                                      , i = n.length;
                                                    n.length && e.deleteText(r, i),
                                                    e.insertEmbed(r, "text", t),
                                                    e.setSelection(r + t.length)
                                                }
                                            }
                                            ), !1)
                                        }).catch((function(e) {
                                            2 === e.retcode && (l = !1)
                                        }
                                        ))
                                    }(t) : -1 !== r.indexOf("CF_HDROP") && function(e) {
                                        (0,
                                        o.default)("EduGetClipboardBitmap", {
                                            callback: (0,
                                            o.generateGlobal)((function(t) {
                                                e(t)
                                            }
                                            ), !1)
                                        })
                                    }(n)
                                } catch (e) {}
                            }
                            ), !1)
                        })
                    }
                }
                ])
            }
            ,
            "object" == u(t) && "object" == u(e) ? e.exports = a() : (i = [],
            void 0 === (o = "function" == typeof (r = a) ? r.apply(t, i) : r) || (e.exports = o))
        }
        ).call(this, n("YuTi")(e))
    },
    "sed+": function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.initQWebrtcReporterEvent = t.initWebrtcReporterEvent = void 0;
        var i = r(n("3/DG"))
          , o = n("+aGj")
          , a = n("FsGU");
        t.initWebrtcReporterEvent = function(e, t, n, r) {
            var s, u, c, l, f, d, h, p, v, m;
            t.exec("WEBRTC", "enter_webrtc", "webrtc", 0, "enter webrtc ts:".concat(Date.now())),
            e.on("loadeddata", (function() {
                var e = Date.now();
                if (s = e,
                d - f < 3e3 && d - f > 0) {
                    var i = e - n;
                    t.exec("WEBRTC", "first_video_init", i, 0, "首帧:初始化-ts:".concat(e, ",耗时").concat(i));
                    var o = e - r;
                    t.exec("WEBRTC", "first_video_enter_mode", o, 0, "首帧:进入webrtc模式-ts:".concat(e, "，耗时").concat(o));
                    var a = e - l;
                    t.exec("WEBRTC", "first_video_enterroom", a, 0, "首帧:进房-ts:".concat(e, "，耗时").concat(a));
                    var u = e - d;
                    t.exec("WEBRTC", "first_video_start_peer", u, 0, "首帧:peer创建-ts:".concat(e, "，耗时").concat(u));
                    var c = e - p;
                    t.exec("WEBRTC", "first_video_start_ice", c, 0, "首帧:ice连接-ts:".concat(e, "，耗时").concat(c))
                }
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.SUPPORT_WEBRTC), (function(e) {
                t.commonReport("WEBRTC", e, "支持 WebRTC")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.NOT_SUPPORT_WEBRTC), (function(e) {
                t.commonReport("WEBRTC", e, "不支持 WebRTC")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.CHANNEL_START), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts;
                t.exec("WEBRTC", n, r, 0, "开始链接信令通道-ts:".concat(r)),
                u = r
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.CHANNEL_SUCC), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts
                  , i = r - u;
                t.exec("WEBRTC", n, i, 0, "信令通道链接成功-ts:".concat(r, "，耗时").concat(i))
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.CHANNEL_FAIL), (function(e) {
                t.commonReport("WEBRTC", e, "信令通道连接失败")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.CHANNEL_RECONNECT), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts;
                t.exec("WEBRTC", n, r, 0, "开始重连信令通道-ts:".concat(r)),
                c = r
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.CHANNEL_RECONNECT_SUCC), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts
                  , i = r - c;
                t.exec("WEBRTC", n, i, 0, "信令通道重连成功-ts:".concat(r, "，耗时").concat(i))
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.CHANNEL_RECONNECT_FAIL), (function(e) {
                t.commonReport("WEBRTC", e, "信令通道重连失败")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.ENTERROOM_START), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts;
                t.exec("WEBRTC", n, r, 0, "开始进房-ts:".concat(r)),
                l = r
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.ENTERROOM_SUCC), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts
                  , i = r - l;
                t.exec("WEBRTC", n, i, 0, "进房成功-ts:".concat(r, "，耗时").concat(i)),
                f = r
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.ENTERROOM_FAIL), (function(e) {
                t.commonReport("WEBRTC", e, "进房失败")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.CREATEPEER_SUCC), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts;
                t.exec("WEBRTC", n, r, 0, "创建peer成功-ts:".concat(r)),
                d = r
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.CREATEPEER_FAIL), (function(e) {
                t.commonReport("WEBRTC", e, "创建peer失败")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.LOCAL_SDP), (function(e) {
                t.commonReport("WEBRTC", e, "创建本地SDP")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.REMOTE_SDP), (function(e) {
                t.commonReport("WEBRTC", e, "接收远程SDP")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.SDP_SUCC), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts
                  , i = r - d;
                t.exec("WEBRTC", n, i, 0, "SDP握手成功-ts:".concat(r, "，耗时").concat(i)),
                !0
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.SDP_FAIL), (function(e) {
                t.commonReport("WEBRTC", e, "SDP握手失败")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.ICE_START), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts;
                t.exec("WEBRTC", n, r, 0, "ICE连接开始-ts:".concat(r)),
                h = r
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.LOCAL_CANDIDATE), (function(e) {
                t.commonReport("WEBRTC", e, "提供本地ICE候选")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.REMOTE_CANDIDATE), (function(e) {
                t.commonReport("WEBRTC", e, "接收远程ICE候选")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.ICE_SUCC), (function(e) {
                e.type;
                var n = e.subType
                  , r = e.ts
                  , i = r - h;
                t.exec("WEBRTC", n, i, 0, "ICE连接成功-ts:".concat(r, "，耗时").concat(i)),
                p = r,
                !0
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.ICE_FAIL), (function(e) {
                if (!v && m) {
                    var n = e.ts
                      , r = (e.type,
                    e.subType)
                      , o = e.detail ? (0,
                    i.default)(e.detail) : "";
                    t.exec("WEBRTC", r, n, 0, "ICE连接失败-ts:".concat(n, "-detail:").concat(o)),
                    v = !0
                }
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.ICE_DISCONNECT), (function(e) {
                if (m)
                    return !1;
                e.type;
                var n = e.subType
                  , r = e.ts
                  , o = e.detail ? (0,
                i.default)(e.detail) : "";
                t.exec("WEBRTC", n, r, 0, "ICE连接断开-ts:".concat(r, "-detail:").concat(o)),
                m = !0
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.STREAM_ADD), (function(e) {
                t.commonReport("WEBRTC", e, "流添加")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.STREAM_REMOVE), (function(e) {
                t.commonReport("WEBRTC", e, "流删除")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.STREAM_UPDATE), (function(e) {
                t.commonReport("WEBRTC", e, "流更新")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.SDKERROR), (function(e) {
                t.commonReport("WEBRTC", e, "WebRTCSDK错误")
            }
            )),
            e.on((0,
            a.playerEventName)("WEBRTC", o.WEBRTC_EVENTS.RTC_FREEZE), (function(e) {
                var n = Date.now()
                  , r = e.detail.toFixed(0)
                  , i = n - s;
                s = n,
                t.exec("WEBRTC", e.subType, r, 0, "卡顿-ts".concat(n, ",卡顿时间").concat(r, ",播放时间").concat(i), {
                    ver5: i
                })
            }
            ))
        }
        ;
        t.initQWebrtcReporterEvent = function(e, t, n, r) {
            var s, u, c, l, f, d, h, p, v, m, g = Boolean(null === (s = e.options) || void 0 === s || null === (u = s.qwebrtc) || void 0 === u ? void 0 : u.useHttp) ? "HTTP_QWEBRTC" : "QWEBRTC", y = {}, E = {};
            t.exec(g, "enter_qwebrtc", "qwebrtc", 0, "enter qwebrtc ts:".concat(Date.now()));
            var T = function() {
                var e = Date.now();
                c = e;
                var i = e - n;
                t.exec(g, "first_video_init", i, 0, "首帧:初始化-ts:".concat(e, "，耗时").concat(i));
                var o = e - r;
                t.exec(g, "first_video_endter_mode", o, 0, "首帧:进入qwebrtc模式-ts:".concat(e, "，耗时").concat(o));
                var a = e - d;
                t.exec(g, "first_video_start_peer", a, 0, "首帧:peer创建-ts:".concat(e, "，耗时").concat(a));
                var s = e - p;
                t.exec(g, "first_video_start_ice", s, 0, "首帧:ice连接-ts:".concat(e, "，耗时").concat(s))
            };
            e.on("loadeddata", T);
            var b = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.SUPPORT_WEBRTC)
              , _ = function(e) {
                t.commonReport(g, e, "支持 WebRTC")
            }
              , S = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.NOT_SUPPORT_WEBRTC)
              , R = function(e) {
                t.commonReport(g, e, "不支持 WebRTC")
            };
            e.on(b, _),
            e.on(S, R);
            var w = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.CHANNEL_START)
              , C = function(e) {
                var n = e.subType
                  , r = e.ts;
                t.exec(g, n, r, 0, "开始链接信令通道-ts:".concat(r)),
                l = r
            }
              , O = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.CHANNEL_SUCC)
              , L = function(e) {
                var n = e.subType
                  , r = e.ts
                  , i = r - l;
                t.exec(g, n, i, 0, "信令通道链接成功-ts:".concat(r, "，耗时").concat(i))
            }
              , A = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.CHANNEL_FAIL)
              , P = function(e) {
                t.commonReport(g, e, "信令通道连接失败")
            }
              , I = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.CHANNEL_RECONNECT)
              , D = function(e) {
                var n = e.subType
                  , r = e.ts;
                t.exec(g, n, r, 0, "开始重连信令通道-ts:".concat(r)),
                f = r
            }
              , k = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.CHANNEL_RECONNECT_SUCC)
              , N = function(e) {
                var n = e.subType
                  , r = e.ts
                  , i = r - f;
                t.exec(g, n, i, 0, "信令通道重连成功-ts:".concat(r, "，耗时").concat(i))
            }
              , x = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.CHANNEL_RECONNECT_FAIL)
              , M = function(e) {
                t.commonReport(g, e, "信令通道重连失败")
            };
            e.on(w, C),
            e.on(O, L),
            e.on(A, P),
            e.on(I, D),
            e.on(k, N),
            e.on(x, M);
            var F = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.CREATEPEER_SUCC)
              , U = function(e) {
                var n = e.subType
                  , r = e.ts;
                t.exec(g, n, r, 0, "创建peer成功-ts:".concat(r)),
                d = r
            }
              , B = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.CREATEPEER_FAIL)
              , j = function(e) {
                t.commonReport(g, e, "创建peer失败")
            }
              , V = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.LOCAL_SDP)
              , H = function(e) {
                t.commonReport(g, e, "创建本地SDP")
            }
              , q = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.REMOTE_SDP)
              , W = function(e) {
                t.commonReport(g, e, "接收远程SDP")
            }
              , G = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.SDP_SUCC)
              , Y = function(e) {
                var n = e.subType
                  , r = e.ts
                  , i = r - d;
                t.exec(g, n, i, 0, "SDP握手成功-ts:".concat(r, "，耗时").concat(i)),
                !0
            }
              , K = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.SDP_FAIL)
              , z = function(e) {
                t.commonReport(g, e, "SDP握手失败")
            }
              , Q = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.ICE_START)
              , J = function(e) {
                var n = e.subType
                  , r = e.ts;
                t.exec(g, n, r, 0, "ICE连接开始-ts:".concat(r)),
                h = r
            }
              , X = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.LOCAL_CANDIDATE)
              , Z = function(e) {
                t.commonReport(g, e, "提供本地ICE候选")
            }
              , $ = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.REMOTE_CANDIDATE)
              , ee = function(e) {
                t.commonReport(g, e, "接收远程ICE候选")
            }
              , te = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.ICE_SUCC)
              , ne = function(e) {
                var n = e.subType
                  , r = e.ts
                  , i = r - h;
                t.exec(g, n, i, 0, "ICE连接成功-ts:".concat(r, "，耗时").concat(i)),
                p = r,
                !0
            }
              , re = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.ICE_FAIL)
              , ie = function(e) {
                var n = e.ts
                  , r = (e.type,
                e.subType)
                  , o = e.detail ? (0,
                i.default)(e.detail) : "";
                !v && m ? (t.exec(g, r, n, 0, "ICE连接失败-ts:".concat(n, "-detail:").concat(o)),
                v = !0) : v || t.exec(g, "icefail_not_disconnected", n, 0, "ICE连接失败-ts:".concat(n, "-detail:").concat(o))
            }
              , oe = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.ICE_DISCONNECT)
              , ae = function(e) {
                if (m)
                    return !1;
                e.type;
                var n = e.subType
                  , r = e.ts
                  , o = e.detail ? (0,
                i.default)(e.detail) : "";
                t.exec(g, n, r, 0, "ICE连接断开-ts:".concat(r, "-detail:").concat(o)),
                m = !0
            }
              , se = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.STREAM_ADD)
              , ue = function(e) {
                e.type;
                var n = e.subType
                  , r = e.detail
                  , i = r.streamid
                  , o = r.session
                  , a = e.ts;
                t.exec(g, n, a, 0, " session:".concat(o, " streamid:").concat(i, "流添加"))
            }
              , ce = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.STREAM_REMOVE)
              , le = function(e) {
                e.type;
                var n = e.subType
                  , r = e.detail
                  , i = r.exitcode
                  , o = r.streamid
                  , a = r.session;
                t.exec(g, n, i, 0, " session:".concat(a, " streamid:").concat(o, "流删除,原因exitcode:").concat(i))
            };
            e.on(F, U),
            e.on(B, j),
            e.on(V, H),
            e.on(q, W),
            e.on(G, Y),
            e.on(K, z),
            e.on(Q, J),
            e.on(X, Z),
            e.on($, ee),
            e.on(te, ne),
            e.on(re, ie),
            e.on(oe, ae),
            e.on(se, ue),
            e.on(ce, le);
            var fe = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.SDKERROR)
              , de = function(e) {
                t.commonReport(g, e, "WebRTCSDK错误")
            };
            e.on(fe, de);
            var he = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.HTTP_SIGNAL_PULL_START)
              , pe = function(e) {
                y[e.detail] = Date.now(),
                t.commonReport(g, e, "http pull stream信令开始")
            }
              , ve = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.HTTP_SIGNAL_PULL_SUCC)
              , me = function(e) {
                try {
                    var n = e.detail.data.reqBody.streamurl;
                    y[n];
                    var r = Date.now()
                      , i = y[n] ? r - y[n] : -1;
                    t.exec(g, e.subType, i, 0, "http pull stream信令成功-ts:".concat(r, ",耗时:").concat(i)),
                    delete y[n]
                } catch (e) {
                    t.error("快直播拉流上报错误：".concat(e.toString()))
                }
            }
              , ge = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.HTTP_SIGNAL_PULL_FAIL)
              , ye = function(e) {
                var n = e.detail
                  , r = n.message
                  , i = n.reqBody;
                t.commonReport(g, e, "http pull stream信令失败:err-".concat(r, ",streamurl-").concat(null == i ? void 0 : i.streamurl))
            };
            e.on(he, pe),
            e.on(ve, me),
            e.on(ge, ye);
            var Ee = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.HTTP_SIGNAL_STOP_START)
              , Te = function(e) {
                E[e.detail] = Date.now(),
                t.commonReport(g, e, "http stop stream信令开始")
            }
              , be = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.HTTP_SIGNAL_STOP_SUCC)
              , _e = function(e) {
                try {
                    var n = e.detail.data.reqBody.streamurl;
                    E[n];
                    var r = Date.now()
                      , i = E[n] ? r - E[n] : -1;
                    t.exec(g, e.subType, i, 0, "http stop stream信令成功-ts:".concat(r, ",耗时:").concat(i))
                } catch (e) {
                    t.error("快直播停流上报错误：".concat(e.toString()))
                }
            }
              , Se = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.HTTP_SIGNAL_STOP_FAIL)
              , Re = function(e) {
                var n = e.detail
                  , r = n.message
                  , i = n.reqBody;
                t.commonReport(g, e, "http stop stream信令失败:err-".concat(r, ",streamurl-").concat(null == i ? void 0 : i.streamurl))
            };
            e.on(Ee, Te),
            e.on(be, _e),
            e.on(Se, Re);
            var we = (0,
            a.playerEventName)("QWEBRTC", o.QWEBRTC_EVENTS.RTC_FREEZE)
              , Ce = function(e) {
                var n = Date.now()
                  , r = e.detail.toFixed(0)
                  , i = n - c;
                c = n,
                t.exec(g, e.subType, r, 0, "卡顿-ts".concat(n, ",卡顿时间").concat(r, ",播放时间").concat(i), {
                    ver5: i
                })
            };
            e.on(we, Ce);
            e.once("unloadMode", (function() {
                e.off("loadeddata", T),
                e.off(b, _),
                e.off(S, R),
                e.off(w, C),
                e.off(O, L),
                e.off(A, P),
                e.off(I, D),
                e.off(k, N),
                e.off(x, M),
                e.off(F, U),
                e.off(B, j),
                e.off(V, H),
                e.off(q, W),
                e.off(G, Y),
                e.off(K, z),
                e.off(Q, J),
                e.off(X, Z),
                e.off($, ee),
                e.off(te, ne),
                e.off(re, ie),
                e.off(oe, ae),
                e.off(se, ue),
                e.off(ce, le),
                e.off(fe, de),
                e.off(he, pe),
                e.off(ve, me),
                e.off(ge, ye),
                e.off(Ee, Te),
                e.off(be, _e),
                e.off(Se, Re),
                e.off(we, Ce)
            }
            ))
        }
    },
    syUg: function(e, t, n) {
        (function(e) {
            !function(t, n, r, i, o, a) {
                "use strict";
                function s(e) {
                    return e && "object" == typeof e && "default"in e ? e : {
                        default: e
                    }
                }
                var u, c = s(r), l = s(o), f = s(a), d = {
                    trace: "trace",
                    debug: "debug",
                    info: "info",
                    warn: "warn",
                    error: "error",
                    fatal: "fatal",
                    monitor: "monitor"
                }, h = function(e) {
                    return function(t) {
                        return Object.prototype.toString.call(t) === "[object " + e + "]"
                    }
                }, p = h("String"), v = h("Number"), m = h("Object"), g = h("Array"), y = h("Error"), E = "undefined" == typeof document, T = function(e, t) {
                    return void 0 === t && (t = 6),
                    i.stringify(e, (function(e, t, n) {
                        if ("function" != typeof e) {
                            if (e instanceof Error) {
                                var r = {};
                                return Object.getOwnPropertyNames(e).forEach((function(t) {
                                    r[t] = e[t]
                                }
                                )),
                                n(r)
                            }
                            return n(e)
                        }
                    }
                    ), null, {
                        maxDepth: t
                    })
                }, b = function() {
                    return "undefined" != typeof window && (null === window || void 0 === window ? void 0 : window.tam) && (null === window || void 0 === window ? void 0 : window.Aegis) && window.tam instanceof window.Aegis
                }, _ = e.env.TAM_OPTIONS || {}, S = {
                    beforeRequest: function() {
                        for (var e, t, n, r, i, o, a, s, u, c, l, f, d = [], h = 0; h < arguments.length; h++)
                            d[h] = arguments[h];
                        var p = _.beforeRequest
                          , v = d[0];
                        return "log" !== (null == v ? void 0 : v.logType) || !(null === (n = null === (t = null === (e = null == v ? void 0 : v.logs) || void 0 === e ? void 0 : e.msg) || void 0 === t ? void 0 : t.includes) || void 0 === n ? void 0 : n.call(t, "Script error.")) && !(null === (a = null === (o = null === (i = null === (r = null == v ? void 0 : v.logs) || void 0 === r ? void 0 : r.ctx) || void 0 === i ? void 0 : i.aegisUrl) || void 0 === o ? void 0 : o.includes) || void 0 === a ? void 0 : a.call(o, "localhost")) && !(null === (l = null === (c = null === (u = null === (s = null == v ? void 0 : v.logs) || void 0 === s ? void 0 : s.ctx) || void 0 === u ? void 0 : u.aegisUrl) || void 0 === c ? void 0 : c.includes) || void 0 === l ? void 0 : l.call(c, "report.edu.qq.com")) && ("function" != typeof p || (null === (f = null == p ? void 0 : p.apply) || void 0 === f ? void 0 : f.call(p, this, d)))
                    }
                };
                "function" != typeof c.default || b() || (u = new c.default(n.__assign(n.__assign({
                    id: "75V02uQq7q8Dbqp6Yz",
                    api: {
                        apiDetail: !0
                    },
                    reportApiSpeed: !0,
                    reportAssetSpeed: !0
                }, _), S)));
                var R, w = u, C = function() {
                    function e(e) {
                        var t = e.model
                          , n = e.pool;
                        this.model = t,
                        this.pool = n
                    }
                    return e.prototype.pv = function(e) {
                        this.monitor(e, 1)
                    }
                    ,
                    e.prototype.monitor = function(e, t) {
                        void 0 === t && (t = 1);
                        var n = this.model.generateRow(d.monitor, {
                            monitor_id: e,
                            monitor_count: t
                        });
                        this.pool.add(n, !0)
                    }
                    ,
                    e
                }();
                function O(e) {
                    return m(e) ? function(e, t) {
                        e = Object(e);
                        var n = {};
                        return ["cmd", "project", "monitorId", "monitor_id", "monitorCount", "monitor_count", "retcode", "costTime", "cost_time", "platform", "addition", "addition1", "trace_id"].forEach((function(t) {
                            t in e && (n[t] = e[t])
                        }
                        )),
                        n
                    }(e) : {}
                }
                function L(e, t, n) {
                    return "[" + t + "] " + e.toUpperCase() + ": " + n
                }
                function A(e) {
                    var t = "";
                    return Object.entries(e).forEach((function(e) {
                        var n = e[0]
                          , r = e[1];
                        t += "\t" + n + ": " + T(r)
                    }
                    )),
                    t
                }
                function P(e, t, n) {
                    for (var r = "", i = {}, o = [], a = 0; a < n.length; a++) {
                        var s = n[a];
                        s && (p(s) || v(s) ? r += s : m(s) ? (r || "string" != typeof s.msg || (r = s.msg),
                        !r && s.err instanceof Error && (r = s.err.message),
                        i["arg" + a] = s,
                        o.push(s)) : g(s) || y(s) ? (i["arg" + a] = s,
                        o.push(s)) : o.push(s))
                    }
                    return {
                        message: L(e, t, r),
                        extra: {
                            addition: Object.keys(i).length ? T(i) : void 0
                        },
                        filteredArgs: o
                    }
                }
                t.LEVELS = void 0,
                (R = t.LEVELS || (t.LEVELS = {})).TRACE = "trace",
                R.DEBUG = "debug",
                R.INFO = "info",
                R.WARN = "warn",
                R.ERROR = "error",
                R.FATAL = "fatal";
                var I = [t.LEVELS.TRACE, t.LEVELS.DEBUG, t.LEVELS.INFO, t.LEVELS.WARN, t.LEVELS.ERROR, t.LEVELS.FATAL];
                function D(e) {
                    return function() {
                        for (var t = [], n = 0; n < arguments.length; n++)
                            t[n] = arguments[n];
                        var r = P(e, this.channel, t)
                          , i = r.message
                          , o = r.extra
                          , a = t[t.length - 1];
                        return Object.assign(o, O(a)),
                        this.write(e, i, o)
                    }
                }
                var k = function() {
                    function e(e, n) {
                        void 0 === n && (n = "imlog"),
                        this.tam = e,
                        this.channel = n,
                        this.options = {},
                        this[r] = D(t.LEVELS.TRACE),
                        this[i] = D(t.LEVELS.DEBUG),
                        this[o] = D(t.LEVELS.WARN),
                        this[a] = D(t.LEVELS.INFO),
                        this[s] = D(t.LEVELS.ERROR),
                        this[u] = D(t.LEVELS.FATAL),
                        this.bindEvent()
                    }
                    var r, i, o, a, s, u;
                    return e.prototype.bindEvent = function() {
                        var e = this;
                        if (!window.__IMLOG_LOGGER_EVENT__ && !E) {
                            window.__IMLOG_LOGGER_EVENT__ = !0;
                            var t = function() {
                                e.upload()
                            };
                            document.addEventListener("keydown", (function(e) {
                                88 === e.keyCode && e.altKey && t()
                            }
                            )),
                            document.addEventListener("touchend", (function(e) {
                                e.touches.length >= 3 && t()
                            }
                            ))
                        }
                    }
                    ,
                    e.prototype.config = function(t) {
                        void 0 === t && (t = {}),
                        this.options = n.__assign(n.__assign(n.__assign({}, e.defaultOptions), this.options), t),
                        this.keep()
                    }
                    ,
                    e.prototype.keep = function(e) {
                        "number" == typeof e ? this.options.keep = e : e = this.options.keep,
                        "number" == typeof e && this.tam.setConfig({
                            offlineLog: e > 0,
                            offlineLogExp: e
                        })
                    }
                    ,
                    e.prototype.extra = function(e) {
                        var t = this
                          , n = Object.create(this);
                        return I.forEach((function(r) {
                            n[r] = function() {
                                for (var n = [], i = 0; i < arguments.length; i++)
                                    n[i] = arguments[i];
                                t[r].apply(t, n.concat(e))
                            }
                        }
                        )),
                        n
                    }
                    ,
                    e.prototype.prefix = function(e) {
                        var t = this
                          , n = Object.create(this);
                        return I.forEach((function(r) {
                            n[r] = t[r].bind(n, e)
                        }
                        )),
                        n
                    }
                    ,
                    e.prototype.upload = function() {}
                    ,
                    e.prototype.write = function(e, n, r) {
                        var i, o, a = {
                            msg: n + (r ? "\n" + A(r) : ""),
                            ext2: this.channel
                        };
                        [t.LEVELS.ERROR, t.LEVELS.FATAL].includes(e) ? null === (o = (i = this.tam).error) || void 0 === o || o.call(i, a) : this.tam.info(a)
                    }
                    ,
                    r = t.LEVELS.TRACE,
                    i = t.LEVELS.DEBUG,
                    o = t.LEVELS.WARN,
                    a = t.LEVELS.INFO,
                    s = t.LEVELS.ERROR,
                    u = t.LEVELS.FATAL,
                    e.support = !0,
                    e.defaultOptions = {
                        keep: 0
                    },
                    e
                }()
                  , N = function() {
                    function e(e, t, n) {
                        void 0 === n && (n = {}),
                        this.tam = e,
                        this.network = t,
                        this.options = n,
                        this.config(n),
                        this.init()
                    }
                    return e.prototype.init = function() {
                        var e = this;
                        this.tam.setConfig({
                            api: {
                                retCodeHandler: function(t, n, r) {
                                    var i = e.retcode(t, r.status);
                                    return {
                                        code: i,
                                        isErr: 0 !== i
                                    }
                                }
                            }
                        })
                    }
                    ,
                    e.prototype.config = function(t) {
                        var r;
                        void 0 === t && (t = {}),
                        this.options = n.__assign(n.__assign(n.__assign({}, e.defaultOpts), this.options), t);
                        var i = this.options
                          , o = i.includes
                          , a = i.excludes;
                        null === (r = this.network) || void 0 === r || r.config({
                            urlPatterns: {
                                includes: o,
                                excludes: a
                            }
                        })
                    }
                    ,
                    e.prototype.speed = function(e, t, n, r) {
                        this.tam.speedLogPipeline({
                            type: "fetch",
                            name: e,
                            isHttps: /^https/.test(e),
                            method: t,
                            ret: r,
                            duration: n
                        })
                    }
                    ,
                    e.prototype.retcode = function(e, t) {
                        if (null == e)
                            return t >= 200 && t < 300 ? 0 : t;
                        var n, r = this.options, i = r.ecProps, o = void 0 === i ? [] : i, a = r.ecDafault, s = void 0 === a ? 0 : a;
                        try {
                            n = JSON.parse(e) || {}
                        } catch (e) {
                            return s
                        }
                        for (var u = 0; u < o.length; u++) {
                            var c = o[u];
                            if ("number" == typeof n[c])
                                return n[c]
                        }
                        return s
                    }
                    ,
                    e.defaultOpts = {
                        ecProps: ["retcode", "ret", "ec"],
                        ecDafault: -1e3,
                        includes: /cgi-/,
                        excludes: /(imweblog|nohost)/
                    },
                    e
                }()
                  , x = function() {
                    return l.default
                }
                  , M = function() {
                    function t(e, t) {
                        var n, r;
                        this.options = e,
                        this.tam = t,
                        this.bizId = (r = null === (n = null === window || void 0 === window ? void 0 : window.location) || void 0 === n ? void 0 : n.hostname,
                        /ke\.qq\.com/.test(r) ? "ke" : /fudao\.qq\.com/.test(r) ? "k12" : ""),
                        this.env = "",
                        e && this.config(e)
                    }
                    return t.prototype.config = function(t) {
                        this.options = n.__assign(n.__assign({}, this.options), t);
                        var r = this.options
                          , i = r.uin
                          , o = r.env
                          , a = void 0 === o ? null === window || void 0 === window ? void 0 : window.ENV_NAME : o
                          , s = r.bizId
                          , u = n.__rest(r, ["uin", "env", "bizId"])
                          , c = a;
                        if (this.bizId = s || this.bizId,
                        !c) {
                            var l = ((null == e ? void 0 : e.env) || {}).NODE_ENV;
                            c = "production" !== l && l ? "dev" : "prod"
                        }
                        this.env = c;
                        var f = {};
                        i && (f.uin = i),
                        c && (f.ext1 = c);
                        var d = T(u);
                        d && (f.ext3 = d),
                        this.tam.setConfig(f)
                    }
                    ,
                    t.prototype.common = function() {
                        return {
                            env: this.env,
                            biz_id: this.bizId
                        }
                    }
                    ,
                    t.prototype.generateRow = function(e, t) {
                        if (m(e) && (e = (t = e).type),
                        !d[e])
                            return null;
                        var r = this.defaultGenerator.call(this, t);
                        return n.__assign(n.__assign(n.__assign({}, r), this.options), {
                            type: e,
                            log_timestamp: Date.now()
                        })
                    }
                    ,
                    t.prototype.defaultGenerator = function(e) {
                        return n.__assign(n.__assign({}, this.common()), e)
                    }
                    ,
                    t
                }()
                  , F = function() {
                    function e(e, t) {
                        void 0 === e && (e = {}),
                        this.options = e,
                        this.tam = t,
                        this.tasks = [],
                        this.timer = null,
                        this.init()
                    }
                    return e.prototype.config = function(t) {
                        this.options = n.__assign(n.__assign(n.__assign({}, e.defaultOpts), this.options), t);
                        var r = this.options.duration;
                        this.tam.setConfig({
                            delay: r
                        })
                    }
                    ,
                    e.prototype.init = function() {
                        this.ensure(),
                        this.check(),
                        this.tam.setConfig({
                            beforeReport: function(e) {}
                        })
                    }
                    ,
                    e.prototype.check = function() {
                        var e, t = this, n = this.options.duration;
                        this.timer || (this.timer = null === (e = null === window || void 0 === window ? void 0 : window.setTimeout) || void 0 === e ? void 0 : e.call(window, (function() {
                            t.timer = null,
                            t.check(),
                            t.tasks.length && t.report()
                        }
                        ), n))
                    }
                    ,
                    e.prototype.ensure = function() {
                        window.addEventListener("beforeunload", (function() {}
                        ))
                    }
                    ,
                    e.prototype.add = function(e, t) {
                        if (void 0 === t && (t = !1),
                        e)
                            return t ? e.project ? void this.tasks.push(e) : void 0 : void this.tam.info(T(e))
                    }
                    ,
                    e.prototype.pack = function() {
                        var e, t = this.options.sizePerRequest, n = this.tasks.splice(0, t);
                        return {
                            tasks: n,
                            data: {
                                url: this.options.href || (null === (e = null === window || void 0 === window ? void 0 : window.location) || void 0 === e ? void 0 : e.href),
                                list: n.map((function(e) {
                                    return t = e,
                                    n = {},
                                    Object.keys(t).forEach((function(e) {
                                        var r;
                                        n[(r = e,
                                        r.replace(/[A-Z]/g, "_$&").toLowerCase())] = t[e]
                                    }
                                    )),
                                    n;
                                    var t, n
                                }
                                ))
                            }
                        }
                    }
                    ,
                    e.prototype.report = function() {
                        for (; this.tasks.length; ) {
                            var e = this.pack().data;
                            fetch(this.options.url, {
                                method: "POST",
                                credentials: "include",
                                headers: {
                                    "Content-Type": "text/plain"
                                },
                                body: f.default(e)
                            }).then((function(e) {
                                return e.ok ? e.json() : Promise.reject(e)
                            }
                            )).then((function(e) {
                                return 0 !== e.ec ? Promise.reject(new Error("ec返回错误" + e.ec)) : Promise.resolve()
                            }
                            )).catch((function() {}
                            ))
                        }
                    }
                    ,
                    e.defaultOpts = {
                        duration: 500,
                        url: "https://imweblog.qq.com/cgi-bin/log",
                        href: void 0,
                        validPeriod: 1036800,
                        sizePerRequest: 20
                    },
                    e
                }();
                function U(e, t) {
                    return !!t && ("string" == typeof t ? e.indexOf(t) >= 0 : t instanceof RegExp && t.test(e))
                }
                function B(e, t) {
                    var n = t.includes
                      , r = t.excludes;
                    return !(n && !function(e, t) {
                        return Array.isArray(t) || (t = [t]),
                        t.some((function(t) {
                            return U(e, t)
                        }
                        ))
                    }(e, n) || r && !function(e, t) {
                        return Array.isArray(t) || (t = [t]),
                        t.every((function(t) {
                            return !U(e, t)
                        }
                        ))
                    }(e, r))
                }
                var j = function() {
                    function e(t, n) {
                        var r = this;
                        void 0 === t && (t = {}),
                        this.tam = n,
                        this.options = e.defaultOpts,
                        this.config(t),
                        this.tam.setConfig({
                            beforeReportSpeed: function(e) {
                                return !("static" !== e.type && (!r.isUrlMatched(e.url) || /imweblog|localhost|whistle|sentry/.test(e.url)))
                            }
                        })
                    }
                    return e.prototype.config = function(e) {
                        void 0 === e && (e = {});
                        var t = e.ignoreUrls
                          , r = e.resContenTypeWhiteList
                          , i = e.resContenTypeBlackList
                          , o = n.__rest(e, ["ignoreUrls", "resContenTypeWhiteList", "resContenTypeBlackList"]);
                        t && (o.urlPatterns = {
                            excludes: t
                        }),
                        (r || i) && (o.resContentTypePatterns = {
                            includes: r,
                            excludes: i
                        }),
                        this.options = n.__assign(n.__assign({}, this.options), o)
                    }
                    ,
                    e.prototype.isUrlMatched = function(e) {
                        return B(e, this.options.urlPatterns)
                    }
                    ,
                    e.prototype.isResContentTypeMatched = function(e) {
                        return B(e, this.options.resContentTypePatterns)
                    }
                    ,
                    e.defaultOpts = {
                        resContentTypePatterns: {
                            includes: [/application\/json/, /text\/xml/, /text\/plain/],
                            excludes: [/video/]
                        },
                        urlPatterns: {}
                    },
                    e
                }()
                  , V = function() {
                    function e(t, n) {
                        if (void 0 === t && (t = w),
                        this.tam = t,
                        !E) {
                            var r = window.tam;
                            b() && (this.tam = r || this.tam),
                            this.strategies = {
                                model: new M(void 0,this.tam),
                                pool: new F(void 0,this.tam),
                                network: new j(void 0,this.tam)
                            },
                            this._monitor = new C(this.strategies),
                            this._speed = new N(this.tam,this.strategies.network),
                            this._tdw = new x,
                            this._logger = (n ? e.loggerMap[n] : null) || new k(this.tam,n),
                            e.reportorMap.imlog = this,
                            e.loggerMap.imlog = this._logger
                        }
                    }
                    return e.prototype.config = function(e) {
                        var t = e.tdw
                          , r = e.speed
                          , i = e.logger
                          , o = e.pool
                          , a = e.network
                          , s = e.tam_project_id
                          , u = n.__rest(e, ["tdw", "speed", "logger", "pool", "network", "tam_project_id"]);
                        this.configModel(u),
                        this.configPool(o),
                        this.configNetwork(a),
                        this.configTdw(t),
                        this.configSpeed(r),
                        this.configLogger(i),
                        s && this.setTamConfig({
                            id: s
                        })
                    }
                    ,
                    e.prototype.configModel = function(e) {
                        var t;
                        void 0 === e && (e = {}),
                        null === (t = this.strategies) || void 0 === t || t.model.config(e)
                    }
                    ,
                    e.prototype.configPool = function(e) {
                        var t;
                        void 0 === e && (e = {}),
                        null === (t = this.strategies) || void 0 === t || t.pool.config(e)
                    }
                    ,
                    e.prototype.configNetwork = function(e) {
                        var t;
                        void 0 === e && (e = {}),
                        null === (t = this.strategies) || void 0 === t || t.network.config(e)
                    }
                    ,
                    e.prototype.configTdw = function() {
                        for (var e, t, r = [], i = 0; i < arguments.length; i++)
                            r[i] = arguments[i];
                        null === (t = null === (e = this._tdw) || void 0 === e ? void 0 : e.config) || void 0 === t || t.call.apply(t, n.__spreadArrays([e], r))
                    }
                    ,
                    e.prototype.configSpeed = function(e) {
                        var t, n;
                        void 0 === e && (e = {}),
                        null === (n = null === (t = this._speed) || void 0 === t ? void 0 : t.config) || void 0 === n || n.call(t, e)
                    }
                    ,
                    e.prototype.configLogger = function(e) {
                        var t, n;
                        void 0 === e && (e = {}),
                        null === (n = null === (t = this._logger) || void 0 === t ? void 0 : t.config) || void 0 === n || n.call(t, e)
                    }
                    ,
                    e.prototype.setTamConfig = function(e) {
                        this.tam.setConfig(e)
                    }
                    ,
                    e.prototype.createLogger = function(t) {
                        var n = e.loggerMap[t];
                        return n || (n = new k(this.tam,t),
                        e.loggerMap[t] = n),
                        n
                    }
                    ,
                    e.prototype.createReportor = function(t, r) {
                        var i = e.reportorMap[t];
                        return i || (i = new e((null == r ? void 0 : r.id) ? new c.default(n.__assign(n.__assign(n.__assign({}, S), {
                            onError: !1,
                            webVitals: !1,
                            pagePerformance: !1,
                            beforeRequest: function() {
                                for (var e = [], t = 0; t < arguments.length; t++)
                                    e[t] = arguments[t];
                                var n = e[0]
                                  , r = null == n ? void 0 : n.logType;
                                return "event" === r || "custom" === r || "whiteList" === r || "log" === r
                            }
                        }), r)) : this.tam,t),
                        e.reportorMap[t] = i),
                        i
                    }
                    ,
                    e.prototype.raw = function(e) {
                        var t;
                        null === (t = this.strategies) || void 0 === t || t.pool.add(function(e) {
                            e = Object(e);
                            var t = {};
                            return Object.keys(e).forEach((function(n) {
                                var r = e[n];
                                null != r && "" !== r && (t[n] = p(r) || v(r) ? r : r.toString())
                            }
                            )),
                            t
                        }(e))
                    }
                    ,
                    e.loggerMap = {},
                    e.reportorMap = {},
                    e
                }();
                Object.entries({
                    _monitor: ["pv", "monitor"],
                    _tdw: ["tdw", "reportPageView"],
                    _speed: ["speed", "speedOnlyForward", "pageSpeed", "pageRenderFp", "pageRenderEnd"],
                    _logger: ["prefix", "extra", "debug", "info", "warn", "error", "fatal", "trace", "clear", "keep", "autoUpload", "autoCollect", "upload"]
                }).forEach((function(e) {
                    var t = e[0];
                    e[1].forEach((function(e) {
                        V.prototype[e] = function() {
                            for (var r, i, o = [], a = 0; a < arguments.length; a++)
                                o[a] = arguments[a];
                            return E ? this : this[t] && (null === (i = (r = this[t])[e]) || void 0 === i ? void 0 : i.call.apply(i, n.__spreadArrays([r], o))) || this
                        }
                    }
                    ))
                }
                ));
                var H = new V;
                t.default = H,
                Object.defineProperty(t, "__esModule", {
                    value: !0
                })
            }(t, n("mrSG"), n("M6XO"), n("XnH7"), n("c1Ye"), n("3/DG"))
        }
        ).call(this, n("8oxB"))
    },
    "t/8C": function(e, t, n) {
        "use strict";
        var r = n("284h")
          , i = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var o = i(n("lSNA"))
          , a = i(n("lwsE"))
          , s = i(n("W8MJ"))
          , u = i(n("3/DG"))
          , c = r(n("lhmy"))
          , l = i(n("ALLf"))
          , f = n("FsGU");
        function d(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }
                ))),
                n.push.apply(n, r)
            }
            return n
        }
        function h(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? d(Object(n), !0).forEach((function(t) {
                    (0,
                    o.default)(e, t, n[t])
                }
                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : d(Object(n)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                }
                ))
            }
            return e
        }
        var p = ["HLS-Playback.hlsjs_error", "HLS-Playback.hlsjs_warn", "HLS-Playback.hlsjs_error_networkError", "LEB.server_reconnected", "PLAYER.playererror", "LEB.play_decode_error", "LEB.no_frame_decoded", "TRTC.disconnect", "FLV-Live.sdk_error", "LEB.request_pull_fail", "LEB.request_pull_retry_fail", "LEB.server_disconnected", "TRTC.icedisconnect", "WEBRTC.channel_fail", "WEBRTC.sdkerror", "WEBRTC.icefail", "TRTC.subscribe_fail", "TRTC.enterroomfail", "WEBRTC.enterroomfail", "HLS-Live.hls_playererror", "WEBRTC.sdpfail", "TRTC.icefail", "TRTC.sdkerror", "PLAYER.playererror-27", "PLAYER.playererror-24", "PLAYER.playererror-4", "PLAYER.playererror-3", "PLAYER.playererror-25"]
          , v = ["LEB.first_video_init", "LEB.first_video_enter_mode", "HLS-Playback.first_video_init", "HLS-Playback.first_video_loadmode", "HLS-Playback.firstloadeddata", "LEB.first_video_init", "LEB.first_video_enter_mode", "FLV-Live.first_video_loadmode", "FLV-Live.firstloadeddata", "FLV-Live.first_video_init", "WEBRTC.first_video_enter_mode", "WEBRTC.first_video_init", "WEBRTC.first_video_start_peer", "WEBRTC.first_video_enterroom", "WEBRTC.first_video_start_ice", "TRTC.first_video_enter_mode", "TRTC.first_video_enterroom", "TRTC.first_video_enterroom_channelsucc", "TRTC.first_video_start_ice", "TRTC.first_video_connected", "HLS-Live.firstloadeddata", "HLS-Live.first_video_loadmode", "HLS-Live.first_video_init"]
          , m = function() {
            function e(t) {
                var n = this;
                (0,
                a.default)(this, e),
                this.logger = void 0,
                this.rConfig = void 0,
                this.isConfiged = !1,
                this.tdwArgs = void 0,
                this.currMode = "",
                this.info = function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    n.logger.info("[loki-outterlog]: ".concat(e), {
                        monitorId: t
                    })
                }
                ,
                this.warn = function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    n.logger.warn("[loki-outterlog]: ".concat(e), {
                        monitorId: t
                    })
                }
                ,
                this.error = function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    n.logger.error("[loki-outterlog]: ".concat(e), {
                        monitorId: t
                    })
                }
                ,
                this.logger = t
            }
            return (0,
            s.default)(e, null, [{
                key: "onlineReport",
                value: function(t, n, r) {
                    var i = n || 0;
                    clearInterval(e.onlineTimer),
                    e.onlineTimer = window.setInterval((function() {
                        r && r.info("online".concat(t), {
                            monitorId: i
                        })
                    }
                    ), 1e4)
                }
            }]),
            (0,
            s.default)(e, [{
                key: "config",
                value: function(e) {
                    var t, n = e.uin, r = e.reporterConfig, i = e.tdwArgs;
                    e.versionCode;
                    this.logger.config({
                        uin: n,
                        project: r.appName,
                        bizId: (null === (t = r.fulllink) || void 0 === t ? void 0 : t.bizId) || "",
                        logger: {
                            keep: 7,
                            autoUpload: c.LEVELS.info
                        }
                    }),
                    this.rConfig = r,
                    this.tdwArgs = i,
                    this.isConfiged = !0
                }
            }, {
                key: "setCurrMode",
                value: function(e) {
                    this.currMode = e
                }
            }, {
                key: "tdw",
                value: function(e) {
                    l.default.tdwAsync ? l.default.tdwAsync(e, {
                        table: "dc00149"
                    }) : (this.logger.info("不存在 eduReporter.tdwAsync 方法！"),
                    this.logger.tdw(e))
                }
            }, {
                key: "exec",
                value: function(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ""
                      , r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0
                      , i = arguments.length > 4 ? arguments[4] : void 0
                      , o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : {}
                      , a = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : {};
                    try {
                        var s, u = h(h({
                            action: t,
                            obj1: n,
                            obj2: (0,
                            f.getRandomString)(),
                            ver10: e,
                            ver12: this.currMode
                        }, this.tdwArgs), o), l = "".concat(e, ".").concat(t);
                        this.tdw(u);
                        var d = r || (null === (s = this.rConfig.monitor[e]) || void 0 === s ? void 0 : s[t]) || 0;
                        this.logger.info("[".concat(e, "]").concat(i), h({
                            monitorId: d,
                            cmd: l
                        }, a)),
                        c.default.tam && (p.indexOf(l) > -1 && c.default.tam.reportEvent({
                            name: l,
                            ext2: "[".concat(e, "]").concat(i),
                            ext3: l
                        }),
                        v.indexOf(l) > -1 && this.speed(l, Number(n)),
                        null != a && a.monitor_id && p.indexOf(null == a ? void 0 : a.monitor_id) > -1 && c.default.tam.reportEvent({
                            name: null == a ? void 0 : a.monitor_id,
                            ext2: "[".concat(e, "]").concat(i)
                        })),
                        (0,
                        f.consolelog)("[loki-oed-report]:", u, "[".concat(e, "]").concat(i), {
                            monitorId: d,
                            cmd: "".concat(e, ".").concat(t)
                        }),
                        d || (0,
                        f.consolelog)("[loki-oed-report]: 未配置 monitorId: ".concat(t))
                    } catch (e) {
                        (0,
                        f.consolelog)("loki-oed-report 上报异常:", e)
                    }
                }
            }, {
                key: "speed",
                value: function(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    c.default.tam ? c.default.tam.reportTime({
                        name: e,
                        duration: t,
                        ext1: "oed-reporter 测试上报"
                    }) : c.default.speed("/".concat(e), "GET", t, 0, h({
                        statusCode: 200,
                        message: "视频测速上报"
                    }, n))
                }
            }, {
                key: "monitor",
                value: function(e) {
                    c.default.monitor(e)
                }
            }, {
                key: "commonReport",
                value: function(e, t, n) {
                    var r = t.subType
                      , i = t.detail
                      , o = t.ts
                      , a = i ? (0,
                    u.default)(i) : "";
                    this.exec(e, r, o, this.rConfig.monitor[r], "[".concat(e, "]").concat(n, "-ts:").concat(o, "-detail:").concat(a))
                }
            }]),
            e
        }();
        t.default = m,
        m.onlineTimer = void 0
    },
    tJIr: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("Ff2n"))
          , o = r(n("q1tI"))
          , a = r(n("TSYQ"))
          , s = r(n("d5di"));
        n("WdUr");
        var u = ["inline", "className", "eleClass", "label", "name", "value", "type", "onChange", "checkMsg", "prefix", "suffix", "des", "children"];
        function c(e) {
            var t = e.inline
              , n = e.className
              , r = e.eleClass
              , c = e.label
              , l = e.name
              , f = e.value
              , d = e.type
              , h = e.onChange
              , p = e.checkMsg
              , v = e.prefix
              , m = e.suffix
              , g = e.des
              , y = e.children
              , E = (0,
            i.default)(e, u)
              , T = (0,
            a.default)("s-f-item", n, {
                "s-f-item--error": p && p.hasError,
                "s-f-item--success": p && !p.hasError,
                "s-f-item--inline": t
            })
              , b = (0,
            a.default)("s-f-ele", r, {
                disabled: e.disabled,
                "s-f-ele--error": p && p.hasError
            });
            function _(e) {
                h && h(l, e.target.value, e)
            }
            return o.default.createElement("div", {
                className: T
            }, void 0 !== c && o.default.createElement("label", {
                className: "s-f-label",
                htmlFor: l
            }, c), o.default.createElement("div", {
                className: "s-f-field"
            }, o.default.createElement("div", {
                className: "s-f-ele-wrap"
            }, v && o.default.createElement("span", {
                className: "s-f-prefix"
            }, v), d && "textarea" !== d && o.default.createElement("input", Object.assign({
                className: b,
                value: f,
                type: d,
                onChange: _
            }, E)), "textarea" === d && o.default.createElement("textarea", Object.assign({
                className: b,
                value: f,
                onChange: _
            }, E)), y, m && o.default.createElement("span", {
                className: "s-f-suffix"
            }, m)), g && o.default.createElement("p", {
                className: "s-f-des"
            }, g), p && o.default.createElement(s.default, {
                className: "s-f-msg",
                type: p.hasError ? "alert" : "ok",
                text: p.errorMessage
            })))
        }
        c.defaultProps = {};
        var l = c;
        t.default = l
    },
    tN72: function(e, t) {
        e.exports = {
            query: function(e) {
                var t = window.location.search.match(new RegExp("(\\?|&)" + e + "=([^&]*)(&|$)"));
                return t ? decodeURIComponent(t[2]) : ""
            },
            getHash: function(e) {
                var t = window.location.hash.match(new RegExp("(#|&)" + e + "=([^&]*)(&|$)"));
                return t ? decodeURIComponent(t[2]) : ""
            },
            parseHref: function(e) {
                var t = document.createElement("a");
                return t.href = e,
                {
                    domain: t.hostname,
                    pathname: t.pathname,
                    search: t.search,
                    hash: t.hash
                }
            },
            parseQuery: function(e) {
                var t, n = {};
                if (!e)
                    return n;
                t = 0 === e.indexOf("?") ? 1 : 0;
                for (var r = e.substr(t).split("&"), i = 0; i < r.length; i++) {
                    var o = r[i].split("=");
                    n[decodeURIComponent(o[0])] = decodeURIComponent(o[1] || "")
                }
                return n
            }
        }
    },
    tQbY: function(e, t, n) {
        "use strict";
        n("iq6K"),
        n("n4sd"),
        n("O7Zi")
    },
    uGYx: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("rePB"))
          , o = r(n("Ff2n"))
          , a = r(n("q1tI"))
          , s = r(n("TSYQ"));
        n("cYNR");
        var u = r(n("CRiC"))
          , c = ["className", "visible", "text", "offset"];
        function l(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }
                ))),
                n.push.apply(n, r)
            }
            return n
        }
        function f(e) {
            var t = e.className
              , n = e.visible
              , r = e.text
              , i = e.offset
              , u = (0,
            o.default)(e, c)
              , l = (0,
            s.default)("s-global-tips", t, {
                active: n
            });
            return i && (u.style ? Object.assign(u.style, {
                top: i
            }) : Object.assign(u, {
                style: {
                    top: i
                }
            })),
            a.default.createElement("div", Object.assign({
                className: l
            }, u), r)
        }
        f.show = function(e) {
            (0,
            u.default)(function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? l(Object(n), !0).forEach((function(t) {
                        (0,
                        i.default)(e, t, n[t])
                    }
                    )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : l(Object(n)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    }
                    ))
                }
                return e
            }({}, e), f)
        }
        ,
        f.defaultProps = {
            visible: !1
        };
        var d = f;
        t.default = d
    },
    uQQk: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = p;
        var i = r(n("lSNA"))
          , o = r(n("o0o1"))
          , a = r(n("yXPU"))
          , s = r(n("lwsE"))
          , u = r(n("W8MJ"))
          , c = r(n("vgmO"))
          , l = r(n("7sdD"))
          , f = n("k4qV");
        function d(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }
                ))),
                n.push.apply(n, r)
            }
            return n
        }
        function h(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? d(Object(n), !0).forEach((function(t) {
                    (0,
                    i.default)(e, t, n[t])
                }
                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : d(Object(n)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                }
                ))
            }
            return e
        }
        function p(e, t) {
            var n = e.message
              , r = (e.modeHandlers,
            t.Constants)
              , i = r.ENS
              , d = r.MediaEvents
              , p = r.PlayerEvents
              , v = t.Utils
              , m = t.Error
              , g = t.log;
            i.QCLOUDVOD = "QCLOUDVOD",
            m.registerCode(20, "FETCH_QCLOUD_INFO");
            var y = function() {
                function t(n) {
                    var r, i = this;
                    (0,
                    s.default)(this, t),
                    this.fileidConfig = void 0,
                    this.player = void 0,
                    this.currAppId = void 0,
                    this.currFildId = void 0,
                    this.lastPlayTime = void 0,
                    this.setLastPlayTime = function(e) {
                        i.lastPlayTime = e
                    }
                    ,
                    this.durationChange = function() {
                        var t;
                        (null === (t = e.duration) || void 0 === t ? void 0 : t.call(e)) > 0 && (i.excuteSeekToLastPlayTime(),
                        e.off(d.DURATIONCHANGE, i.durationChange))
                    }
                    ,
                    this.excuteSeekToLastPlayTime = function() {
                        if (i.lastPlayTime && Math.abs(e.currentTime() - i.lastPlayTime) > 1) {
                            var t;
                            if (null !== (t = e.duration) && void 0 !== t && t.call(e) && e.duration() - i.lastPlayTime < 5)
                                return;
                            e.player.currentTime(i.lastPlayTime),
                            Math.abs(e.currentTime() - i.lastPlayTime) < 1 && (e.showTip("已为您定位上次观看位置"),
                            i.lastPlayTime = void 0)
                        }
                    }
                    ,
                    null !== (r = n.options) && void 0 !== r && r.qcloudVod && (this.initPlayInfo(n.options.qcloudVod),
                    this.player = n),
                    e.qcloudVod = function() {
                        return i
                    }
                }
                var r, y;
                return (0,
                u.default)(t, [{
                    key: "loadVideoByID",
                    value: (y = (0,
                    a.default)(o.default.mark((function e(t) {
                        return o.default.wrap((function(e) {
                            for (; ; )
                                switch (e.prev = e.next) {
                                case 0:
                                    this.initPlayInfo(t);
                                case 1:
                                case "end":
                                    return e.stop()
                                }
                        }
                        ), e, this)
                    }
                    ))),
                    function(e) {
                        return y.apply(this, arguments)
                    }
                    )
                }, {
                    key: "continueFromLastPlayTime",
                    value: function() {
                        var t = this;
                        e.once(d.LOADEDMETADATA, (function() {
                            t.excuteSeekToLastPlayTime()
                        }
                        )),
                        e.on(d.DURATIONCHANGE, this.durationChange)
                    }
                }, {
                    key: "pub",
                    value: function(e, t) {
                        n.pub({
                            type: i.QCLOUDVOD,
                            src: this,
                            subType: e,
                            detail: t
                        }, this.player)
                    }
                }, {
                    key: "initPlayInfo",
                    value: (r = (0,
                    a.default)(o.default.mark((function t(n) {
                        var r;
                        return o.default.wrap((function(t) {
                            for (; ; )
                                switch (t.prev = t.next) {
                                case 0:
                                    return this.offPlayerEvent(),
                                    t.prev = 1,
                                    t.next = 4,
                                    this.getVideoInfo(n);
                                case 4:
                                    r = t.sent,
                                    this.currAppId = n.appID,
                                    this.currFildId = n.fileID,
                                    r && this.handleVideoInfo(r),
                                    t.next = 14;
                                    break;
                                case 10:
                                    return t.prev = 10,
                                    t.t0 = t.catch(1),
                                    e.emit(p.ERROR, new m(20,t.t0)),
                                    t.abrupt("return", t.t0);
                                case 14:
                                case "end":
                                    return t.stop()
                                }
                        }
                        ), t, this, [[1, 10]])
                    }
                    ))),
                    function(e) {
                        return r.apply(this, arguments)
                    }
                    )
                }, {
                    key: "getVideoInfo",
                    value: function(e) {
                        var t = this;
                        return new Promise((function(n, r) {
                            var i = t.assemblyPath("getplayinfo", e.appID, e.fileID)
                              , o = e.t
                              , a = e.us
                              , s = e.exper
                              , u = e.sign
                              , c = {};
                            e.ssign ? c.super_sign = e.ssign : u && (c = {
                                t: o,
                                sign: u
                            },
                            (a || 0 == a) && (c.us = a),
                            (s || 0 == s) && (c.exper = s)),
                            e.playerID && (c.playerid = e.playerID);
                            var d = 0
                              , h = !1;
                            t.pub(f.SubEventName.FETCH_INFO_TRY),
                            function o() {
                                var a, s;
                                (0,
                                l.default)({
                                    url: "".concat(i, "?").concat((a = c,
                                    s = "",
                                    Object.keys(a).forEach((function(e) {
                                        s += "&".concat(e, "=").concat(String(a[e]))
                                    }
                                    )),
                                    s.slice(1))),
                                    timeout: e.timeout || 3e3
                                }, (function(e, a, s) {
                                    var u;
                                    if (e)
                                        u = {
                                            msg: "XhrError",
                                            detail: e
                                        },
                                        t.pub(f.SubEventName.FETCH_INFO_ERROR, e);
                                    else {
                                        try {
                                            s ? a = JSON.parse(s) : (u = {
                                                msg: "ServerError"
                                            },
                                            t.pub(f.SubEventName.FETCH_INFO_RETURN_ERROR, a))
                                        } catch (e) {
                                            u = {
                                                msg: "ServerError"
                                            },
                                            t.pub(f.SubEventName.FETCH_INFO_RETURN_ERROR, s)
                                        }
                                        if (0 == a.code)
                                            return h = !0,
                                            t.pub(f.SubEventName.FETCH_INFO_SUCC, a),
                                            void n(a);
                                        u = {
                                            msg: "CodeError"
                                        },
                                        t.pub(f.SubEventName.FETCH_INFO_RETURN_ERROR, a)
                                    }
                                    !h && d <= 3 ? ((d += 1) >= 2 && (i = i.replace(f.SERVER_PATH, f.SERVER_PATH_BACKUP)),
                                    t.pub(f.SubEventName.FETCH_INFO_RETRY, d),
                                    o()) : (t.pub(f.SubEventName.FETCH_INFO_FAIL_AFTER_RETRY),
                                    r(u))
                                }
                                ))
                            }()
                        }
                        ))
                    }
                }, {
                    key: "assemblyPath",
                    value: function(e, t, n) {
                        var r = c.default.location.protocol;
                        return "http:" != r && "https:" != r && (r = "https:"),
                        "".concat(r).concat(f.SERVER_PATH, "/").concat(e, "/v2/").concat(t, "/").concat(n)
                    }
                }, {
                    key: "handleVideoInfo",
                    value: function(t) {
                        var n, r, i = this, o = t.coverInfo, a = t.videoInfo, s = (t.playerInfo,
                        (null == a || null === (n = a.masterPlayList) || void 0 === n ? void 0 : n.url) || (null === (r = a.sourceVideo) || void 0 === r ? void 0 : r.url));
                        if (s) {
                            var u = this.player.options
                              , c = this.mergeUrlWithToken(s);
                            u.hls = h(h({}, u.qcloudVod.hls), {}, {
                                src: c
                            }),
                            null != o && o.coverUrl && e.setPoster("qcloudVod", '<img class="loki-poster-img" src="'.concat(o.coverUrl, '" />'));
                            var l = u.qcloudVod
                              , p = l.continueFromLastPlayTime
                              , m = l.playTimeMemory
                              , y = l.playRateMemory;
                            if (m) {
                                var E = this.getCacheKey("time")
                                  , T = v.Storage.get(E);
                                null != T && T.value && (g("info", "qcloud-vod playTimeMemory:".concat(T.value)),
                                u.hls.hlsConfig = h(h({}, u.hls.hlsConfig || {}), {}, {
                                    startPosition: T.value.lastTime
                                }),
                                this.setLastPlayTime(T.value.lastTime),
                                this.continueFromLastPlayTime()),
                                e.once(d.PLAY, (function() {
                                    e.on(d.TIMEUPDATE, i.bindUpdateProgressMemory.bind(i)),
                                    e.on(d.ENDED, i.bindRemoveProgressMemory.bind(i))
                                }
                                ))
                            } else
                                p && (this.continueFromLastPlayTime(),
                                "number" == typeof p && this.setLastPlayTime(p));
                            if (y) {
                                var b = this.getCacheKey("rate")
                                  , _ = v.Storage.get(b);
                                null != _ && _.value && (g("info", "qcloud-vod playRateMemory:".concat(_.value)),
                                e.on(d.LOADEDDATA, (function() {
                                    e.player.playbackRate(_.value.lastRate)
                                }
                                ))),
                                e.once(d.PLAY, (function() {
                                    e.on(d.RATECHANGE, i.bindUpdatePlayRateMemory.bind(i))
                                }
                                ))
                            }
                            e.load(u)
                        } else
                            this.pub(f.SubEventName.ERROR_NO_PLAYLIST, t)
                    }
                }, {
                    key: "mergeUrlWithToken",
                    value: function(e) {
                        var t, n = this.player.options, r = e.split("/");
                        return r[r.length - 1] = "voddrm.token.".concat((null == n || null === (t = n.qcloudVod) || void 0 === t ? void 0 : t.HLSToken) || "", ".").concat(r[r.length - 1]),
                        r[0] = "https:",
                        e = r.join("/")
                    }
                }, {
                    key: "getCacheKey",
                    value: function(e) {
                        return "qcloud-vod-".concat(e, "-").concat(this.currAppId, "_").concat(this.currFildId)
                    }
                }, {
                    key: "offPlayerEvent",
                    value: function() {
                        e.off(d.TIMEUPDATE, this.bindUpdateProgressMemory),
                        e.off(d.ENDED, this.bindRemoveProgressMemory),
                        e.off(d.RATECHANGE, this.bindUpdatePlayRateMemory)
                    }
                }, {
                    key: "bindUpdateProgressMemory",
                    value: function() {
                        v.Storage.set(this.getCacheKey("time"), {
                            lastTime: e.currentTime()
                        })
                    }
                }, {
                    key: "bindRemoveProgressMemory",
                    value: function() {
                        v.Storage.remove(this.getCacheKey("time"))
                    }
                }, {
                    key: "bindUpdatePlayRateMemory",
                    value: function() {
                        v.Storage.set(this.getCacheKey("rate"), {
                            lastRate: e.player.mainVideo.el.playbackRate
                        })
                    }
                }]),
                t
            }();
            e.on("ready", (function() {
                e.player && (e.player.vod = new y(e.player))
            }
            ))
        }
        c.default.LokiPlayer && c.default.LokiPlayer.install("qcloudvod", p)
    },
    ul5O: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("Ff2n"))
          , o = r(n("q1tI"));
        n("w5XQ");
        var a = ["className", "type"];
        var s = function(e) {
            var t = e.className
              , n = e.type
              , r = void 0 === n ? "radio" : n
              , s = (0,
            i.default)(e, a)
              , u = t ? "icon-css-rc icon-css-".concat(r, " ").concat(t) : "icon-css-rc icon-css-".concat(r);
            return o.default.createElement("i", Object.assign({
                className: u
            }, s))
        };
        t.default = s
    },
    vnpg: function(e, t, n) {
        "use strict";
        (function(e) {
            var r = n("TqRt");
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
            t.default = void 0;
            var i = r(n("lSNA"))
              , o = r(n("cDf5"));
            function a(e, t) {
                return t.forEach((function(e) {
                    e && "string" != typeof e && !Array.isArray(e) && Object.keys(e).forEach((function(t) {
                        if ("default" !== t && !(t in e)) {
                            var n = Object.getOwnPropertyDescriptor(e, t);
                            Object.defineProperty(e, t, n.get ? n : {
                                enumerable: !0,
                                get: function() {
                                    return e[t]
                                }
                            })
                        }
                    }
                    ))
                }
                )),
                Object.freeze(e)
            }
            var s = function() {
                return (s = Object.assign || function(e) {
                    for (var t, n = 1, r = arguments.length; n < r; n++)
                        for (var i in t = arguments[n])
                            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                    return e
                }
                ).apply(this, arguments)
            };
            function u(e, t, n, r) {
                return new (n || (n = Promise))((function(i, o) {
                    function a(e) {
                        try {
                            u(r.next(e))
                        } catch (e) {
                            o(e)
                        }
                    }
                    function s(e) {
                        try {
                            u(r.throw(e))
                        } catch (e) {
                            o(e)
                        }
                    }
                    function u(e) {
                        var t;
                        e.done ? i(e.value) : (t = e.value,
                        t instanceof n ? t : new n((function(e) {
                            e(t)
                        }
                        ))).then(a, s)
                    }
                    u((r = r.apply(e, t || [])).next())
                }
                ))
            }
            function c(e, t) {
                var n, r, i, o, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                },
                "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                    return this
                }
                ),
                o;
                function s(o) {
                    return function(s) {
                        return function(o) {
                            if (n)
                                throw new TypeError("Generator is already executing.");
                            for (; a; )
                                try {
                                    if (n = 1,
                                    r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r),
                                    0) : r.next) && !(i = i.call(r, o[1])).done)
                                        return i;
                                    switch (r = 0,
                                    i && (o = [2 & o[0], i.value]),
                                    o[0]) {
                                    case 0:
                                    case 1:
                                        i = o;
                                        break;
                                    case 4:
                                        return a.label++,
                                        {
                                            value: o[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++,
                                        r = o[1],
                                        o = [0];
                                        continue;
                                    case 7:
                                        o = a.ops.pop(),
                                        a.trys.pop();
                                        continue;
                                    default:
                                        if (!((i = (i = a.trys).length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                            a.label = o[1];
                                            break
                                        }
                                        if (6 === o[0] && a.label < i[1]) {
                                            a.label = i[1],
                                            i = o;
                                            break
                                        }
                                        if (i && a.label < i[2]) {
                                            a.label = i[2],
                                            a.ops.push(o);
                                            break
                                        }
                                        i[2] && a.ops.pop(),
                                        a.trys.pop();
                                        continue
                                    }
                                    o = t.call(e, a)
                                } catch (e) {
                                    o = [6, e],
                                    r = 0
                                } finally {
                                    n = i = 0
                                }
                            if (5 & o[0])
                                throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            }
            function l(e, t) {
                var n = "function" == typeof Symbol && e[Symbol.iterator];
                if (!n)
                    return e;
                var r, i, o = n.call(e), a = [];
                try {
                    for (; (void 0 === t || t-- > 0) && !(r = o.next()).done; )
                        a.push(r.value)
                } catch (e) {
                    i = {
                        error: e
                    }
                } finally {
                    try {
                        r && !r.done && (n = o.return) && n.call(o)
                    } finally {
                        if (i)
                            throw i.error
                    }
                }
                return a
            }
            function f(e, t) {
                for (var n = 0, r = t.length, i = e.length; n < r; n++,
                i++)
                    e[i] = t[n];
                return e
            }
            "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : void 0 !== e || "undefined" != typeof self && self;
            !function(e) {
                var t = "undefined" != typeof globalThis && globalThis || "undefined" != typeof self && self || void 0 !== t && t
                  , n = "URLSearchParams"in t
                  , r = "Symbol"in t && "iterator"in Symbol
                  , i = "FileReader"in t && "Blob"in t && function() {
                    try {
                        return new Blob,
                        !0
                    } catch (e) {
                        return !1
                    }
                }()
                  , a = "FormData"in t
                  , s = "ArrayBuffer"in t;
                if (s)
                    var u = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"]
                      , c = ArrayBuffer.isView || function(e) {
                        return e && u.indexOf(Object.prototype.toString.call(e)) > -1
                    }
                    ;
                function l(e) {
                    if ("string" != typeof e && (e = String(e)),
                    /[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e) || "" === e)
                        throw new TypeError('Invalid character in header field name: "' + e + '"');
                    return e.toLowerCase()
                }
                function f(e) {
                    return "string" != typeof e && (e = String(e)),
                    e
                }
                function d(e) {
                    var t = {
                        next: function() {
                            var t = e.shift();
                            return {
                                done: void 0 === t,
                                value: t
                            }
                        }
                    };
                    return r && (t[Symbol.iterator] = function() {
                        return t
                    }
                    ),
                    t
                }
                function h(e) {
                    this.map = {},
                    e instanceof h ? e.forEach((function(e, t) {
                        this.append(t, e)
                    }
                    ), this) : Array.isArray(e) ? e.forEach((function(e) {
                        this.append(e[0], e[1])
                    }
                    ), this) : e && Object.getOwnPropertyNames(e).forEach((function(t) {
                        this.append(t, e[t])
                    }
                    ), this)
                }
                function p(e) {
                    if (e.bodyUsed)
                        return Promise.reject(new TypeError("Already read"));
                    e.bodyUsed = !0
                }
                function v(e) {
                    return new Promise((function(t, n) {
                        e.onload = function() {
                            t(e.result)
                        }
                        ,
                        e.onerror = function() {
                            n(e.error)
                        }
                    }
                    ))
                }
                function m(e) {
                    var t = new FileReader
                      , n = v(t);
                    return t.readAsArrayBuffer(e),
                    n
                }
                function g(e) {
                    if (e.slice)
                        return e.slice(0);
                    var t = new Uint8Array(e.byteLength);
                    return t.set(new Uint8Array(e)),
                    t.buffer
                }
                function y() {
                    return this.bodyUsed = !1,
                    this._initBody = function(e) {
                        this.bodyUsed = this.bodyUsed,
                        this._bodyInit = e,
                        e ? "string" == typeof e ? this._bodyText = e : i && Blob.prototype.isPrototypeOf(e) ? this._bodyBlob = e : a && FormData.prototype.isPrototypeOf(e) ? this._bodyFormData = e : n && URLSearchParams.prototype.isPrototypeOf(e) ? this._bodyText = e.toString() : s && i && function(e) {
                            return e && DataView.prototype.isPrototypeOf(e)
                        }(e) ? (this._bodyArrayBuffer = g(e.buffer),
                        this._bodyInit = new Blob([this._bodyArrayBuffer])) : s && (ArrayBuffer.prototype.isPrototypeOf(e) || c(e)) ? this._bodyArrayBuffer = g(e) : this._bodyText = e = Object.prototype.toString.call(e) : this._bodyText = "",
                        this.headers.get("content-type") || ("string" == typeof e ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : n && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"))
                    }
                    ,
                    i && (this.blob = function() {
                        var e = p(this);
                        if (e)
                            return e;
                        if (this._bodyBlob)
                            return Promise.resolve(this._bodyBlob);
                        if (this._bodyArrayBuffer)
                            return Promise.resolve(new Blob([this._bodyArrayBuffer]));
                        if (this._bodyFormData)
                            throw new Error("could not read FormData body as blob");
                        return Promise.resolve(new Blob([this._bodyText]))
                    }
                    ,
                    this.arrayBuffer = function() {
                        return this._bodyArrayBuffer ? p(this) || (ArrayBuffer.isView(this._bodyArrayBuffer) ? Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset, this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength)) : Promise.resolve(this._bodyArrayBuffer)) : this.blob().then(m)
                    }
                    ),
                    this.text = function() {
                        var e = p(this);
                        if (e)
                            return e;
                        if (this._bodyBlob)
                            return function(e) {
                                var t = new FileReader
                                  , n = v(t);
                                return t.readAsText(e),
                                n
                            }(this._bodyBlob);
                        if (this._bodyArrayBuffer)
                            return Promise.resolve(function(e) {
                                for (var t = new Uint8Array(e), n = new Array(t.length), r = 0; r < t.length; r++)
                                    n[r] = String.fromCharCode(t[r]);
                                return n.join("")
                            }(this._bodyArrayBuffer));
                        if (this._bodyFormData)
                            throw new Error("could not read FormData body as text");
                        return Promise.resolve(this._bodyText)
                    }
                    ,
                    a && (this.formData = function() {
                        return this.text().then(b)
                    }
                    ),
                    this.json = function() {
                        return this.text().then(JSON.parse)
                    }
                    ,
                    this
                }
                h.prototype.append = function(e, t) {
                    e = l(e),
                    t = f(t);
                    var n = this.map[e];
                    this.map[e] = n ? n + ", " + t : t
                }
                ,
                h.prototype.delete = function(e) {
                    delete this.map[l(e)]
                }
                ,
                h.prototype.get = function(e) {
                    return e = l(e),
                    this.has(e) ? this.map[e] : null
                }
                ,
                h.prototype.has = function(e) {
                    return this.map.hasOwnProperty(l(e))
                }
                ,
                h.prototype.set = function(e, t) {
                    this.map[l(e)] = f(t)
                }
                ,
                h.prototype.forEach = function(e, t) {
                    for (var n in this.map)
                        this.map.hasOwnProperty(n) && e.call(t, this.map[n], n, this)
                }
                ,
                h.prototype.keys = function() {
                    var e = [];
                    return this.forEach((function(t, n) {
                        e.push(n)
                    }
                    )),
                    d(e)
                }
                ,
                h.prototype.values = function() {
                    var e = [];
                    return this.forEach((function(t) {
                        e.push(t)
                    }
                    )),
                    d(e)
                }
                ,
                h.prototype.entries = function() {
                    var e = [];
                    return this.forEach((function(t, n) {
                        e.push([n, t])
                    }
                    )),
                    d(e)
                }
                ,
                r && (h.prototype[Symbol.iterator] = h.prototype.entries);
                var E = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
                function T(e, t) {
                    if (!(this instanceof T))
                        throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
                    var n = (t = t || {}).body;
                    if (e instanceof T) {
                        if (e.bodyUsed)
                            throw new TypeError("Already read");
                        this.url = e.url,
                        this.credentials = e.credentials,
                        t.headers || (this.headers = new h(e.headers)),
                        this.method = e.method,
                        this.mode = e.mode,
                        this.signal = e.signal,
                        n || null == e._bodyInit || (n = e._bodyInit,
                        e.bodyUsed = !0)
                    } else
                        this.url = String(e);
                    if (this.credentials = t.credentials || this.credentials || "same-origin",
                    !t.headers && this.headers || (this.headers = new h(t.headers)),
                    this.method = function(e) {
                        var t = e.toUpperCase();
                        return E.indexOf(t) > -1 ? t : e
                    }(t.method || this.method || "GET"),
                    this.mode = t.mode || this.mode || null,
                    this.signal = t.signal || this.signal,
                    this.referrer = null,
                    ("GET" === this.method || "HEAD" === this.method) && n)
                        throw new TypeError("Body not allowed for GET or HEAD requests");
                    if (this._initBody(n),
                    !("GET" !== this.method && "HEAD" !== this.method || "no-store" !== t.cache && "no-cache" !== t.cache)) {
                        var r = /([?&])_=[^&]*/;
                        if (r.test(this.url))
                            this.url = this.url.replace(r, "$1_=" + (new Date).getTime());
                        else {
                            this.url += (/\?/.test(this.url) ? "&" : "?") + "_=" + (new Date).getTime()
                        }
                    }
                }
                function b(e) {
                    var t = new FormData;
                    return e.trim().split("&").forEach((function(e) {
                        if (e) {
                            var n = e.split("=")
                              , r = n.shift().replace(/\+/g, " ")
                              , i = n.join("=").replace(/\+/g, " ");
                            t.append(decodeURIComponent(r), decodeURIComponent(i))
                        }
                    }
                    )),
                    t
                }
                function _(e) {
                    var t = new h;
                    return e.replace(/\r?\n[\t ]+/g, " ").split("\r").map((function(e) {
                        return 0 === e.indexOf("\n") ? e.substr(1, e.length) : e
                    }
                    )).forEach((function(e) {
                        var n = e.split(":")
                          , r = n.shift().trim();
                        if (r) {
                            var i = n.join(":").trim();
                            t.append(r, i)
                        }
                    }
                    )),
                    t
                }
                function S(e, t) {
                    if (!(this instanceof S))
                        throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
                    t || (t = {}),
                    this.type = "default",
                    this.status = void 0 === t.status ? 200 : t.status,
                    this.ok = this.status >= 200 && this.status < 300,
                    this.statusText = void 0 === t.statusText ? "" : "" + t.statusText,
                    this.headers = new h(t.headers),
                    this.url = t.url || "",
                    this._initBody(e)
                }
                T.prototype.clone = function() {
                    return new T(this,{
                        body: this._bodyInit
                    })
                }
                ,
                y.call(T.prototype),
                y.call(S.prototype),
                S.prototype.clone = function() {
                    return new S(this._bodyInit,{
                        status: this.status,
                        statusText: this.statusText,
                        headers: new h(this.headers),
                        url: this.url
                    })
                }
                ,
                S.error = function() {
                    var e = new S(null,{
                        status: 0,
                        statusText: ""
                    });
                    return e.type = "error",
                    e
                }
                ;
                var R = [301, 302, 303, 307, 308];
                S.redirect = function(e, t) {
                    if (-1 === R.indexOf(t))
                        throw new RangeError("Invalid status code");
                    return new S(null,{
                        status: t,
                        headers: {
                            location: e
                        }
                    })
                }
                ,
                e.DOMException = t.DOMException;
                try {
                    new e.DOMException
                } catch (t) {
                    e.DOMException = function(e, t) {
                        this.message = e,
                        this.name = t;
                        var n = Error(e);
                        this.stack = n.stack
                    }
                    ,
                    e.DOMException.prototype = Object.create(Error.prototype),
                    e.DOMException.prototype.constructor = e.DOMException
                }
                function w(n, r) {
                    return new Promise((function(a, u) {
                        var c = new T(n,r);
                        if (c.signal && c.signal.aborted)
                            return u(new e.DOMException("Aborted","AbortError"));
                        var l = new XMLHttpRequest;
                        function d() {
                            l.abort()
                        }
                        l.onload = function() {
                            var e = {
                                status: l.status,
                                statusText: l.statusText,
                                headers: _(l.getAllResponseHeaders() || "")
                            };
                            e.url = "responseURL"in l ? l.responseURL : e.headers.get("X-Request-URL");
                            var t = "response"in l ? l.response : l.responseText;
                            setTimeout((function() {
                                a(new S(t,e))
                            }
                            ), 0)
                        }
                        ,
                        l.onerror = function() {
                            setTimeout((function() {
                                u(new TypeError("Network request failed"))
                            }
                            ), 0)
                        }
                        ,
                        l.ontimeout = function() {
                            setTimeout((function() {
                                u(new TypeError("Network request failed"))
                            }
                            ), 0)
                        }
                        ,
                        l.onabort = function() {
                            setTimeout((function() {
                                u(new e.DOMException("Aborted","AbortError"))
                            }
                            ), 0)
                        }
                        ,
                        l.open(c.method, function(e) {
                            try {
                                return "" === e && t.location.href ? t.location.href : e
                            } catch (t) {
                                return e
                            }
                        }(c.url), !0),
                        "include" === c.credentials ? l.withCredentials = !0 : "omit" === c.credentials && (l.withCredentials = !1),
                        "responseType"in l && (i ? l.responseType = "blob" : s && c.headers.get("Content-Type") && -1 !== c.headers.get("Content-Type").indexOf("application/octet-stream") && (l.responseType = "arraybuffer")),
                        !r || "object" != (0,
                        o.default)(r.headers) || r.headers instanceof h ? c.headers.forEach((function(e, t) {
                            l.setRequestHeader(t, e)
                        }
                        )) : Object.getOwnPropertyNames(r.headers).forEach((function(e) {
                            l.setRequestHeader(e, f(r.headers[e]))
                        }
                        )),
                        c.signal && (c.signal.addEventListener("abort", d),
                        l.onreadystatechange = function() {
                            4 === l.readyState && c.signal.removeEventListener("abort", d)
                        }
                        ),
                        l.send(void 0 === c._bodyInit ? null : c._bodyInit)
                    }
                    ))
                }
                w.polyfill = !0,
                t.fetch || (t.fetch = w,
                t.Headers = h,
                t.Request = T,
                t.Response = S),
                e.Headers = h,
                e.Request = T,
                e.Response = S,
                e.fetch = w,
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
            }({});
            var d = !0;
            function h(e, t, n) {
                var r = e.match(t);
                return r && r.length >= n && parseInt(r[n], 10)
            }
            function p(e, t, n) {
                if (e.RTCPeerConnection) {
                    var r = e.RTCPeerConnection.prototype
                      , i = r.addEventListener;
                    r.addEventListener = function(e, r) {
                        if (e !== t)
                            return i.apply(this, arguments);
                        var o = function(e) {
                            var t = n(e);
                            t && (r.handleEvent ? r.handleEvent(t) : r(t))
                        };
                        return this._eventMap = this._eventMap || {},
                        this._eventMap[t] || (this._eventMap[t] = new Map),
                        this._eventMap[t].set(r, o),
                        i.apply(this, [e, o])
                    }
                    ;
                    var o = r.removeEventListener;
                    r.removeEventListener = function(e, n) {
                        if (e !== t || !this._eventMap || !this._eventMap[t])
                            return o.apply(this, arguments);
                        if (!this._eventMap[t].has(n))
                            return o.apply(this, arguments);
                        var r = this._eventMap[t].get(n);
                        return this._eventMap[t].delete(n),
                        0 === this._eventMap[t].size && delete this._eventMap[t],
                        0 === Object.keys(this._eventMap).length && delete this._eventMap,
                        o.apply(this, [e, r])
                    }
                    ,
                    Object.defineProperty(r, "on" + t, {
                        get: function() {
                            return this["_on" + t]
                        },
                        set: function(e) {
                            this["_on" + t] && (this.removeEventListener(t, this["_on" + t]),
                            delete this["_on" + t]),
                            e && this.addEventListener(t, this["_on" + t] = e)
                        },
                        enumerable: !0,
                        configurable: !0
                    })
                }
            }
            function v(e) {
                return "boolean" != typeof e ? new Error("Argument type: " + (0,
                o.default)(e) + ". Please use a boolean.") : (d = e,
                e ? "adapter.js logging disabled" : "adapter.js logging enabled")
            }
            function m(e) {
                return "boolean" != typeof e ? new Error("Argument type: " + (0,
                o.default)(e) + ". Please use a boolean.") : (!e,
                "adapter.js deprecation warnings " + (e ? "disabled" : "enabled"))
            }
            function g() {
                if ("object" == ("undefined" == typeof window ? "undefined" : (0,
                o.default)(window))) {
                    if (d)
                        return;
                    "undefined" != typeof console && console.log
                }
            }
            function y(e) {
                return "[object Object]" === Object.prototype.toString.call(e)
            }
            function E(e) {
                return y(e) ? Object.keys(e).reduce((function(t, n) {
                    var r = y(e[n])
                      , o = r ? E(e[n]) : e[n]
                      , a = r && !Object.keys(o).length;
                    return void 0 === o || a ? t : Object.assign(t, (0,
                    i.default)({}, n, o))
                }
                ), {}) : e
            }
            function T(e, t, n) {
                var r = n ? "outbound-rtp" : "inbound-rtp"
                  , i = new Map;
                if (null === t)
                    return i;
                var o = [];
                return e.forEach((function(e) {
                    "track" === e.type && e.trackIdentifier === t.id && o.push(e)
                }
                )),
                o.forEach((function(t) {
                    e.forEach((function(n) {
                        n.type === r && n.trackId === t.id && function e(t, n, r) {
                            n && !r.has(n.id) && (r.set(n.id, n),
                            Object.keys(n).forEach((function(i) {
                                i.endsWith("Id") ? e(t, t.get(n[i]), r) : i.endsWith("Ids") && n[i].forEach((function(n) {
                                    e(t, t.get(n), r)
                                }
                                ))
                            }
                            )))
                        }(e, n, i)
                    }
                    ))
                }
                )),
                i
            }
            var b = g;
            function _(e, t) {
                var n = e && e.navigator;
                if (n.mediaDevices) {
                    var r = function(e) {
                        if ("object" != (0,
                        o.default)(e) || e.mandatory || e.optional)
                            return e;
                        var t = {};
                        return Object.keys(e).forEach((function(n) {
                            if ("require" !== n && "advanced" !== n && "mediaSource" !== n) {
                                var r = "object" == (0,
                                o.default)(e[n]) ? e[n] : {
                                    ideal: e[n]
                                };
                                void 0 !== r.exact && "number" == typeof r.exact && (r.min = r.max = r.exact);
                                var i = function(e, t) {
                                    return e ? e + t.charAt(0).toUpperCase() + t.slice(1) : "deviceId" === t ? "sourceId" : t
                                };
                                if (void 0 !== r.ideal) {
                                    t.optional = t.optional || [];
                                    var a = {};
                                    "number" == typeof r.ideal ? (a[i("min", n)] = r.ideal,
                                    t.optional.push(a),
                                    (a = {})[i("max", n)] = r.ideal,
                                    t.optional.push(a)) : (a[i("", n)] = r.ideal,
                                    t.optional.push(a))
                                }
                                void 0 !== r.exact && "number" != typeof r.exact ? (t.mandatory = t.mandatory || {},
                                t.mandatory[i("", n)] = r.exact) : ["min", "max"].forEach((function(e) {
                                    void 0 !== r[e] && (t.mandatory = t.mandatory || {},
                                    t.mandatory[i(e, n)] = r[e])
                                }
                                ))
                            }
                        }
                        )),
                        e.advanced && (t.optional = (t.optional || []).concat(e.advanced)),
                        t
                    }
                      , i = function(e, i) {
                        if (t.version >= 61)
                            return i(e);
                        if ((e = JSON.parse(JSON.stringify(e))) && "object" == (0,
                        o.default)(e.audio)) {
                            var a = function(e, t, n) {
                                t in e && !(n in e) && (e[n] = e[t],
                                delete e[t])
                            };
                            a((e = JSON.parse(JSON.stringify(e))).audio, "autoGainControl", "googAutoGainControl"),
                            a(e.audio, "noiseSuppression", "googNoiseSuppression"),
                            e.audio = r(e.audio)
                        }
                        if (e && "object" == (0,
                        o.default)(e.video)) {
                            var s = e.video.facingMode;
                            s = s && ("object" == (0,
                            o.default)(s) ? s : {
                                ideal: s
                            });
                            var u, c = t.version < 66;
                            if (s && ("user" === s.exact || "environment" === s.exact || "user" === s.ideal || "environment" === s.ideal) && (!n.mediaDevices.getSupportedConstraints || !n.mediaDevices.getSupportedConstraints().facingMode || c))
                                if (delete e.video.facingMode,
                                "environment" === s.exact || "environment" === s.ideal ? u = ["back", "rear"] : "user" !== s.exact && "user" !== s.ideal || (u = ["front"]),
                                u)
                                    return n.mediaDevices.enumerateDevices().then((function(t) {
                                        var n = (t = t.filter((function(e) {
                                            return "videoinput" === e.kind
                                        }
                                        ))).find((function(e) {
                                            return u.some((function(t) {
                                                return e.label.toLowerCase().includes(t)
                                            }
                                            ))
                                        }
                                        ));
                                        return !n && t.length && u.includes("back") && (n = t[t.length - 1]),
                                        n && (e.video.deviceId = s.exact ? {
                                            exact: n.deviceId
                                        } : {
                                            ideal: n.deviceId
                                        }),
                                        e.video = r(e.video),
                                        b("chrome: " + JSON.stringify(e)),
                                        i(e)
                                    }
                                    ));
                            e.video = r(e.video)
                        }
                        return b("chrome: " + JSON.stringify(e)),
                        i(e)
                    }
                      , a = function(e) {
                        return t.version >= 64 ? e : {
                            name: {
                                PermissionDeniedError: "NotAllowedError",
                                PermissionDismissedError: "NotAllowedError",
                                InvalidStateError: "NotAllowedError",
                                DevicesNotFoundError: "NotFoundError",
                                ConstraintNotSatisfiedError: "OverconstrainedError",
                                TrackStartError: "NotReadableError",
                                MediaDeviceFailedDueToShutdown: "NotAllowedError",
                                MediaDeviceKillSwitchOn: "NotAllowedError",
                                TabCaptureError: "AbortError",
                                ScreenCaptureError: "AbortError",
                                DeviceCaptureError: "AbortError"
                            }[e.name] || e.name,
                            message: e.message,
                            constraint: e.constraint || e.constraintName,
                            toString: function() {
                                return this.name + (this.message && ": ") + this.message
                            }
                        }
                    };
                    if (n.getUserMedia = function(e, t, r) {
                        i(e, (function(e) {
                            n.webkitGetUserMedia(e, t, (function(e) {
                                r && r(a(e))
                            }
                            ))
                        }
                        ))
                    }
                    .bind(n),
                    n.mediaDevices.getUserMedia) {
                        var s = n.mediaDevices.getUserMedia.bind(n.mediaDevices);
                        n.mediaDevices.getUserMedia = function(e) {
                            return i(e, (function(e) {
                                return s(e).then((function(t) {
                                    if (e.audio && !t.getAudioTracks().length || e.video && !t.getVideoTracks().length)
                                        throw t.getTracks().forEach((function(e) {
                                            e.stop()
                                        }
                                        )),
                                        new DOMException("","NotFoundError");
                                    return t
                                }
                                ), (function(e) {
                                    return Promise.reject(a(e))
                                }
                                ))
                            }
                            ))
                        }
                    }
                }
            }
            function S(e) {
                e.MediaStream = e.MediaStream || e.webkitMediaStream
            }
            function R(e) {
                if ("object" == (0,
                o.default)(e) && e.RTCPeerConnection && !("ontrack"in e.RTCPeerConnection.prototype)) {
                    Object.defineProperty(e.RTCPeerConnection.prototype, "ontrack", {
                        get: function() {
                            return this._ontrack
                        },
                        set: function(e) {
                            this._ontrack && this.removeEventListener("track", this._ontrack),
                            this.addEventListener("track", this._ontrack = e)
                        },
                        enumerable: !0,
                        configurable: !0
                    });
                    var t = e.RTCPeerConnection.prototype.setRemoteDescription;
                    e.RTCPeerConnection.prototype.setRemoteDescription = function() {
                        var n = this;
                        return this._ontrackpoly || (this._ontrackpoly = function(t) {
                            t.stream.addEventListener("addtrack", (function(r) {
                                var i;
                                i = e.RTCPeerConnection.prototype.getReceivers ? n.getReceivers().find((function(e) {
                                    return e.track && e.track.id === r.track.id
                                }
                                )) : {
                                    track: r.track
                                };
                                var o = new Event("track");
                                o.track = r.track,
                                o.receiver = i,
                                o.transceiver = {
                                    receiver: i
                                },
                                o.streams = [t.stream],
                                n.dispatchEvent(o)
                            }
                            )),
                            t.stream.getTracks().forEach((function(r) {
                                var i;
                                i = e.RTCPeerConnection.prototype.getReceivers ? n.getReceivers().find((function(e) {
                                    return e.track && e.track.id === r.id
                                }
                                )) : {
                                    track: r
                                };
                                var o = new Event("track");
                                o.track = r,
                                o.receiver = i,
                                o.transceiver = {
                                    receiver: i
                                },
                                o.streams = [t.stream],
                                n.dispatchEvent(o)
                            }
                            ))
                        }
                        ,
                        this.addEventListener("addstream", this._ontrackpoly)),
                        t.apply(this, arguments)
                    }
                } else
                    p(e, "track", (function(e) {
                        return e.transceiver || Object.defineProperty(e, "transceiver", {
                            value: {
                                receiver: e.receiver
                            }
                        }),
                        e
                    }
                    ))
            }
            function w(e) {
                if ("object" == (0,
                o.default)(e) && e.RTCPeerConnection && !("getSenders"in e.RTCPeerConnection.prototype) && "createDTMFSender"in e.RTCPeerConnection.prototype) {
                    var t = function(e, t) {
                        return {
                            track: t,
                            get dtmf() {
                                return void 0 === this._dtmf && ("audio" === t.kind ? this._dtmf = e.createDTMFSender(t) : this._dtmf = null),
                                this._dtmf
                            },
                            _pc: e
                        }
                    };
                    if (!e.RTCPeerConnection.prototype.getSenders) {
                        e.RTCPeerConnection.prototype.getSenders = function() {
                            return this._senders = this._senders || [],
                            this._senders.slice()
                        }
                        ;
                        var n = e.RTCPeerConnection.prototype.addTrack;
                        e.RTCPeerConnection.prototype.addTrack = function(e, r) {
                            var i = n.apply(this, arguments);
                            return i || (i = t(this, e),
                            this._senders.push(i)),
                            i
                        }
                        ;
                        var r = e.RTCPeerConnection.prototype.removeTrack;
                        e.RTCPeerConnection.prototype.removeTrack = function(e) {
                            r.apply(this, arguments);
                            var t = this._senders.indexOf(e);
                            -1 !== t && this._senders.splice(t, 1)
                        }
                    }
                    var i = e.RTCPeerConnection.prototype.addStream;
                    e.RTCPeerConnection.prototype.addStream = function(e) {
                        var n = this;
                        this._senders = this._senders || [],
                        i.apply(this, [e]),
                        e.getTracks().forEach((function(e) {
                            n._senders.push(t(n, e))
                        }
                        ))
                    }
                    ;
                    var a = e.RTCPeerConnection.prototype.removeStream;
                    e.RTCPeerConnection.prototype.removeStream = function(e) {
                        var t = this;
                        this._senders = this._senders || [],
                        a.apply(this, [e]),
                        e.getTracks().forEach((function(e) {
                            var n = t._senders.find((function(t) {
                                return t.track === e
                            }
                            ));
                            n && t._senders.splice(t._senders.indexOf(n), 1)
                        }
                        ))
                    }
                } else if ("object" == (0,
                o.default)(e) && e.RTCPeerConnection && "getSenders"in e.RTCPeerConnection.prototype && "createDTMFSender"in e.RTCPeerConnection.prototype && e.RTCRtpSender && !("dtmf"in e.RTCRtpSender.prototype)) {
                    var s = e.RTCPeerConnection.prototype.getSenders;
                    e.RTCPeerConnection.prototype.getSenders = function() {
                        var e = this
                          , t = s.apply(this, []);
                        return t.forEach((function(t) {
                            return t._pc = e
                        }
                        )),
                        t
                    }
                    ,
                    Object.defineProperty(e.RTCRtpSender.prototype, "dtmf", {
                        get: function() {
                            return void 0 === this._dtmf && ("audio" === this.track.kind ? this._dtmf = this._pc.createDTMFSender(this.track) : this._dtmf = null),
                            this._dtmf
                        }
                    })
                }
            }
            function C(e) {
                if (e.RTCPeerConnection) {
                    var t = e.RTCPeerConnection.prototype.getStats;
                    e.RTCPeerConnection.prototype.getStats = function() {
                        var e = this
                          , n = Array.prototype.slice.call(arguments)
                          , r = n[0]
                          , i = n[1]
                          , o = n[2];
                        if (arguments.length > 0 && "function" == typeof r)
                            return t.apply(this, arguments);
                        if (0 === t.length && (0 === arguments.length || "function" != typeof r))
                            return t.apply(this, []);
                        var a = function(e) {
                            var t = {};
                            return e.result().forEach((function(e) {
                                var n = {
                                    id: e.id,
                                    timestamp: e.timestamp,
                                    type: {
                                        localcandidate: "local-candidate",
                                        remotecandidate: "remote-candidate"
                                    }[e.type] || e.type
                                };
                                e.names().forEach((function(t) {
                                    n[t] = e.stat(t)
                                }
                                )),
                                t[n.id] = n
                            }
                            )),
                            t
                        }
                          , s = function(e) {
                            return new Map(Object.keys(e).map((function(t) {
                                return [t, e[t]]
                            }
                            )))
                        };
                        if (arguments.length >= 2) {
                            var u = function(e) {
                                i(s(a(e)))
                            };
                            return t.apply(this, [u, r])
                        }
                        return new Promise((function(n, r) {
                            t.apply(e, [function(e) {
                                n(s(a(e)))
                            }
                            , r])
                        }
                        )).then(i, o)
                    }
                }
            }
            function O(e) {
                if ("object" == (0,
                o.default)(e) && e.RTCPeerConnection && e.RTCRtpSender && e.RTCRtpReceiver) {
                    if (!("getStats"in e.RTCRtpSender.prototype)) {
                        var t = e.RTCPeerConnection.prototype.getSenders;
                        t && (e.RTCPeerConnection.prototype.getSenders = function() {
                            var e = this
                              , n = t.apply(this, []);
                            return n.forEach((function(t) {
                                return t._pc = e
                            }
                            )),
                            n
                        }
                        );
                        var n = e.RTCPeerConnection.prototype.addTrack;
                        n && (e.RTCPeerConnection.prototype.addTrack = function() {
                            var e = n.apply(this, arguments);
                            return e._pc = this,
                            e
                        }
                        ),
                        e.RTCRtpSender.prototype.getStats = function() {
                            var e = this;
                            return this._pc.getStats().then((function(t) {
                                return T(t, e.track, !0)
                            }
                            ))
                        }
                    }
                    if (!("getStats"in e.RTCRtpReceiver.prototype)) {
                        var r = e.RTCPeerConnection.prototype.getReceivers;
                        r && (e.RTCPeerConnection.prototype.getReceivers = function() {
                            var e = this
                              , t = r.apply(this, []);
                            return t.forEach((function(t) {
                                return t._pc = e
                            }
                            )),
                            t
                        }
                        ),
                        p(e, "track", (function(e) {
                            return e.receiver._pc = e.srcElement,
                            e
                        }
                        )),
                        e.RTCRtpReceiver.prototype.getStats = function() {
                            var e = this;
                            return this._pc.getStats().then((function(t) {
                                return T(t, e.track, !1)
                            }
                            ))
                        }
                    }
                    if ("getStats"in e.RTCRtpSender.prototype && "getStats"in e.RTCRtpReceiver.prototype) {
                        var i = e.RTCPeerConnection.prototype.getStats;
                        e.RTCPeerConnection.prototype.getStats = function() {
                            if (arguments.length > 0 && arguments[0]instanceof e.MediaStreamTrack) {
                                var t, n, r, o = arguments[0];
                                return this.getSenders().forEach((function(e) {
                                    e.track === o && (t ? r = !0 : t = e)
                                }
                                )),
                                this.getReceivers().forEach((function(e) {
                                    return e.track === o && (n ? r = !0 : n = e),
                                    e.track === o
                                }
                                )),
                                r || t && n ? Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")) : t ? t.getStats() : n ? n.getStats() : Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))
                            }
                            return i.apply(this, arguments)
                        }
                    }
                }
            }
            function L(e) {
                e.RTCPeerConnection.prototype.getLocalStreams = function() {
                    var e = this;
                    return this._shimmedLocalStreams = this._shimmedLocalStreams || {},
                    Object.keys(this._shimmedLocalStreams).map((function(t) {
                        return e._shimmedLocalStreams[t][0]
                    }
                    ))
                }
                ;
                var t = e.RTCPeerConnection.prototype.addTrack;
                e.RTCPeerConnection.prototype.addTrack = function(e, n) {
                    if (!n)
                        return t.apply(this, arguments);
                    this._shimmedLocalStreams = this._shimmedLocalStreams || {};
                    var r = t.apply(this, arguments);
                    return this._shimmedLocalStreams[n.id] ? -1 === this._shimmedLocalStreams[n.id].indexOf(r) && this._shimmedLocalStreams[n.id].push(r) : this._shimmedLocalStreams[n.id] = [n, r],
                    r
                }
                ;
                var n = e.RTCPeerConnection.prototype.addStream;
                e.RTCPeerConnection.prototype.addStream = function(e) {
                    var t = this;
                    this._shimmedLocalStreams = this._shimmedLocalStreams || {},
                    e.getTracks().forEach((function(e) {
                        if (t.getSenders().find((function(t) {
                            return t.track === e
                        }
                        )))
                            throw new DOMException("Track already exists.","InvalidAccessError")
                    }
                    ));
                    var r = this.getSenders();
                    n.apply(this, arguments);
                    var i = this.getSenders().filter((function(e) {
                        return -1 === r.indexOf(e)
                    }
                    ));
                    this._shimmedLocalStreams[e.id] = [e].concat(i)
                }
                ;
                var r = e.RTCPeerConnection.prototype.removeStream;
                e.RTCPeerConnection.prototype.removeStream = function(e) {
                    return this._shimmedLocalStreams = this._shimmedLocalStreams || {},
                    delete this._shimmedLocalStreams[e.id],
                    r.apply(this, arguments)
                }
                ;
                var i = e.RTCPeerConnection.prototype.removeTrack;
                e.RTCPeerConnection.prototype.removeTrack = function(e) {
                    var t = this;
                    return this._shimmedLocalStreams = this._shimmedLocalStreams || {},
                    e && Object.keys(this._shimmedLocalStreams).forEach((function(n) {
                        var r = t._shimmedLocalStreams[n].indexOf(e);
                        -1 !== r && t._shimmedLocalStreams[n].splice(r, 1),
                        1 === t._shimmedLocalStreams[n].length && delete t._shimmedLocalStreams[n]
                    }
                    )),
                    i.apply(this, arguments)
                }
            }
            function A(e, t) {
                if (e.RTCPeerConnection) {
                    if (e.RTCPeerConnection.prototype.addTrack && t.version >= 65)
                        return L(e);
                    var n = e.RTCPeerConnection.prototype.getLocalStreams;
                    e.RTCPeerConnection.prototype.getLocalStreams = function() {
                        var e = this
                          , t = n.apply(this);
                        return this._reverseStreams = this._reverseStreams || {},
                        t.map((function(t) {
                            return e._reverseStreams[t.id]
                        }
                        ))
                    }
                    ;
                    var r = e.RTCPeerConnection.prototype.addStream;
                    e.RTCPeerConnection.prototype.addStream = function(t) {
                        var n = this;
                        if (this._streams = this._streams || {},
                        this._reverseStreams = this._reverseStreams || {},
                        t.getTracks().forEach((function(e) {
                            if (n.getSenders().find((function(t) {
                                return t.track === e
                            }
                            )))
                                throw new DOMException("Track already exists.","InvalidAccessError")
                        }
                        )),
                        !this._reverseStreams[t.id]) {
                            var i = new e.MediaStream(t.getTracks());
                            this._streams[t.id] = i,
                            this._reverseStreams[i.id] = t,
                            t = i
                        }
                        r.apply(this, [t])
                    }
                    ;
                    var o = e.RTCPeerConnection.prototype.removeStream;
                    e.RTCPeerConnection.prototype.removeStream = function(e) {
                        this._streams = this._streams || {},
                        this._reverseStreams = this._reverseStreams || {},
                        o.apply(this, [this._streams[e.id] || e]),
                        delete this._reverseStreams[this._streams[e.id] ? this._streams[e.id].id : e.id],
                        delete this._streams[e.id]
                    }
                    ,
                    e.RTCPeerConnection.prototype.addTrack = function(t, n) {
                        var r = this;
                        if ("closed" === this.signalingState)
                            throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");
                        var i = [].slice.call(arguments, 1);
                        if (1 !== i.length || !i[0].getTracks().find((function(e) {
                            return e === t
                        }
                        )))
                            throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");
                        var o = this.getSenders().find((function(e) {
                            return e.track === t
                        }
                        ));
                        if (o)
                            throw new DOMException("Track already exists.","InvalidAccessError");
                        this._streams = this._streams || {},
                        this._reverseStreams = this._reverseStreams || {};
                        var a = this._streams[n.id];
                        if (a)
                            a.addTrack(t),
                            Promise.resolve().then((function() {
                                r.dispatchEvent(new Event("negotiationneeded"))
                            }
                            ));
                        else {
                            var s = new e.MediaStream([t]);
                            this._streams[n.id] = s,
                            this._reverseStreams[s.id] = n,
                            this.addStream(s)
                        }
                        return this.getSenders().find((function(e) {
                            return e.track === t
                        }
                        ))
                    }
                    ,
                    ["createOffer", "createAnswer"].forEach((function(t) {
                        var n = e.RTCPeerConnection.prototype[t]
                          , r = (0,
                        i.default)({}, t, (function() {
                            var e = this
                              , t = arguments;
                            return arguments.length && "function" == typeof arguments[0] ? n.apply(this, [function(n) {
                                var r = u(e, n);
                                t[0].apply(null, [r])
                            }
                            , function(e) {
                                t[1] && t[1].apply(null, e)
                            }
                            , arguments[2]]) : n.apply(this, arguments).then((function(t) {
                                return u(e, t)
                            }
                            ))
                        }
                        ));
                        e.RTCPeerConnection.prototype[t] = r[t]
                    }
                    ));
                    var a = e.RTCPeerConnection.prototype.setLocalDescription;
                    e.RTCPeerConnection.prototype.setLocalDescription = function() {
                        return arguments.length && arguments[0].type ? (arguments[0] = c(this, arguments[0]),
                        a.apply(this, arguments)) : a.apply(this, arguments)
                    }
                    ;
                    var s = Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype, "localDescription");
                    Object.defineProperty(e.RTCPeerConnection.prototype, "localDescription", {
                        get: function() {
                            var e = s.get.apply(this);
                            return "" === e.type ? e : u(this, e)
                        }
                    }),
                    e.RTCPeerConnection.prototype.removeTrack = function(e) {
                        var t, n = this;
                        if ("closed" === this.signalingState)
                            throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");
                        if (!e._pc)
                            throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");
                        if (e._pc !== this)
                            throw new DOMException("Sender was not created by this connection.","InvalidAccessError");
                        this._streams = this._streams || {},
                        Object.keys(this._streams).forEach((function(r) {
                            n._streams[r].getTracks().find((function(t) {
                                return e.track === t
                            }
                            )) && (t = n._streams[r])
                        }
                        )),
                        t && (1 === t.getTracks().length ? this.removeStream(this._reverseStreams[t.id]) : t.removeTrack(e.track),
                        this.dispatchEvent(new Event("negotiationneeded")))
                    }
                }
                function u(e, t) {
                    var n = t.sdp;
                    return Object.keys(e._reverseStreams || []).forEach((function(t) {
                        var r = e._reverseStreams[t]
                          , i = e._streams[r.id];
                        n = n.replace(new RegExp(i.id,"g"), r.id)
                    }
                    )),
                    new RTCSessionDescription({
                        type: t.type,
                        sdp: n
                    })
                }
                function c(e, t) {
                    var n = t.sdp;
                    return Object.keys(e._reverseStreams || []).forEach((function(t) {
                        var r = e._reverseStreams[t]
                          , i = e._streams[r.id];
                        n = n.replace(new RegExp(r.id,"g"), i.id)
                    }
                    )),
                    new RTCSessionDescription({
                        type: t.type,
                        sdp: n
                    })
                }
            }
            function P(e, t) {
                !e.RTCPeerConnection && e.webkitRTCPeerConnection && (e.RTCPeerConnection = e.webkitRTCPeerConnection),
                e.RTCPeerConnection && t.version < 53 && ["setLocalDescription", "setRemoteDescription", "addIceCandidate"].forEach((function(t) {
                    var n = e.RTCPeerConnection.prototype[t]
                      , r = (0,
                    i.default)({}, t, (function() {
                        return arguments[0] = new ("addIceCandidate" === t ? e.RTCIceCandidate : e.RTCSessionDescription)(arguments[0]),
                        n.apply(this, arguments)
                    }
                    ));
                    e.RTCPeerConnection.prototype[t] = r[t]
                }
                ))
            }
            function I(e, t) {
                p(e, "negotiationneeded", (function(e) {
                    var n = e.target;
                    if (!(t.version < 72 || n.getConfiguration && "plan-b" === n.getConfiguration().sdpSemantics) || "stable" === n.signalingState)
                        return e
                }
                ))
            }
            var D = Object.freeze({
                __proto__: null,
                shimMediaStream: S,
                shimOnTrack: R,
                shimGetSendersWithDtmf: w,
                shimGetStats: C,
                shimSenderReceiverGetStats: O,
                shimAddTrackRemoveTrackWithNative: L,
                shimAddTrackRemoveTrack: A,
                shimPeerConnection: P,
                fixNegotiationNeeded: I,
                shimGetUserMedia: _,
                shimGetDisplayMedia: function(e, t) {
                    e.navigator.mediaDevices && "getDisplayMedia"in e.navigator.mediaDevices || e.navigator.mediaDevices && "function" == typeof t && (e.navigator.mediaDevices.getDisplayMedia = function(n) {
                        return t(n).then((function(t) {
                            var r = n.video && n.video.width
                              , i = n.video && n.video.height
                              , o = n.video && n.video.frameRate;
                            return n.video = {
                                mandatory: {
                                    chromeMediaSource: "desktop",
                                    chromeMediaSourceId: t,
                                    maxFrameRate: o || 3
                                }
                            },
                            r && (n.video.mandatory.maxWidth = r),
                            i && (n.video.mandatory.maxHeight = i),
                            e.navigator.mediaDevices.getUserMedia(n)
                        }
                        ))
                    }
                    )
                }
            });
            function k(e, t) {
                var n = e && e.navigator
                  , r = e && e.MediaStreamTrack;
                if (n.getUserMedia = function(e, t, r) {
                    n.mediaDevices.getUserMedia(e).then(t, r)
                }
                ,
                !(t.version > 55 && "autoGainControl"in n.mediaDevices.getSupportedConstraints())) {
                    var i = function(e, t, n) {
                        t in e && !(n in e) && (e[n] = e[t],
                        delete e[t])
                    }
                      , a = n.mediaDevices.getUserMedia.bind(n.mediaDevices);
                    if (n.mediaDevices.getUserMedia = function(e) {
                        return "object" == (0,
                        o.default)(e) && "object" == (0,
                        o.default)(e.audio) && (e = JSON.parse(JSON.stringify(e)),
                        i(e.audio, "autoGainControl", "mozAutoGainControl"),
                        i(e.audio, "noiseSuppression", "mozNoiseSuppression")),
                        a(e)
                    }
                    ,
                    r && r.prototype.getSettings) {
                        var s = r.prototype.getSettings;
                        r.prototype.getSettings = function() {
                            var e = s.apply(this, arguments);
                            return i(e, "mozAutoGainControl", "autoGainControl"),
                            i(e, "mozNoiseSuppression", "noiseSuppression"),
                            e
                        }
                    }
                    if (r && r.prototype.applyConstraints) {
                        var u = r.prototype.applyConstraints;
                        r.prototype.applyConstraints = function(e) {
                            return "audio" === this.kind && "object" == (0,
                            o.default)(e) && (e = JSON.parse(JSON.stringify(e)),
                            i(e, "autoGainControl", "mozAutoGainControl"),
                            i(e, "noiseSuppression", "mozNoiseSuppression")),
                            u.apply(this, [e])
                        }
                    }
                }
            }
            function N(e) {
                "object" == (0,
                o.default)(e) && e.RTCTrackEvent && "receiver"in e.RTCTrackEvent.prototype && !("transceiver"in e.RTCTrackEvent.prototype) && Object.defineProperty(e.RTCTrackEvent.prototype, "transceiver", {
                    get: function() {
                        return {
                            receiver: this.receiver
                        }
                    }
                })
            }
            function x(e, t) {
                if ("object" == (0,
                o.default)(e) && (e.RTCPeerConnection || e.mozRTCPeerConnection)) {
                    !e.RTCPeerConnection && e.mozRTCPeerConnection && (e.RTCPeerConnection = e.mozRTCPeerConnection),
                    t.version < 53 && ["setLocalDescription", "setRemoteDescription", "addIceCandidate"].forEach((function(t) {
                        var n = e.RTCPeerConnection.prototype[t]
                          , r = (0,
                        i.default)({}, t, (function() {
                            return arguments[0] = new ("addIceCandidate" === t ? e.RTCIceCandidate : e.RTCSessionDescription)(arguments[0]),
                            n.apply(this, arguments)
                        }
                        ));
                        e.RTCPeerConnection.prototype[t] = r[t]
                    }
                    ));
                    var n = {
                        inboundrtp: "inbound-rtp",
                        outboundrtp: "outbound-rtp",
                        candidatepair: "candidate-pair",
                        localcandidate: "local-candidate",
                        remotecandidate: "remote-candidate"
                    }
                      , r = e.RTCPeerConnection.prototype.getStats;
                    e.RTCPeerConnection.prototype.getStats = function() {
                        var e = Array.prototype.slice.call(arguments)
                          , i = e[0]
                          , o = e[1]
                          , a = e[2];
                        return r.apply(this, [i || null]).then((function(e) {
                            if (t.version < 53 && !o)
                                try {
                                    e.forEach((function(e) {
                                        e.type = n[e.type] || e.type
                                    }
                                    ))
                                } catch (t) {
                                    if ("TypeError" !== t.name)
                                        throw t;
                                    e.forEach((function(t, r) {
                                        e.set(r, Object.assign({}, t, {
                                            type: n[t.type] || t.type
                                        }))
                                    }
                                    ))
                                }
                            return e
                        }
                        )).then(o, a)
                    }
                }
            }
            function M(e) {
                if ("object" == (0,
                o.default)(e) && e.RTCPeerConnection && e.RTCRtpSender && (!e.RTCRtpSender || !("getStats"in e.RTCRtpSender.prototype))) {
                    var t = e.RTCPeerConnection.prototype.getSenders;
                    t && (e.RTCPeerConnection.prototype.getSenders = function() {
                        var e = this
                          , n = t.apply(this, []);
                        return n.forEach((function(t) {
                            return t._pc = e
                        }
                        )),
                        n
                    }
                    );
                    var n = e.RTCPeerConnection.prototype.addTrack;
                    n && (e.RTCPeerConnection.prototype.addTrack = function() {
                        var e = n.apply(this, arguments);
                        return e._pc = this,
                        e
                    }
                    ),
                    e.RTCRtpSender.prototype.getStats = function() {
                        return this.track ? this._pc.getStats(this.track) : Promise.resolve(new Map)
                    }
                }
            }
            function F(e) {
                if ("object" == (0,
                o.default)(e) && e.RTCPeerConnection && e.RTCRtpSender && (!e.RTCRtpSender || !("getStats"in e.RTCRtpReceiver.prototype))) {
                    var t = e.RTCPeerConnection.prototype.getReceivers;
                    t && (e.RTCPeerConnection.prototype.getReceivers = function() {
                        var e = this
                          , n = t.apply(this, []);
                        return n.forEach((function(t) {
                            return t._pc = e
                        }
                        )),
                        n
                    }
                    ),
                    p(e, "track", (function(e) {
                        return e.receiver._pc = e.srcElement,
                        e
                    }
                    )),
                    e.RTCRtpReceiver.prototype.getStats = function() {
                        return this._pc.getStats(this.track)
                    }
                }
            }
            function U(e) {
                e.RTCPeerConnection && !("removeStream"in e.RTCPeerConnection.prototype) && (e.RTCPeerConnection.prototype.removeStream = function(e) {
                    var t = this;
                    this.getSenders().forEach((function(n) {
                        n.track && e.getTracks().includes(n.track) && t.removeTrack(n)
                    }
                    ))
                }
                )
            }
            function B(e) {
                e.DataChannel && !e.RTCDataChannel && (e.RTCDataChannel = e.DataChannel)
            }
            function j(e) {
                if ("object" == (0,
                o.default)(e) && e.RTCPeerConnection) {
                    var t = e.RTCPeerConnection.prototype.addTransceiver;
                    t && (e.RTCPeerConnection.prototype.addTransceiver = function() {
                        this.setParametersPromises = [];
                        var e = arguments[1]
                          , n = e && "sendEncodings"in e;
                        n && e.sendEncodings.forEach((function(e) {
                            if ("rid"in e && !/^[a-z0-9]{0,16}$/i.test(e.rid))
                                throw new TypeError("Invalid RID value provided.");
                            if ("scaleResolutionDownBy"in e && !(parseFloat(e.scaleResolutionDownBy) >= 1))
                                throw new RangeError("scale_resolution_down_by must be >= 1.0");
                            if ("maxFramerate"in e && !(parseFloat(e.maxFramerate) >= 0))
                                throw new RangeError("max_framerate must be >= 0.0")
                        }
                        ));
                        var r = t.apply(this, arguments);
                        if (n) {
                            var i = r.sender
                              , o = i.getParameters();
                            (!("encodings"in o) || 1 === o.encodings.length && 0 === Object.keys(o.encodings[0]).length) && (o.encodings = e.sendEncodings,
                            i.sendEncodings = e.sendEncodings,
                            this.setParametersPromises.push(i.setParameters(o).then((function() {
                                delete i.sendEncodings
                            }
                            )).catch((function() {
                                delete i.sendEncodings
                            }
                            ))))
                        }
                        return r
                    }
                    )
                }
            }
            function V(e) {
                if ("object" == (0,
                o.default)(e) && e.RTCRtpSender) {
                    var t = e.RTCRtpSender.prototype.getParameters;
                    t && (e.RTCRtpSender.prototype.getParameters = function() {
                        var e = t.apply(this, arguments);
                        return "encodings"in e || (e.encodings = [].concat(this.sendEncodings || [{}])),
                        e
                    }
                    )
                }
            }
            function H(e) {
                if ("object" == (0,
                o.default)(e) && e.RTCPeerConnection) {
                    var t = e.RTCPeerConnection.prototype.createOffer;
                    e.RTCPeerConnection.prototype.createOffer = function() {
                        var e = arguments
                          , n = this;
                        return this.setParametersPromises && this.setParametersPromises.length ? Promise.all(this.setParametersPromises).then((function() {
                            return t.apply(n, e)
                        }
                        )).finally((function() {
                            n.setParametersPromises = []
                        }
                        )) : t.apply(this, arguments)
                    }
                }
            }
            function q(e) {
                if ("object" == (0,
                o.default)(e) && e.RTCPeerConnection) {
                    var t = e.RTCPeerConnection.prototype.createAnswer;
                    e.RTCPeerConnection.prototype.createAnswer = function() {
                        var e = arguments
                          , n = this;
                        return this.setParametersPromises && this.setParametersPromises.length ? Promise.all(this.setParametersPromises).then((function() {
                            return t.apply(n, e)
                        }
                        )).finally((function() {
                            n.setParametersPromises = []
                        }
                        )) : t.apply(this, arguments)
                    }
                }
            }
            var W = Object.freeze({
                __proto__: null,
                shimOnTrack: N,
                shimPeerConnection: x,
                shimSenderGetStats: M,
                shimReceiverGetStats: F,
                shimRemoveStream: U,
                shimRTCDataChannel: B,
                shimAddTransceiver: j,
                shimGetParameters: V,
                shimCreateOffer: H,
                shimCreateAnswer: q,
                shimGetUserMedia: k,
                shimGetDisplayMedia: function(e, t) {
                    e.navigator.mediaDevices && "getDisplayMedia"in e.navigator.mediaDevices || e.navigator.mediaDevices && (e.navigator.mediaDevices.getDisplayMedia = function(n) {
                        if (!n || !n.video) {
                            var r = new DOMException("getDisplayMedia without video constraints is undefined");
                            return r.name = "NotFoundError",
                            r.code = 8,
                            Promise.reject(r)
                        }
                        return !0 === n.video ? n.video = {
                            mediaSource: t
                        } : n.video.mediaSource = t,
                        e.navigator.mediaDevices.getUserMedia(n)
                    }
                    )
                }
            });
            function G(e) {
                if ("object" == (0,
                o.default)(e) && e.RTCPeerConnection) {
                    if ("getLocalStreams"in e.RTCPeerConnection.prototype || (e.RTCPeerConnection.prototype.getLocalStreams = function() {
                        return this._localStreams || (this._localStreams = []),
                        this._localStreams
                    }
                    ),
                    !("addStream"in e.RTCPeerConnection.prototype)) {
                        var t = e.RTCPeerConnection.prototype.addTrack;
                        e.RTCPeerConnection.prototype.addStream = function(e) {
                            var n = this;
                            this._localStreams || (this._localStreams = []),
                            this._localStreams.includes(e) || this._localStreams.push(e),
                            e.getAudioTracks().forEach((function(r) {
                                return t.call(n, r, e)
                            }
                            )),
                            e.getVideoTracks().forEach((function(r) {
                                return t.call(n, r, e)
                            }
                            ))
                        }
                        ,
                        e.RTCPeerConnection.prototype.addTrack = function(e) {
                            for (var n = this, r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), o = 1; o < r; o++)
                                i[o - 1] = arguments[o];
                            return i && i.forEach((function(e) {
                                n._localStreams ? n._localStreams.includes(e) || n._localStreams.push(e) : n._localStreams = [e]
                            }
                            )),
                            t.apply(this, arguments)
                        }
                    }
                    "removeStream"in e.RTCPeerConnection.prototype || (e.RTCPeerConnection.prototype.removeStream = function(e) {
                        var t = this;
                        this._localStreams || (this._localStreams = []);
                        var n = this._localStreams.indexOf(e);
                        if (-1 !== n) {
                            this._localStreams.splice(n, 1);
                            var r = e.getTracks();
                            this.getSenders().forEach((function(e) {
                                r.includes(e.track) && t.removeTrack(e)
                            }
                            ))
                        }
                    }
                    )
                }
            }
            function Y(e) {
                if ("object" == (0,
                o.default)(e) && e.RTCPeerConnection && ("getRemoteStreams"in e.RTCPeerConnection.prototype || (e.RTCPeerConnection.prototype.getRemoteStreams = function() {
                    return this._remoteStreams ? this._remoteStreams : []
                }
                ),
                !("onaddstream"in e.RTCPeerConnection.prototype))) {
                    Object.defineProperty(e.RTCPeerConnection.prototype, "onaddstream", {
                        get: function() {
                            return this._onaddstream
                        },
                        set: function(e) {
                            var t = this;
                            this._onaddstream && (this.removeEventListener("addstream", this._onaddstream),
                            this.removeEventListener("track", this._onaddstreampoly)),
                            this.addEventListener("addstream", this._onaddstream = e),
                            this.addEventListener("track", this._onaddstreampoly = function(e) {
                                e.streams.forEach((function(e) {
                                    if (t._remoteStreams || (t._remoteStreams = []),
                                    !t._remoteStreams.includes(e)) {
                                        t._remoteStreams.push(e);
                                        var n = new Event("addstream");
                                        n.stream = e,
                                        t.dispatchEvent(n)
                                    }
                                }
                                ))
                            }
                            )
                        }
                    });
                    var t = e.RTCPeerConnection.prototype.setRemoteDescription;
                    e.RTCPeerConnection.prototype.setRemoteDescription = function() {
                        var e = this;
                        return this._onaddstreampoly || this.addEventListener("track", this._onaddstreampoly = function(t) {
                            t.streams.forEach((function(t) {
                                if (e._remoteStreams || (e._remoteStreams = []),
                                !(e._remoteStreams.indexOf(t) >= 0)) {
                                    e._remoteStreams.push(t);
                                    var n = new Event("addstream");
                                    n.stream = t,
                                    e.dispatchEvent(n)
                                }
                            }
                            ))
                        }
                        ),
                        t.apply(e, arguments)
                    }
                }
            }
            function K(e) {
                if ("object" == (0,
                o.default)(e) && e.RTCPeerConnection) {
                    var t = e.RTCPeerConnection.prototype
                      , n = t.createOffer
                      , r = t.createAnswer
                      , i = t.setLocalDescription
                      , a = t.setRemoteDescription
                      , s = t.addIceCandidate;
                    t.createOffer = function(e, t) {
                        var r = arguments.length >= 2 ? arguments[2] : arguments[0]
                          , i = n.apply(this, [r]);
                        return t ? (i.then(e, t),
                        Promise.resolve()) : i
                    }
                    ,
                    t.createAnswer = function(e, t) {
                        var n = arguments.length >= 2 ? arguments[2] : arguments[0]
                          , i = r.apply(this, [n]);
                        return t ? (i.then(e, t),
                        Promise.resolve()) : i
                    }
                    ;
                    var u = function(e, t, n) {
                        var r = i.apply(this, [e]);
                        return n ? (r.then(t, n),
                        Promise.resolve()) : r
                    };
                    t.setLocalDescription = u,
                    u = function(e, t, n) {
                        var r = a.apply(this, [e]);
                        return n ? (r.then(t, n),
                        Promise.resolve()) : r
                    }
                    ,
                    t.setRemoteDescription = u,
                    u = function(e, t, n) {
                        var r = s.apply(this, [e]);
                        return n ? (r.then(t, n),
                        Promise.resolve()) : r
                    }
                    ,
                    t.addIceCandidate = u
                }
            }
            function z(e) {
                var t = e && e.navigator;
                if (t.mediaDevices && t.mediaDevices.getUserMedia) {
                    var n = t.mediaDevices
                      , r = n.getUserMedia.bind(n);
                    t.mediaDevices.getUserMedia = function(e) {
                        return r(Q(e))
                    }
                }
                !t.getUserMedia && t.mediaDevices && t.mediaDevices.getUserMedia && (t.getUserMedia = function(e, n, r) {
                    t.mediaDevices.getUserMedia(e).then(n, r)
                }
                .bind(t))
            }
            function Q(e) {
                return e && void 0 !== e.video ? Object.assign({}, e, {
                    video: E(e.video)
                }) : e
            }
            function J(e) {
                if (e.RTCPeerConnection) {
                    var t = e.RTCPeerConnection;
                    e.RTCPeerConnection = function(e, n) {
                        if (e && e.iceServers) {
                            for (var r = [], i = 0; i < e.iceServers.length; i++) {
                                var o = e.iceServers[i];
                                !o.hasOwnProperty("urls") && o.hasOwnProperty("url") ? ((o = JSON.parse(JSON.stringify(o))).urls = o.url,
                                delete o.url,
                                r.push(o)) : r.push(e.iceServers[i])
                            }
                            e.iceServers = r
                        }
                        return new t(e,n)
                    }
                    ,
                    e.RTCPeerConnection.prototype = t.prototype,
                    "generateCertificate"in t && Object.defineProperty(e.RTCPeerConnection, "generateCertificate", {
                        get: function() {
                            return t.generateCertificate
                        }
                    })
                }
            }
            function X(e) {
                "object" == (0,
                o.default)(e) && e.RTCTrackEvent && "receiver"in e.RTCTrackEvent.prototype && !("transceiver"in e.RTCTrackEvent.prototype) && Object.defineProperty(e.RTCTrackEvent.prototype, "transceiver", {
                    get: function() {
                        return {
                            receiver: this.receiver
                        }
                    }
                })
            }
            function Z(e) {
                var t = e.RTCPeerConnection.prototype.createOffer;
                e.RTCPeerConnection.prototype.createOffer = function(e) {
                    if (e) {
                        void 0 !== e.offerToReceiveAudio && (e.offerToReceiveAudio = !!e.offerToReceiveAudio);
                        var n = this.getTransceivers().find((function(e) {
                            return "audio" === e.receiver.track.kind
                        }
                        ));
                        !1 === e.offerToReceiveAudio && n ? "sendrecv" === n.direction ? n.setDirection ? n.setDirection("sendonly") : n.direction = "sendonly" : "recvonly" === n.direction && (n.setDirection ? n.setDirection("inactive") : n.direction = "inactive") : !0 !== e.offerToReceiveAudio || n || this.addTransceiver("audio"),
                        void 0 !== e.offerToReceiveVideo && (e.offerToReceiveVideo = !!e.offerToReceiveVideo);
                        var r = this.getTransceivers().find((function(e) {
                            return "video" === e.receiver.track.kind
                        }
                        ));
                        !1 === e.offerToReceiveVideo && r ? "sendrecv" === r.direction ? r.setDirection ? r.setDirection("sendonly") : r.direction = "sendonly" : "recvonly" === r.direction && (r.setDirection ? r.setDirection("inactive") : r.direction = "inactive") : !0 !== e.offerToReceiveVideo || r || this.addTransceiver("video")
                    }
                    return t.apply(this, arguments)
                }
            }
            function $(e) {
                "object" != (0,
                o.default)(e) || e.AudioContext || (e.AudioContext = e.webkitAudioContext)
            }
            var ee = Object.freeze({
                __proto__: null,
                shimLocalStreamsAPI: G,
                shimRemoteStreamsAPI: Y,
                shimCallbacksAPI: K,
                shimGetUserMedia: z,
                shimConstraints: Q,
                shimRTCIceServerUrls: J,
                shimTrackEventTransceiver: X,
                shimCreateOfferLegacy: Z,
                shimAudioContext: $
            })
              , te = {
                exports: {}
            };
            !function(e) {
                var t = {
                    generateIdentifier: function() {
                        return Math.random().toString(36).substr(2, 10)
                    }
                };
                t.localCName = t.generateIdentifier(),
                t.splitLines = function(e) {
                    return e.trim().split("\n").map((function(e) {
                        return e.trim()
                    }
                    ))
                }
                ,
                t.splitSections = function(e) {
                    return e.split("\nm=").map((function(e, t) {
                        return (t > 0 ? "m=" + e : e).trim() + "\r\n"
                    }
                    ))
                }
                ,
                t.getDescription = function(e) {
                    var n = t.splitSections(e);
                    return n && n[0]
                }
                ,
                t.getMediaSections = function(e) {
                    var n = t.splitSections(e);
                    return n.shift(),
                    n
                }
                ,
                t.matchPrefix = function(e, n) {
                    return t.splitLines(e).filter((function(e) {
                        return 0 === e.indexOf(n)
                    }
                    ))
                }
                ,
                t.parseCandidate = function(e) {
                    for (var t, n = {
                        foundation: (t = 0 === e.indexOf("a=candidate:") ? e.substring(12).split(" ") : e.substring(10).split(" "))[0],
                        component: {
                            1: "rtp",
                            2: "rtcp"
                        }[t[1]] || t[1],
                        protocol: t[2].toLowerCase(),
                        priority: parseInt(t[3], 10),
                        ip: t[4],
                        address: t[4],
                        port: parseInt(t[5], 10),
                        type: t[7]
                    }, r = 8; r < t.length; r += 2)
                        switch (t[r]) {
                        case "raddr":
                            n.relatedAddress = t[r + 1];
                            break;
                        case "rport":
                            n.relatedPort = parseInt(t[r + 1], 10);
                            break;
                        case "tcptype":
                            n.tcpType = t[r + 1];
                            break;
                        case "ufrag":
                            n.ufrag = t[r + 1],
                            n.usernameFragment = t[r + 1];
                            break;
                        default:
                            void 0 === n[t[r]] && (n[t[r]] = t[r + 1])
                        }
                    return n
                }
                ,
                t.writeCandidate = function(e) {
                    var t = [];
                    t.push(e.foundation);
                    var n = e.component;
                    "rtp" === n ? t.push(1) : "rtcp" === n ? t.push(2) : t.push(n),
                    t.push(e.protocol.toUpperCase()),
                    t.push(e.priority),
                    t.push(e.address || e.ip),
                    t.push(e.port);
                    var r = e.type;
                    return t.push("typ"),
                    t.push(r),
                    "host" !== r && e.relatedAddress && e.relatedPort && (t.push("raddr"),
                    t.push(e.relatedAddress),
                    t.push("rport"),
                    t.push(e.relatedPort)),
                    e.tcpType && "tcp" === e.protocol.toLowerCase() && (t.push("tcptype"),
                    t.push(e.tcpType)),
                    (e.usernameFragment || e.ufrag) && (t.push("ufrag"),
                    t.push(e.usernameFragment || e.ufrag)),
                    "candidate:" + t.join(" ")
                }
                ,
                t.parseIceOptions = function(e) {
                    return e.substr(14).split(" ")
                }
                ,
                t.parseRtpMap = function(e) {
                    var t = e.substr(9).split(" ")
                      , n = {
                        payloadType: parseInt(t.shift(), 10)
                    };
                    return t = t[0].split("/"),
                    n.name = t[0],
                    n.clockRate = parseInt(t[1], 10),
                    n.channels = 3 === t.length ? parseInt(t[2], 10) : 1,
                    n.numChannels = n.channels,
                    n
                }
                ,
                t.writeRtpMap = function(e) {
                    var t = e.payloadType;
                    void 0 !== e.preferredPayloadType && (t = e.preferredPayloadType);
                    var n = e.channels || e.numChannels || 1;
                    return "a=rtpmap:" + t + " " + e.name + "/" + e.clockRate + (1 !== n ? "/" + n : "") + "\r\n"
                }
                ,
                t.parseExtmap = function(e) {
                    var t = e.substr(9).split(" ");
                    return {
                        id: parseInt(t[0], 10),
                        direction: t[0].indexOf("/") > 0 ? t[0].split("/")[1] : "sendrecv",
                        uri: t[1]
                    }
                }
                ,
                t.writeExtmap = function(e) {
                    return "a=extmap:" + (e.id || e.preferredId) + (e.direction && "sendrecv" !== e.direction ? "/" + e.direction : "") + " " + e.uri + "\r\n"
                }
                ,
                t.parseFmtp = function(e) {
                    for (var t, n = {}, r = e.substr(e.indexOf(" ") + 1).split(";"), i = 0; i < r.length; i++)
                        n[(t = r[i].trim().split("="))[0].trim()] = t[1];
                    return n
                }
                ,
                t.writeFmtp = function(e) {
                    var t = ""
                      , n = e.payloadType;
                    if (void 0 !== e.preferredPayloadType && (n = e.preferredPayloadType),
                    e.parameters && Object.keys(e.parameters).length) {
                        var r = [];
                        Object.keys(e.parameters).forEach((function(t) {
                            void 0 !== e.parameters[t] ? r.push(t + "=" + e.parameters[t]) : r.push(t)
                        }
                        )),
                        t += "a=fmtp:" + n + " " + r.join(";") + "\r\n"
                    }
                    return t
                }
                ,
                t.parseRtcpFb = function(e) {
                    var t = e.substr(e.indexOf(" ") + 1).split(" ");
                    return {
                        type: t.shift(),
                        parameter: t.join(" ")
                    }
                }
                ,
                t.writeRtcpFb = function(e) {
                    var t = ""
                      , n = e.payloadType;
                    return void 0 !== e.preferredPayloadType && (n = e.preferredPayloadType),
                    e.rtcpFeedback && e.rtcpFeedback.length && e.rtcpFeedback.forEach((function(e) {
                        t += "a=rtcp-fb:" + n + " " + e.type + (e.parameter && e.parameter.length ? " " + e.parameter : "") + "\r\n"
                    }
                    )),
                    t
                }
                ,
                t.parseSsrcMedia = function(e) {
                    var t = e.indexOf(" ")
                      , n = {
                        ssrc: parseInt(e.substr(7, t - 7), 10)
                    }
                      , r = e.indexOf(":", t);
                    return r > -1 ? (n.attribute = e.substr(t + 1, r - t - 1),
                    n.value = e.substr(r + 1)) : n.attribute = e.substr(t + 1),
                    n
                }
                ,
                t.parseSsrcGroup = function(e) {
                    var t = e.substr(13).split(" ");
                    return {
                        semantics: t.shift(),
                        ssrcs: t.map((function(e) {
                            return parseInt(e, 10)
                        }
                        ))
                    }
                }
                ,
                t.getMid = function(e) {
                    var n = t.matchPrefix(e, "a=mid:")[0];
                    if (n)
                        return n.substr(6)
                }
                ,
                t.parseFingerprint = function(e) {
                    var t = e.substr(14).split(" ");
                    return {
                        algorithm: t[0].toLowerCase(),
                        value: t[1].toUpperCase()
                    }
                }
                ,
                t.getDtlsParameters = function(e, n) {
                    return {
                        role: "auto",
                        fingerprints: t.matchPrefix(e + n, "a=fingerprint:").map(t.parseFingerprint)
                    }
                }
                ,
                t.writeDtlsParameters = function(e, t) {
                    var n = "a=setup:" + t + "\r\n";
                    return e.fingerprints.forEach((function(e) {
                        n += "a=fingerprint:" + e.algorithm + " " + e.value + "\r\n"
                    }
                    )),
                    n
                }
                ,
                t.parseCryptoLine = function(e) {
                    var t = e.substr(9).split(" ");
                    return {
                        tag: parseInt(t[0], 10),
                        cryptoSuite: t[1],
                        keyParams: t[2],
                        sessionParams: t.slice(3)
                    }
                }
                ,
                t.writeCryptoLine = function(e) {
                    return "a=crypto:" + e.tag + " " + e.cryptoSuite + " " + ("object" == (0,
                    o.default)(e.keyParams) ? t.writeCryptoKeyParams(e.keyParams) : e.keyParams) + (e.sessionParams ? " " + e.sessionParams.join(" ") : "") + "\r\n"
                }
                ,
                t.parseCryptoKeyParams = function(e) {
                    if (0 !== e.indexOf("inline:"))
                        return null;
                    var t = e.substr(7).split("|");
                    return {
                        keyMethod: "inline",
                        keySalt: t[0],
                        lifeTime: t[1],
                        mkiValue: t[2] ? t[2].split(":")[0] : void 0,
                        mkiLength: t[2] ? t[2].split(":")[1] : void 0
                    }
                }
                ,
                t.writeCryptoKeyParams = function(e) {
                    return e.keyMethod + ":" + e.keySalt + (e.lifeTime ? "|" + e.lifeTime : "") + (e.mkiValue && e.mkiLength ? "|" + e.mkiValue + ":" + e.mkiLength : "")
                }
                ,
                t.getCryptoParameters = function(e, n) {
                    return t.matchPrefix(e + n, "a=crypto:").map(t.parseCryptoLine)
                }
                ,
                t.getIceParameters = function(e, n) {
                    var r = t.matchPrefix(e + n, "a=ice-ufrag:")[0]
                      , i = t.matchPrefix(e + n, "a=ice-pwd:")[0];
                    return r && i ? {
                        usernameFragment: r.substr(12),
                        password: i.substr(10)
                    } : null
                }
                ,
                t.writeIceParameters = function(e) {
                    var t = "a=ice-ufrag:" + e.usernameFragment + "\r\na=ice-pwd:" + e.password + "\r\n";
                    return e.iceLite && (t += "a=ice-lite\r\n"),
                    t
                }
                ,
                t.parseRtpParameters = function(e) {
                    for (var n = {
                        codecs: [],
                        headerExtensions: [],
                        fecMechanisms: [],
                        rtcp: []
                    }, r = t.splitLines(e)[0].split(" "), i = 3; i < r.length; i++) {
                        var o = r[i]
                          , a = t.matchPrefix(e, "a=rtpmap:" + o + " ")[0];
                        if (a) {
                            var s = t.parseRtpMap(a)
                              , u = t.matchPrefix(e, "a=fmtp:" + o + " ");
                            switch (s.parameters = u.length ? t.parseFmtp(u[0]) : {},
                            s.rtcpFeedback = t.matchPrefix(e, "a=rtcp-fb:" + o + " ").map(t.parseRtcpFb),
                            n.codecs.push(s),
                            s.name.toUpperCase()) {
                            case "RED":
                            case "ULPFEC":
                                n.fecMechanisms.push(s.name.toUpperCase())
                            }
                        }
                    }
                    return t.matchPrefix(e, "a=extmap:").forEach((function(e) {
                        n.headerExtensions.push(t.parseExtmap(e))
                    }
                    )),
                    n
                }
                ,
                t.writeRtpDescription = function(e, n) {
                    var r = "";
                    r += "m=" + e + " ",
                    r += n.codecs.length > 0 ? "9" : "0",
                    r += " UDP/TLS/RTP/SAVPF ",
                    r += n.codecs.map((function(e) {
                        return void 0 !== e.preferredPayloadType ? e.preferredPayloadType : e.payloadType
                    }
                    )).join(" ") + "\r\n",
                    r += "c=IN IP4 0.0.0.0\r\n",
                    r += "a=rtcp:9 IN IP4 0.0.0.0\r\n",
                    n.codecs.forEach((function(e) {
                        r += t.writeRtpMap(e),
                        r += t.writeFmtp(e),
                        r += t.writeRtcpFb(e)
                    }
                    ));
                    var i = 0;
                    return n.codecs.forEach((function(e) {
                        e.maxptime > i && (i = e.maxptime)
                    }
                    )),
                    i > 0 && (r += "a=maxptime:" + i + "\r\n"),
                    n.headerExtensions && n.headerExtensions.forEach((function(e) {
                        r += t.writeExtmap(e)
                    }
                    )),
                    r
                }
                ,
                t.parseRtpEncodingParameters = function(e) {
                    var n, r = [], i = t.parseRtpParameters(e), o = -1 !== i.fecMechanisms.indexOf("RED"), a = -1 !== i.fecMechanisms.indexOf("ULPFEC"), s = t.matchPrefix(e, "a=ssrc:").map((function(e) {
                        return t.parseSsrcMedia(e)
                    }
                    )).filter((function(e) {
                        return "cname" === e.attribute
                    }
                    )), u = s.length > 0 && s[0].ssrc, c = t.matchPrefix(e, "a=ssrc-group:FID").map((function(e) {
                        return e.substr(17).split(" ").map((function(e) {
                            return parseInt(e, 10)
                        }
                        ))
                    }
                    ));
                    c.length > 0 && c[0].length > 1 && c[0][0] === u && (n = c[0][1]),
                    i.codecs.forEach((function(e) {
                        if ("RTX" === e.name.toUpperCase() && e.parameters.apt) {
                            var t = {
                                ssrc: u,
                                codecPayloadType: parseInt(e.parameters.apt, 10)
                            };
                            u && n && (t.rtx = {
                                ssrc: n
                            }),
                            r.push(t),
                            o && ((t = JSON.parse(JSON.stringify(t))).fec = {
                                ssrc: u,
                                mechanism: a ? "red+ulpfec" : "red"
                            },
                            r.push(t))
                        }
                    }
                    )),
                    0 === r.length && u && r.push({
                        ssrc: u
                    });
                    var l = t.matchPrefix(e, "b=");
                    return l.length && (l = 0 === l[0].indexOf("b=TIAS:") ? parseInt(l[0].substr(7), 10) : 0 === l[0].indexOf("b=AS:") ? 1e3 * parseInt(l[0].substr(5), 10) * .95 - 16e3 : void 0,
                    r.forEach((function(e) {
                        e.maxBitrate = l
                    }
                    ))),
                    r
                }
                ,
                t.parseRtcpParameters = function(e) {
                    var n = {}
                      , r = t.matchPrefix(e, "a=ssrc:").map((function(e) {
                        return t.parseSsrcMedia(e)
                    }
                    )).filter((function(e) {
                        return "cname" === e.attribute
                    }
                    ))[0];
                    r && (n.cname = r.value,
                    n.ssrc = r.ssrc);
                    var i = t.matchPrefix(e, "a=rtcp-rsize");
                    n.reducedSize = i.length > 0,
                    n.compound = 0 === i.length;
                    var o = t.matchPrefix(e, "a=rtcp-mux");
                    return n.mux = o.length > 0,
                    n
                }
                ,
                t.writeRtcpParameters = function(e) {
                    var t = "";
                    return e.reducedSize && (t += "a=rtcp-rsize\r\n"),
                    e.mux && (t += "a=rtcp-mux\r\n"),
                    void 0 !== e.ssrc && e.cname && (t += "a=ssrc:" + e.ssrc + " cname:" + e.cname + "\r\n"),
                    t
                }
                ,
                t.parseMsid = function(e) {
                    var n, r = t.matchPrefix(e, "a=msid:");
                    if (1 === r.length)
                        return {
                            stream: (n = r[0].substr(7).split(" "))[0],
                            track: n[1]
                        };
                    var i = t.matchPrefix(e, "a=ssrc:").map((function(e) {
                        return t.parseSsrcMedia(e)
                    }
                    )).filter((function(e) {
                        return "msid" === e.attribute
                    }
                    ));
                    return i.length > 0 ? {
                        stream: (n = i[0].value.split(" "))[0],
                        track: n[1]
                    } : void 0
                }
                ,
                t.parseSctpDescription = function(e) {
                    var n, r = t.parseMLine(e), i = t.matchPrefix(e, "a=max-message-size:");
                    i.length > 0 && (n = parseInt(i[0].substr(19), 10)),
                    isNaN(n) && (n = 65536);
                    var o = t.matchPrefix(e, "a=sctp-port:");
                    if (o.length > 0)
                        return {
                            port: parseInt(o[0].substr(12), 10),
                            protocol: r.fmt,
                            maxMessageSize: n
                        };
                    var a = t.matchPrefix(e, "a=sctpmap:");
                    if (a.length > 0) {
                        var s = a[0].substr(10).split(" ");
                        return {
                            port: parseInt(s[0], 10),
                            protocol: s[1],
                            maxMessageSize: n
                        }
                    }
                }
                ,
                t.writeSctpDescription = function(e, t) {
                    var n = [];
                    return n = "DTLS/SCTP" !== e.protocol ? ["m=" + e.kind + " 9 " + e.protocol + " " + t.protocol + "\r\n", "c=IN IP4 0.0.0.0\r\n", "a=sctp-port:" + t.port + "\r\n"] : ["m=" + e.kind + " 9 " + e.protocol + " " + t.port + "\r\n", "c=IN IP4 0.0.0.0\r\n", "a=sctpmap:" + t.port + " " + t.protocol + " 65535\r\n"],
                    void 0 !== t.maxMessageSize && n.push("a=max-message-size:" + t.maxMessageSize + "\r\n"),
                    n.join("")
                }
                ,
                t.generateSessionId = function() {
                    return Math.random().toString().substr(2, 21)
                }
                ,
                t.writeSessionBoilerplate = function(e, n, r) {
                    var i = void 0 !== n ? n : 2;
                    return "v=0\r\no=" + (r || "thisisadapterortc") + " " + (e || t.generateSessionId()) + " " + i + " IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"
                }
                ,
                t.getDirection = function(e, n) {
                    for (var r = t.splitLines(e), i = 0; i < r.length; i++)
                        switch (r[i]) {
                        case "a=sendrecv":
                        case "a=sendonly":
                        case "a=recvonly":
                        case "a=inactive":
                            return r[i].substr(2)
                        }
                    return n ? t.getDirection(n) : "sendrecv"
                }
                ,
                t.getKind = function(e) {
                    return t.splitLines(e)[0].split(" ")[0].substr(2)
                }
                ,
                t.isRejected = function(e) {
                    return "0" === e.split(" ", 2)[1]
                }
                ,
                t.parseMLine = function(e) {
                    var n = t.splitLines(e)[0].substr(2).split(" ");
                    return {
                        kind: n[0],
                        port: parseInt(n[1], 10),
                        protocol: n[2],
                        fmt: n.slice(3).join(" ")
                    }
                }
                ,
                t.parseOLine = function(e) {
                    var n = t.matchPrefix(e, "o=")[0].substr(2).split(" ");
                    return {
                        username: n[0],
                        sessionId: n[1],
                        sessionVersion: parseInt(n[2], 10),
                        netType: n[3],
                        addressType: n[4],
                        address: n[5]
                    }
                }
                ,
                t.isValidSDP = function(e) {
                    if ("string" != typeof e || 0 === e.length)
                        return !1;
                    for (var n = t.splitLines(e), r = 0; r < n.length; r++)
                        if (n[r].length < 2 || "=" !== n[r].charAt(1))
                            return !1;
                    return !0
                }
                ,
                e.exports = t
            }(te);
            var ne = te.exports
              , re = Object.freeze(function(e, t) {
                return t.forEach((function(e) {
                    e && "string" != typeof e && !Array.isArray(e) && Object.keys(e).forEach((function(t) {
                        if ("default" !== t && !(t in e)) {
                            var n = Object.getOwnPropertyDescriptor(e, t);
                            Object.defineProperty(e, t, n.get ? n : {
                                enumerable: !0,
                                get: function() {
                                    return e[t]
                                }
                            })
                        }
                    }
                    ))
                }
                )),
                Object.freeze(e)
            }({
                __proto__: null,
                default: ne
            }, [te.exports]));
            function ie(e) {
                if (!(!e.RTCIceCandidate || e.RTCIceCandidate && "foundation"in e.RTCIceCandidate.prototype)) {
                    var t = e.RTCIceCandidate;
                    e.RTCIceCandidate = function(e) {
                        if ("object" == (0,
                        o.default)(e) && e.candidate && 0 === e.candidate.indexOf("a=") && ((e = JSON.parse(JSON.stringify(e))).candidate = e.candidate.substr(2)),
                        e.candidate && e.candidate.length) {
                            var n = new t(e)
                              , r = ne.parseCandidate(e.candidate)
                              , i = Object.assign(n, r);
                            return i.toJSON = function() {
                                return {
                                    candidate: i.candidate,
                                    sdpMid: i.sdpMid,
                                    sdpMLineIndex: i.sdpMLineIndex,
                                    usernameFragment: i.usernameFragment
                                }
                            }
                            ,
                            i
                        }
                        return new t(e)
                    }
                    ,
                    e.RTCIceCandidate.prototype = t.prototype,
                    p(e, "icecandidate", (function(t) {
                        return t.candidate && Object.defineProperty(t, "candidate", {
                            value: new e.RTCIceCandidate(t.candidate),
                            writable: "false"
                        }),
                        t
                    }
                    ))
                }
            }
            function oe(e, t) {
                if (e.RTCPeerConnection) {
                    "sctp"in e.RTCPeerConnection.prototype || Object.defineProperty(e.RTCPeerConnection.prototype, "sctp", {
                        get: function() {
                            return void 0 === this._sctp ? null : this._sctp
                        }
                    });
                    var n = function(e) {
                        if (!e || !e.sdp)
                            return !1;
                        var t = ne.splitSections(e.sdp);
                        return t.shift(),
                        t.some((function(e) {
                            var t = ne.parseMLine(e);
                            return t && "application" === t.kind && -1 !== t.protocol.indexOf("SCTP")
                        }
                        ))
                    }
                      , r = function(e) {
                        var t = e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);
                        if (null === t || t.length < 2)
                            return -1;
                        var n = parseInt(t[1], 10);
                        return n != n ? -1 : n
                    }
                      , i = function(e) {
                        var n = 65536;
                        return "firefox" === t.browser && (n = t.version < 57 ? -1 === e ? 16384 : 2147483637 : t.version < 60 ? 57 === t.version ? 65535 : 65536 : 2147483637),
                        n
                    }
                      , o = function(e, n) {
                        var r = 65536;
                        "firefox" === t.browser && 57 === t.version && (r = 65535);
                        var i = ne.matchPrefix(e.sdp, "a=max-message-size:");
                        return i.length > 0 ? r = parseInt(i[0].substr(19), 10) : "firefox" === t.browser && -1 !== n && (r = 2147483637),
                        r
                    }
                      , a = e.RTCPeerConnection.prototype.setRemoteDescription;
                    e.RTCPeerConnection.prototype.setRemoteDescription = function() {
                        if (this._sctp = null,
                        "chrome" === t.browser && t.version >= 76) {
                            var e = this.getConfiguration()
                              , s = e.sdpSemantics;
                            "plan-b" === s && Object.defineProperty(this, "sctp", {
                                get: function() {
                                    return void 0 === this._sctp ? null : this._sctp
                                },
                                enumerable: !0,
                                configurable: !0
                            })
                        }
                        if (n(arguments[0])) {
                            var u, c = r(arguments[0]), l = i(c), f = o(arguments[0], c);
                            u = 0 === l && 0 === f ? Number.POSITIVE_INFINITY : 0 === l || 0 === f ? Math.max(l, f) : Math.min(l, f);
                            var d = {};
                            Object.defineProperty(d, "maxMessageSize", {
                                get: function() {
                                    return u
                                }
                            }),
                            this._sctp = d
                        }
                        return a.apply(this, arguments)
                    }
                }
            }
            function ae(e) {
                if (e.RTCPeerConnection && "createDataChannel"in e.RTCPeerConnection.prototype) {
                    var t = e.RTCPeerConnection.prototype.createDataChannel;
                    e.RTCPeerConnection.prototype.createDataChannel = function() {
                        var e = t.apply(this, arguments);
                        return n(e, this),
                        e
                    }
                    ,
                    p(e, "datachannel", (function(e) {
                        return n(e.channel, e.target),
                        e
                    }
                    ))
                }
                function n(e, t) {
                    var n = e.send;
                    e.send = function() {
                        var r = arguments[0]
                          , i = r.length || r.size || r.byteLength;
                        if ("open" === e.readyState && t.sctp && i > t.sctp.maxMessageSize)
                            throw new TypeError("Message too large (can send a maximum of " + t.sctp.maxMessageSize + " bytes)");
                        return n.apply(e, arguments)
                    }
                }
            }
            function se(e) {
                if (e.RTCPeerConnection && !("connectionState"in e.RTCPeerConnection.prototype)) {
                    var t = e.RTCPeerConnection.prototype;
                    Object.defineProperty(t, "connectionState", {
                        get: function() {
                            return {
                                completed: "connected",
                                checking: "connecting"
                            }[this.iceConnectionState] || this.iceConnectionState
                        },
                        enumerable: !0,
                        configurable: !0
                    }),
                    Object.defineProperty(t, "onconnectionstatechange", {
                        get: function() {
                            return this._onconnectionstatechange || null
                        },
                        set: function(e) {
                            this._onconnectionstatechange && (this.removeEventListener("connectionstatechange", this._onconnectionstatechange),
                            delete this._onconnectionstatechange),
                            e && this.addEventListener("connectionstatechange", this._onconnectionstatechange = e)
                        },
                        enumerable: !0,
                        configurable: !0
                    }),
                    ["setLocalDescription", "setRemoteDescription"].forEach((function(e) {
                        var n = t[e];
                        t[e] = function() {
                            return this._connectionstatechangepoly || (this._connectionstatechangepoly = function(e) {
                                var t = e.target;
                                if (t._lastConnectionState !== t.connectionState) {
                                    t._lastConnectionState = t.connectionState;
                                    var n = new Event("connectionstatechange",e);
                                    t.dispatchEvent(n)
                                }
                                return e
                            }
                            ,
                            this.addEventListener("iceconnectionstatechange", this._connectionstatechangepoly)),
                            n.apply(this, arguments)
                        }
                    }
                    ))
                }
            }
            function ue(e, t) {
                if (e.RTCPeerConnection && !("chrome" === t.browser && t.version >= 71 || "safari" === t.browser && t.version >= 605)) {
                    var n = e.RTCPeerConnection.prototype.setRemoteDescription;
                    e.RTCPeerConnection.prototype.setRemoteDescription = function(t) {
                        if (t && t.sdp && -1 !== t.sdp.indexOf("\na=extmap-allow-mixed")) {
                            var r = t.sdp.split("\n").filter((function(e) {
                                return "a=extmap-allow-mixed" !== e.trim()
                            }
                            )).join("\n");
                            e.RTCSessionDescription && t instanceof e.RTCSessionDescription ? arguments[0] = new e.RTCSessionDescription({
                                type: t.type,
                                sdp: r
                            }) : t.sdp = r
                        }
                        return n.apply(this, arguments)
                    }
                }
            }
            function ce(e, t) {
                if (e.RTCPeerConnection && e.RTCPeerConnection.prototype) {
                    var n = e.RTCPeerConnection.prototype.addIceCandidate;
                    n && 0 !== n.length && (e.RTCPeerConnection.prototype.addIceCandidate = function() {
                        return arguments[0] ? ("chrome" === t.browser && t.version < 78 || "firefox" === t.browser && t.version < 68 || "safari" === t.browser) && arguments[0] && "" === arguments[0].candidate ? Promise.resolve() : n.apply(this, arguments) : (arguments[1] && arguments[1].apply(null),
                        Promise.resolve())
                    }
                    )
                }
            }
            function le(e, t) {
                if (e.RTCPeerConnection && e.RTCPeerConnection.prototype) {
                    var n = e.RTCPeerConnection.prototype.setLocalDescription;
                    n && 0 !== n.length && (e.RTCPeerConnection.prototype.setLocalDescription = function() {
                        var e = this
                          , t = arguments[0] || {};
                        if ("object" != (0,
                        o.default)(t) || t.type && t.sdp)
                            return n.apply(this, arguments);
                        if (!(t = {
                            type: t.type,
                            sdp: t.sdp
                        }).type)
                            switch (this.signalingState) {
                            case "stable":
                            case "have-local-offer":
                            case "have-remote-pranswer":
                                t.type = "offer";
                                break;
                            default:
                                t.type = "answer"
                            }
                        if (t.sdp || "offer" !== t.type && "answer" !== t.type)
                            return n.apply(this, [t]);
                        var r = "offer" === t.type ? this.createOffer : this.createAnswer;
                        return r.apply(this).then((function(t) {
                            return n.apply(e, [t])
                        }
                        ))
                    }
                    )
                }
            }
            var fe, de, he, pe, ve, me, ge = Object.freeze({
                __proto__: null,
                shimRTCIceCandidate: ie,
                shimMaxMessageSize: oe,
                shimSendThrowTypeError: ae,
                shimConnectionState: se,
                removeExtmapAllowMixed: ue,
                shimAddIceCandidateNullOrEmpty: ce,
                shimParameterlessSetLocalDescription: le
            }), ye = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                  , t = e.window
                  , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                    shimChrome: !0,
                    shimFirefox: !0,
                    shimSafari: !0
                }
                  , r = g
                  , i = function(e) {
                    var t = {
                        browser: null,
                        version: null
                    };
                    if (void 0 === e || !e.navigator)
                        return t.browser = "Not a browser.",
                        t;
                    var n = e.navigator;
                    if (n.mozGetUserMedia)
                        t.browser = "firefox",
                        t.version = h(n.userAgent, /Firefox\/(\d+)\./, 1);
                    else if (n.webkitGetUserMedia || !1 === e.isSecureContext && e.webkitRTCPeerConnection && !e.RTCIceGatherer)
                        t.browser = "chrome",
                        t.version = h(n.userAgent, /Chrom(e|ium)\/(\d+)\./, 2);
                    else {
                        if (!e.RTCPeerConnection || !n.userAgent.match(/AppleWebKit\/(\d+)\./))
                            return t.browser = "Not a supported browser.",
                            t;
                        t.browser = "safari",
                        t.version = h(n.userAgent, /AppleWebKit\/(\d+)\./, 1),
                        t.supportsUnifiedPlan = e.RTCRtpTransceiver && "currentDirection"in e.RTCRtpTransceiver.prototype
                    }
                    return t
                }(t)
                  , o = {
                    browserDetails: i,
                    commonShim: ge,
                    extractVersion: h,
                    disableLog: v,
                    disableWarnings: m,
                    sdp: re
                };
                switch (i.browser) {
                case "chrome":
                    if (!D || !P || !n.shimChrome)
                        return r("Chrome shim is not included in this adapter release."),
                        o;
                    if (null === i.version)
                        return r("Chrome shim can not determine version, not shimming."),
                        o;
                    r("adapter.js shimming chrome."),
                    o.browserShim = D,
                    ce(t, i),
                    le(t),
                    _(t, i),
                    S(t),
                    P(t, i),
                    R(t),
                    A(t, i),
                    w(t),
                    C(t),
                    O(t),
                    I(t, i),
                    ie(t),
                    se(t),
                    oe(t, i),
                    ae(t),
                    ue(t, i);
                    break;
                case "firefox":
                    if (!W || !x || !n.shimFirefox)
                        return r("Firefox shim is not included in this adapter release."),
                        o;
                    r("adapter.js shimming firefox."),
                    o.browserShim = W,
                    ce(t, i),
                    le(t),
                    k(t, i),
                    x(t, i),
                    N(t),
                    U(t),
                    M(t),
                    F(t),
                    B(t),
                    j(t),
                    V(t),
                    H(t),
                    q(t),
                    ie(t),
                    se(t),
                    oe(t, i),
                    ae(t);
                    break;
                case "safari":
                    if (!ee || !n.shimSafari)
                        return r("Safari shim is not included in this adapter release."),
                        o;
                    r("adapter.js shimming safari."),
                    o.browserShim = ee,
                    ce(t, i),
                    le(t),
                    J(t),
                    Z(t),
                    K(t),
                    G(t),
                    Y(t),
                    X(t),
                    z(t),
                    $(t),
                    ie(t),
                    oe(t, i),
                    ae(t),
                    ue(t, i);
                    break;
                default:
                    r("Unsupported browser!")
                }
                return o
            }({
                window: "undefined" == typeof window ? void 0 : window
            }), Ee = function(e) {
                return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e
            }({
                exports: {}
            }.exports = function(e) {
                var t = {};
                function n(r) {
                    if (t[r])
                        return t[r].exports;
                    var i = t[r] = {
                        i: r,
                        l: !1,
                        exports: {}
                    };
                    return e[r].call(i.exports, i, i.exports, n),
                    i.l = !0,
                    i.exports
                }
                return n.m = e,
                n.c = t,
                n.d = function(e, t, r) {
                    n.o(e, t) || Object.defineProperty(e, t, {
                        enumerable: !0,
                        get: r
                    })
                }
                ,
                n.r = function(e) {
                    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                        value: "Module"
                    }),
                    Object.defineProperty(e, "__esModule", {
                        value: !0
                    })
                }
                ,
                n.t = function(e, t) {
                    if (1 & t && (e = n(e)),
                    8 & t)
                        return e;
                    if (4 & t && "object" == (0,
                    o.default)(e) && e && e.__esModule)
                        return e;
                    var r = Object.create(null);
                    if (n.r(r),
                    Object.defineProperty(r, "default", {
                        enumerable: !0,
                        value: e
                    }),
                    2 & t && "string" != typeof e)
                        for (var i in e)
                            n.d(r, i, function(t) {
                                return e[t]
                            }
                            .bind(null, i));
                    return r
                }
                ,
                n.n = function(e) {
                    var t = e && e.__esModule ? function() {
                        return e.default
                    }
                    : function() {
                        return e
                    }
                    ;
                    return n.d(t, "a", t),
                    t
                }
                ,
                n.o = function(e, t) {
                    return Object.prototype.hasOwnProperty.call(e, t)
                }
                ,
                n.p = "",
                n(n.s = 90)
            }({
                17: function(e, t, n) {
                    t.__esModule = !0,
                    t.default = void 0;
                    var r = n(18)
                      , i = function() {
                        function e() {}
                        return e.getFirstMatch = function(e, t) {
                            var n = t.match(e);
                            return n && n.length > 0 && n[1] || ""
                        }
                        ,
                        e.getSecondMatch = function(e, t) {
                            var n = t.match(e);
                            return n && n.length > 1 && n[2] || ""
                        }
                        ,
                        e.matchAndReturnConst = function(e, t, n) {
                            if (e.test(t))
                                return n
                        }
                        ,
                        e.getWindowsVersionName = function(e) {
                            switch (e) {
                            case "NT":
                                return "NT";
                            case "XP":
                            case "NT 5.1":
                                return "XP";
                            case "NT 5.0":
                                return "2000";
                            case "NT 5.2":
                                return "2003";
                            case "NT 6.0":
                                return "Vista";
                            case "NT 6.1":
                                return "7";
                            case "NT 6.2":
                                return "8";
                            case "NT 6.3":
                                return "8.1";
                            case "NT 10.0":
                                return "10";
                            default:
                                return
                            }
                        }
                        ,
                        e.getMacOSVersionName = function(e) {
                            var t = e.split(".").splice(0, 2).map((function(e) {
                                return parseInt(e, 10) || 0
                            }
                            ));
                            if (t.push(0),
                            10 === t[0])
                                switch (t[1]) {
                                case 5:
                                    return "Leopard";
                                case 6:
                                    return "Snow Leopard";
                                case 7:
                                    return "Lion";
                                case 8:
                                    return "Mountain Lion";
                                case 9:
                                    return "Mavericks";
                                case 10:
                                    return "Yosemite";
                                case 11:
                                    return "El Capitan";
                                case 12:
                                    return "Sierra";
                                case 13:
                                    return "High Sierra";
                                case 14:
                                    return "Mojave";
                                case 15:
                                    return "Catalina";
                                default:
                                    return
                                }
                        }
                        ,
                        e.getAndroidVersionName = function(e) {
                            var t = e.split(".").splice(0, 2).map((function(e) {
                                return parseInt(e, 10) || 0
                            }
                            ));
                            if (t.push(0),
                            !(1 === t[0] && t[1] < 5))
                                return 1 === t[0] && t[1] < 6 ? "Cupcake" : 1 === t[0] && t[1] >= 6 ? "Donut" : 2 === t[0] && t[1] < 2 ? "Eclair" : 2 === t[0] && 2 === t[1] ? "Froyo" : 2 === t[0] && t[1] > 2 ? "Gingerbread" : 3 === t[0] ? "Honeycomb" : 4 === t[0] && t[1] < 1 ? "Ice Cream Sandwich" : 4 === t[0] && t[1] < 4 ? "Jelly Bean" : 4 === t[0] && t[1] >= 4 ? "KitKat" : 5 === t[0] ? "Lollipop" : 6 === t[0] ? "Marshmallow" : 7 === t[0] ? "Nougat" : 8 === t[0] ? "Oreo" : 9 === t[0] ? "Pie" : void 0
                        }
                        ,
                        e.getVersionPrecision = function(e) {
                            return e.split(".").length
                        }
                        ,
                        e.compareVersions = function(t, n, r) {
                            void 0 === r && (r = !1);
                            var i = e.getVersionPrecision(t)
                              , o = e.getVersionPrecision(n)
                              , a = Math.max(i, o)
                              , s = 0
                              , u = e.map([t, n], (function(t) {
                                var n = a - e.getVersionPrecision(t)
                                  , r = t + new Array(n + 1).join(".0");
                                return e.map(r.split("."), (function(e) {
                                    return new Array(20 - e.length).join("0") + e
                                }
                                )).reverse()
                            }
                            ));
                            for (r && (s = a - Math.min(i, o)),
                            a -= 1; a >= s; ) {
                                if (u[0][a] > u[1][a])
                                    return 1;
                                if (u[0][a] === u[1][a]) {
                                    if (a === s)
                                        return 0;
                                    a -= 1
                                } else if (u[0][a] < u[1][a])
                                    return -1
                            }
                        }
                        ,
                        e.map = function(e, t) {
                            var n, r = [];
                            if (Array.prototype.map)
                                return Array.prototype.map.call(e, t);
                            for (n = 0; n < e.length; n += 1)
                                r.push(t(e[n]));
                            return r
                        }
                        ,
                        e.find = function(e, t) {
                            var n, r;
                            if (Array.prototype.find)
                                return Array.prototype.find.call(e, t);
                            for (n = 0,
                            r = e.length; n < r; n += 1) {
                                var i = e[n];
                                if (t(i, n))
                                    return i
                            }
                        }
                        ,
                        e.assign = function(e) {
                            for (var t, n, r = e, i = arguments.length, a = new Array(i > 1 ? i - 1 : 0), s = 1; s < i; s++)
                                a[s - 1] = arguments[s];
                            if (Object.assign)
                                return Object.assign.apply(Object, [e].concat(a));
                            var u = function() {
                                var e = a[t];
                                "object" == (0,
                                o.default)(e) && null !== e && Object.keys(e).forEach((function(t) {
                                    r[t] = e[t]
                                }
                                ))
                            };
                            for (t = 0,
                            n = a.length; t < n; t += 1)
                                u();
                            return e
                        }
                        ,
                        e.getBrowserAlias = function(e) {
                            return r.BROWSER_ALIASES_MAP[e]
                        }
                        ,
                        e.getBrowserTypeByAlias = function(e) {
                            return r.BROWSER_MAP[e] || ""
                        }
                        ,
                        e
                    }();
                    t.default = i,
                    e.exports = t.default
                },
                18: function(e, t, n) {
                    t.__esModule = !0,
                    t.ENGINE_MAP = t.OS_MAP = t.PLATFORMS_MAP = t.BROWSER_MAP = t.BROWSER_ALIASES_MAP = void 0,
                    t.BROWSER_ALIASES_MAP = {
                        "Amazon Silk": "amazon_silk",
                        "Android Browser": "android",
                        Bada: "bada",
                        BlackBerry: "blackberry",
                        Chrome: "chrome",
                        Chromium: "chromium",
                        Electron: "electron",
                        Epiphany: "epiphany",
                        Firefox: "firefox",
                        Focus: "focus",
                        Generic: "generic",
                        "Google Search": "google_search",
                        Googlebot: "googlebot",
                        "Internet Explorer": "ie",
                        "K-Meleon": "k_meleon",
                        Maxthon: "maxthon",
                        "Microsoft Edge": "edge",
                        "MZ Browser": "mz",
                        "NAVER Whale Browser": "naver",
                        Opera: "opera",
                        "Opera Coast": "opera_coast",
                        PhantomJS: "phantomjs",
                        Puffin: "puffin",
                        QupZilla: "qupzilla",
                        QQ: "qq",
                        QQLite: "qqlite",
                        Safari: "safari",
                        Sailfish: "sailfish",
                        "Samsung Internet for Android": "samsung_internet",
                        SeaMonkey: "seamonkey",
                        Sleipnir: "sleipnir",
                        Swing: "swing",
                        Tizen: "tizen",
                        "UC Browser": "uc",
                        Vivaldi: "vivaldi",
                        "WebOS Browser": "webos",
                        WeChat: "wechat",
                        "Yandex Browser": "yandex",
                        Roku: "roku"
                    },
                    t.BROWSER_MAP = {
                        amazon_silk: "Amazon Silk",
                        android: "Android Browser",
                        bada: "Bada",
                        blackberry: "BlackBerry",
                        chrome: "Chrome",
                        chromium: "Chromium",
                        electron: "Electron",
                        epiphany: "Epiphany",
                        firefox: "Firefox",
                        focus: "Focus",
                        generic: "Generic",
                        googlebot: "Googlebot",
                        google_search: "Google Search",
                        ie: "Internet Explorer",
                        k_meleon: "K-Meleon",
                        maxthon: "Maxthon",
                        edge: "Microsoft Edge",
                        mz: "MZ Browser",
                        naver: "NAVER Whale Browser",
                        opera: "Opera",
                        opera_coast: "Opera Coast",
                        phantomjs: "PhantomJS",
                        puffin: "Puffin",
                        qupzilla: "QupZilla",
                        qq: "QQ Browser",
                        qqlite: "QQ Browser Lite",
                        safari: "Safari",
                        sailfish: "Sailfish",
                        samsung_internet: "Samsung Internet for Android",
                        seamonkey: "SeaMonkey",
                        sleipnir: "Sleipnir",
                        swing: "Swing",
                        tizen: "Tizen",
                        uc: "UC Browser",
                        vivaldi: "Vivaldi",
                        webos: "WebOS Browser",
                        wechat: "WeChat",
                        yandex: "Yandex Browser"
                    },
                    t.PLATFORMS_MAP = {
                        tablet: "tablet",
                        mobile: "mobile",
                        desktop: "desktop",
                        tv: "tv"
                    },
                    t.OS_MAP = {
                        WindowsPhone: "Windows Phone",
                        Windows: "Windows",
                        MacOS: "macOS",
                        iOS: "iOS",
                        Android: "Android",
                        WebOS: "WebOS",
                        BlackBerry: "BlackBerry",
                        Bada: "Bada",
                        Tizen: "Tizen",
                        Linux: "Linux",
                        ChromeOS: "Chrome OS",
                        PlayStation4: "PlayStation 4",
                        Roku: "Roku"
                    },
                    t.ENGINE_MAP = {
                        EdgeHTML: "EdgeHTML",
                        Blink: "Blink",
                        Trident: "Trident",
                        Presto: "Presto",
                        Gecko: "Gecko",
                        WebKit: "WebKit"
                    }
                },
                90: function(e, t, n) {
                    t.__esModule = !0,
                    t.default = void 0;
                    var r, i = (r = n(91)) && r.__esModule ? r : {
                        default: r
                    }, o = n(18);
                    function a(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                            r.configurable = !0,
                            "value"in r && (r.writable = !0),
                            Object.defineProperty(e, r.key, r)
                        }
                    }
                    var s = function() {
                        function e() {}
                        var t, n;
                        return e.getParser = function(e, t) {
                            if (void 0 === t && (t = !1),
                            "string" != typeof e)
                                throw new Error("UserAgent should be a string");
                            return new i.default(e,t)
                        }
                        ,
                        e.parse = function(e) {
                            return new i.default(e).getResult()
                        }
                        ,
                        t = e,
                        n = [{
                            key: "BROWSER_MAP",
                            get: function() {
                                return o.BROWSER_MAP
                            }
                        }, {
                            key: "ENGINE_MAP",
                            get: function() {
                                return o.ENGINE_MAP
                            }
                        }, {
                            key: "OS_MAP",
                            get: function() {
                                return o.OS_MAP
                            }
                        }, {
                            key: "PLATFORMS_MAP",
                            get: function() {
                                return o.PLATFORMS_MAP
                            }
                        }],
                        null && a(t.prototype, null),
                        n && a(t, n),
                        e
                    }();
                    t.default = s,
                    e.exports = t.default
                },
                91: function(e, t, n) {
                    t.__esModule = !0,
                    t.default = void 0;
                    var r = c(n(92))
                      , i = c(n(93))
                      , a = c(n(94))
                      , s = c(n(95))
                      , u = c(n(17));
                    function c(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    var l = function() {
                        function e(e, t) {
                            if (void 0 === t && (t = !1),
                            null == e || "" === e)
                                throw new Error("UserAgent parameter can't be empty");
                            this._ua = e,
                            this.parsedResult = {},
                            !0 !== t && this.parse()
                        }
                        var t = e.prototype;
                        return t.getUA = function() {
                            return this._ua
                        }
                        ,
                        t.test = function(e) {
                            return e.test(this._ua)
                        }
                        ,
                        t.parseBrowser = function() {
                            var e = this;
                            this.parsedResult.browser = {};
                            var t = u.default.find(r.default, (function(t) {
                                if ("function" == typeof t.test)
                                    return t.test(e);
                                if (t.test instanceof Array)
                                    return t.test.some((function(t) {
                                        return e.test(t)
                                    }
                                    ));
                                throw new Error("Browser's test function is not valid")
                            }
                            ));
                            return t && (this.parsedResult.browser = t.describe(this.getUA())),
                            this.parsedResult.browser
                        }
                        ,
                        t.getBrowser = function() {
                            return this.parsedResult.browser ? this.parsedResult.browser : this.parseBrowser()
                        }
                        ,
                        t.getBrowserName = function(e) {
                            return e ? String(this.getBrowser().name).toLowerCase() || "" : this.getBrowser().name || ""
                        }
                        ,
                        t.getBrowserVersion = function() {
                            return this.getBrowser().version
                        }
                        ,
                        t.getOS = function() {
                            return this.parsedResult.os ? this.parsedResult.os : this.parseOS()
                        }
                        ,
                        t.parseOS = function() {
                            var e = this;
                            this.parsedResult.os = {};
                            var t = u.default.find(i.default, (function(t) {
                                if ("function" == typeof t.test)
                                    return t.test(e);
                                if (t.test instanceof Array)
                                    return t.test.some((function(t) {
                                        return e.test(t)
                                    }
                                    ));
                                throw new Error("Browser's test function is not valid")
                            }
                            ));
                            return t && (this.parsedResult.os = t.describe(this.getUA())),
                            this.parsedResult.os
                        }
                        ,
                        t.getOSName = function(e) {
                            var t = this.getOS().name;
                            return e ? String(t).toLowerCase() || "" : t || ""
                        }
                        ,
                        t.getOSVersion = function() {
                            return this.getOS().version
                        }
                        ,
                        t.getPlatform = function() {
                            return this.parsedResult.platform ? this.parsedResult.platform : this.parsePlatform()
                        }
                        ,
                        t.getPlatformType = function(e) {
                            void 0 === e && (e = !1);
                            var t = this.getPlatform().type;
                            return e ? String(t).toLowerCase() || "" : t || ""
                        }
                        ,
                        t.parsePlatform = function() {
                            var e = this;
                            this.parsedResult.platform = {};
                            var t = u.default.find(a.default, (function(t) {
                                if ("function" == typeof t.test)
                                    return t.test(e);
                                if (t.test instanceof Array)
                                    return t.test.some((function(t) {
                                        return e.test(t)
                                    }
                                    ));
                                throw new Error("Browser's test function is not valid")
                            }
                            ));
                            return t && (this.parsedResult.platform = t.describe(this.getUA())),
                            this.parsedResult.platform
                        }
                        ,
                        t.getEngine = function() {
                            return this.parsedResult.engine ? this.parsedResult.engine : this.parseEngine()
                        }
                        ,
                        t.getEngineName = function(e) {
                            return e ? String(this.getEngine().name).toLowerCase() || "" : this.getEngine().name || ""
                        }
                        ,
                        t.parseEngine = function() {
                            var e = this;
                            this.parsedResult.engine = {};
                            var t = u.default.find(s.default, (function(t) {
                                if ("function" == typeof t.test)
                                    return t.test(e);
                                if (t.test instanceof Array)
                                    return t.test.some((function(t) {
                                        return e.test(t)
                                    }
                                    ));
                                throw new Error("Browser's test function is not valid")
                            }
                            ));
                            return t && (this.parsedResult.engine = t.describe(this.getUA())),
                            this.parsedResult.engine
                        }
                        ,
                        t.parse = function() {
                            return this.parseBrowser(),
                            this.parseOS(),
                            this.parsePlatform(),
                            this.parseEngine(),
                            this
                        }
                        ,
                        t.getResult = function() {
                            return u.default.assign({}, this.parsedResult)
                        }
                        ,
                        t.satisfies = function(e) {
                            var t = this
                              , n = {}
                              , r = 0
                              , i = {}
                              , a = 0;
                            if (Object.keys(e).forEach((function(t) {
                                var s = e[t];
                                "string" == typeof s ? (i[t] = s,
                                a += 1) : "object" == (0,
                                o.default)(s) && (n[t] = s,
                                r += 1)
                            }
                            )),
                            r > 0) {
                                var s = Object.keys(n)
                                  , c = u.default.find(s, (function(e) {
                                    return t.isOS(e)
                                }
                                ));
                                if (c) {
                                    var l = this.satisfies(n[c]);
                                    if (void 0 !== l)
                                        return l
                                }
                                var f = u.default.find(s, (function(e) {
                                    return t.isPlatform(e)
                                }
                                ));
                                if (f) {
                                    var d = this.satisfies(n[f]);
                                    if (void 0 !== d)
                                        return d
                                }
                            }
                            if (a > 0) {
                                var h = Object.keys(i)
                                  , p = u.default.find(h, (function(e) {
                                    return t.isBrowser(e, !0)
                                }
                                ));
                                if (void 0 !== p)
                                    return this.compareVersion(i[p])
                            }
                        }
                        ,
                        t.isBrowser = function(e, t) {
                            void 0 === t && (t = !1);
                            var n = this.getBrowserName().toLowerCase()
                              , r = e.toLowerCase()
                              , i = u.default.getBrowserTypeByAlias(r);
                            return t && i && (r = i.toLowerCase()),
                            r === n
                        }
                        ,
                        t.compareVersion = function(e) {
                            var t = [0]
                              , n = e
                              , r = !1
                              , i = this.getBrowserVersion();
                            if ("string" == typeof i)
                                return ">" === e[0] || "<" === e[0] ? (n = e.substr(1),
                                "=" === e[1] ? (r = !0,
                                n = e.substr(2)) : t = [],
                                ">" === e[0] ? t.push(1) : t.push(-1)) : "=" === e[0] ? n = e.substr(1) : "~" === e[0] && (r = !0,
                                n = e.substr(1)),
                                t.indexOf(u.default.compareVersions(i, n, r)) > -1
                        }
                        ,
                        t.isOS = function(e) {
                            return this.getOSName(!0) === String(e).toLowerCase()
                        }
                        ,
                        t.isPlatform = function(e) {
                            return this.getPlatformType(!0) === String(e).toLowerCase()
                        }
                        ,
                        t.isEngine = function(e) {
                            return this.getEngineName(!0) === String(e).toLowerCase()
                        }
                        ,
                        t.is = function(e, t) {
                            return void 0 === t && (t = !1),
                            this.isBrowser(e, t) || this.isOS(e) || this.isPlatform(e)
                        }
                        ,
                        t.some = function(e) {
                            var t = this;
                            return void 0 === e && (e = []),
                            e.some((function(e) {
                                return t.is(e)
                            }
                            ))
                        }
                        ,
                        e
                    }();
                    t.default = l,
                    e.exports = t.default
                },
                92: function(e, t, n) {
                    t.__esModule = !0,
                    t.default = void 0;
                    var r, i = (r = n(17)) && r.__esModule ? r : {
                        default: r
                    }, o = /version\/(\d+(\.?_?\d+)+)/i, a = [{
                        test: [/googlebot/i],
                        describe: function(e) {
                            var t = {
                                name: "Googlebot"
                            }
                              , n = i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i, e) || i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/opera/i],
                        describe: function(e) {
                            var t = {
                                name: "Opera"
                            }
                              , n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/opr\/|opios/i],
                        describe: function(e) {
                            var t = {
                                name: "Opera"
                            }
                              , n = i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i, e) || i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/SamsungBrowser/i],
                        describe: function(e) {
                            var t = {
                                name: "Samsung Internet for Android"
                            }
                              , n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/Whale/i],
                        describe: function(e) {
                            var t = {
                                name: "NAVER Whale Browser"
                            }
                              , n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/MZBrowser/i],
                        describe: function(e) {
                            var t = {
                                name: "MZ Browser"
                            }
                              , n = i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i, e) || i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/focus/i],
                        describe: function(e) {
                            var t = {
                                name: "Focus"
                            }
                              , n = i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i, e) || i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/swing/i],
                        describe: function(e) {
                            var t = {
                                name: "Swing"
                            }
                              , n = i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i, e) || i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/coast/i],
                        describe: function(e) {
                            var t = {
                                name: "Opera Coast"
                            }
                              , n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/opt\/\d+(?:.?_?\d+)+/i],
                        describe: function(e) {
                            var t = {
                                name: "Opera Touch"
                            }
                              , n = i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i, e) || i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/yabrowser/i],
                        describe: function(e) {
                            var t = {
                                name: "Yandex Browser"
                            }
                              , n = i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i, e) || i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/ucbrowser/i],
                        describe: function(e) {
                            var t = {
                                name: "UC Browser"
                            }
                              , n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/Maxthon|mxios/i],
                        describe: function(e) {
                            var t = {
                                name: "Maxthon"
                            }
                              , n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/epiphany/i],
                        describe: function(e) {
                            var t = {
                                name: "Epiphany"
                            }
                              , n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/puffin/i],
                        describe: function(e) {
                            var t = {
                                name: "Puffin"
                            }
                              , n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/sleipnir/i],
                        describe: function(e) {
                            var t = {
                                name: "Sleipnir"
                            }
                              , n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/k-meleon/i],
                        describe: function(e) {
                            var t = {
                                name: "K-Meleon"
                            }
                              , n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/micromessenger/i],
                        describe: function(e) {
                            var t = {
                                name: "WeChat"
                            }
                              , n = i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i, e) || i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/qqbrowser/i],
                        describe: function(e) {
                            var t = {
                                name: /qqbrowserlite/i.test(e) ? "QQ Browser Lite" : "QQ Browser"
                            }
                              , n = i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i, e) || i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/msie|trident/i],
                        describe: function(e) {
                            var t = {
                                name: "Internet Explorer"
                            }
                              , n = i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/\sedg\//i],
                        describe: function(e) {
                            var t = {
                                name: "Microsoft Edge"
                            }
                              , n = i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/edg([ea]|ios)/i],
                        describe: function(e) {
                            var t = {
                                name: "Microsoft Edge"
                            }
                              , n = i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/vivaldi/i],
                        describe: function(e) {
                            var t = {
                                name: "Vivaldi"
                            }
                              , n = i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/seamonkey/i],
                        describe: function(e) {
                            var t = {
                                name: "SeaMonkey"
                            }
                              , n = i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/sailfish/i],
                        describe: function(e) {
                            var t = {
                                name: "Sailfish"
                            }
                              , n = i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/silk/i],
                        describe: function(e) {
                            var t = {
                                name: "Amazon Silk"
                            }
                              , n = i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/phantom/i],
                        describe: function(e) {
                            var t = {
                                name: "PhantomJS"
                            }
                              , n = i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/slimerjs/i],
                        describe: function(e) {
                            var t = {
                                name: "SlimerJS"
                            }
                              , n = i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/blackberry|\bbb\d+/i, /rim\stablet/i],
                        describe: function(e) {
                            var t = {
                                name: "BlackBerry"
                            }
                              , n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/(web|hpw)[o0]s/i],
                        describe: function(e) {
                            var t = {
                                name: "WebOS Browser"
                            }
                              , n = i.default.getFirstMatch(o, e) || i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/bada/i],
                        describe: function(e) {
                            var t = {
                                name: "Bada"
                            }
                              , n = i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/tizen/i],
                        describe: function(e) {
                            var t = {
                                name: "Tizen"
                            }
                              , n = i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i, e) || i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/qupzilla/i],
                        describe: function(e) {
                            var t = {
                                name: "QupZilla"
                            }
                              , n = i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i, e) || i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/firefox|iceweasel|fxios/i],
                        describe: function(e) {
                            var t = {
                                name: "Firefox"
                            }
                              , n = i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/electron/i],
                        describe: function(e) {
                            var t = {
                                name: "Electron"
                            }
                              , n = i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/MiuiBrowser/i],
                        describe: function(e) {
                            var t = {
                                name: "Miui"
                            }
                              , n = i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/chromium/i],
                        describe: function(e) {
                            var t = {
                                name: "Chromium"
                            }
                              , n = i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i, e) || i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/chrome|crios|crmo/i],
                        describe: function(e) {
                            var t = {
                                name: "Chrome"
                            }
                              , n = i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/GSA/i],
                        describe: function(e) {
                            var t = {
                                name: "Google Search"
                            }
                              , n = i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: function(e) {
                            var t = !e.test(/like android/i)
                              , n = e.test(/android/i);
                            return t && n
                        },
                        describe: function(e) {
                            var t = {
                                name: "Android Browser"
                            }
                              , n = i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/playstation 4/i],
                        describe: function(e) {
                            var t = {
                                name: "PlayStation 4"
                            }
                              , n = i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/safari|applewebkit/i],
                        describe: function(e) {
                            var t = {
                                name: "Safari"
                            }
                              , n = i.default.getFirstMatch(o, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/.*/i],
                        describe: function(e) {
                            var t = -1 !== e.search("\\(") ? /^(.*)\/(.*)[ \t]\((.*)/ : /^(.*)\/(.*) /;
                            return {
                                name: i.default.getFirstMatch(t, e),
                                version: i.default.getSecondMatch(t, e)
                            }
                        }
                    }];
                    t.default = a,
                    e.exports = t.default
                },
                93: function(e, t, n) {
                    t.__esModule = !0,
                    t.default = void 0;
                    var r, i = (r = n(17)) && r.__esModule ? r : {
                        default: r
                    }, o = n(18), a = [{
                        test: [/Roku\/DVP/],
                        describe: function(e) {
                            var t = i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i, e);
                            return {
                                name: o.OS_MAP.Roku,
                                version: t
                            }
                        }
                    }, {
                        test: [/windows phone/i],
                        describe: function(e) {
                            var t = i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i, e);
                            return {
                                name: o.OS_MAP.WindowsPhone,
                                version: t
                            }
                        }
                    }, {
                        test: [/windows /i],
                        describe: function(e) {
                            var t = i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i, e)
                              , n = i.default.getWindowsVersionName(t);
                            return {
                                name: o.OS_MAP.Windows,
                                version: t,
                                versionName: n
                            }
                        }
                    }, {
                        test: [/Macintosh(.*?) FxiOS(.*?)\//],
                        describe: function(e) {
                            var t = {
                                name: o.OS_MAP.iOS
                            }
                              , n = i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/macintosh/i],
                        describe: function(e) {
                            var t = i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i, e).replace(/[_\s]/g, ".")
                              , n = i.default.getMacOSVersionName(t)
                              , r = {
                                name: o.OS_MAP.MacOS,
                                version: t
                            };
                            return n && (r.versionName = n),
                            r
                        }
                    }, {
                        test: [/(ipod|iphone|ipad)/i],
                        describe: function(e) {
                            var t = i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i, e).replace(/[_\s]/g, ".");
                            return {
                                name: o.OS_MAP.iOS,
                                version: t
                            }
                        }
                    }, {
                        test: function(e) {
                            var t = !e.test(/like android/i)
                              , n = e.test(/android/i);
                            return t && n
                        },
                        describe: function(e) {
                            var t = i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i, e)
                              , n = i.default.getAndroidVersionName(t)
                              , r = {
                                name: o.OS_MAP.Android,
                                version: t
                            };
                            return n && (r.versionName = n),
                            r
                        }
                    }, {
                        test: [/(web|hpw)[o0]s/i],
                        describe: function(e) {
                            var t = i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i, e)
                              , n = {
                                name: o.OS_MAP.WebOS
                            };
                            return t && t.length && (n.version = t),
                            n
                        }
                    }, {
                        test: [/blackberry|\bbb\d+/i, /rim\stablet/i],
                        describe: function(e) {
                            var t = i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i, e) || i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i, e) || i.default.getFirstMatch(/\bbb(\d+)/i, e);
                            return {
                                name: o.OS_MAP.BlackBerry,
                                version: t
                            }
                        }
                    }, {
                        test: [/bada/i],
                        describe: function(e) {
                            var t = i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i, e);
                            return {
                                name: o.OS_MAP.Bada,
                                version: t
                            }
                        }
                    }, {
                        test: [/tizen/i],
                        describe: function(e) {
                            var t = i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i, e);
                            return {
                                name: o.OS_MAP.Tizen,
                                version: t
                            }
                        }
                    }, {
                        test: [/linux/i],
                        describe: function() {
                            return {
                                name: o.OS_MAP.Linux
                            }
                        }
                    }, {
                        test: [/CrOS/],
                        describe: function() {
                            return {
                                name: o.OS_MAP.ChromeOS
                            }
                        }
                    }, {
                        test: [/PlayStation 4/],
                        describe: function(e) {
                            var t = i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i, e);
                            return {
                                name: o.OS_MAP.PlayStation4,
                                version: t
                            }
                        }
                    }];
                    t.default = a,
                    e.exports = t.default
                },
                94: function(e, t, n) {
                    t.__esModule = !0,
                    t.default = void 0;
                    var r, i = (r = n(17)) && r.__esModule ? r : {
                        default: r
                    }, o = n(18), a = [{
                        test: [/googlebot/i],
                        describe: function() {
                            return {
                                type: "bot",
                                vendor: "Google"
                            }
                        }
                    }, {
                        test: [/huawei/i],
                        describe: function(e) {
                            var t = i.default.getFirstMatch(/(can-l01)/i, e) && "Nova"
                              , n = {
                                type: o.PLATFORMS_MAP.mobile,
                                vendor: "Huawei"
                            };
                            return t && (n.model = t),
                            n
                        }
                    }, {
                        test: [/nexus\s*(?:7|8|9|10).*/i],
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.tablet,
                                vendor: "Nexus"
                            }
                        }
                    }, {
                        test: [/ipad/i],
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.tablet,
                                vendor: "Apple",
                                model: "iPad"
                            }
                        }
                    }, {
                        test: [/Macintosh(.*?) FxiOS(.*?)\//],
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.tablet,
                                vendor: "Apple",
                                model: "iPad"
                            }
                        }
                    }, {
                        test: [/kftt build/i],
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.tablet,
                                vendor: "Amazon",
                                model: "Kindle Fire HD 7"
                            }
                        }
                    }, {
                        test: [/silk/i],
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.tablet,
                                vendor: "Amazon"
                            }
                        }
                    }, {
                        test: [/tablet(?! pc)/i],
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.tablet
                            }
                        }
                    }, {
                        test: function(e) {
                            var t = e.test(/ipod|iphone/i)
                              , n = e.test(/like (ipod|iphone)/i);
                            return t && !n
                        },
                        describe: function(e) {
                            var t = i.default.getFirstMatch(/(ipod|iphone)/i, e);
                            return {
                                type: o.PLATFORMS_MAP.mobile,
                                vendor: "Apple",
                                model: t
                            }
                        }
                    }, {
                        test: [/nexus\s*[0-6].*/i, /galaxy nexus/i],
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.mobile,
                                vendor: "Nexus"
                            }
                        }
                    }, {
                        test: [/[^-]mobi/i],
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.mobile
                            }
                        }
                    }, {
                        test: function(e) {
                            return "blackberry" === e.getBrowserName(!0)
                        },
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.mobile,
                                vendor: "BlackBerry"
                            }
                        }
                    }, {
                        test: function(e) {
                            return "bada" === e.getBrowserName(!0)
                        },
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.mobile
                            }
                        }
                    }, {
                        test: function(e) {
                            return "windows phone" === e.getBrowserName()
                        },
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.mobile,
                                vendor: "Microsoft"
                            }
                        }
                    }, {
                        test: function(e) {
                            var t = Number(String(e.getOSVersion()).split(".")[0]);
                            return "android" === e.getOSName(!0) && t >= 3
                        },
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.tablet
                            }
                        }
                    }, {
                        test: function(e) {
                            return "android" === e.getOSName(!0)
                        },
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.mobile
                            }
                        }
                    }, {
                        test: function(e) {
                            return "macos" === e.getOSName(!0)
                        },
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.desktop,
                                vendor: "Apple"
                            }
                        }
                    }, {
                        test: function(e) {
                            return "windows" === e.getOSName(!0)
                        },
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.desktop
                            }
                        }
                    }, {
                        test: function(e) {
                            return "linux" === e.getOSName(!0)
                        },
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.desktop
                            }
                        }
                    }, {
                        test: function(e) {
                            return "playstation 4" === e.getOSName(!0)
                        },
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.tv
                            }
                        }
                    }, {
                        test: function(e) {
                            return "roku" === e.getOSName(!0)
                        },
                        describe: function() {
                            return {
                                type: o.PLATFORMS_MAP.tv
                            }
                        }
                    }];
                    t.default = a,
                    e.exports = t.default
                },
                95: function(e, t, n) {
                    t.__esModule = !0,
                    t.default = void 0;
                    var r, i = (r = n(17)) && r.__esModule ? r : {
                        default: r
                    }, o = n(18), a = [{
                        test: function(e) {
                            return "microsoft edge" === e.getBrowserName(!0)
                        },
                        describe: function(e) {
                            if (/\sedg\//i.test(e))
                                return {
                                    name: o.ENGINE_MAP.Blink
                                };
                            var t = i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i, e);
                            return {
                                name: o.ENGINE_MAP.EdgeHTML,
                                version: t
                            }
                        }
                    }, {
                        test: [/trident/i],
                        describe: function(e) {
                            var t = {
                                name: o.ENGINE_MAP.Trident
                            }
                              , n = i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: function(e) {
                            return e.test(/presto/i)
                        },
                        describe: function(e) {
                            var t = {
                                name: o.ENGINE_MAP.Presto
                            }
                              , n = i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: function(e) {
                            var t = e.test(/gecko/i)
                              , n = e.test(/like gecko/i);
                            return t && !n
                        },
                        describe: function(e) {
                            var t = {
                                name: o.ENGINE_MAP.Gecko
                            }
                              , n = i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }, {
                        test: [/(apple)?webkit\/537\.36/i],
                        describe: function() {
                            return {
                                name: o.ENGINE_MAP.Blink
                            }
                        }
                    }, {
                        test: [/(apple)?webkit/i],
                        describe: function(e) {
                            var t = {
                                name: o.ENGINE_MAP.WebKit
                            }
                              , n = i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i, e);
                            return n && (t.version = n),
                            t
                        }
                    }];
                    t.default = a,
                    e.exports = t.default
                }
            })), Te = "max-width:100%;max-height:100%;object-fit:contain;display:block;margin:0 auto;";
            !function(e) {
                e[e.DISCONNECTED = 0] = "DISCONNECTED",
                e[e.CONNECTING = 1] = "CONNECTING",
                e[e.ESTABLISHED = 2] = "ESTABLISHED"
            }(fe || (fe = {})),
            function(e) {
                e[e.FAILURE = -1] = "FAILURE",
                e[e.SUCCESS = 0] = "SUCCESS"
            }(de || (de = {})),
            function(e) {
                e[e.NEED_RECONNECT = -1] = "NEED_RECONNECT",
                e[e.MANUAL_CLOSE = 0] = "MANUAL_CLOSE"
            }(he || (he = {})),
            function(e) {
                e[e.SEND = 0] = "SEND",
                e[e.RECEIVE = 1] = "RECEIVE"
            }(pe || (pe = {})),
            function(e) {
                e[e.INIT = 0] = "INIT",
                e[e.PLAYING = 1] = "PLAYING",
                e[e.WAITING = 2] = "WAITING"
            }(ve || (ve = {})),
            function(e) {
                e[e.PLAY_EVT_STREAM_BEGIN = 1001] = "PLAY_EVT_STREAM_BEGIN",
                e[e.PLAY_EVT_SERVER_CONNECTED = 1002] = "PLAY_EVT_SERVER_CONNECTED",
                e[e.PLAY_EVT_PLAY_BEGIN = 1003] = "PLAY_EVT_PLAY_BEGIN",
                e[e.PLAY_EVT_PLAY_STOP = 1004] = "PLAY_EVT_PLAY_STOP",
                e[e.PLAY_EVT_SERVER_RECONNECT = 1005] = "PLAY_EVT_SERVER_RECONNECT",
                e[e.PLAY_EVT_STREAM_EMPTY = 1006] = "PLAY_EVT_STREAM_EMPTY",
                e[e.PLAY_EVT_REQUEST_PULL_BEGIN = 1007] = "PLAY_EVT_REQUEST_PULL_BEGIN",
                e[e.PLAY_EVT_REQUEST_PULL_SUCCESS = 1008] = "PLAY_EVT_REQUEST_PULL_SUCCESS",
                e[e.PLAY_EVT_PLAY_WAITING_BEGIN = 1009] = "PLAY_EVT_PLAY_WAITING_BEGIN",
                e[e.PLAY_EVT_PLAY_WAITING_STOP = 1010] = "PLAY_EVT_PLAY_WAITING_STOP",
                e[e.PLAY_ERR_WEBRTC_FAIL = -2001] = "PLAY_ERR_WEBRTC_FAIL",
                e[e.PLAY_ERR_REQUEST_PULL_FAIL = -2002] = "PLAY_ERR_REQUEST_PULL_FAIL",
                e[e.PLAY_ERR_PLAY_FAIL = -2003] = "PLAY_ERR_PLAY_FAIL",
                e[e.PLAY_ERR_SERVER_DISCONNECT = -2004] = "PLAY_ERR_SERVER_DISCONNECT",
                e[e.PLAY_ERR_DECODE_FAIL = -2005] = "PLAY_ERR_DECODE_FAIL"
            }(me || (me = {}));
            var be, _e, Se, Re = /tbs\/(\d+) /i, we = /OS (\d+)_(\d+)_?(\d+)?/, Ce = Re.test(navigator.userAgent), Oe = /firefox\/(\d+)\./i.test(navigator.userAgent), Le = Oe, Ae = /UCBrowser\/(\d+)\./i.test(navigator.userAgent), Pe = /safari\/(\d+)\./i.test(navigator.userAgent) && !/chrome\/(\d+)\./i.test(navigator.userAgent), Ie = /iPhone|iPad|iOS/i.test(navigator.userAgent), De = Ie, ke = function() {
                var e = navigator.userAgent.match(we);
                return e && [parseInt(e[1], 10), parseInt(e[2], 10), parseInt(e[3] || "0", 10)] || []
            }, Ne = function(e, t) {
                return fetch(e, {
                    body: JSON.stringify(t),
                    cache: "no-cache",
                    credentials: "same-origin",
                    headers: {
                        "content-type": "application/json"
                    },
                    method: "POST",
                    mode: "cors"
                }).then((function(e) {
                    if (200 !== e.status)
                        throw new Error("status Code:" + e.status);
                    return e.json()
                }
                ))
            }, xe = function(e) {
                return u(void 0, void 0, void 0, (function() {
                    var t, n, r;
                    return c(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return [4, Ne("https://overseas-webrtc.liveplay.myqcloud.com/webrtc/v1/stopstream", e)];
                        case 1:
                            if (t = i.sent(),
                            n = t.errcode,
                            r = t.errmsg,
                            0 !== n)
                                throw new Error("stop stream failed, errCode:" + n + ", errmsg:" + r);
                            return [2, t]
                        }
                    }
                    ))
                }
                ))
            }, Me = function(e) {
                return u(void 0, void 0, void 0, (function() {
                    var t, n, r, i, o, a, s;
                    return c(this, (function(u) {
                        switch (u.label) {
                        case 0:
                            return t = e.streamurl,
                            n = e.sessionid,
                            r = e.localsdp,
                            [4, Ne(t, {
                                version: "v1.0",
                                sessionId: n,
                                localSdp: r
                            })];
                        case 1:
                            if (i = u.sent(),
                            o = i.code,
                            a = i.message,
                            s = i.remoteSdp,
                            200 !== o)
                                throw new Error("errCode:" + o + ", errMsg:" + a);
                            return [2, {
                                remoteSdp: s,
                                svrSig: null
                            }]
                        }
                    }
                    ))
                }
                ))
            }, Fe = {}, Ue = [["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"], ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"], ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"], ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"], ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]], Be = Ue[0];
            try {
                for (var je = function(e) {
                    var t = "function" == typeof Symbol && Symbol.iterator
                      , n = t && e[t]
                      , r = 0;
                    if (n)
                        return n.call(e);
                    if (e && "number" == typeof e.length)
                        return {
                            next: function() {
                                return e && r >= e.length && (e = void 0),
                                {
                                    value: e && e[r++],
                                    done: !e
                                }
                            }
                        };
                    throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.")
                }(Ue), Ve = je.next(); !Ve.done; Ve = je.next()) {
                    var He = Ve.value;
                    if (He[1]in document) {
                        Se = He;
                        break
                    }
                }
            } catch (a) {
                be = {
                    error: a
                }
            } finally {
                try {
                    Ve && !Ve.done && (_e = je.return) && _e.call(je)
                } finally {
                    if (be)
                        throw be.error
                }
            }
            if (Se)
                for (var qe = 0; qe < Se.length; qe++)
                    Fe[Be[qe]] = Se[qe];
            var We = function(e) {
                if ("function" == typeof e.webkitEnterFullScreen) {
                    var t = navigator.userAgent || "";
                    if (/Android/.test(t) || !/Chrome|Mac OS X 10.5/.test(t))
                        return !0
                }
                return !1
            }
              , Ge = function(e) {
                var t = e.split("\r\n")
                  , n = [];
                t.forEach((function(e) {
                    var t = e.toLowerCase();
                    t.includes("a=rtpmap") && t.includes("h264") && n.push(e)
                }
                ));
                var r = n.map((function(e) {
                    var t = /a=rtpmap:(\d+)\s/.exec(e);
                    return t && t.length > 1 ? t[1] : null
                }
                )).filter((function(e) {
                    return null !== e
                }
                ))
                  , i = [];
                return t.forEach((function(e) {
                    var t = e;
                    if (e.includes("a=fmtp:111") && (t = e + ";stereo=1"),
                    e.includes("a=fmtp")) {
                        var n = /a=fmtp:(\d+)\s/.exec(e);
                        n && n.length > 1 && r.includes(n[1]) && (t = e + ";sps-pps-idr-in-keyframe=1")
                    }
                    i.push(t)
                }
                )),
                function(e) {
                    if (!Le)
                        return e;
                    var t = e.split("\r\n")
                      , n = []
                      , r = [];
                    t.forEach((function(e) {
                        var t = e.toLowerCase();
                        t.includes("a=rtpmap") && t.includes("h264") && n.push(e)
                    }
                    )),
                    n.length > 1 && r.push.apply(r, f([], l(n.slice(1))));
                    var i = r.map((function(e) {
                        var t = /a=rtpmap:(\d+)\s/.exec(e);
                        return t && t.length > 1 ? t[1] : null
                    }
                    )).filter((function(e) {
                        return null !== e
                    }
                    ))
                      , o = [];
                    return t.forEach((function(e) {
                        var t = e;
                        if (e.includes("a=setup") && (t = "a=setup:passive"),
                        (e.includes("m=audio") || e.includes("m=video")) && (t = e.split(" ").filter((function(e, t) {
                            return t < 3 || !i.includes(e)
                        }
                        )).join(" ")),
                        e.includes("a=fmtp") || e.includes("a=rtcp-fb") || e.includes("a=rtpmap")) {
                            var n = /a=(?:fmtp|rtcp-fb|rtpmap):(\d+)\s/.exec(e);
                            if (n && n.length > 1 && i.includes(n[1]))
                                return
                        }
                        o.push(t)
                    }
                    )),
                    o.join("\r\n")
                }(i.join("\r\n"))
            }
              , Ye = new (function() {
                function e() {
                    this.consoleEnabled = !1
                }
                return e.prototype.log = function() {
                    for (var e = [], t = 0; t < arguments.length; t++)
                        e[t] = arguments[t];
                    this.consoleEnabled
                }
                ,
                e.prototype.enableConsole = function(e) {
                    this.consoleEnabled = e
                }
                ,
                e
            }())
              , Ke = function() {
                function e() {
                    this.peerConnection = null,
                    this.clientSideDescription = null,
                    this.serverSideDescription = null,
                    this.connectStatus = fe.DISCONNECTED,
                    this.connectDirection = pe.RECEIVE,
                    this.negotiating = !1,
                    this.onAddTrack = null,
                    this.onConnect = null,
                    this.onDisconnect = null,
                    this.onSetLocalDescription = null,
                    this.onError = null,
                    this.onTrack = this.onTrack.bind(this),
                    this.onIceConnectionStateChange = this.onIceConnectionStateChange.bind(this),
                    this.onIceCandidate = this.onIceCandidate.bind(this),
                    this.onSignalingStateChange = this.onSignalingStateChange.bind(this),
                    this.onConnectionStateChange = this.onConnectionStateChange.bind(this),
                    this.onNegotiationNeeded = this.onNegotiationNeeded.bind(this)
                }
                return e.prototype.init = function(e) {
                    var t = void 0 === e ? {} : e
                      , n = t.onAddTrack
                      , r = void 0 === n ? null : n
                      , i = t.onConnect
                      , o = void 0 === i ? null : i
                      , a = t.onDisconnect
                      , s = void 0 === a ? null : a
                      , u = t.onSetLocalDescription
                      , c = void 0 === u ? null : u
                      , l = t.onError
                      , f = void 0 === l ? null : l;
                    this.onAddTrack = r,
                    this.onConnect = o,
                    this.onDisconnect = s,
                    this.onSetLocalDescription = c,
                    this.onError = f
                }
                ,
                e.prototype.initWebRTCConnect = function(e) {
                    var t = void 0 === e ? {} : e
                      , n = t.config
                      , r = t.direction
                      , i = void 0 === r ? pe.RECEIVE : r
                      , o = t.stream;
                    return u(this, void 0, void 0, (function() {
                        return c(this, (function(e) {
                            switch (e.label) {
                            case 0:
                                return Ye.log("CloudWebRTC init"),
                                this.peerConnection ? (Ye.log("Call disconnected before connect"),
                                [2]) : (this.connectDirection = i,
                                [4, this.createWebRTCConnect(n, o)]);
                            case 1:
                                return e.sent(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e.prototype.connect = function(e) {
                    Ye.log("connection connect->", e),
                    e && this.onAnswer(e)
                }
                ,
                e.prototype.disconnect = function(e) {
                    var t, n = void 0 === e ? {} : e, r = n.msg, i = void 0 === r ? "" : r, o = n.code, a = void 0 === o ? he.MANUAL_CLOSE : o;
                    Ye.log("connection disconnect->", a, i),
                    this.connectStatus !== fe.DISCONNECTED && (this.connectStatus = fe.DISCONNECTED,
                    this.negotiating = !1,
                    this.peerConnection && (this.peerConnection.removeEventListener("track", this.onTrack),
                    this.peerConnection.removeEventListener("iceconnectionstatechange", this.onIceConnectionStateChange),
                    this.peerConnection.removeEventListener("icecandidate", this.onIceCandidate),
                    this.peerConnection.removeEventListener("signalingstatechange", this.onSignalingStateChange),
                    this.peerConnection.removeEventListener("connectionstatechange", this.onConnectionStateChange),
                    this.peerConnection.removeEventListener("negotiationneeded", this.onNegotiationNeeded),
                    this.peerConnection.close(),
                    this.peerConnection = null),
                    this.clientSideDescription = null,
                    this.serverSideDescription = null,
                    a === he.NEED_RECONNECT && Ye.log("Please try to reconnect"),
                    null === (t = this.onDisconnect) || void 0 === t || t.call(this, {
                        code: a,
                        msg: i
                    }))
                }
                ,
                e.prototype.getClientSideDescription = function() {
                    return this.clientSideDescription || Ye.log("webrtc is not initialized"),
                    this.clientSideDescription
                }
                ,
                e.prototype.getConnectStatus = function() {
                    return this.connectStatus
                }
                ,
                e.prototype.getStats = function() {
                    return u(this, void 0, void 0, (function() {
                        return c(this, (function(e) {
                            switch (e.label) {
                            case 0:
                                return this.peerConnection ? [4, this.peerConnection.getStats(null)] : [2];
                            case 1:
                                return [2, e.sent()]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e.prototype.createWebRTCConnect = function(e, t) {
                    var n, r;
                    return u(this, void 0, void 0, (function() {
                        var i, o = this;
                        return c(this, (function(a) {
                            switch (a.label) {
                            case 0:
                                try {
                                    i = s({
                                        iceServers: [],
                                        sdpSemantics: "unified-plan",
                                        bundlePolicy: "max-bundle",
                                        rtcpMuxPolicy: "require",
                                        tcpCandidatePolicy: "disable",
                                        IceTransportsType: "nohost"
                                    }, null !== (n = e.connection) && void 0 !== n ? n : {}),
                                    this.peerConnection = new RTCPeerConnection(i)
                                } catch (e) {
                                    return Ye.log(e),
                                    "ReferenceError" === e.name && e.message.includes("RTCPeerConnection") && (Ye.log("Not support WebRTC"),
                                    null === (r = this.onError) || void 0 === r || r.call(this, "WebRTC is not supported")),
                                    [2]
                                }
                                return this.connectStatus = fe.CONNECTING,
                                this.negotiating = !1,
                                this.peerConnection.addEventListener("track", this.onTrack),
                                this.peerConnection.addEventListener("iceconnectionstatechange", this.onIceConnectionStateChange),
                                this.peerConnection.addEventListener("icecandidate", this.onIceCandidate),
                                this.peerConnection.addEventListener("signalingstatechange", this.onSignalingStateChange),
                                this.peerConnection.addEventListener("connectionstatechange", this.onConnectionStateChange),
                                this.peerConnection.addEventListener("negotiationneeded", this.onNegotiationNeeded),
                                this.connectDirection === pe.SEND && t instanceof MediaStream && t.getTracks().forEach((function(e) {
                                    o.peerConnection.addTrack(e, t)
                                }
                                )),
                                this.connectDirection !== pe.RECEIVE ? [3, 2] : [4, this.createOffer(e.offer)];
                            case 1:
                                a.sent(),
                                a.label = 2;
                            case 2:
                                return [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e.prototype.onTrack = function(e) {
                    var t;
                    Ye.log("onTrack", e),
                    Ye.log("on " + e.track.kind + " track", e.streams, e.track),
                    null === (t = this.onAddTrack) || void 0 === t || t.call(this, e.track)
                }
                ,
                e.prototype.onIceConnectionStateChange = function(e) {
                    switch (Ye.log("onIceConnectionStateChange", this.peerConnection.iceConnectionState, e),
                    this.peerConnection.iceConnectionState) {
                    case "failed":
                    case "disconnected":
                        Ye.log("Connection disconnected, please try again"),
                        this.disconnect({
                            code: he.NEED_RECONNECT,
                            msg: "Connection disconnected, please try again"
                        })
                    }
                }
                ,
                e.prototype.onIceCandidate = function(e) {
                    Ye.log("onIceCandidate", e)
                }
                ,
                e.prototype.onSignalingStateChange = function(e) {
                    Ye.log("onSignalingStateChange", this.peerConnection.signalingState, e)
                }
                ,
                e.prototype.onConnectionStateChange = function(e) {
                    var t;
                    switch (Ye.log("onConnectionStateChange", this.peerConnection.connectionState, e),
                    this.peerConnection.connectionState) {
                    case "failed":
                    case "disconnected":
                        Ye.log("Connection disconnected, please try again"),
                        this.disconnect({
                            code: he.NEED_RECONNECT,
                            msg: "Connection disconnected, please try again"
                        });
                        break;
                    case "connected":
                        Ye.log("Connection connected"),
                        this.connectStatus = fe.ESTABLISHED,
                        null === (t = this.onConnect) || void 0 === t || t.call(this, {
                            code: de.SUCCESS,
                            msg: "Connection connected"
                        })
                    }
                }
                ,
                e.prototype.onNegotiationNeeded = function(e) {
                    if (Ye.log("onNegotiationNeeded", e),
                    this.connectDirection !== pe.RECEIVE)
                        try {
                            if (this.negotiating || "stable" !== this.peerConnection.signalingState)
                                return;
                            this.negotiating = !0,
                            this.createOffer()
                        } catch (e) {
                            Ye.log("onNegotiationNeeded error", e)
                        } finally {
                            this.negotiating = !1
                        }
                }
                ,
                e.prototype.createOffer = function(e) {
                    var t;
                    return void 0 === e && (e = {}),
                    u(this, void 0, void 0, (function() {
                        var n, r, i, o, a, u, l;
                        return c(this, (function(c) {
                            switch (c.label) {
                            case 0:
                                n = e.offerToReceiveVideo,
                                r = e.offerToReceiveAudio,
                                i = function(e, t) {
                                    var n = {};
                                    for (var r in e)
                                        Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
                                    if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                                        var i = 0;
                                        for (r = Object.getOwnPropertySymbols(e); i < r.length; i++)
                                            t.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[i]) && (n[r[i]] = e[r[i]])
                                    }
                                    return n
                                }(e, ["offerToReceiveVideo", "offerToReceiveAudio"]),
                                o = s({
                                    voiceActivityDetection: !1
                                }, i),
                                this.connectDirection === pe.RECEIVE && (a = !!this.peerConnection.addTransceiver,
                                Ye.log("peerConnection " + (a ? "" : "no") + " addTransceiver"),
                                a ? (r && this.peerConnection.addTransceiver("audio", {
                                    direction: "recvonly"
                                }),
                                n && this.peerConnection.addTransceiver("video", {
                                    direction: "recvonly"
                                })) : o = s(s({}, o), {
                                    offerToReceiveVideo: n,
                                    offerToReceiveAudio: r
                                })),
                                c.label = 1;
                            case 1:
                                return c.trys.push([1, 4, , 5]),
                                u = this.onOffer,
                                [4, this.peerConnection.createOffer(o)];
                            case 2:
                                return [4, u.apply(this, [c.sent()])];
                            case 3:
                                return c.sent(),
                                [3, 5];
                            case 4:
                                return l = c.sent(),
                                Ye.log("create offer error", l),
                                this.disconnect({
                                    code: he.NEED_RECONNECT,
                                    msg: "create offer is failed"
                                }),
                                null === (t = this.onError) || void 0 === t || t.call(this, "create offer is failed"),
                                [3, 5];
                            case 5:
                                return [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e.prototype.onOffer = function(e) {
                    var t, n;
                    return u(this, void 0, void 0, (function() {
                        var r, i;
                        return c(this, (function(o) {
                            switch (o.label) {
                            case 0:
                                Ye.log("onOffer->", e),
                                r = e.sdp,
                                r = this.connectDirection === pe.RECEIVE ? Ge(r) : r.split("\r\n").map((function(e) {
                                    return e.includes("a=fmtp:111") ? e + ";stereo=1" : e
                                }
                                )).join("\r\n"),
                                e.sdp = r,
                                Ye.log("onOffer modify->", e),
                                o.label = 1;
                            case 1:
                                return o.trys.push([1, 3, , 4]),
                                [4, this.peerConnection.setLocalDescription(e)];
                            case 2:
                                return o.sent(),
                                this.clientSideDescription = this.peerConnection.localDescription,
                                null === (t = this.onSetLocalDescription) || void 0 === t || t.call(this, this.clientSideDescription),
                                [3, 4];
                            case 3:
                                return i = o.sent(),
                                Ye.log("setLocalDescription error", i, this.clientSideDescription),
                                null === (n = this.onError) || void 0 === n || n.call(this, "set local sdp is failed"),
                                [3, 4];
                            case 4:
                                return [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e.prototype.onAnswer = function(e) {
                    var t;
                    return u(this, void 0, void 0, (function() {
                        var n;
                        return c(this, (function(r) {
                            switch (r.label) {
                            case 0:
                                Ye.log("onAnswer->", e),
                                r.label = 1;
                            case 1:
                                return r.trys.push([1, 3, , 4]),
                                [4, this.peerConnection.setRemoteDescription(new RTCSessionDescription(e))];
                            case 2:
                                return r.sent(),
                                this.serverSideDescription = this.peerConnection.remoteDescription,
                                Ye.log("remoteDescription", this.peerConnection.remoteDescription),
                                [3, 4];
                            case 3:
                                return n = r.sent(),
                                Ye.log("setRemoteDescription error", n, e),
                                null === (t = this.onError) || void 0 === t || t.call(this, "set remote sdp is failed"),
                                [3, 4];
                            case 4:
                                return [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e
            }()
              , ze = function() {
                function e() {
                    this.timeMark = null,
                    this.commonData = null,
                    this.reportData = null,
                    this.tempData = null,
                    this.onReport = null,
                    this.timeMark = new Map,
                    this.commonData = {},
                    this.initCommonData(),
                    this.reportData = s({}, this.commonData),
                    this.tempData = {}
                }
                return e.prototype.setData = function(e, t, n) {
                    void 0 === n && (n = !1),
                    this.reportData[e] = t,
                    n && (this.commonData[e] = t)
                }
                ,
                e.prototype.setTempData = function(e, t) {
                    this.tempData[e] = t
                }
                ,
                e.prototype.getTempData = function(e) {
                    return this.tempData[e]
                }
                ,
                e.prototype.startReport = function(e) {
                    var t;
                    switch (e) {
                    case "start":
                        this.setData("uint32_data_type", 1),
                        this.setData("uint32_command", 40101);
                        break;
                    case "interval":
                        this.setData("uint32_data_type", 2),
                        this.setData("uint32_command", 40100);
                        break;
                    case "stop":
                        this.setData("uint32_data_type", 1),
                        this.setData("uint32_command", 40102)
                    }
                    var n = (new Date).getTime();
                    this.setData("uint64_data_time", Math.round(n / 1e3)),
                    null === (t = this.onReport) || void 0 === t || t.call(this, this.reportData),
                    this.reportData = s({}, this.commonData)
                }
                ,
                e.prototype.setHandler = function(e) {
                    this.onReport = e
                }
                ,
                e.prototype.markTime = function(e) {
                    var t = window.performance ? window.performance.now() : (new Date).getTime();
                    this.timeMark.set(e, t)
                }
                ,
                e.prototype.measureTime = function(e, t, n, r) {
                    if (void 0 === r && (r = !1),
                    this.timeMark.has(t) && this.timeMark.has(n)) {
                        var i = Math.round(this.timeMark.get(n) - this.timeMark.get(t));
                        this.setData(e, i),
                        r && this.setTempData(e, i)
                    }
                }
                ,
                e.prototype.clearData = function() {
                    this.timeMark ? this.timeMark.clear() : this.timeMark = new Map,
                    this.commonData = {},
                    this.initCommonData(),
                    this.reportData = s({}, this.commonData),
                    this.tempData = {}
                }
                ,
                e.prototype.destroy = function() {
                    var e;
                    null === (e = this.timeMark) || void 0 === e || e.clear(),
                    this.timeMark = null,
                    this.commonData = null,
                    this.reportData = null,
                    this.tempData = null,
                    this.onReport = null
                }
                ,
                e.prototype.initCommonData = function() {
                    var e = window.navigator.userAgent
                      , t = Ee.parse(e)
                      , n = t.platform
                      , r = t.os
                      , i = t.browser;
                    this.commonData.str_device_type = n.model || n.vendor || "",
                    this.commonData.str_os_info = ((r.name || "") + " " + (r.version || "")).trim(),
                    this.commonData.str_browser_model = i.name || "",
                    this.commonData.str_browser_version = i.version || "",
                    this.commonData.str_user_agent = e,
                    this.commonData.u32_link_type = 4,
                    this.commonData.u32_channel_type = 3
                }
                ,
                e
            }()
              , Qe = function() {
                function e() {
                    this.playerView = null,
                    this.playUrl = null,
                    this.isVideoExisted = !1,
                    this.webrtcConnection = null,
                    this.svrSig = null,
                    this.stream = null,
                    this.connectRetry = {
                        maxNum: 3,
                        curNum: 0,
                        delay: 1
                    },
                    this.retryTimeoutId = null,
                    this.statsIntervalId = null,
                    this.disconnectTimeoutId = null,
                    this.docOrigOverflow = null,
                    this.listener = {
                        onPlayEvent: null,
                        onPlayStats: null,
                        onPlayReport: null
                    },
                    this.lastStatsReport = null,
                    this.streamEmptyCount = 0,
                    this.streamDecodeFailCount = 0,
                    this.offerToReceive = {
                        video: !0,
                        audio: !0
                    },
                    this.playingStatus = ve.INIT,
                    this.report = null,
                    this.report = new ze,
                    this.onAddTrack = this.onAddTrack.bind(this),
                    this.onSetLocalDescription = this.onSetLocalDescription.bind(this),
                    this.onConnect = this.onConnect.bind(this),
                    this.onDisconnect = this.onDisconnect.bind(this),
                    this.onError = this.onError.bind(this),
                    this.onStats = this.onStats.bind(this);
                    var e = ye.browserDetails
                      , t = e.browser
                      , n = e.version;
                    Ye.log("browser is " + t + ", version is " + n)
                }
                return e.checkSupport = function(e) {
                    u(void 0, void 0, void 0, (function() {
                        var e, t, n;
                        return c(this, (function(r) {
                            switch (r.label) {
                            case 0:
                                return e = !1,
                                ["RTCPeerConnection", "webkitRTCPeerConnection"].forEach((function(t) {
                                    e || t in window && (e = !0)
                                }
                                )),
                                Ce || (Ae && Ie || Pe && Ie && (0 === (t = ke()).length || t[0] < 11 || 11 === t[0] && t[1] < 1 || 11 === t[0] && 1 === t[1] && t[2] < 2)) && (e = !1),
                                [4, u(void 0, void 0, void 0, (function() {
                                    var e, t, n, r;
                                    return c(this, (function(i) {
                                        switch (i.label) {
                                        case 0:
                                            return i.trys.push([0, 2, , 3]),
                                            e = new RTCPeerConnection({
                                                iceServers: [],
                                                sdpSemantics: "unified-plan"
                                            }),
                                            t = {},
                                            e.addTransceiver ? (e.addTransceiver("audio", {
                                                direction: "recvonly"
                                            }),
                                            e.addTransceiver("video", {
                                                direction: "recvonly"
                                            })) : t = {
                                                offerToReceiveVideo: !0,
                                                offerToReceiveAudio: !0
                                            },
                                            [4, e.createOffer(t)];
                                        case 1:
                                            return n = i.sent(),
                                            r = n.sdp.toLowerCase().indexOf("h264") > -1,
                                            e.close(),
                                            [2, r];
                                        case 2:
                                            return i.sent(),
                                            [2, !1];
                                        case 3:
                                            return [2]
                                        }
                                    }
                                    ))
                                }
                                ))];
                            case 1:
                                return n = r.sent(),
                                [2, {
                                    support: e,
                                    isTbs: Ce,
                                    tbsVersion: Ce ? (i = navigator.userAgent,
                                    o = Re,
                                    1,
                                    a = i.match(o),
                                    a && a.length >= 1 && parseInt(a[1], 10)) : null,
                                    isFirefox: Oe,
                                    isSafari: Pe,
                                    isIOS: Ie,
                                    iOSVersion: Ie ? ke().join(".") : null,
                                    h264Support: n
                                }]
                            }
                            var i, o, a
                        }
                        ))
                    }
                    )).then((function(t) {
                        null == e || e(t)
                    }
                    ))
                }
                ,
                e.prototype.setConfig = function(e) {
                    var t = e.connectRetryCount
                      , n = e.connectRetryDelay
                      , r = e.receiveVideo
                      , i = e.receiveAudio
                      , o = e.showLog;
                    void 0 !== t && ("number" == typeof t && t >= 0 && t <= 10 ? this.connectRetry.maxNum = t : Ye.log("connectRetryCount must be a number between 0 and 10")),
                    void 0 !== n && ("number" == typeof n && n >= 0 && n <= 10 ? this.connectRetry.delay = n : Ye.log("connectRetryDelay must be a number between 0 and 10")),
                    void 0 !== r && (this.offerToReceive.video = !!r),
                    void 0 !== i && (this.offerToReceive.audio = !!i),
                    void 0 !== o && Ye.enableConsole(!!o)
                }
                ,
                e.prototype.setPlayListener = function(e) {
                    var t = e.onPlayEvent
                      , n = e.onPlayStats
                      , r = e.onPlayReport;
                    void 0 !== t && ("function" == typeof t ? this.listener.onPlayEvent = t : Ye.log("onPlayEvent must be function")),
                    void 0 !== n && ("function" == typeof n ? this.listener.onPlayStats = n : Ye.log("onPlayStats must be function")),
                    void 0 !== r && ("function" == typeof r ? (this.listener.onPlayReport = r,
                    this.report.setHandler(r)) : Ye.log("onPlayReport must be function"))
                }
                ,
                e.prototype.setPlayerView = function(e) {
                    if (this.playerView)
                        Ye.log("player view is existed");
                    else {
                        var t = "string" == typeof e ? document.getElementById(e) : e;
                        if (t && (t instanceof HTMLDivElement || t instanceof HTMLVideoElement))
                            if (t instanceof HTMLVideoElement)
                                this.playerView = t;
                            else {
                                var n = document.createElement("video");
                                n.autoplay = !0,
                                n.muted = !0,
                                n.controls = !0,
                                n.playsInline = !0,
                                n.setAttribute("webkit-playsinline", ""),
                                n.setAttribute("x5-playsinline", ""),
                                n.setAttribute("style", Te),
                                t.appendChild(n),
                                this.playerView = n
                            }
                        else
                            Ye.log("Require container element id or HTMLDivElement")
                    }
                }
                ,
                e.prototype.startPlay = function(e) {
                    if (this.playerView) {
                        var t = function(e) {
                            var t = /^(?:webrtc:\/\/)(?:[0-9.\-A-Za-z_]+)(?:\/)(?:[0-9.\-A-Za-z_]+)(?:\/)([^?#]*)(?:\?*)(?:[^?#]*)/.exec(e);
                            if (t)
                                return t[1];
                            var n = /^(?:https?:\/\/)(?:[0-9.\-A-Za-z_]+)(?:\/)(?:[0-9.\-A-Za-z_]+)(?:\/)([^?#]*)(?:\.sdp)(?:\?*)(?:[^?#]*)/.exec(e);
                            return n ? n[1] : null
                        }(e);
                        if (null !== t)
                            if (this.isVideoExisted)
                                Ye.log("Video is existed, please stop playing first");
                            else if (this.offerToReceive.video || this.offerToReceive.audio) {
                                var n = (new Date).getTime();
                                this.report.clearData(),
                                this.report.setData("u64_timestamp", n),
                                this.report.setTempData("pull_start_time", n),
                                this.report.markTime("pull_start"),
                                this.report.setData("bytes_stream_id", t, !0),
                                this.report.setData("str_stream_url", e, !0),
                                this.playUrl = e,
                                this.streamEmptyCount = 0,
                                this.streamDecodeFailCount = 0,
                                this.playingStatus = ve.INIT,
                                this.webrtcConnection || (this.webrtcConnection = new Ke,
                                this.webrtcConnection.init({
                                    onAddTrack: this.onAddTrack,
                                    onSetLocalDescription: this.onSetLocalDescription,
                                    onConnect: this.onConnect,
                                    onDisconnect: this.onDisconnect,
                                    onError: this.onError
                                })),
                                this.webrtcConnection.initWebRTCConnect({
                                    config: {
                                        connection: {},
                                        offer: {
                                            offerToReceiveVideo: this.offerToReceive.video,
                                            offerToReceiveAudio: this.offerToReceive.audio
                                        }
                                    }
                                })
                            } else
                                Ye.log("Both receiveVideo and receiveAudio are false");
                        else
                            Ye.log("Play url is not correct")
                    } else
                        Ye.log("Please set player view first")
                }
                ,
                e.prototype.stopPlay = function(e) {
                    var t, n, r;
                    return void 0 === e && (e = !0),
                    u(this, void 0, void 0, (function() {
                        var i;
                        return c(this, (function(o) {
                            switch (o.label) {
                            case 0:
                                if (!this.isVideoExisted)
                                    return Ye.log("Video is not existed"),
                                    [2];
                                if (this.isVideoExisted = !1,
                                this.disconnectTimeoutId && (window.clearTimeout(this.disconnectTimeoutId),
                                this.disconnectTimeoutId = null),
                                this.retryTimeoutId && (window.clearTimeout(this.retryTimeoutId),
                                this.retryTimeoutId = null,
                                this.connectRetry.curNum = 0),
                                this.statsIntervalId && (window.clearInterval(this.statsIntervalId),
                                this.statsIntervalId = null),
                                !this.playUrl || !this.svrSig)
                                    return [3, 5];
                                o.label = 1;
                            case 1:
                                return o.trys.push([1, 3, , 4]),
                                [4, xe({
                                    streamurl: this.playUrl,
                                    svrsig: this.svrSig
                                })];
                            case 2:
                                return o.sent(),
                                [3, 4];
                            case 3:
                                return i = o.sent(),
                                Ye.log(i.message || ""),
                                [3, 4];
                            case 4:
                                this.playUrl = null,
                                this.svrSig = null,
                                o.label = 5;
                            case 5:
                                return [4, this.startReport("stop")];
                            case 6:
                                return o.sent(),
                                this.webrtcConnection.disconnect(),
                                e && (null === (t = this.stream) || void 0 === t || t.getTracks().forEach((function(e) {
                                    e.stop()
                                }
                                ))),
                                this.stream = null,
                                this.playerView && (this.playerView.pause(),
                                e && (this.playerView.srcObject = null,
                                this.playerView.load())),
                                null === (r = (n = this.listener).onPlayEvent) || void 0 === r || r.call(n, me.PLAY_EVT_PLAY_STOP),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e.prototype.isPlaying = function() {
                    return this.isVideoExisted && this.isVideoPlaying()
                }
                ,
                e.prototype.pause = function() {
                    this.playerView && this.isVideoExisted && this.isVideoPlaying() && this.playerView.pause()
                }
                ,
                e.prototype.resume = function() {
                    return u(this, void 0, void 0, (function() {
                        var e;
                        return c(this, (function(t) {
                            switch (t.label) {
                            case 0:
                                if (!this.playerView || !this.isVideoExisted || this.isVideoPlaying())
                                    return [3, 4];
                                t.label = 1;
                            case 1:
                                return t.trys.push([1, 3, , 4]),
                                [4, this.playerView.play()];
                            case 2:
                                return t.sent(),
                                [3, 4];
                            case 3:
                                return e = t.sent(),
                                Ye.log("resume failed", e),
                                [3, 4];
                            case 4:
                                return [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e.prototype.setMute = function(e) {
                    this.playerView && (this.playerView.muted = !!e)
                }
                ,
                e.prototype.setVolume = function(e) {
                    "number" == typeof e && e >= 0 && e <= 100 ? this.playerView && (this.playerView.volume = e / 100) : Ye.log("volume must be a number between 0 and 100")
                }
                ,
                e.prototype.setControls = function(e) {
                    this.playerView && (this.playerView.controls = !!e)
                }
                ,
                e.prototype.setFullscreen = function(e) {
                    this.playerView && (e ? this.requestFullscreen() : this.exitFullscreen())
                }
                ,
                e.prototype.getVideoElement = function() {
                    return this.playerView
                }
                ,
                e.prototype.destroy = function() {
                    return u(this, void 0, void 0, (function() {
                        return c(this, (function(e) {
                            switch (e.label) {
                            case 0:
                                return this.disconnectTimeoutId && (window.clearTimeout(this.disconnectTimeoutId),
                                this.disconnectTimeoutId = null),
                                this.retryTimeoutId && (window.clearTimeout(this.retryTimeoutId),
                                this.retryTimeoutId = null),
                                this.statsIntervalId && (window.clearInterval(this.statsIntervalId),
                                this.statsIntervalId = null),
                                this.isVideoExisted && this.webrtcConnection ? [4, this.startReport("stop")] : [3, 2];
                            case 1:
                                e.sent(),
                                e.label = 2;
                            case 2:
                                return this.stream && (this.stream.getTracks().forEach((function(e) {
                                    e.stop()
                                }
                                )),
                                this.stream = null),
                                this.playerView && (this.playerView.pause(),
                                this.playerView.srcObject = null,
                                this.playerView.parentElement.removeChild(this.playerView),
                                this.playerView = null),
                                this.webrtcConnection && (this.webrtcConnection.disconnect(),
                                this.webrtcConnection = null,
                                this.lastStatsReport = null),
                                this.report && (this.report.destroy(),
                                this.report = null),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e.prototype.isVideoPlaying = function() {
                    return !(!this.playerView || !1 !== this.playerView.paused)
                }
                ,
                e.prototype.requestFullscreen = function() {
                    var e = Fe;
                    try {
                        e.requestFullscreen ? this.playerView[e.requestFullscreen]({
                            navigationUI: "hide"
                        }) : We(this.playerView) ? this.playerView.webkitEnterFullScreen() : this.enterFullWindow()
                    } catch (e) {
                        Ye.log("enter full screen failed, ", e)
                    }
                }
                ,
                e.prototype.exitFullscreen = function() {
                    var e, t = Fe;
                    try {
                        if (t.requestFullscreen) {
                            var n = document[t.exitFullscreen]();
                            null === (e = null == n ? void 0 : n.catch) || void 0 === e || e.call(n, (function(e) {
                                return Ye.log("exit full screen failed, ", null == e ? void 0 : e.message)
                            }
                            ))
                        } else
                            We(this.playerView) ? this.playerView.webkitExitFullScreen() : this.exitFullWindow()
                    } catch (e) {
                        Ye.log("exit full screen failed, ", e)
                    }
                }
                ,
                e.prototype.enterFullWindow = function() {
                    this.docOrigOverflow = document.documentElement.style.overflow,
                    document.documentElement.style.overflow = "hidden",
                    this.playerView.setAttribute("style", "position:fixed;overflow:hidden;z-index:9999;left:0;top:0;bottom:0;right:0;width:100% !important;height:100% !important;padding-top:0 !important;background-color:#000;")
                }
                ,
                e.prototype.exitFullWindow = function() {
                    document.documentElement.style.overflow = this.docOrigOverflow,
                    this.playerView.setAttribute("style", Te)
                }
                ,
                e.prototype.onAddStream = function(e) {
                    var t, n, r, i;
                    return u(this, void 0, void 0, (function() {
                        var o, a, s, l, f = this;
                        return c(this, (function(d) {
                            switch (d.label) {
                            case 0:
                                if (null === (n = (t = this.listener).onPlayEvent) || void 0 === n || n.call(t, me.PLAY_EVT_STREAM_BEGIN),
                                !this.playerView)
                                    return [2];
                                if (o = function() {
                                    f.playerView.removeEventListener("canplay", o),
                                    f.report.markTime("video_play"),
                                    f.offerToReceive.video ? (f.report.measureTime("u32_first_video_decode_time", "pull_start", "video_play"),
                                    f.report.measureTime("u32_first_i_frame", "pull_start", "video_play", !0)) : (f.report.setData("u32_first_video_decode_time", 0),
                                    f.report.setData("u32_first_i_frame", 0),
                                    f.report.setTempData("u32_first_i_frame", 0)),
                                    f.offerToReceive.audio ? f.report.measureTime("u32_first_audio_render_time", "pull_start", "video_play") : f.report.setData("u32_first_audio_render_time", 0),
                                    f.playerView.autoplay || f.startReport("start")
                                }
                                ,
                                this.playerView.addEventListener("canplay", o),
                                this.playerView.srcObject = e,
                                this.playerView.load(),
                                this.isVideoExisted = !0,
                                !this.playerView.autoplay)
                                    return [2];
                                d.label = 1;
                            case 1:
                                return d.trys.push([1, 3, , 4]),
                                [4, this.playerView.play()];
                            case 2:
                                return d.sent(),
                                a = ke(),
                                De && a.length > 0 && 13 === a[0] ? (this.playerView.pause(),
                                s = function() {
                                    return u(f, void 0, void 0, (function() {
                                        var e, t, n;
                                        return c(this, (function(r) {
                                            switch (r.label) {
                                            case 0:
                                                return r.trys.push([0, 2, , 3]),
                                                [4, this.playerView.play()];
                                            case 1:
                                                return r.sent(),
                                                Ye.log("play ok ios"),
                                                null === (n = (t = this.listener).onPlayEvent) || void 0 === n || n.call(t, me.PLAY_EVT_PLAY_BEGIN),
                                                this.startReport("start"),
                                                [3, 3];
                                            case 2:
                                                return e = r.sent(),
                                                Ye.log("play failed", e),
                                                this.onPlayError(me.PLAY_ERR_PLAY_FAIL, e.toString()),
                                                [3, 3];
                                            case 3:
                                                return [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ,
                                window.setTimeout((function() {
                                    s()
                                }
                                ), 200)) : (Ye.log("play ok"),
                                null === (i = (r = this.listener).onPlayEvent) || void 0 === i || i.call(r, me.PLAY_EVT_PLAY_BEGIN),
                                this.startReport("start")),
                                [3, 4];
                            case 3:
                                return l = d.sent(),
                                Ye.log("play failed", l),
                                this.onPlayError(me.PLAY_ERR_PLAY_FAIL, l.toString()),
                                [3, 4];
                            case 4:
                                return [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e.prototype.onAddTrack = function(e) {
                    "video" === e.kind ? (this.report.markTime("video_down"),
                    this.report.measureTime("u32_first_frame_down", "pull_start", "video_down")) : "audio" === e.kind && (this.report.markTime("audio_down"),
                    this.report.measureTime("u32_first_audio_frame_down", "pull_start", "audio_down")),
                    this.stream ? this.stream.addTrack(e) : (this.stream = new MediaStream,
                    this.stream.addTrack(e),
                    this.onAddStream(this.stream)),
                    Ye.log("track length: " + this.stream.getTracks().length)
                }
                ,
                e.prototype.onSetLocalDescription = function(e) {
                    var t, n, r, i;
                    return u(this, void 0, void 0, (function() {
                        var o, a, s, l, f, d, h, p, v, m = this;
                        return c(this, (function(g) {
                            switch (g.label) {
                            case 0:
                                return g.trys.push([0, 5, , 6]),
                                o = function() {
                                    for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 21, t = "", n = crypto.getRandomValues(new Uint8Array(e)); e--; ) {
                                        var r = 63 & n[e];
                                        t += r < 36 ? r.toString(36) : r < 62 ? (r - 26).toString(36).toUpperCase() : r < 63 ? "_" : "-"
                                    }
                                    return t
                                }(),
                                a = Ee.parse(window.navigator.userAgent),
                                s = a.browser,
                                l = a.os,
                                f = (l.name || "other") + " " + l.version + ";" + (s.name || "other") + " " + s.version,
                                null === (n = (t = this.listener).onPlayEvent) || void 0 === n || n.call(t, me.PLAY_EVT_REQUEST_PULL_BEGIN, {
                                    localSdp: e
                                }),
                                this.report.setData("str_session_id", o, !0),
                                this.report.setData("bytes_token", o, !0),
                                this.report.markTime("request_start"),
                                d = null,
                                this.playUrl.startsWith("webrtc") ? [4, (y = {
                                    streamurl: this.playUrl,
                                    sessionid: o,
                                    clientinfo: f,
                                    localsdp: e
                                },
                                u(void 0, void 0, void 0, (function() {
                                    var e, t, n, r, i;
                                    return c(this, (function(o) {
                                        switch (o.label) {
                                        case 0:
                                            return [4, Ne("https://overseas-webrtc.liveplay.myqcloud.com/webrtc/v1/pullstream", y)];
                                        case 1:
                                            if (e = o.sent(),
                                            t = e.errcode,
                                            n = e.errmsg,
                                            r = e.remotesdp,
                                            i = e.svrsig,
                                            0 !== t)
                                                throw new Error("errCode:" + t + ", errMsg:" + n);
                                            return [2, {
                                                remoteSdp: r,
                                                svrSig: i
                                            }]
                                        }
                                    }
                                    ))
                                }
                                )))] : [3, 2];
                            case 1:
                                return d = g.sent(),
                                [3, 4];
                            case 2:
                                return [4, Me({
                                    streamurl: this.playUrl,
                                    sessionid: o,
                                    localsdp: e
                                })];
                            case 3:
                                d = g.sent(),
                                g.label = 4;
                            case 4:
                                return this.report.markTime("request_end"),
                                this.report.measureTime("u32_signal_time", "request_start", "request_end"),
                                h = d.remoteSdp,
                                p = d.svrSig,
                                null === (i = (r = this.listener).onPlayEvent) || void 0 === i || i.call(r, me.PLAY_EVT_REQUEST_PULL_SUCCESS, {
                                    remoteSdp: h
                                }),
                                this.webrtcConnection.connect(h),
                                this.svrSig = p,
                                this.disconnectTimeoutId && window.clearTimeout(this.disconnectTimeoutId),
                                this.disconnectTimeoutId = window.setTimeout((function() {
                                    Ye.log("connect timeout, try reconnect"),
                                    m.webrtcConnection.disconnect({
                                        code: he.NEED_RECONNECT,
                                        msg: "Connection disconnected, please try again"
                                    })
                                }
                                ), 5e3),
                                [3, 6];
                            case 5:
                                return v = g.sent(),
                                Ye.log(v.message),
                                this.webrtcConnection.disconnect(),
                                this.onPlayError(me.PLAY_ERR_REQUEST_PULL_FAIL, v.message),
                                [3, 6];
                            case 6:
                                return [2]
                            }
                            var y
                        }
                        ))
                    }
                    ))
                }
                ,
                e.prototype.onConnect = function(e) {
                    var t, n;
                    Ye.log("TXLivePlayer onConnect", e),
                    e.code === de.SUCCESS && (this.disconnectTimeoutId && (window.clearTimeout(this.disconnectTimeoutId),
                    this.disconnectTimeoutId = null),
                    this.startStat(),
                    null === (n = (t = this.listener).onPlayEvent) || void 0 === n || n.call(t, me.PLAY_EVT_SERVER_CONNECTED))
                }
                ,
                e.prototype.onDisconnect = function(e) {
                    return u(this, void 0, void 0, (function() {
                        var t, n = this;
                        return c(this, (function(r) {
                            switch (r.label) {
                            case 0:
                                if (this.lastStatsReport = null,
                                this.streamEmptyCount = 0,
                                this.streamDecodeFailCount = 0,
                                this.playingStatus = ve.INIT,
                                this.disconnectTimeoutId && (window.clearTimeout(this.disconnectTimeoutId),
                                this.disconnectTimeoutId = null),
                                this.statsIntervalId && (window.clearInterval(this.statsIntervalId),
                                this.statsIntervalId = null),
                                Ye.log("TXLivePlayer onDisconnect", e),
                                e.code !== he.NEED_RECONNECT)
                                    return [3, 6];
                                if (!this.playUrl || !this.svrSig)
                                    return [3, 5];
                                r.label = 1;
                            case 1:
                                return r.trys.push([1, 3, , 4]),
                                [4, xe({
                                    streamurl: this.playUrl,
                                    svrsig: this.svrSig
                                })];
                            case 2:
                                return r.sent(),
                                [3, 4];
                            case 3:
                                return t = r.sent(),
                                Ye.log(t.message || ""),
                                [3, 4];
                            case 4:
                                this.svrSig = null,
                                r.label = 5;
                            case 5:
                                this.stream && (this.stream.getTracks().forEach((function(e) {
                                    e.stop()
                                }
                                )),
                                this.stream = null),
                                this.isVideoExisted && this.playerView && (this.playerView.pause(),
                                this.isVideoExisted = !1),
                                this.retryTimeoutId && (window.clearTimeout(this.retryTimeoutId),
                                this.retryTimeoutId = null),
                                this.retryTimeoutId = window.setTimeout((function() {
                                    var e, t;
                                    n.connectRetry.curNum += 1;
                                    var r = n.connectRetry
                                      , i = r.curNum
                                      , o = r.maxNum;
                                    i <= o ? (Ye.log("current retry num: " + i + ", max retry num: " + o),
                                    null === (t = (e = n.listener).onPlayEvent) || void 0 === t || t.call(e, me.PLAY_EVT_SERVER_RECONNECT),
                                    n.startPlay(n.playUrl)) : (n.onPlayError(me.PLAY_ERR_SERVER_DISCONNECT),
                                    n.connectRetry.curNum = 0),
                                    n.retryTimeoutId = null
                                }
                                ), 1e3 * this.connectRetry.delay),
                                r.label = 6;
                            case 6:
                                return [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e.prototype.onError = function(e) {
                    this.onPlayError(me.PLAY_ERR_WEBRTC_FAIL, e)
                }
                ,
                e.prototype.startStat = function() {
                    return u(this, void 0, void 0, (function() {
                        var e, t, n = this;
                        return c(this, (function(r) {
                            switch (r.label) {
                            case 0:
                                return this.report.markTime("server_connected"),
                                this.report.measureTime("u32_connect_server_time", "pull_start", "server_connected"),
                                this.statsIntervalId && (window.clearInterval(this.statsIntervalId),
                                this.statsIntervalId = null),
                                [4, this.webrtcConnection.getStats()];
                            case 1:
                                return (e = r.sent()) && (this.report.setTempData("start_stats", e),
                                this.report.setTempData("last_stats", e),
                                this.report.setTempData("last_time", (new Date).getTime()),
                                this.onStats(e)),
                                t = 0,
                                this.statsIntervalId = window.setInterval((function() {
                                    var e;
                                    null === (e = n.webrtcConnection) || void 0 === e || e.getStats().then((function(e) {
                                        e && n.onStats(e),
                                        (t += 1) % 5 == 0 && n.startReport("interval")
                                    }
                                    ))
                                }
                                ), 1e3),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e.prototype.onStats = function(e) {
                    var t, n, r, i, o, a, s, u, c, d, h = function(e, t) {
                        if (void 0 === t && (t = null),
                        t) {
                            var n = null
                              , r = null
                              , i = null
                              , o = null;
                            e.forEach((function(e) {
                                "track" === e.type && ("video" === e.kind || e.frameWidth ? n = e.id : ("audio" === e.kind || e.audioLevel) && (i = e.id)),
                                "inbound-rtp" === e.type && ("video" === e.kind || "video" === e.mediaType ? r = e.id : "audio" !== e.kind && "audio" !== e.mediaType || (o = e.id))
                            }
                            ));
                            var a = e.get(n)
                              , s = e.get(r)
                              , u = t.get(n)
                              , c = t.get(r)
                              , l = 0;
                            void 0 !== (null == s ? void 0 : s.timestamp) && void 0 !== (null == c ? void 0 : c.timestamp) && (l = (s.timestamp - c.timestamp) / 1e3);
                            var f = void 0;
                            if ((null == s ? void 0 : s.codecId) && (R = e.get(s.codecId))) {
                                var d = R.mimeType
                                  , h = R.payloadType
                                  , p = R.sdpFmtpLine;
                                f = (null == d ? void 0 : d.replace("video/", "")) || "",
                                h && p && (f = f + " (" + h + ", " + p + ")")
                            }
                            var v = void 0;
                            void 0 !== (null == s ? void 0 : s.framesPerSecond) ? v = s.framesPerSecond : void 0 !== (null == s ? void 0 : s.framerateMean) ? v = s.framerateMean : void 0 !== (null == a ? void 0 : a.framesReceived) && void 0 !== (null == u ? void 0 : u.framesReceived) && l && (v = (a.framesReceived - u.framesReceived) / l);
                            var m = void 0;
                            void 0 !== (null == s ? void 0 : s.framesDecoded) && void 0 !== (null == c ? void 0 : c.framesDecoded) && l && (m = (s.framesDecoded - c.framesDecoded) / l);
                            var g = void 0;
                            void 0 !== (null == s ? void 0 : s.bytesReceived) && void 0 !== (null == c ? void 0 : c.bytesReceived) && l && (g = 8 * (s.bytesReceived - c.bytesReceived) / l);
                            var y = void 0;
                            void 0 !== (null == a ? void 0 : a.jitterBufferDelay) && void 0 !== (null == a ? void 0 : a.jitterBufferEmittedCount) && void 0 !== (null == u ? void 0 : u.jitterBufferDelay) && void 0 !== (null == u ? void 0 : u.jitterBufferEmittedCount) && (y = a.jitterBufferEmittedCount - u.jitterBufferEmittedCount ? (a.jitterBufferDelay - u.jitterBufferDelay) / (a.jitterBufferEmittedCount - u.jitterBufferEmittedCount) * 1e3 : a.jitterBufferDelay / a.jitterBufferEmittedCount * 1e3);
                            var E = void 0;
                            void 0 !== (null == s ? void 0 : s.totalDecodeTime) && void 0 !== (null == a ? void 0 : a.framesDecoded) && void 0 !== (null == c ? void 0 : c.totalDecodeTime) && void 0 !== (null == u ? void 0 : u.framesDecoded) && (E = a.framesDecoded - u.framesDecoded ? (s.totalDecodeTime - c.totalDecodeTime) / (a.framesDecoded - u.framesDecoded) * 1e3 : s.totalDecodeTime / a.framesDecoded * 1e3);
                            var T = e.get(i)
                              , b = e.get(o)
                              , _ = t.get(i)
                              , S = t.get(o);
                            void 0 !== (null == b ? void 0 : b.timestamp) && void 0 !== (null == S ? void 0 : S.timestamp) && (l = (b.timestamp - S.timestamp) / 1e3);
                            var R, w = void 0;
                            (null == b ? void 0 : b.codecId) && (R = e.get(b.codecId)) && (d = R.mimeType,
                            h = R.payloadType,
                            p = R.sdpFmtpLine,
                            w = (null == d ? void 0 : d.replace("audio/", "")) || "",
                            h && p && (w = w + " (" + h + ", " + p + ")"));
                            var C = void 0;
                            void 0 !== (null == T ? void 0 : T.audioLevel) ? C = null == T ? void 0 : T.audioLevel : void 0 !== (null == b ? void 0 : b.audioLevel) && (C = null == b ? void 0 : b.audioLevel);
                            var O = void 0;
                            void 0 !== (null == b ? void 0 : b.bytesReceived) && void 0 !== (null == S ? void 0 : S.bytesReceived) && l && (O = 8 * (b.bytesReceived - S.bytesReceived) / l);
                            var L = void 0;
                            return void 0 !== (null == T ? void 0 : T.jitterBufferDelay) && void 0 !== (null == T ? void 0 : T.jitterBufferEmittedCount) && void 0 !== (null == _ ? void 0 : _.jitterBufferDelay) && void 0 !== (null == _ ? void 0 : _.jitterBufferEmittedCount) && (L = T.jitterBufferEmittedCount - _.jitterBufferEmittedCount ? (T.jitterBufferDelay - _.jitterBufferDelay) / (T.jitterBufferEmittedCount - _.jitterBufferEmittedCount) * 1e3 : T.jitterBufferDelay / T.jitterBufferEmittedCount * 1e3),
                            {
                                timestamp: (null == s ? void 0 : s.timestamp) || (null == b ? void 0 : b.timestamp),
                                video: {
                                    codec: f,
                                    bitrate: g && Number(g.toFixed(2)),
                                    framesPerSecond: v && Math.round(v),
                                    framesDecodedPerSecond: m && Math.round(m),
                                    frameWidth: null == a ? void 0 : a.frameWidth,
                                    frameHeight: null == a ? void 0 : a.frameHeight,
                                    framesDecoded: null == s ? void 0 : s.framesDecoded,
                                    framesDropped: null == a ? void 0 : a.framesDropped,
                                    framesReceived: null == a ? void 0 : a.framesReceived,
                                    packetsLost: null == s ? void 0 : s.packetsLost,
                                    packetsReceived: null == s ? void 0 : s.packetsReceived,
                                    nackCount: null == s ? void 0 : s.nackCount,
                                    firCount: null == s ? void 0 : s.firCount,
                                    pliCount: null == s ? void 0 : s.pliCount,
                                    jitterBufferDelay: y && Number(y.toFixed(2)),
                                    frameDecodeAvgTime: E && Number(E.toFixed(2))
                                },
                                audio: {
                                    codec: w,
                                    audioLevel: C,
                                    bitrate: O && Number(O.toFixed(2)),
                                    packetsLost: null == b ? void 0 : b.packetsLost,
                                    packetsReceived: null == b ? void 0 : b.packetsReceived,
                                    jitterBufferDelay: L && Number(L.toFixed(2))
                                }
                            }
                        }
                    }(e, this.lastStatsReport);
                    if (this.lastStatsReport = e,
                    h && (h.video.frameWidth = h.video.frameWidth || (null === (t = this.playerView) || void 0 === t ? void 0 : t.videoWidth) || void 0,
                    h.video.frameHeight = h.video.frameHeight || (null === (n = this.playerView) || void 0 === n ? void 0 : n.videoHeight) || void 0,
                    null === (i = (r = this.listener).onPlayStats) || void 0 === i || i.call(r, h)),
                    (null == h ? void 0 : h.video) && this.offerToReceive.video) {
                        var p = h.video
                          , v = p.bitrate
                          , m = p.framesPerSecond
                          , g = p.framesDecoded
                          , y = p.framesDecodedPerSecond;
                        if (v && m && (this.connectRetry.curNum = 0),
                        !this.isVideoExisted)
                            return;
                        if (v && m ? this.streamEmptyCount = 0 : (this.streamEmptyCount += 1,
                        this.streamEmptyCount >= 5 && (null === (a = (o = this.listener).onPlayEvent) || void 0 === a || a.call(o, me.PLAY_EVT_STREAM_EMPTY),
                        this.streamEmptyCount = 0)),
                        v && m && !g ? (this.streamDecodeFailCount += 1,
                        8 === this.streamDecodeFailCount && this.onPlayError(me.PLAY_ERR_DECODE_FAIL)) : this.streamDecodeFailCount = 0,
                        y >= 0 || m >= 0)
                            if (y <= 5 || m <= 5) {
                                var E = this.report.getTempData("freeze_interval_count") || 0;
                                this.report.setTempData("freeze_interval_count", E + 1),
                                this.playingStatus !== ve.WAITING && (this.playingStatus = ve.WAITING,
                                this.report.setTempData("freeze_start_time", (new Date).getTime()),
                                null === (u = (s = this.listener).onPlayEvent) || void 0 === u || u.call(s, me.PLAY_EVT_PLAY_WAITING_BEGIN))
                            } else {
                                if (this.playingStatus === ve.WAITING) {
                                    var T = this.report.getTempData("freeze_start_time")
                                      , b = (new Date).getTime()
                                      , _ = b - T
                                      , S = this.report.getTempData("video_freeze") || {}
                                      , R = S.count
                                      , w = void 0 === R ? 0 : R
                                      , C = S.totalTime
                                      , O = void 0 === C ? 0 : C
                                      , L = S.maxTime
                                      , A = void 0 === L ? 0 : L
                                      , P = S.endTimes
                                      , I = void 0 === P ? [] : P;
                                    w += 1,
                                    O += _,
                                    A = Math.max(_, A),
                                    I = f(f([], l(I)), [b]),
                                    this.report.setTempData("video_freeze", {
                                        count: w,
                                        totalTime: O,
                                        maxTime: A,
                                        endTimes: I
                                    }),
                                    null === (d = (c = this.listener).onPlayEvent) || void 0 === d || d.call(c, me.PLAY_EVT_PLAY_WAITING_STOP)
                                }
                                this.playingStatus = ve.PLAYING
                            }
                    }
                }
                ,
                e.prototype.startReport = function(e) {
                    var t, n;
                    return u(this, void 0, void 0, (function() {
                        var r, i, o, a, s, u, l, f, d, h, p, v, m, g, y, E, T, b, _, S, R, w, C, O, L, A, P, I, D, k, N, x, M, F;
                        return c(this, (function(c) {
                            switch (c.label) {
                            case 0:
                                return r = (new Date).getTime(),
                                i = this.report.getTempData("pull_start_time"),
                                "stop" === e ? (o = this.report.getTempData("u32_first_i_frame") || 0,
                                this.report.setData("u64_timestamp", r),
                                this.report.setData("u64_begin_timestamp", i),
                                this.report.setData("u32_result", Math.round((r - i) / 1e3)),
                                this.report.setData("u32_first_i_frame", o),
                                this.report.setData("u32_first_frame_black", o > 1e4 ? 1 : 0),
                                a = this.report.getTempData("video_freeze") || {},
                                s = a.count,
                                m = void 0 === s ? 0 : s,
                                u = a.totalTime,
                                l = void 0 === u ? 0 : u,
                                f = a.maxTime,
                                d = void 0 === f ? 0 : f,
                                this.report.setData("u64_block_count", m),
                                this.report.setData("u32_video_block_time", l),
                                this.report.setData("u64_block_duration_max", d),
                                this.report.setData("u32_avg_block_time", l && m ? Math.round(l / m) : 0)) : "interval" === e && (this.report.setData("u64_timestamp", r),
                                this.report.setData("u64_playtime", r - i),
                                h = (this.report.getTempData("video_freeze") || {}).endTimes,
                                p = void 0 === h ? [] : h,
                                v = this.report.getTempData("last_time") || 0,
                                m = p.filter((function(e) {
                                    return e >= v && e < r
                                }
                                )).length,
                                this.report.setData("u32_video_block_count", m),
                                this.report.setTempData("last_time", r),
                                g = this.report.getTempData("freeze_interval_count") || 0,
                                this.report.setData("u32_block_usage", g / 5 * 1e3),
                                this.report.setTempData("freeze_interval_count", 0)),
                                [4, this.webrtcConnection.getStats()];
                            case 1:
                                return (y = c.sent()) && (E = function(e) {
                                    var t = null;
                                    e.forEach((function(n) {
                                        var r;
                                        "candidate-pair" === n.type && n.selected ? t = n.remoteCandidateId : "transport" === n.type && n.selectedCandidatePairId && (t = null === (r = e.get(n.selectedCandidatePairId)) || void 0 === r ? void 0 : r.remoteCandidateId)
                                    }
                                    ));
                                    var n = e.get(t) || {}
                                      , r = n.address
                                      , i = void 0 === r ? "" : r
                                      , o = n.port;
                                    return {
                                        address: i,
                                        port: void 0 === o ? "" : o
                                    }
                                }(y),
                                T = E.address,
                                b = E.port,
                                this.report.setData("u32_server_ip", T + (b ? ":" : "") + b),
                                "stop" === e ? (_ = this.report.getTempData("start_stats"),
                                S = function(e, t) {
                                    var n = null
                                      , r = null
                                      , i = null;
                                    e.forEach((function(e) {
                                        "track" !== e.type || "video" !== e.kind && !e.frameWidth || (n = e.id),
                                        "inbound-rtp" === e.type && ("video" === e.kind || "video" === e.mediaType ? r = e.id : "audio" !== e.kind && "audio" !== e.mediaType || (i = e.id))
                                    }
                                    ));
                                    var o = e.get(n)
                                      , a = e.get(r)
                                      , s = e.get(i)
                                      , u = null == t ? void 0 : t.get(r)
                                      , c = 0;
                                    void 0 !== (null == a ? void 0 : a.timestamp) && void 0 !== (null == u ? void 0 : u.timestamp) && (c = (a.timestamp - u.timestamp) / 1e3);
                                    var l = 0;
                                    void 0 !== (null == a ? void 0 : a.packetsLost) && void 0 !== (null == a ? void 0 : a.packetsReceived) && (l = a.packetsLost / (a.packetsLost + a.packetsReceived) * 1e3);
                                    var f = 0;
                                    void 0 !== (null == s ? void 0 : s.packetsLost) && void 0 !== (null == s ? void 0 : s.packetsReceived) && (f = s.packetsLost / (s.packetsLost + s.packetsReceived) * 1e3);
                                    var d = 0;
                                    return void 0 !== (null == a ? void 0 : a.framesDecoded) && void 0 !== (null == u ? void 0 : u.framesDecoded) && c && (d = Math.round((a.framesDecoded - u.framesDecoded) / c)),
                                    {
                                        width: (null == o ? void 0 : o.frameWidth) || 0,
                                        height: (null == o ? void 0 : o.frameHeight) || 0,
                                        videoFractionLost: Number(l.toFixed(2)),
                                        audioFractionLost: Number(f.toFixed(2)),
                                        framerateMean: d
                                    }
                                }(y, _),
                                R = S.width,
                                w = S.height,
                                M = S.videoFractionLost,
                                I = S.audioFractionLost,
                                C = S.framerateMean,
                                this.report.setData("u32_video_width", R || (null === (t = this.playerView) || void 0 === t ? void 0 : t.videoWidth)),
                                this.report.setData("u32_video_height", w || (null === (n = this.playerView) || void 0 === n ? void 0 : n.videoHeight)),
                                this.report.setData("u32_video_drop_usage", M),
                                this.report.setData("u32_audio_drop_usage", I),
                                this.report.setData("u32_video_avg_fps", C)) : "interval" === e && (O = this.report.getTempData("last_stats"),
                                L = function(e, t) {
                                    var n = null
                                      , r = null
                                      , i = null
                                      , o = null;
                                    e.forEach((function(e) {
                                        "track" === e.type && ("video" === e.kind || e.frameWidth) && (n = e.id),
                                        "inbound-rtp" === e.type && ("video" === e.kind || "video" === e.mediaType ? r = e.id : "audio" !== e.kind && "audio" !== e.mediaType || (i = e.id)),
                                        "candidate-pair" === e.type && e.selected ? o = e.id : "transport" === e.type && e.selectedCandidatePairId && (o = e.selectedCandidatePairId)
                                    }
                                    ));
                                    var a = e.get(n)
                                      , s = e.get(r)
                                      , u = null == t ? void 0 : t.get(n)
                                      , c = null == t ? void 0 : t.get(r)
                                      , l = 0;
                                    void 0 !== (null == s ? void 0 : s.timestamp) && void 0 !== (null == c ? void 0 : c.timestamp) && (l = (s.timestamp - c.timestamp) / 1e3);
                                    var f = 0;
                                    void 0 !== (null == s ? void 0 : s.packetsLost) && void 0 !== (null == c ? void 0 : c.packetsLost) && (f = s.packetsLost - c.packetsLost);
                                    var d = 0;
                                    void 0 !== (null == a ? void 0 : a.framesReceived) && void 0 !== (null == u ? void 0 : u.framesReceived) && l ? d = (a.framesReceived - u.framesReceived) / l : void 0 !== (null == s ? void 0 : s.framerateMean) && void 0 !== (null == c ? void 0 : c.framerateMean) && (d = (s.framerateMean + c.framerateMean) / 2);
                                    var h = 0;
                                    void 0 !== (null == s ? void 0 : s.framesDecoded) && void 0 !== (null == c ? void 0 : c.framesDecoded) && l && (h = (s.framesDecoded - c.framesDecoded) / l);
                                    var p = 0;
                                    void 0 !== (null == s ? void 0 : s.bytesReceived) && void 0 !== (null == c ? void 0 : c.bytesReceived) && l && (p = 8 * (s.bytesReceived - c.bytesReceived) / l / 1024);
                                    var v = 0;
                                    void 0 !== (null == s ? void 0 : s.packetsLost) && void 0 !== (null == s ? void 0 : s.packetsReceived) && void 0 !== (null == c ? void 0 : c.packetsLost) && void 0 !== (null == c ? void 0 : c.packetsReceived) && (v = (T = s.packetsLost - c.packetsLost) / (T + (s.packetsReceived - c.packetsReceived)) * 1e3);
                                    var m = e.get(i)
                                      , g = null == t ? void 0 : t.get(i);
                                    void 0 !== (null == m ? void 0 : m.timestamp) && void 0 !== (null == g ? void 0 : g.timestamp) && (l = (m.timestamp - g.timestamp) / 1e3);
                                    var y = 0;
                                    void 0 !== (null == m ? void 0 : m.packetsLost) && void 0 !== (null == g ? void 0 : g.packetsLost) && (y = m.packetsLost - g.packetsLost);
                                    var E = 0;
                                    void 0 !== (null == m ? void 0 : m.bytesReceived) && void 0 !== (null == g ? void 0 : g.bytesReceived) && l && (E = 8 * (m.bytesReceived - g.bytesReceived) / l / 1024);
                                    var T, b = 0;
                                    void 0 !== (null == m ? void 0 : m.packetsLost) && void 0 !== (null == m ? void 0 : m.packetsReceived) && void 0 !== (null == g ? void 0 : g.packetsLost) && void 0 !== (null == g ? void 0 : g.packetsReceived) && (b = (T = m.packetsLost - g.packetsLost) / (T + (m.packetsReceived - g.packetsReceived)) * 1e3);
                                    var _ = e.get(o)
                                      , S = null == t ? void 0 : t.get(o)
                                      , R = 0;
                                    return void 0 !== (null == _ ? void 0 : _.totalRoundTripTime) && void 0 !== (null == _ ? void 0 : _.responsesReceived) && void 0 !== (null == S ? void 0 : S.totalRoundTripTime) && void 0 !== (null == S ? void 0 : S.responsesReceived) && (R = (_.totalRoundTripTime - S.totalRoundTripTime) / (_.responsesReceived - S.responsesReceived) * 1e3),
                                    {
                                        videoPacketsLost: Math.max(f, 0),
                                        videoReceiveFps: Math.round(d),
                                        videoDecodeFps: Math.round(h),
                                        videoBitrate: Number(p.toFixed(2)),
                                        videoFractionLost: Math.max(Number(v.toFixed(2)), 0),
                                        audioPacketsLost: Math.max(y, 0),
                                        audioBitrate: Number(E.toFixed(2)),
                                        audioFractionLost: Math.max(Number(b.toFixed(2)), 0),
                                        roundTripTime: Math.round(R)
                                    }
                                }(y, O),
                                A = L.audioPacketsLost,
                                P = L.audioBitrate,
                                I = L.audioFractionLost,
                                D = L.videoReceiveFps,
                                k = L.videoDecodeFps,
                                N = L.videoBitrate,
                                x = L.videoPacketsLost,
                                M = L.videoFractionLost,
                                F = L.roundTripTime,
                                this.report.setData("u32_audio_drop", A),
                                this.report.setData("u32_audio_drop_usage", I),
                                this.report.setData("u32_avg_audio_bitrate", P),
                                this.report.setData("u32_video_drop", x),
                                this.report.setData("u32_video_drop_usage", M),
                                this.report.setData("u32_video_recv_fps", D),
                                this.report.setData("u32_fps", k),
                                this.report.setData("u32_avg_video_bitrate", N),
                                this.report.setData("u32_avg_net_speed", Number((N + P).toFixed(2))),
                                this.report.setData("u64_rtt", F),
                                this.report.setTempData("last_stats", y))),
                                this.report.startReport(e),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e.prototype.onPlayError = function(e, t) {
                    var n, r;
                    return u(this, void 0, void 0, (function() {
                        var i;
                        return c(this, (function(o) {
                            return i = t ? {
                                message: t
                            } : void 0,
                            null === (r = (n = this.listener).onPlayEvent) || void 0 === r || r.call(n, e, i),
                            this.report.setData("u64_err_code", e),
                            this.report.setData("str_err_info", t || ""),
                            e === me.PLAY_ERR_SERVER_DISCONNECT ? this.startReport("stop") : this.startReport("start"),
                            [2]
                        }
                        ))
                    }
                    ))
                }
                ,
                e
            }();
            t.default = Qe
        }
        ).call(this, n("yLpj"))
    },
    w5XQ: function(e, t, n) {},
    w6AT: function(e, t, n) {
        "use strict";
        var r = n("TqRt")
          , i = n("cDf5");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var o = function(e, t) {
            if (!t && e && e.__esModule)
                return e;
            if (null === e || "object" !== i(e) && "function" != typeof e)
                return {
                    default: e
                };
            var n = s(t);
            if (n && n.has(e))
                return n.get(e);
            var r = {}
              , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var a in e)
                if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                    var u = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                    u && (u.get || u.set) ? Object.defineProperty(r, a, u) : r[a] = e[a]
                }
            r.default = e,
            n && n.set(e, r);
            return r
        }(n("p6AH"))
          , a = r(n("XUM0"));
        function s(e) {
            if ("function" != typeof WeakMap)
                return null;
            var t = new WeakMap
              , n = new WeakMap;
            return (s = function(e) {
                return e ? n : t
            }
            )(e)
        }
        function u(e) {
            return e && "[object Object]" === e.toString() || !1
        }
        function c(e) {
            return e && "function" == typeof e || !1
        }
        "function" != typeof Object.assign && (Object.assign = function(e, t) {
            if (null == e)
                throw new TypeError("Cannot convert undefined or null to object");
            for (var n = Object(e), r = 1; r < arguments.length; r++) {
                var i = arguments[r];
                if (null != i)
                    for (var o in i)
                        Object.prototype.hasOwnProperty.call(i, o) && (n[o] = i[o])
            }
            return n
        }
        ),
        "undefined" != typeof Element && null == Element.prototype.getAttributeNames && (Element.prototype.getAttributeNames = function() {
            for (var e = this.attributes, t = e.length, n = new Array(t), r = 0; r < t; r++)
                n[r] = e[r].name;
            return n
        }
        );
        var l = Object.assign({
            isPlainObject: function(e) {
                if (!u(e) || e.nodeType || e.setInterval)
                    return !1;
                if (e.constructor && !e.hasOwnProperty("constructor") && !e.constructor.prototype.hasOwnProperty("isPrototypeOf"))
                    return !1;
                var t;
                for (t in e)
                    ;
                return void 0 === t || e.hasOwnProperty(t)
            },
            isFunction: c,
            isObject: u,
            isArray: function(e) {
                return "[object Array]" === Object.prototype.toString.call(e)
            },
            loadJSONP: a.default.loadJSONP,
            closest: function e(t, n) {
                if (t)
                    return function(e, t) {
                        var n = e.matches || e.matchesSelector || e.msMatchesSelector || e.mozMatchesSelector || e.webkitMatchesSelector || e.oMatchesSelector;
                        if (n)
                            return n.call(e, t);
                        if (e.parentNode) {
                            for (var r = e.parentNode.querySelectorAll(t), i = r.length; i--; 0)
                                if (r[i] === e)
                                    return !0;
                            return !1
                        }
                    }(t, n) ? t : e(t.parentNode, n)
            },
            each: function(e, t) {
                if (c(t))
                    if (u(e))
                        for (var n in e)
                            t(n, e[n], e);
                    else if (Array.isArray(e))
                        for (var r = 0, i = e.length; r < i; r++)
                            t(r, e[r], e)
            },
            delParam: function(e, t) {
                var n = new RegExp("(\\?|#|&)" + t + "=([^&]*)(&|$)","g");
                return e.replace(n, "$1$3").replace(/(\?|#|&)$/, "").replace(/(#|\?)&/g, "$1")
            },
            getPlatform: function() {
                var e = o.isMobile()
                  , t = o.isApp()
                  , n = o.isMiniProgram()
                  , r = o.isPCClient()
                  , i = o.isWinClient()
                  , a = o.isMacClient()
                  , s = o.isWinClientLite()
                  , u = o.isMacClientLite()
                  , c = o.isAndroid()
                  , l = o.isIOS()
                  , f = {
                    1: !e && !r,
                    2: e && !t && !n,
                    3: e && t && c,
                    4: e && t && l,
                    5: !e && i,
                    6: !e && a,
                    7: e && n,
                    9: !e && s,
                    10: !e && u
                };
                return parseInt(Object.keys(f).filter((function(e) {
                    return f[e]
                }
                ))[0], 10) || 1
            },
            parseHref: function(e) {
                var t = document.createElement("a");
                return t.href = e,
                {
                    domain: t.hostname,
                    pathname: t.pathname,
                    search: t.search,
                    hash: t.hash
                }
            },
            getEnvironment: function() {
                return o.qqVersion() ? "QQ" : o.isWeixin() ? "WX" : o.isBaiduApp() ? "Baidu" : o.isWeiboApp() ? "Sina" : o.isApp() ? "edu_APP" : "other"
            },
            isInIframe: function() {
                return window.top && window.top.window !== window
            }
        }, o);
        t.default = l
    },
    wG9f: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("BDIu"))
          , o = r(n("w6AT"))
          , a = r(n("6bHo"))
          , s = r(n("YrbB"))
          , u = {}
          , c = {}
          , l = a.default && a.default.obj && null !== a.default.obj()
          , f = {
            whiteDomain: [],
            crossProxy: "",
            crossDomain: !1,
            localPrefix: "ntdw_seq",
            seqName: "seq_number"
        }
          , d = /^tdw_seq/
          , h = !0
          , p = !1;
        function v() {
            h = !1
        }
        function m(e, t) {
            o.default.isPlainObject(e) ? t && t(e) : Array.isArray(e) && o.default.each(e, (function(e, n) {
                t && t(n)
            }
            ))
        }
        function g(e) {
            var t;
            try {
                e && (t = JSON.parse(e))
            } catch (e) {}
            return t || {}
        }
        function y() {
            s.default.getLocal({
                whiteDomain: f.whiteDomain,
                iframeUrl: f.crossProxy,
                crossDomain: f.crossDomain
            }, (function(e) {
                u = e,
                setTimeout((function() {
                    h && "/storage_proxy.html" !== window.location.pathname && u.filter(d, (function(e) {
                        var t;
                        e = e.slice(0, 4);
                        for (var n = 0; n < e.length; n++)
                            (t = g(e[n].value || "{}")).seq_number ? (t.datas && t.datas[0].push("local"),
                            t.fields && t.fields.push("source_from"),
                            c.request(t)) : u.remove(e[n].key)
                    }
                    ))
                }
                ), 1e3)
            }
            ))
        }
        function E(e) {
            m(e, (function(e) {
                e[f.seqName] = (new Date).getTime() + Math.random().toFixed(17).toString().replace(".", "")
            }
            ))
        }
        function T(e) {
            var t = [];
            E(e),
            function(e, t) {
                m(e, (function(e) {
                    t.push(Object.assign({
                        seq_number: e[f.seqName]
                    }, c.composer(e)))
                }
                ))
            }(e, t),
            function(e) {
                u.wasInit && u.wasInit() && o.default.each(e, (function(e, t) {
                    var n = f.localPrefix + t[f.seqName];
                    u.set(n, JSON.stringify(t))
                }
                ))
            }(t)
        }
        c.composer = i.default.composer,
        c.getCommonData = i.default.getCommonData,
        c.config = i.default.config,
        c.request = i.default.request,
        c.config({}, {
            success: function(e, t) {
                if (!u.wasInit || !u.wasInit())
                    return;
                var n = t.fields
                  , r = t.datas
                  , i = n.indexOf(f.seqName);
                o.default.each(r, (function(e, t) {
                    var n = f.localPrefix + t[i];
                    u.remove(n)
                }
                ))
            },
            error: v,
            fail: v
        }),
        c.report = function(e) {
            T(e),
            i.default.report(e)
        }
        ,
        c.reportSync = function(e, t) {
            T(e),
            i.default.reportSync(e, t)
        }
        ,
        c.initLocal = function(e) {
            Object.assign(f, e),
            d = new RegExp("^" + f.localPrefix),
            l && !p && (p = !0,
            y())
        }
        ;
        var b = c;
        t.default = b
    },
    x8SP: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var r = n("FsGU")
          , i = n("+aGj")
          , o = function(e, t, n, o) {
            var a = e.options.flv
              , s = a.isLive;
            if (a) {
                var u = s ? "FLV-Live" : "FLV-Playback";
                a.isReload || function(e, n, r, i, o, a) {
                    var u, c, l, f, d, h, p, v, m = i;
                    s ? m = null === (u = t.rConfig.monitor) || void 0 === u || null === (c = u.FLV) || void 0 === c || null === (l = c.LIVE) || void 0 === l ? void 0 : l[n] : m = null === (f = t.rConfig.monitor) || void 0 === f || null === (d = f.FLV) || void 0 === d || null === (h = d.PLAYBACK) || void 0 === h ? void 0 : h[n];
                    m || (m = null === (p = t.rConfig.monitor) || void 0 === p || null === (v = p.HLS) || void 0 === v ? void 0 : v[n]);
                    t.exec(e, n, r, m, o, a)
                }(u, "enter_flv", "flv", 0, "enter flv ts:".concat(Date.now()));
                var c = function() {
                    var e = Date.now()
                      , r = e - n
                      , i = e - o;
                    t.exec(u, "first_video_init", r, 0, "[".concat(u, "]首帧:播放器初始化-ts:").concat(e, ",耗时").concat(r)),
                    t.exec(u, "first_video_loadmode", i, 0, "[".concat(u, "]首帧:播放器加载mode-ts:").concat(e, ",耗时").concat(i)),
                    t.exec(u, "firstloadeddata", r, 0, "[".concat(u, "]首帧:").concat(e))
                };
                e.on("loadeddata", c);
                var l = (0,
                r.playerEventName)("FLV", i.FLV_EVENTS.NOT_SUPPORT)
                  , f = function(e) {
                    t.commonReport(u, e, "不支持 FLV")
                };
                e.on(l, f);
                var d = (0,
                r.playerEventName)("FLV", i.FLV_EVENTS.SDK_ERROR)
                  , h = function(e) {
                    t.commonReport(u, e, "FLV SDK 错误:".concat(JSON.stringify(e.detail)))
                };
                e.on(d, h),
                e.once("unloadMode", (function() {
                    e.off("loadeddata", c),
                    e.off(l, f),
                    e.off(d, h)
                }
                ))
            }
        };
        t.default = o
    },
    xA5Y: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var i = r(n("Wl3z"))
          , o = {
            url: "//tmapp.qq.com/cgi-bin/activity_platform/tdw/report",
            timer: 300,
            beforeRequest: function() {},
            success: function() {},
            error: function() {},
            fail: function() {},
            slicer: 5,
            table: "",
            pr_ip: "",
            pr_t: ""
        }
          , a = {}
          , s = {
            actiontimestamp: 1
        }
          , u = ["actiontimestamp"]
          , c = 0
          , l = console || {}
          , f = ["url", "refer", "courseid", "ver1", "ver3"]
          , d = {
            pool: [],
            write: function(e) {
                i.default.isPlainObject(e) ? this.pool.push(e) : Array.isArray(e) && Array.prototype.push.apply(this.pool, e)
            },
            read: function() {
                var e = this.pool;
                return this.pool = [],
                e
            }
        }
          , h = {
            config: function(e, t) {
                Object.assign(a, e),
                Object.assign(o, t),
                v(a)
            },
            report: function(e) {
                d.write(e),
                c || (c = setTimeout((function() {
                    !function() {
                        var e = []
                          , t = d.read();
                        t.length <= o.slicer ? m(p(t)) : (i.default.each(t, (function(t, n) {
                            e.push(n),
                            t > 0 && t % o.slicer == o.slicer - 1 && (m(p(e)),
                            e = [])
                        }
                        )),
                        e.length && m(p(e)))
                    }(),
                    c = 0
                }
                ), o.timer))
            },
            reportSync: function(e, t) {
                t = Object.assign({}, o, t),
                m(p(e), t)
            },
            composer: p,
            request: m,
            getCommonData: function(e) {
                return e ? a[e] : a
            },
            getConfigData: function(e) {
                return e ? o[e] : o
            }
        };
        function p(e) {
            var t;
            return v(e),
            t = function(e) {
                var t, n = [];
                if (!e)
                    return;
                i.default.isPlainObject(e) && (e = [e]);
                if (!Array.isArray(e))
                    return;
                return i.default.each(e, (function(e, r) {
                    t = [],
                    r = Object.assign({
                        actiontimestamp: Date.now()
                    }, a, r),
                    i.default.each(u, (function(e, n) {
                        var i = r[n];
                        i = void 0 === i ? "" : i,
                        t.push(i)
                    }
                    )),
                    n.push(t)
                }
                )),
                n
            }(e),
            {
                fields: u,
                datas: t
            }
        }
        function v(e) {
            e && (i.default.isPlainObject(e) && (e = [e]),
            Array.isArray(e) && i.default.each(e, (function(e, t) {
                i.default.each(t, (function(e) {
                    s[e] || (s[e] = 1,
                    u.push(e))
                }
                ))
            }
            )))
        }
        function m(e, t) {
            var n, r, a = {};
            t = t || o,
            i.default.each(["table", "pr_ip", "pr_t"], (function(e, n) {
                a[n] = t[n] || ""
            }
            )),
            e.datas = (n = e.fields,
            (r = (r = e.datas) || []).forEach((function(e) {
                e.forEach((function(t, r) {
                    "string" == typeof t ? ~f.indexOf(n[r]) ? e[r] = t.substring(0, 450) : e[r] = t.substring(0, 50) : e[r] = t
                }
                ))
            }
            )),
            r),
            a.fields = JSON.stringify(e.fields),
            a.datas = JSON.stringify(e.datas),
            a.retype = 2,
            !1 !== o.beforeRequest(e) && t.url && (i.default.loadJSONP(t.url, a, (function(t) {
                o[0 === t.ret ? "success" : "error"](t, e)
            }
            )),
            function(e, t) {
                if (!l.table || !window.localStorage)
                    return;
                try {
                    if (1 === parseInt(window.localStorage.getItem("tdwFlag"), 10) || 1 === parseInt(window.localStorage.getItem("tdwFlag2"), 10))
                        for (var n = 0, r = t.length; n < r; n++) {
                            for (var i = {}, o = 0, a = e.length; o < a; o++)
                                "" !== t[n][o] && (i[e[o]] = t[n][o]);
                            l.table([i])
                        }
                } catch (e) {}
            }(e.fields, e.datas))
        }
        t.default = h
    },
    xKLw: function(e, t, n) {
        "use strict";
        var r = n("TqRt");
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.getSessionFlowid = function() {
            var e = "";
            try {
                e = a.get(s) || ""
            } catch (e) {}
            return l(""),
            e
        }
        ;
        var i = r(n("3HpZ"))
          , o = r(n("Wl3z"))
          , a = n("kNBA")
          , s = "tdw_data_flowid"
          , u = "ke.qq.com"
          , c = "/";
        function l() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
            a.setSession(s, e, u, c)
        }
        i.default.addListener((function(e, t) {
            var n = t.target
              , r = o.default.closest(n, "[".concat("data-report-session-flowid", "]"));
            l(r && r.getAttribute("data-report-session-flowid") || "")
        }
        ))
    },
    "zJX/": function(e, t, n) {},
    zMkY: function(e, t, n) {
        (function(t) {
            var n;
            n = "undefined" != typeof window ? window : void 0 !== t ? t : "undefined" != typeof self ? self : {},
            e.exports = n
        }
        ).call(this, n("yLpj"))
    },
    zPDh: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.initHLSReport = void 0;
        var r = n("e6Hx")
          , i = n("AMcO");
        t.initHLSReport = function(e, t) {
            var n = t.Constants.PlayerEvents
              , o = e.options.pattern
              , a = "live" === o ? "live_play" : "vod_play"
              , s = !0
              , u = {}
              , c = 0;
            e.once((0,
            i.playerEventName)("HLS", r.HLS_EVENTS.KEY_LOADING), (function() {
                c = Date.now()
            }
            )),
            e.once((0,
            i.playerEventName)("HLS", r.HLS_EVENTS.KEY_LOADED), (function() {
                var e;
                if (0 === c)
                    return (0,
                    i.consolelog)("HLSJS_LOADKEY 测速异常");
                var n = Date.now() - c;
                (0,
                i.consolelog)("HLSJS_LOADKEY", n),
                "live" === o ? t.updateLivePlayMetrics((0,
                i.getMetricItem)("GetDK", n)) : null === (e = t.updateVodPlayMetrics) || void 0 === e || e.call(t, (0,
                i.getMetricItem)("GetDK", n))
            }
            ));
            var l = 0;
            e.once((0,
            i.playerEventName)("HLS", r.HLS_EVENTS.FRAG_LOADING), (function() {
                l = Date.now()
            }
            )),
            e.once((0,
            i.playerEventName)("HLS", r.HLS_EVENTS.FRAG_LOADED), (function() {
                var e, n;
                if (0 === l)
                    return (0,
                    i.consolelog)("HLSJS_LOADTS 测速异常");
                var r = Date.now() - l;
                (0,
                i.consolelog)("HLSJS_LOADTS", r),
                "live" === o ? null === (e = t.updateLivePlayMetrics) || void 0 === e || e.call(t, (0,
                i.getMetricItem)("GetFirstTs", r)) : null === (n = t.updateVodPlayMetrics) || void 0 === n || n.call(t, (0,
                i.getMetricItem)("GetFirstTs", r)),
                s = !1
            }
            )),
            e.on((0,
            i.playerEventName)("HLS", r.HLS_EVENTS.FRAG_LOAD_ERROR), (function() {
                var e, n, r;
                s ? (null === (e = t.updateVodPlayMetrics) || void 0 === e || e.call(t, (0,
                i.getMetricItem)("FirstTsFail", 0)),
                t.reportStartPlayFail(a)) : "live" === o ? null === (n = t.reportLiveDisconnectReason) || void 0 === n || n.call(t, 2, "FRAG_LOAD_ERROR") : null === (r = t.reportVodStopReason) || void 0 === r || r.call(t, 2, "FRAG_LOAD_ERROR")
            }
            )),
            e.on((0,
            i.playerEventName)("HLS", r.HLS_EVENTS.MANIFEST_LOAD_ERROR), (function() {
                var e;
                null === (e = t.updateVodPlayMetrics) || void 0 === e || e.call(t, (0,
                i.getMetricItem)("MasterM3U8Fail", 0)),
                t.reportStartPlayFail(a)
            }
            )),
            e.on((0,
            i.playerEventName)("HLS", r.HLS_EVENTS.LEVEL_LOAD_ERROR), (function() {
                var e;
                null === (e = t.updateVodPlayMetrics) || void 0 === e || e.call(t, (0,
                i.getMetricItem)("LevelM3U8Fail", 0)),
                t.reportStartPlayFail(a)
            }
            )),
            e.on(n.ERROR, (function(e) {
                var n = e.code
                  , i = e.detail
                  , c = e.msg;
                if (s)
                    t.reportStartPlayFail(a);
                else {
                    var l = n;
                    switch (n) {
                    case 1:
                    case 2:
                    case 3:
                    case 4:
                        l = n;
                        break;
                    case r.HLSErrorTypes.NETWORK_ERROR:
                        l = 2;
                        break;
                    case r.HLSErrorTypes.MUX_ERROR:
                        l = 1001;
                        break;
                    case r.HLSErrorTypes.MEDIA_ERROR:
                        l = 1002;
                        break;
                    case r.HLSErrorTypes.OTHER_ERROR:
                    default:
                        l = 4
                    }
                    var f, d, h = JSON.stringify({
                        fatal: (null == i ? void 0 : i.fatal) || !1,
                        type: null == i ? void 0 : i.type,
                        details: i.details,
                        url: null == i ? void 0 : i.url,
                        response: null == i ? void 0 : i.response
                    });
                    if (u[n])
                        u[n] = !0;
                    else
                        "live" === o ? null === (f = t.reportLiveDisconnectReason) || void 0 === f || f.call(t, l, null != i && i.url ? h : c) : null === (d = t.reportVodStopReason) || void 0 === d || d.call(t, l, null != i && i.url ? h : c)
                }
            }
            ))
        }
    },
    zpTf: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.getHash = function(e) {
            var t = window.location.hash.match(new RegExp("(#|&)" + e + "=([^&]*)(&|$)"));
            return t ? decodeURIComponent(t[2]) : ""
        }
        ,
        t.parseHref = function(e) {
            var t = document.createElement("a");
            return t.href = e,
            {
                domain: t.hostname,
                pathname: t.pathname,
                search: t.search,
                hash: t.hash
            }
        }
        ,
        t.query = function(e) {
            var t = window.location.search.match(new RegExp("(\\?|&)" + e + "=([^&]*)(&|$)"));
            return t ? decodeURIComponent(t[2]) : ""
        }
    }
}]);
